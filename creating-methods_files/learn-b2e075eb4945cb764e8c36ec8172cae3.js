function initDropDown(){jQuery(".profile-info").animDropdown({items:".drop-holder",drop:">div",animSpeed:400,effect:"fade"})}function initTouchNav(){jQuery(".sub-nav").each(function(){new TouchNav({navBlock:this,menuDrop:"div"})}),jQuery(".profile-info").each(function(){new TouchNav({navBlock:this,menuItems:".drop-holder",menuDrop:".drop"})})}function TouchNav(e){this.options={hoverClass:"hover",menuItems:"li",menuOpener:"a",menuDrop:"ul",navBlock:null};for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.init()}function setCurrentLessonForInactiveNav(e){$("ul li").removeClass("active highlight");var t=$("ul.lesson-links li[data-lesson-id="+e+"]"),n=t.closest("ul.lesson-links").closest("div.slide").closest("li"),i=t.closest("ul.sub-nav > li");t.removeClass("viewable-false").addClass("active highlight"),n.removeClass("viewable-false").addClass("active"),i.removeClass("viewable-false").addClass("active"),toggleNavSubMenu(i),toggleNavSubMenu(n)}function toggleNavSubMenu(e){e.children(".slide").is(":visible")||(e.children(".slide").toggle(300),e.toggleClass("opened"))}function ElementParser(e){var t=document.getElementsByClassName(e),n=document.getElementById(e),i=function(){return $(t).length>0},r=function(){return $(n).length>0},o=function(){return i()?t:r()?n:void 0},s=function(){return i()?".":r()?"#":void 0},a=function(){return o()?Array.prototype.every.call(o(),function(e){return"A"==$(e).prop("tagName")}):void 0};return{element:o,symbol:s,is_anchor_tag:a}}function EventsTracker(e,t){this.track=function(e){e.classes&&this.trackElements(e.classes),e.ids&&this.trackElements(e.ids),e.keys&&this.trackKeys(e.keys),e.specialClasses&&this.trackSpecialClasses(e.specialClasses)},this.trackPageSpecific=function(e){if(e.classes){var t=this.isPageSpecific(e.classes);t.length>0&&this.trackElements(t)}if(e.ids){var n=this.isPageSpecific(e.ids);n.length>0&&this.trackElements(n)}if(e.specialClasses){var i=this.isPageSpecific(e.specialClasses);i.length>0&&this.trackSpecialClasses(i)}},1==t?this.trackPageSpecific(e):this.track(e)}function addLessonClassToLinks(){$.each($("#schedule a"),function(e,t){$(t).addClass("schedule-link")})}function User(e){var t=e.id,n=e.github_username,i=e.email;return t&&analytics.identify(t,{github_username:n,email:i}),{id:t,github_username:n,email:i}}function TrackProgress(e,t){this.id=t,this.progressContainer=e,this.topicProgressStatus=$(e).find("p.topic-progress-numbers"),this.unitProgressStatus=$(e).find("p.unit-progress-numbers"),this.units=$(e).find(".unit"),this.lessonTables=$(e).find(".lessons-table"),this.lessons=$(e).find(".lesson").not($(e).find(".most-recent-five-lessons").find(".lesson")),this.incompleteLessons=$(e).find(".lesson").not($('.lesson[data-completed-at=""]')).not($(e).find(".most-recent-five-lessons").find(".lesson")),this.readmes=$(e).find(".readme-light").closest(".lesson").not($(e).find(".most-recent-five-lessons").find(".lesson")),this.topicProgresses=$(e).find(".topic-progress"),this.topics=$(e).find(".topics"),this.incompleteBtn=$(e).find(".incomplete"),this.labsOnlyBtn=$(e).find(".labs"),this.topicHeaders=$(e).find(".topic-header"),this.unitHeaders=$(e).find(".unit-header"),this.unitProgressCarats=$(e).find("i.unit-progress-caret"),this.chartData=$(e).find(".chart-data"),this.chart={},this.ctx=null,this.viewingIncomplete=!1,this.viewingLabs=!1,this.expanded=!1}function adjustBrickHeight(){$doughnutHeight=$(".doughnut-holder").first().css("height"),$(".brick-container-holder").css("height",$doughnutHeight)}function fixShortcut(e){return e=isMac?e.replace("Ctrl","Cmd"):e.replace("Cmd","Ctrl")}function createIcon(e,t){e=e||{};var n=document.createElement("a");return t=void 0==t?!0:t,e.title&&t&&(n.title=e.title,isMac&&(n.title=n.title.replace("Ctrl","\u2318"),n.title=n.title.replace("Alt","\u2325"))),n.className=e.className,n}function createSep(){return el=document.createElement("i"),el.className="separator",el.innerHTML="|",el}function getState(e,t){t=t||e.getCursor("start");var n=e.getTokenAt(t);if(!n.type)return{};for(var i,r,o=n.type.split(" "),s={},a=0;a<o.length;a++)i=o[a],"strong"===i?s.bold=!0:"variable-2"===i?(r=e.getLine(t.line),/^\s*\d+\.\s/.test(r)?s["ordered-list"]=!0:s["unordered-list"]=!0):"atom"===i?s.quote=!0:"em"===i?s.italic=!0:"quote"===i&&(s.quote=!0);return s}function toggleFullScreen(e){var t=e.codemirror;t.setOption("fullScreen",!t.getOption("fullScreen"));var n=e.toolbarElements.fullscreen;/active/.test(n.className)?n.className=n.className.replace(/\s*active\s*/g,""):n.className+=" active"}function toggleBold(e){_toggleBlock(e,"bold","**")}function toggleItalic(e){_toggleBlock(e,"italic","*")}function toggleCodeBlock(e){_toggleBlock(e,"code","```\r\n","\r\n```")}function toggleBlockquote(e){var t=e.codemirror;_toggleLine(t,"quote")}function toggleUnorderedList(e){var t=e.codemirror;_toggleLine(t,"unordered-list")}function toggleOrderedList(e){var t=e.codemirror;_toggleLine(t,"ordered-list")}function drawLink(e){var t=e.codemirror,n=getState(t);_replaceSelection(t,n.link,"[","](http://)")}function drawImage(e){var t=e.codemirror,n=getState(t);_replaceSelection(t,n.image,"![](http://",")")}function drawHorizontalRule(e){var t=e.codemirror,n=getState(t);_replaceSelection(t,n.image,"","\n\n-----\n\n")}function undo(e){var t=e.codemirror;t.undo(),t.focus()}function redo(e){var t=e.codemirror;t.redo(),t.focus()}function togglePreview(e){var t=document.getElementsByClassName("editor-toolbar")[0],n=e.toolbarElements.preview,i=e.constructor.markdown,r=e.codemirror,o=r.getWrapperElement(),s=o.lastChild;/editor-preview/.test(s.className)||(s=document.createElement("div"),s.className="editor-preview",o.appendChild(s)),/editor-preview-active/.test(s.className)?(s.className=s.className.replace(/\s*editor-preview-active\s*/g,""),n.className=n.className.replace(/\s*active\s*/g,""),t.className=t.className.replace(/\s*disabled-for-preview*/g,"")):(setTimeout(function(){s.className+=" editor-preview-active"},1),n.className+=" active",t.className+=" disabled-for-preview");var a=r.getValue();s.innerHTML=i(a)}function _replaceSelection(e,t,n,i){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){var r,o=e.getCursor("start"),s=e.getCursor("end");t?(r=e.getLine(o.line),n=r.slice(0,o.ch),i=r.slice(o.ch),e.replaceRange(n+i,{line:o.line,ch:0})):(r=e.getSelection(),e.replaceSelection(n+r+i),o.ch+=n.length,s.ch+=n.length),e.setSelection(o,s),e.focus()}}function _toggleLine(e,t){if(!/editor-preview-active/.test(e.getWrapperElement().lastChild.className)){for(var n=getState(e),i=e.getCursor("start"),r=e.getCursor("end"),o={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},s={quote:"> ","unordered-list":"* ","ordered-list":"1. "},a=i.line;a<=r.line;a++)!function(i){var r=e.getLine(i);r=n[t]?r.replace(o[t],"$1"):s[t]+r,e.replaceRange(r,{line:i,ch:0},{line:i,ch:99999999999999})}(a);e.focus()}}function _toggleBlock(e,t,n,i){if(!/editor-preview-active/.test(e.codemirror.getWrapperElement().lastChild.className)){i="undefined"==typeof i?n:i;var r,o=e.codemirror,s=getState(o),a=n,l=i,c=o.getCursor("start"),u=o.getCursor("end");s[t]?(r=o.getLine(c.line),a=r.slice(0,c.ch),l=r.slice(c.ch),"bold"==t?(a=a.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),l=l.replace(/(\*\*|__)/,"")):"italic"==t&&(a=a.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),l=l.replace(/(\*|_)/,"")),o.replaceRange(a+l,{line:c.line,ch:0},{line:c.line,ch:99999999999999}),"bold"==t?(c.ch-=2,u.ch-=2):"italic"==t&&(c.ch-=1,u.ch-=1)):(r=o.getSelection(),"bold"==t?(r=r.split("**").join(""),r=r.split("__").join("")):"italic"==t&&(r=r.split("*").join(""),r=r.split("_").join("")),o.replaceSelection(a+r+l),c.ch+=n.length,u.ch=c.ch+r.length),o.setSelection(c,u),o.focus()}}function wordCount(e){var t=/[a-zA-Z0-9_\u0392-\u03c9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,n=e.match(t),i=0;if(null===n)return i;for(var r=0;r<n.length;r++)i+=n[r].charCodeAt(0)>=19968?n[r].length:1;return i}function SimpleMDE(e){e=e||{},e.element&&(this.element=e.element),e.toolbar!==!1&&(e.toolbar=e.toolbar||SimpleMDE.toolbar),e.hasOwnProperty("status")||(e.status=["autosave","lines","words","cursor"]),this.options=e,this.render()}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(dt.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=wt[e]={};return rt.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function s(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1)):(pt.detachEvent("onreadystatechange",a),e.detachEvent("onload",a))}function a(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(s(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_t.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(rt.acceptData(e)){var r,o,s=rt.expando,a=e.nodeType,l=a?rt.cache:e,c=a?e[s]:e[s]&&s;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=a?e[s]=Y.pop()||rt.guid++:s),l[c]||(l[c]=a?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=rt.extend(l[c],t):l[c].data=rt.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[rt.camelCase(t)])):r=o,r}}function h(e,t,n){if(rt.acceptData(e)){var i,r,o=e.nodeType,s=o?rt.cache:e,a=o?e[rt.expando]:rt.expando;if(s[a]){if(t&&(i=n?s[a]:s[a].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!rt.isEmptyObject(i))return}(n||(delete s[a].data,c(s[a])))&&(o?rt.cleanData([e],!0):nt.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function d(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(e){}}function g(e){var t=Dt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==Ct?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Ct?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||rt.nodeName(i,t)?o.push(i):rt.merge(o,m(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],o):o}function v(e){Mt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function k(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,r,o=rt._data(e),s=rt._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)rt.event.add(t,n,a[n][i])}s.data&&(s.data=rt.extend({},s.data))}}function C(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(i in r.events)rt.removeEvent(t,i,r.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Mt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function _(t,n){var i,r=rt(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function S(e){var t=pt,n=Zt[e];return n||(n=_(e,t),"none"!==n&&n||(Jt=(Jt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Jt[0].contentWindow||Jt[0].contentDocument).document,t.write(),t.close(),n=_(e,t),Jt.detach()),Zt[e]=n),n}function T(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function L(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=fn.length;r--;)if(t=fn[r]+n,t in e)return t;return i}function E(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=rt._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Et(i)&&(o[s]=rt._data(i,"olddisplay",S(i.nodeName)))):(r=Et(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function A(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function M(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=rt.css(e,n+Lt[o],!0,r)),i?("content"===n&&(s-=rt.css(e,"padding"+Lt[o],!0,r)),"margin"!==n&&(s-=rt.css(e,"border"+Lt[o]+"Width",!0,r))):(s+=rt.css(e,"padding"+Lt[o],!0,r),"padding"!==n&&(s+=rt.css(e,"border"+Lt[o]+"Width",!0,r)));return s}function P(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),s=nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=tn(e,t,o),(0>r||null==r)&&(r=e.style[t]),rn.test(r))return r;i=s&&(nt.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+M(e,t,n||(s?"border":"content"),i,o)+"px"}function j(e,t,n,i,r){return new j.prototype.init(e,t,n,i,r)}function N(){return setTimeout(function(){pn=void 0}),pn=rt.now()}function O(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Lt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function I(e,t,n){for(var i,r=(wn[t]||[]).concat(wn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function D(e,t,n){var i,r,o,s,a,l,c,u,h=this,d={},f=e.style,p=e.nodeType&&Et(e),g=rt._data(e,"fxshow");n.queue||(a=rt._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,rt.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=rt.css(e,"display"),u="none"===c?rt._data(e,"olddisplay")||S(e.nodeName):c,"inline"===u&&"none"===rt.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",nt.shrinkWrapBlocks()||h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],mn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;p=!0}d[i]=g&&g[i]||rt.style(e,i)}else c=void 0;if(rt.isEmptyObject(d))"inline"===("none"===c?S(e.nodeName):c)&&(f.display=c);else{g?"hidden"in g&&(p=g.hidden):g=rt._data(e,"fxshow",{}),o&&(g.hidden=!p),p?rt(e).show():h.done(function(){rt(e).hide()}),h.done(function(){var t;rt._removeData(e,"fxshow");for(t in d)rt.style(e,t,d[t])});for(i in d)s=I(p?g[i]:0,i,h),i in g||(g[i]=s.start,p&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function R(e,t){var n,i,r,o,s;for(n in e)if(i=rt.camelCase(n),r=t[i],o=e[n],rt.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=rt.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function $(e,t,n){var i,r,o=0,s=bn.length,a=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=pn||N(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;l>s;s++)c.tweens[s].run(o);return a.notifyWith(e,[c,o,n]),1>o&&l?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pn||N(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(R(u,c.opts.specialEasing);s>o;o++)if(i=bn[o].call(c,e,u,c.opts))return i;return rt.map(u,I,c),rt.isFunction(c.opts.start)&&c.opts.start.call(e,c),rt.fx.timer(rt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function F(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function H(e,t,n,i){function r(a){var l;return o[a]=!0,rt.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=e===qn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function B(e,t){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function z(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function W(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function q(e,t,n,i){var r;if(rt.isArray(t))rt.each(t,function(t,r){n||Yn.test(e)?i(e,r):q(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(r in t)q(e+"["+r+"]",t[r],n,i)}function U(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function G(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Y=[],X=Y.slice,K=Y.concat,Q=Y.push,J=Y.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},it="1.11.2",rt=function(e,t){return new rt.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,at=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return X.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:X.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:Y.sort,splice:Y.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||rt.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(r=arguments[a]))for(i in r)e=s[i],n=r[i],s!==n&&(c&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,o=e&&rt.isArray(e)?e:[]):o=e&&rt.isPlainObject(e)?e:{},s[i]=rt.extend(c,o,n)):void 0!==n&&(s[i]=n));return s},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(at,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,s=e.length,a=!n;s>o;o++)i=!t(e[o],o),i!==a&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return K.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(n=X.call(arguments,2),i=function(){return e.apply(t||this,n.concat(X.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var r,o,s,a,l,c,h,f,p,g;if((t?t.ownerDocument||t:H)!==j&&P(t),t=t||j,n=n||[],a=t.nodeType,"string"!=typeof e||!e||1!==a&&9!==a&&11!==a)return n;if(!i&&O){if(11!==a&&(r=yt.exec(e)))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&$(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return J.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&x.getElementsByClassName)return J.apply(n,t.getElementsByClassName(s)),n}if(x.qsa&&(!I||!I.test(e))){if(f=h=F,p=t,g=1!==a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(h=t.getAttribute("id"))?f=h.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+d(c[l]);p=bt.test(e)&&u(t.parentNode)||t,g=c.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||t.removeAttribute("id")}}}return L(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>k.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)k.attrHandle[n[i]]=t}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function d(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,c=[B,o];if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[F]||(t[F]={}),(a=l[i])&&a[0]===B&&a[1]===o)return c[2]=a[2];if(l[i]=c,c[2]=e(t,n,s))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),c&&t.push(a));return s}function v(e,t,n,r,o,s){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,h,d=[],f=[],p=s.length,v=i||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?v:m(v,d,e,a,l),b=n?o||(i?e:p||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=m(b,f),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[f[u]]=!(y[f[u]]=h));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);o(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=o?et(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else b=m(b===s?b.splice(p,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function y(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],s=o||k.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),c=f(function(e){return et(t,e)>-1},s,!0),u=[function(e,n,i){var r=!o&&(i||n!==E)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>a;a++)if(n=k.relative[e[a].type])u=[f(p(u),n)];else{if(n=k.filter[e[a].type].apply(null,e[a].matches),n[F]){for(i=++a;r>i&&!k.relative[e[i].type];i++);return v(a>1&&p(u),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(lt,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&d(e))}u.push(n)}return p(u)}function b(e,n){var r=n.length>0,o=e.length>0,s=function(i,s,a,l,c){var u,h,d,f=0,p="0",g=i&&[],v=[],y=E,b=i||o&&k.find.TAG("*",c),w=B+=null==y?1:Math.random()||.1,x=b.length;for(c&&(E=s!==j&&s);p!==x&&null!=(u=b[p]);p++){if(o&&u){for(h=0;d=e[h++];)if(d(u,s,a)){l.push(u);break}c&&(B=w)}r&&((u=!d&&u)&&f--,i&&g.push(u))}if(f+=p,r&&p!==f){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}J.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(B=w,E=y),g};return r?i(s):s}var w,x,k,C,_,S,T,L,E,A,M,P,j,N,O,I,D,R,$,F="sizzle"+1*new Date,H=e.document,B=0,z=0,W=n(),q=n(),U=n(),V=function(e,t){return e===t&&(M=!0),0},G=1<<31,Y={}.hasOwnProperty,X=[],K=X.pop,Q=X.push,J=X.push,Z=X.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",st=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(st),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){P()};try{J.apply(X=Z.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(_t){J={apply:X.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},_=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},P=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==j&&9===i.nodeType&&i.documentElement?(j=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),O=!_(i),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(i.getElementsByClassName),x.getById=r(function(e){return N.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),x.getById?(k.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){return e.getAttribute("id")===t}}):(delete k.find.ID,k.filter.ID=function(e){var t=e.replace(xt,kt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},D=[],I=[],(x.qsa=vt.test(i.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+F+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(x.matchesSelector=vt.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){x.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),D.push("!=",st)}),I=I.length&&new RegExp(I.join("|")),D=D.length&&new RegExp(D.join("|")),t=vt.test(N.compareDocumentPosition),$=t||vt.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;
return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return M=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&$(H,e)?-1:t===i||t.ownerDocument===H&&$(H,t)?1:A?et(A,e)-et(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return M=!0,0;var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:A?et(A,e)-et(A,t):0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===H?-1:c[r]===H?1:0},i):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&P(e),n=n.replace(ht,"='$1']"),!(!x.matchesSelector||!O||D&&D.test(n)||I&&I.test(n)))try{var i=R.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&P(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&P(e);var n=k.attrHandle[t.toLowerCase()],i=n&&Y.call(k.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:x.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(V),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return A=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},k=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,kt),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&y){for(u=m[F]||(m[F]={}),c=u[e]||[],f=c[0]===B&&c[1],d=c[0]===B&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===t){u[e]=[B,f,d];break}}else if(y&&(c=(t[F]||(t[F]={}))[e])&&c[0]===B)d=c[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[F]||(h[F]={}))[e]=[B,d]),h!==t)););return d-=r,d===i||d%i===0&&d/i>=0}}},PSEUDO:function(e,n){var r,o=k.pseudos[e]||k.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(r=[e,e,"",n],k.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),s=r.length;s--;)i=et(e,r[s]),e[i]=!(t[i]=r[s])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=T(e.replace(lt,"$1"));return r[F]?i(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xt,kt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,kt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},k.pseudos.nth=k.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})k.pseudos[w]=l(w);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,S=t.tokenize=function(e,n){var i,r,o,s,a,l,c,u=q[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=k.preFilter;a;){(!i||(r=ct.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ut.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),a=a.slice(i.length));for(s in k.filter)!(r=pt[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):q(e,l).slice(0)},T=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=y(t[n]),o[F]?i.push(o):r.push(o);o=U(e,b(r,i)),o.selector=e}return o},L=t.select=function(e,t,n,i){var r,o,s,a,l,c="function"==typeof e&&e,h=!i&&S(e=c.selector||e);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===t.nodeType&&O&&k.relative[o[1].type]){if(t=(k.find.ID(s.matches[0].replace(xt,kt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pt.needsContext.test(e)?0:o.length;r--&&(s=o[r],!k.relative[a=s.type]);)if((l=k.find[a])&&(i=l(s.matches[0].replace(xt,kt),bt.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&d(o),!e)return J.apply(n,i),n;break}}return(c||T(e,h))(i,t,!O,n,bt.test(e)&&u(t.parentNode)||t),n},x.sortStable=F.split("").sort(V).join("")===F,x.detectDuplicates=!!M,P(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=rt.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,dt=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,i[t],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ut.test(e)?rt(e):e||[],!1).length}});var ft,pt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),ht.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=pt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(e);this.length=1,this[0]=i}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};mt.prototype=rt.fn,ft=rt(pt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=ut.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var r=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var bt=/\S+/g,wt={};rt.Callbacks=function(e){e="string"==typeof e?wt[e]||o(e):rt.extend({},e);var t,n,i,r,s,a,l=[],c=!e.once&&[],u=function(o){for(n=e.memory&&o,i=!0,s=a||0,a=0,r=l.length,t=!0;l&&r>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function o(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),t?r=l.length:n&&(a=i,u(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,s>=i&&s--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,o){var s=rt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},r={};return i.pipe=i.then,rt.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=X.call(arguments),s=o.length,a=1!==s||e&&rt.isFunction(e.promise)?s:0,l=1===a?e:rt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?X.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}});var xt;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!pt.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(xt.resolveWith(pt,[rt]),rt.fn.triggerHandler&&(rt(pt).triggerHandler("ready"),rt(pt).off("ready")))}}}),rt.ready.promise=function(t){if(!xt)if(xt=rt.Deferred(),"complete"===pt.readyState)setTimeout(rt.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1);else{pt.attachEvent("onreadystatechange",a),e.attachEvent("onload",a);var n=!1;try{n=null==e.frameElement&&pt.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}s(),rt.ready()}}()}return xt.promise(t)};var kt,Ct="undefined";for(kt in rt(nt))break;nt.ownLast="0"!==kt,nt.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n,i;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var _t=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return h(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return h(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):o?l(o,e,rt.data(o,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,r=n.shift(),o=rt._queueHooks(e,t),s=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=rt.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)n=rt._data(o[s],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var Tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=["Top","Right","Bottom","Left"],Et=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},At=rt.access=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===rt.type(n)){r=!0;for(a in n)rt.access(e,t,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(rt(e),n)})),t))for(;l>a;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},Mt=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),n=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Pt=/^(?:input|select|textarea)$/i,jt=/^key/,Nt=/^(?:mouse|pointer|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=rt._data(e);if(m){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(e){return typeof rt===Ct||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(bt)||[""],a=t.length;a--;)o=It.exec(t[a])||[],f=g=o[1],p=(o[2]||"").split(".").sort(),f&&(c=rt.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=rt.event.special[f]||{},h=rt.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(d=s[f])||(d=s[f]=[],d.delegateCount=0,c.setup&&c.setup.call(e,i,p,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,h):d.push(h),rt.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,c,u,h,d,f,p,g,m=rt.hasData(e)&&rt._data(e);if(m&&(u=m.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(a=It.exec(t[c])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=rt.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,d=u[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,h.remove&&h.remove.call(e,s));l&&!d.length&&(h.teardown&&h.teardown.call(e,p,m.handle)!==!1||rt.removeEvent(e,f,m.handle),delete u[f])}else for(f in u)rt.event.remove(e,f+t[c],n,i,!0);rt.isEmptyObject(u)&&(delete m.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,s,a,l,c,u,h,d=[i||pt],f=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(a=u=i=i||pt,3!==i.nodeType&&8!==i.nodeType&&!Ot.test(f+rt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,t=t[rt.expando]?t:new rt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),c=rt.event.special[f]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!rt.isWindow(i)){for(l=c.delegateType||f,Ot.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(i.ownerDocument||pt)&&d.push(u.defaultView||u.parentWindow||e)}for(h=0;(a=d[h++])&&!t.isPropagationStopped();)t.type=h>1?l:c.bindType||f,o=(rt._data(a,"events")||{})[t.type]&&rt._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&rt.acceptData(a)&&(t.result=o.apply(a,n),t.result===!1&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),n)===!1)&&rt.acceptData(i)&&s&&i[f]&&!rt.isWindow(i)){u=i[s],u&&(i[s]=null),rt.event.triggered=f;try{i[f]()}catch(g){}rt.event.triggered=void 0,u&&(i[s]=u)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,r,o,s=[],a=X.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],c=rt.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(s=rt.event.handlers.call(this,e,l),t=0;(r=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,s=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],o=0;a>o;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&s.push({elem:l,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},fix:function(e){if(e[rt.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Nt.test(r)?this.mouseHooks:jt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new rt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,s=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||pt,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?t.toElement:s),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=pt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Ct&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?d:f):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=d,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=d,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=d,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Pt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Pt.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Pt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,t);r||i.addEventListener(e,n,!0),rt._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,t)-1;r?rt._data(i,t,r):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,r){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===r&&(s=i,i=function(e){return rt().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Rt=/ jQuery\d+="(?:null|\d+)"/g,$t=new RegExp("<(?:"+Dt+")[\\s/>]","i"),Ft=/^\s+/,Ht=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bt=/<([\w:]+)/,zt=/<tbody/i,Wt=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Xt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=g(pt),Qt=Kt.appendChild(pt.createElement("div"));
Xt.optgroup=Xt.option,Xt.tbody=Xt.tfoot=Xt.colgroup=Xt.caption=Xt.thead,Xt.th=Xt.td,rt.extend({clone:function(e,t,n){var i,r,o,s,a,l=rt.contains(e.ownerDocument,e);if(nt.html5Clone||rt.isXMLDoc(e)||!$t.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=m(o),a=m(e),s=0;null!=(r=a[s]);++s)i[s]&&C(r,i[s]);if(t)if(n)for(a=a||m(e),i=i||m(o),s=0;null!=(r=a[s]);s++)k(r,i[s]);else k(e,o);return i=m(o,"script"),i.length>0&&x(i,!l&&m(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,c,u,h=e.length,d=g(t),f=[],p=0;h>p;p++)if(o=e[p],o||0===o)if("object"===rt.type(o))rt.merge(f,o.nodeType?[o]:o);else if(Wt.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(Bt.exec(o)||["",""])[1].toLowerCase(),u=Xt[l]||Xt._default,a.innerHTML=u[1]+o.replace(Ht,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!nt.leadingWhitespace&&Ft.test(o)&&f.push(t.createTextNode(Ft.exec(o)[0])),!nt.tbody)for(o="table"!==l||zt.test(o)?"<table>"!==u[1]||zt.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(rt.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(t.createTextNode(o));for(a&&d.removeChild(a),nt.appendChecked||rt.grep(m(f,"input"),v),p=0;o=f[p++];)if((!i||-1===rt.inArray(o,i))&&(s=rt.contains(o.ownerDocument,o),a=m(d.appendChild(o),"script"),s&&x(a),n))for(r=0;o=a[r++];)Vt.test(o.type||"")&&n.push(o);return a=null,d},cleanData:function(e,t){for(var n,i,r,o,s=0,a=rt.expando,l=rt.cache,c=nt.deleteExpando,u=rt.event.special;null!=(n=e[s]);s++)if((t||rt.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[a]:typeof n.removeAttribute!==Ct?n.removeAttribute(a):n[a]=null,Y.push(r))}}}),rt.fn.extend({text:function(e){return At(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||rt.cleanData(m(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&x(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return At(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Rt,""):void 0;if(!("string"!=typeof e||qt.test(e)||!nt.htmlSerialize&&$t.test(e)||!nt.leadingWhitespace&&Ft.test(e)||Xt[(Bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ht,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,r,o,s,a,l=0,c=this.length,u=this,h=c-1,d=e[0],f=rt.isFunction(d);if(f||c>1&&"string"==typeof d&&!nt.checkClone&&Ut.test(d))return this.each(function(n){var i=u.eq(n);f&&(e[0]=d.call(this,n,i.html())),i.domManip(e,t)});if(c&&(a=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=rt.map(m(a,"script"),b),r=o.length;c>l;l++)i=a,l!==h&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,m(i,"script"))),t.call(this[l],i,l);if(r)for(s=o[o.length-1].ownerDocument,rt.map(o,w),l=0;r>l;l++)i=o[l],Vt.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(s,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Yt,"")));a=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,r=[],o=rt(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),rt(o[i])[t](n),Q.apply(r,n.get());return this.pushStack(r)}});var Jt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=pt.getElementsByTagName("body")[0],n&&n.style?(t=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==Ct&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+Tt+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||en(e),s=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==s||rt.contains(e.ownerDocument,e)||(s=rt.style(e,t)),rn.test(s)&&nn.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):pt.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,r,o,s,a=e.style;return n=n||en(e),s=n?n[t]:void 0,null==s&&a&&a[t]&&(s=a[t]),rn.test(s)&&!on.test(t)&&(i=a.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function t(){var t,n,i,r;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=s=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(pt.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===r[0].offsetHeight,a&&(r[0].style.display="",r[1].style.display="none",a=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,s,a,l;n=pt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==a&&t(),a},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r};var sn=/alpha\([^)]*\)/i,an=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+Tt+")(.*)$","i"),un=new RegExp("^([+-])=("+Tt+")","i"),hn={position:"absolute",visibility:"hidden",display:"block"},dn={letterSpacing:"0",fontWeight:"400"},fn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=rt.camelCase(t),l=e.style;if(t=rt.cssProps[a]||(rt.cssProps[a]=L(l,a)),s=rt.cssHooks[t]||rt.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=un.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[a]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var r,o,s,a=rt.camelCase(t);return t=rt.cssProps[a]||(rt.cssProps[a]=L(e.style,a)),s=rt.cssHooks[t]||rt.cssHooks[a],s&&"get"in s&&(o=s.get(e,!0,n)),void 0===o&&(o=tn(e,t,i)),"normal"===o&&t in dn&&(o=dn[t]),""===n||n?(r=parseFloat(o),n===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?ln.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,hn,function(){return P(e,t,i)}):P(e,t,i):void 0},set:function(e,n,i){var r=i&&en(e);return A(e,n,i?M(e,t,i,nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(e,t){return an.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),rt.cssHooks.marginRight=T(nt.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Lt[i]+t]=o[i]||o[i-2]||o[0];return r}},nn.test(e)||(rt.cssHooks[e+t].set=A)}),rt.fn.extend({css:function(e,t){return At(this,function(e,t,n){var i,r,o={},s=0;if(rt.isArray(t)){for(i=en(e),r=t.length;r>s;s++)o[t[s]]=rt.css(e,t[s],!1,i);return o}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Et(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=j,j.prototype={constructor:j,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=j.prototype.init,rt.fx.step={};var pn,gn,mn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Tt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[D],wn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=vn.exec(t),o=r&&r[3]||(rt.cssNumber[e]?"":"px"),s=(rt.cssNumber[e]||"px"!==o&&+i)&&vn.exec(rt.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,rt.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend($,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Et).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=rt.isEmptyObject(e),o=rt.speed(t,n,i),s=function(){var t=$(this,rt.extend({},e),o);(r||rt._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=rt.timers,s=rt._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&yn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=rt.timers,s=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),rt.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(pn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),pn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){gn||(gn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(gn),gn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=pt.createElement("select"),r=n.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=r.selected,nt.enctype=!!pt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,e=pt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var xn=/\r/g;rt.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(xn,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=rt.makeArray(t),s=r.length;s--;)if(i=r[s],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kn,Cn,_n=rt.expr.attrHandle,Sn=/^(?:checked|selected)$/i,Tn=nt.getSetAttribute,Ln=nt.input;rt.fn.extend({attr:function(e,t){return At(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Ct?rt.prop(e,t,n):(1===o&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?Cn:kn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Ln&&Tn||!Sn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(Tn?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Cn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):Ln&&Tn||!Sn.test(n)?e.setAttribute(!Tn&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=_n[t]||rt.find.attr;_n[t]=Ln&&Tn||!Sn.test(t)?function(e,t,i){var r,o;return i||(o=_n[t],_n[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,_n[t]=o),r}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),Ln&&Tn||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):kn&&kn.set(e,t,n)}}),Tn||(kn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},_n.id=_n.name=_n.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:kn.set},rt.attrHooks.contenteditable={set:function(e,t,n){kn.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var En=/^(?:input|select|textarea|button|object)$/i,An=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return At(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!rt.isXMLDoc(e),o&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):En.test(e.nodeName)||An.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var Mn=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=rt.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(e){var t,n,i,r,o,s,a=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Mn," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=e?rt.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=rt(this),o=e.match(bt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Ct||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Mn," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Pn=rt.now(),jn=/\?/,Nn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(Nn,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var On,In,Dn=/#.*$/,Rn=/([?&])_=[^&]*/,$n=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Hn=/^(?:GET|HEAD)$/,Bn=/^\/\//,zn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Wn={},qn={},Un="*/".concat("*");try{In=location.href}catch(Vn){In=pt.createElement("a"),In.href="",In=In.href}On=zn.exec(In.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In,type:"GET",isLocal:Fn.test(On[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Un,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?B(B(e,rt.ajaxSettings),t):B(rt.ajaxSettings,e)},ajaxPrefilter:F(Wn),ajaxTransport:F(qn),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,w,k=t;2!==b&&(b=2,a&&clearTimeout(a),c=void 0,s=i||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=z(h,x,n)),y=W(h,y,x,r),r?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(rt.lastModified[o]=w),w=x.getResponseHeader("etag"),w&&(rt.etag[o]=w)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,v=y.error,r=!v)):(v=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(t||k)+"",r?p.resolveWith(d,[u,k,x]):p.rejectWith(d,[x,k,v]),x.statusCode(m),m=void 0,l&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?u:v]),g.fireWith(d,[x,k]),l&&(f.trigger("ajaxComplete",[x,h]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,s,a,l,c,u,h=rt.ajaxSetup({},t),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?rt(d):rt.event,p=rt.Deferred(),g=rt.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=$n.exec(s);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),n(0,t),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||In)+"").replace(Dn,"").replace(Bn,On[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=rt.trim(h.dataType||"*").toLowerCase().match(bt)||[""],null==h.crossDomain&&(i=zn.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===On[1]&&i[2]===On[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(On[3]||("http:"===On[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=rt.param(h.data,h.traditional)),H(Wn,h,t,x),2===b)return x;l=rt.event&&h.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Hn.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(jn.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Rn.test(o)?o.replace(Rn,"$1_="+Pn++):o+(jn.test(o)?"&":"?")+"_="+Pn++)),h.ifModified&&(rt.lastModified[o]&&x.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&x.setRequestHeader("If-None-Match",rt.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Un+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===b))return x.abort();w="abort";for(r in{success:1,error:1,complete:1})x[r](h[r]);if(c=H(qn,h,t,x)){x.readyState=1,l&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,c.send(v,n)}catch(k){if(!(2>b))throw k;n(-1,k)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Gn=/%20/g,Yn=/\[\]$/,Xn=/\r?\n/g,Kn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(n in e)q(n,e[n],t,r);return i.join("&").replace(Gn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Qn.test(this.nodeName)&&!Kn.test(e)&&(this.checked||!Mt.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&U()||V()}:U;var Jn=0,Zn={},ei=rt.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&rt.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var r,o=e.xhr(),s=++Jn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var a,l,c;
if(t&&(r||4===o.readyState))if(delete Zn[s],t=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{c={},a=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=c.text?200:404}c&&i(a,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zn[s]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pt.head||rt("head")[0]||pt.documentElement;return{send:function(i,r){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||rt.expando+"_"+Pn++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,s,a=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(ni,"$1"+r):t.jsonp!==!1&&(t.url+=(jn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||rt.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){s=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,ti.push(r)),s&&rt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pt;var i=ht.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var ii=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,r,o,s=this,a=e.indexOf(" ");return a>=0&&(i=rt.trim(e.slice(a,e.length)),e=e.slice(0,a)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),s.length>0&&rt.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,s.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){s.each(n,r||[e.responseText,t,e])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c,u=rt.css(e,"position"),h=rt(e),d={};"static"===u&&(e.style.position="relative"),a=h.offset(),o=rt.css(e,"top"),l=rt.css(e,"left"),c=("absolute"===u||"fixed"===u)&&rt.inArray("auto",[o,l])>-1,c?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):h.css(d)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=G(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return At(this,function(e,i,r){var o=G(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=T(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return At(this,function(t,n,i){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?rt.css(t,n,s):rt.style(t,n,i,s)},t,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var oi=e.jQuery,si=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=si),t&&e.jQuery===rt&&(e.jQuery=oi),rt},typeof t===Ct&&(e.jQuery=e.$=rt),rt}),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=t-a?"bottom":null!=s&&s>=i?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-a}))}}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=e(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=e(r);t&&t.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),i[r](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),s="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):s?r[s]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),r=n||i[t](),o=this.interval,s="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=e(this.$indicators.children()[this.getItemIndex(r)]);h&&h.addClass("active")}var d=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(s),r.addClass(s),i.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(d)),o&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=e.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),t.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!r&&o.toggle&&"show"==t&&(t=!t),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;t.call(i,"hide"),r||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var a=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=e(this),o=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=e(o),a=s.data("bs.collapse"),l=a?"toggle":r.data(),c=r.attr("data-parent"),u=c&&e(c);a&&a.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(r).addClass("collapsed"),r[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(s,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(o).each(function(){var i=n(e(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(t=e.Event("hide.bs.dropdown",r)),t.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.VERSION="3.2.0",s.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(t(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var a={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s||s&&27==t.keyCode)return 27==t.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',s.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:r});if(t.trigger(o),!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&e.support.transition&&o.hasClass("fade");s?o.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,i){var r=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(e(n).is("body")?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=e(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return s!=(e=o[o.length-1])&&this.activate(e);if(s&&t<=r[0])return s!=(e=o[0])&&this.activate(e);for(e=r.length;e--;)s!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");{var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");e(n).parents("li").prevAll().addClass("passed"),e(n).parents("li").nextAll().removeClass("passed")}i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),s=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof t?o[t](i):s.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,s,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,l=a.test(s);l&&(s=s.replace(a,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var c=this.getPosition(),u=r[0].offsetWidth,h=r[0].offsetHeight;if(l){var d=s,f=this.$element.parent(),p=this.getPosition(f);s="bottom"==s&&c.top+c.height+h-p.scroll>p.height?"top":"top"==s&&c.top-p.scroll-h<0?"bottom":"right"==s&&c.right+u>p.width?"left":"left"==s&&c.left-u<p.left?"right":s,r.removeClass(d).addClass(s)}var g=this.getCalculatedOffset(s,c,u,h);this.applyPlacement(g,s);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var h=u.left?2*u.left-r+l:2*u.top-o+c,d=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")
},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:i?e(window).width():t.outerWidth(),height:i?e(window).height():t.outerHeight()},i?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(e)){var a=t.top-o-s.scroll,l=t.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=t.left-o,u=t.left+o+n;c<s.left?r.left=s.left-c:u>s.width&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;(r||"destroy"!=t)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),!function(e){var t,n,i,r,o,s,a,l,c,u,h,d,f,p=0,g={},m=[],v=0,y={},b=[],w=null,x=new Image,k=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,C=/[^\.]\.(swf)\s*$/i,_=1,S=0,T="",L=!1,E=e.extend(e("<div/>")[0],{prop:0}),A=/MSIE 6/.test(navigator.userAgent)&&e.browser.version<7&&!window.XMLHttpRequest,M=function(){n.hide(),x.onerror=x.onload=null,w&&w.abort(),t.empty()},P=function(){return!1===g.onError(m,p,g)?(n.hide(),void(L=!1)):(g.titleShow=!1,g.width="auto",g.height="auto",t.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),void N())},j=function(){var i,r,o,a,l,c,u=m[p];if(M(),g=e.extend({},e.fn.fancybox.defaults,"undefined"==typeof e(u).data("fancybox")?g:e(u).data("fancybox")),c=g.onStart(m,p,g),c===!1)return void(L=!1);if("object"==typeof c&&(g=e.extend(g,c)),o=g.title||(u.nodeName?e(u).attr("title"):u.title)||"",u.nodeName&&!g.orig&&(g.orig=e(u).children("img:first").length?e(u).children("img:first"):e(u)),""===o&&g.orig&&g.titleFromAlt&&(o=g.orig.attr("alt")),i=g.href||(u.nodeName?e(u).attr("href"):u.href)||null,(/^(?:javascript)/i.test(i)||"#"==i)&&(i=null),g.type?(r=g.type,i||(i=g.content)):g.content?r="html":i&&(r=i.match(k)?"image":i.match(C)?"swf":e(u).hasClass("iframe")?"iframe":0===i.indexOf("#")?"inline":"ajax"),!r)return void P();switch("inline"==r&&(u=i.substr(i.indexOf("#")),r=e(u).length>0?"inline":"ajax"),g.type=r,g.href=i,g.title=o,g.autoDimensions&&("html"==g.type||"inline"==g.type||"ajax"==g.type?(g.width="auto",g.height="auto"):g.autoDimensions=!1),g.modal&&(g.overlayShow=!0,g.hideOnOverlayClick=!1,g.hideOnContentClick=!1,g.enableEscapeButton=!1,g.showCloseButton=!1),g.padding=parseInt(g.padding,10),g.margin=parseInt(g.margin,10),t.css("padding",g.padding+g.margin),e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){e(this).replaceWith(s.children())}),r){case"html":t.html(g.content),N();break;case"inline":if(e(u).parent().is("#fancybox-content")===!0)return void(L=!1);e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(u)).bind("fancybox-cleanup",function(){e(this).replaceWith(s.children())}).bind("fancybox-cancel",function(){e(this).replaceWith(t.children())}),e(u).appendTo(t),N();break;case"image":L=!1,e.fancybox.showActivity(),x=new Image,x.onerror=function(){P()},x.onload=function(){L=!0,x.onerror=x.onload=null,O()},x.src=i;break;case"swf":g.scrolling="no",a='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+g.width+'" height="'+g.height+'"><param name="movie" value="'+i+'"></param>',l="",e.each(g.swf,function(e,t){a+='<param name="'+e+'" value="'+t+'"></param>',l+=" "+e+'="'+t+'"'}),a+='<embed src="'+i+'" type="application/x-shockwave-flash" width="'+g.width+'" height="'+g.height+'"'+l+"></embed></object>",t.html(a),N();break;case"ajax":L=!1,e.fancybox.showActivity(),g.ajax.win=g.ajax.success,w=e.ajax(e.extend({},g.ajax,{url:i,data:g.ajax.data||{},dataType:"text",error:function(e){e.status>0&&P()},success:function(e,r,o){var s="object"==typeof o?o:w;if(200==s.status||0===s.status){if("function"==typeof g.ajax.win){if(c=g.ajax.win(i,e,r,o),c===!1)return void n.hide();("string"==typeof c||"object"==typeof c)&&(e=c)}t.html(e),N()}}}));break;case"iframe":I()}},N=function(){var n=g.width,i=g.height;n=n.toString().indexOf("%")>-1?parseInt((e(window).width()-2*g.margin)*parseFloat(n)/100,10)+"px":"auto"==n?"auto":n+"px",i=i.toString().indexOf("%")>-1?parseInt((e(window).height()-2*g.margin)*parseFloat(i)/100,10)+"px":"auto"==i?"auto":i+"px",t.wrapInner('<div style="width:'+n+";height:"+i+";overflow: "+("auto"==g.scrolling?"auto":"yes"==g.scrolling?"scroll":"hidden")+';position:relative;"></div>'),g.width=t.width(),g.height=t.height(),I()},O=function(){g.width=x.width,g.height=x.height,e("<img />").attr({id:"fancybox-img",src:x.src,alt:g.title}).appendTo(t),I()},I=function(){var o,h;return n.hide(),r.is(":visible")&&!1===y.onCleanup(b,v,y)?(e(".fancybox-inline-tmp").trigger("fancybox-cancel"),void(L=!1)):(L=!0,e(s.add(i)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),r.is(":visible")&&"outside"!==y.titlePosition&&r.css("height",r.height()),b=m,v=p,y=g,y.overlayShow?(i.css({"background-color":y.overlayColor,opacity:y.overlayOpacity,cursor:y.hideOnOverlayClick?"pointer":"auto",height:e(document).height()}),i.is(":visible")||(A&&e("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),i.show())):i.hide(),f=W(),R(),r.is(":visible")?(e(a.add(c).add(u)).hide(),o=r.position(),d={top:o.top,left:o.left,width:r.width(),height:r.height()},h=d.width==f.width&&d.height==f.height,void s.fadeTo(y.changeFade,.3,function(){var n=function(){s.html(t.contents()).fadeTo(y.changeFade,1,F)};e(".fancybox-inline-tmp").trigger("fancybox-change"),s.empty().removeAttr("filter").css({"border-width":y.padding,width:f.width-2*y.padding,height:g.autoDimensions?"auto":f.height-S-2*y.padding}),h?n():(E.prop=0,e(E).animate({prop:1},{duration:y.changeSpeed,easing:y.easingChange,step:B,complete:n}))})):(r.removeAttr("style"),s.css("border-width",y.padding),"elastic"==y.transitionIn?(d=U(),s.html(t.contents()),r.show(),y.opacity&&(f.opacity=0),E.prop=0,void e(E).animate({prop:1},{duration:y.speedIn,easing:y.easingIn,step:B,complete:F})):("inside"==y.titlePosition&&S>0&&l.show(),s.css({width:f.width-2*y.padding,height:g.autoDimensions?"auto":f.height-S-2*y.padding}).html(t.contents()),void r.css(f).fadeIn("none"==y.transitionIn?0:y.speedIn,F))))},D=function(e){return e&&e.length?"float"==y.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+e+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+y.titlePosition+'">'+e+"</div>":!1},R=function(){if(T=y.title||"",S=0,l.empty().removeAttr("style").removeClass(),y.titleShow===!1)return void l.hide();if(T=e.isFunction(y.titleFormat)?y.titleFormat(T,b,v,y):D(T),!T||""===T)return void l.hide();switch(l.addClass("fancybox-title-"+y.titlePosition).html(T).appendTo("body").show(),y.titlePosition){case"inside":l.css({width:f.width-2*y.padding,marginLeft:y.padding,marginRight:y.padding}),S=l.outerHeight(!0),l.appendTo(o),f.height+=S;break;case"over":l.css({marginLeft:y.padding,width:f.width-2*y.padding,bottom:y.padding}).appendTo(o);break;case"float":l.css("left",-1*parseInt((l.width()-f.width-40)/2,10)).appendTo(r);break;default:l.css({width:f.width-2*y.padding,paddingLeft:y.padding,paddingRight:y.padding}).appendTo(r)}l.hide()},$=function(){return(y.enableEscapeButton||y.enableKeyboardNav)&&e(document).bind("keydown.fb",function(t){27==t.keyCode&&y.enableEscapeButton?(t.preventDefault(),e.fancybox.close()):37!=t.keyCode&&39!=t.keyCode||!y.enableKeyboardNav||"INPUT"===t.target.tagName||"TEXTAREA"===t.target.tagName||"SELECT"===t.target.tagName||(t.preventDefault(),e.fancybox[37==t.keyCode?"prev":"next"]())}),y.showNavArrows?((y.cyclic&&b.length>1||0!==v)&&c.show(),void((y.cyclic&&b.length>1||v!=b.length-1)&&u.show())):(c.hide(),void u.hide())},F=function(){e.support.opacity===!1&&(s.get(0).style.removeAttribute("filter"),r.get(0).style.removeAttribute("filter")),g.autoDimensions&&s.css("height","auto"),r.css("height","auto"),T&&T.length&&l.show(),y.showCloseButton&&a.show(),$(),y.hideOnContentClick&&s.bind("click",e.fancybox.close),y.hideOnOverlayClick&&i.bind("click",e.fancybox.close),e(window).bind("resize.fb",e.fancybox.resize),y.centerOnScroll&&e(window).bind("scroll.fb",e.fancybox.center),"iframe"==y.type&&e('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(window.attachEvent?'allowtransparency="true""':"")+' scrolling="'+g.scrolling+'" src="'+y.href+'"></iframe>').appendTo(s),r.show(),L=!1,e.fancybox.center(),y.onComplete(b,v,y),H()},H=function(){var e,t;b.length-1>v&&(e=b[v+1].href,"undefined"!=typeof e&&e.match(k)&&(t=new Image,t.src=e)),v>0&&(e=b[v-1].href,"undefined"!=typeof e&&e.match(k)&&(t=new Image,t.src=e))},B=function(e){var t={width:parseInt(d.width+(f.width-d.width)*e,10),height:parseInt(d.height+(f.height-d.height)*e,10),top:parseInt(d.top+(f.top-d.top)*e,10),left:parseInt(d.left+(f.left-d.left)*e,10)};"undefined"!=typeof f.opacity&&(t.opacity=.5>e?.5:e),r.css(t),s.css({width:t.width-2*y.padding,height:t.height-S*e-2*y.padding})},z=function(){return[e(window).width()-2*y.margin,e(window).height()-2*y.margin,e(document).scrollLeft()+y.margin,e(document).scrollTop()+y.margin]},W=function(){var e,t=z(),n={},i=y.autoScale,r=2*y.padding;return n.width=y.width.toString().indexOf("%")>-1?parseInt(t[0]*parseFloat(y.width)/100,10):y.width+r,n.height=y.height.toString().indexOf("%")>-1?parseInt(t[1]*parseFloat(y.height)/100,10):y.height+r,i&&(n.width>t[0]||n.height>t[1])&&("image"==g.type||"swf"==g.type?(e=y.width/y.height,n.width>t[0]&&(n.width=t[0],n.height=parseInt((n.width-r)/e+r,10)),n.height>t[1]&&(n.height=t[1],n.width=parseInt((n.height-r)*e+r,10))):(n.width=Math.min(n.width,t[0]),n.height=Math.min(n.height,t[1]))),n.top=parseInt(Math.max(t[3]-20,t[3]+.5*(t[1]-n.height-40)),10),n.left=parseInt(Math.max(t[2]-20,t[2]+.5*(t[0]-n.width-40)),10),n},q=function(e){var t=e.offset();return t.top+=parseInt(e.css("paddingTop"),10)||0,t.left+=parseInt(e.css("paddingLeft"),10)||0,t.top+=parseInt(e.css("border-top-width"),10)||0,t.left+=parseInt(e.css("border-left-width"),10)||0,t.width=e.width(),t.height=e.height(),t},U=function(){var t,n,i=g.orig?e(g.orig):!1,r={};return i&&i.length?(t=q(i),r={width:t.width+2*y.padding,height:t.height+2*y.padding,top:t.top-y.padding-20,left:t.left-y.padding-20}):(n=z(),r={width:2*y.padding,height:2*y.padding,top:parseInt(n[3]+.5*n[1],10),left:parseInt(n[2]+.5*n[0],10)}),r},V=function(){return n.is(":visible")?(e("div",n).css("top",-40*_+"px"),void(_=(_+1)%12)):void clearInterval(h)};e.fn.fancybox=function(t){return e(this).length?(e(this).data("fancybox",e.extend({},t,e.metadata?e(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){if(t.preventDefault(),!L){L=!0,e(this).blur(),m=[],p=0;var n=e(this).attr("rel")||"";n&&""!=n&&"nofollow"!==n?(m=e('a[rel="'+n+'"], area[rel="'+n+'"]'),p=m.index(this)):m.push(this),j()}}),this):this},e.fancybox=function(t){var n;if(!L){if(L=!0,n="undefined"!=typeof arguments[1]?arguments[1]:{},m=[],p=parseInt(n.index,10)||0,e.isArray(t)){for(var i=0,r=t.length;r>i;i++)"object"==typeof t[i]?e(t[i]).data("fancybox",e.extend({},n,t[i])):t[i]=e({}).data("fancybox",e.extend({content:t[i]},n));m=jQuery.merge(m,t)}else"object"==typeof t?e(t).data("fancybox",e.extend({},n,t)):t=e({}).data("fancybox",e.extend({content:t},n)),m.push(t);(p>m.length||0>p)&&(p=0),j()}},e.fancybox.showActivity=function(){clearInterval(h),n.show(),h=setInterval(V,66)},e.fancybox.hideActivity=function(){n.hide()},e.fancybox.next=function(){return e.fancybox.pos(v+1)},e.fancybox.prev=function(){return e.fancybox.pos(v-1)},e.fancybox.pos=function(e){L||(e=parseInt(e),m=b,e>-1&&e<b.length?(p=e,j()):y.cyclic&&b.length>1&&(p=e>=b.length?0:b.length-1,j()))},e.fancybox.cancel=function(){L||(L=!0,e(".fancybox-inline-tmp").trigger("fancybox-cancel"),M(),g.onCancel(m,p,g),L=!1)},e.fancybox.close=function(){function t(){i.fadeOut("fast"),l.empty().hide(),r.hide(),e(".fancybox-inline-tmp").trigger("fancybox-cleanup"),s.empty(),y.onClosed(b,v,y),b=g=[],v=p=0,y=g={},L=!1}if(!L&&!r.is(":hidden")){if(L=!0,y&&!1===y.onCleanup(b,v,y))return void(L=!1);if(M(),e(a.add(c).add(u)).hide(),e(s.add(i)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),"iframe"===y.type&&s.find("iframe").attr("src",A&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==y.titlePosition&&l.empty(),r.stop(),"elastic"==y.transitionOut){d=U();var n=r.position();f={top:n.top,left:n.left,width:r.width(),height:r.height()},y.opacity&&(f.opacity=1),l.empty().hide(),E.prop=1,e(E).animate({prop:0},{duration:y.speedOut,easing:y.easingOut,step:B,complete:t})}else r.fadeOut("none"==y.transitionOut?0:y.speedOut,t)}},e.fancybox.resize=function(){i.is(":visible")&&i.css("height",e(document).height()),e.fancybox.center(!0)},e.fancybox.center=function(){var e,t;L||(t=arguments[0]===!0?1:0,e=z(),(t||!(r.width()>e[0]||r.height()>e[1]))&&r.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+.5*(e[1]-s.height()-40)-y.padding)),left:parseInt(Math.max(e[2]-20,e[2]+.5*(e[0]-s.width()-40)-y.padding))},"number"==typeof arguments[0]?arguments[0]:200))},e.fancybox.init=function(){e("#fancybox-wrap").length||(e("body").append(t=e('<div id="fancybox-tmp"></div>'),n=e('<div id="fancybox-loading"><div></div></div>'),i=e('<div id="fancybox-overlay"></div>'),r=e('<div id="fancybox-wrap"></div>')),o=e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(r),o.append(s=e('<div id="fancybox-content"></div>'),a=e('<a id="fancybox-close"></a>'),l=e('<div id="fancybox-title"></div>'),c=e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),u=e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),a.click(e.fancybox.close),n.click(e.fancybox.cancel),c.click(function(t){t.preventDefault(),e.fancybox.prev()}),u.click(function(t){t.preventDefault(),e.fancybox.next()}),e.fn.mousewheel&&r.bind("mousewheel.fb",function(t,n){L?t.preventDefault():(0==e(t.target).get(0).clientHeight||e(t.target).get(0).scrollHeight===e(t.target).get(0).clientHeight)&&(t.preventDefault(),e.fancybox[n>0?"prev":"next"]())}),e.support.opacity===!1&&r.addClass("fancybox-ie"),A&&(n.addClass("fancybox-ie6"),r.addClass("fancybox-ie6"),e('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(o)))},e.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},e(document).ready(function(){e.fancybox.init()})}(jQuery),jQuery(function(){initTouchNav(),initDropDown()}),function(e){e.fn.animDropdown=function(n){var i=e.extend({hoverClass:"hover",dropClass:"drop-active",items:"li",drop:">ul",delay:100,animSpeed:300,effect:"fade"},n);return this.each(function(){function n(n){var r=n.siblings();r.removeClass(i.hoverClass).each(function(){var t=e(this);clearTimeout(t.data("timer"))}),r.filter("."+i.dropClass).each(function(){var e=jQuery(this).removeClass(i.dropClass);e.data("drop").length&&t[i.effect].animate({drop:e.data("drop"),state:!1,speed:i.animSpeed})})}var r=e(this),o=r.find(i.items);o.addClass(i.hoverClass).each(function(){var r,o=e(this),s=o.find(i.drop);o.data("drop",s),s.length&&t[i.effect].prepare({item:o,drop:s}),o.bind(window.TouchNav&&TouchNav.isActiveOn(this)?"itemhover":"mouseenter",function(e){"itemhover"===e.type&&e.stopPropagation(),n(o),o.addClass(i.hoverClass),clearTimeout(r),r=setTimeout(function(){s.length&&o.hasClass(i.hoverClass)&&(o.addClass(i.dropClass),t[i.effect].animate({drop:s,state:!0,speed:i.animSpeed,complete:function(){}}))},i.delay),o.data("timer",r)}).bind(window.TouchNav&&TouchNav.isActiveOn(this)?"itemleave":"mouseleave",function(e){"itemleave"===e.type&&e.stopPropagation(),o.hasClass(i.dropClass)||o.removeClass(i.hoverClass),clearTimeout(r),r=setTimeout(function(){s.length&&o.hasClass(i.dropClass)&&t[i.effect].animate({drop:s,state:!1,speed:i.animSpeed,complete:function(){o.removeClass(i.hoverClass),o.removeClass(i.dropClass)}})},i.delay),o.data("timer",r)})}),o.removeClass(i.hoverClass),t[i.effect].postProcess&&o.each(function(){t[i.effect].postProcess({item:e(this)})})})};var t={fade:{prepare:function(e){e.drop.css({opacity:0,display:"none"})},animate:function(e){e.drop.stop().css("display","block").animate({opacity:e.state?1:0},{duration:e.speed||0,complete:function(){e.drop.css(e.state?{opacity:""}:{opacity:0,display:"none"}),"function"==typeof e.complete&&e.complete.call(e.drop)}})}},slide:{prepare:function(e){var t=e.drop.wrap('<div class="drop-slide-wrapper">').show().parent(),n=e.drop.outerHeight(!0),i=e.drop.outerWidth(!0);t.css({height:n,width:i,position:"absolute",overflow:"hidden",top:e.drop.css("top"),left:e.drop.css("left")}),e.drop.css({position:"static",display:"block",top:"auto",left:"auto"}),e.drop.data("height",n).data("wrap",t).css({marginTop:-n})},animate:function(e){e.drop.data("wrap").show().css({overflow:"hidden"}),e.drop.stop().animate({marginTop:e.state?0:-e.drop.data("height")},{duration:e.speed||0,complete:function(){e.state?(e.drop.css({marginTop:""}),e.drop.data("wrap").css({overflow:""})):e.drop.data("wrap").css({display:"none"}),"function"==typeof e.complete&&e.complete.call(e.drop)}})},postProcess:function(e){e.item.data("drop").length&&e.item.data("drop").data("wrap").css({display:"none"})}}}}(jQuery),TouchNav.isActiveOn=function(e){return e&&e.touchNavActive},TouchNav.prototype={init:function(){"string"==typeof this.options.navBlock?this.menu=document.getElementById(this.options.navBlock):"object"==typeof this.options.navBlock&&(this.menu=this.options.navBlock),this.menu&&this.addEvents()},addEvents:function(){var e=this,t=navigator.pointerEnabled&&"pointerdown"||navigator.msPointerEnabled&&"MSPointerDown"||this.isTouchDevice&&"touchstart";this.menuItems=lib.queryElementsBySelector(this.options.menuItems,this.menu);for(var n=function(n){var i=lib.queryElementsBySelector(e.options.menuDrop,n)[0],r=lib.queryElementsBySelector(e.options.menuOpener,n)[0];i&&r&&(e.isTouchDevice||e.isPointerDevice)&&(lib.event.add(r,"click",lib.bind(e.clickHandler,e)),lib.event.add(r,"mousedown",lib.bind(e.mousedownHandler,e)),lib.event.add(r,t,function(t){return e.isTouchPointerEvent(t)?(e.touchFlag=!0,e.currentItem=n,e.currentLink=r,void e.pressHandler.apply(e,arguments)):void(e.preventCurrentClick=!1)})),jQuery(n).bind("mouseenter",function(){e.touchFlag||(e.currentItem=n,e.mouseoverHandler())}),jQuery(n).bind("mouseleave",function(){e.touchFlag||(e.currentItem=n,e.mouseoutHandler())}),n.touchNavActive=!0},i=0;i<this.menuItems.length;i++)n(e.menuItems[i]);(this.isTouchDevice||this.isPointerDevice)&&(lib.event.add(document.documentElement,"mousedown",lib.bind(this.clickOutsideHandler,this)),lib.event.add(document.documentElement,t,lib.bind(this.clickOutsideHandler,this)))},mousedownHandler:function(e){this.touchFlag&&(e.preventDefault(),this.touchFlag=!1,this.preventCurrentClick=!1)},mouseoverHandler:function(){lib.addClass(this.currentItem,this.options.hoverClass),jQuery(this.currentItem).trigger("itemhover")},mouseoutHandler:function(){lib.removeClass(this.currentItem,this.options.hoverClass),jQuery(this.currentItem).trigger("itemleave")},hideActiveDropdown:function(){for(var e=0;e<this.menuItems.length;e++)lib.hasClass(this.menuItems[e],this.options.hoverClass)&&(lib.removeClass(this.menuItems[e],this.options.hoverClass),jQuery(this.menuItems[e]).trigger("itemleave"));this.activeParent=null},pressHandler:function(e){this.currentItem!==this.activeParent&&(this.activeParent&&this.currentItem.parentNode===this.activeParent.parentNode?lib.removeClass(this.activeParent,this.options.hoverClass):this.isParent(this.activeParent,this.currentLink)||this.hideActiveDropdown()),this.activeParent=this.currentItem,lib.hasClass(this.currentItem,this.options.hoverClass)?this.preventCurrentClick=!1:(e.preventDefault(),this.preventCurrentClick=!0,lib.addClass(this.currentItem,this.options.hoverClass),jQuery(this.currentItem).trigger("itemhover"))},clickHandler:function(e){this.preventCurrentClick&&e.preventDefault()},clickOutsideHandler:function(e){var t=e.changedTouches?e.changedTouches[0]:e;this.activeParent&&!this.isParent(this.menu,t.target)&&(this.hideActiveDropdown(),this.touchFlag=!1)},isParent:function(e,t){for(;t.parentNode;){if(t.parentNode==e)return!0;t=t.parentNode}return!1},isTouchPointerEvent:function(e){return e.type.indexOf("touch")>-1||navigator.pointerEnabled&&"touch"===e.pointerType||navigator.msPointerEnabled&&e.pointerType==e.MSPOINTER_TYPE_TOUCH},isPointerDevice:function(){return!(!navigator.pointerEnabled&&!navigator.msPointerEnabled)}(),isTouchDevice:function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}()},lib={hasClass:function(e,t){return e&&e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):!1},addClass:function(e,t){e&&!this.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){e&&this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," "))},extend:function(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},each:function(e,t){var n,i;if("number"==typeof e.length)for(n=0,i=e.length;i>n&&t.call(e[n],n,e[n])!==!1;n++);else for(n in e)if(e.hasOwnProperty(n)&&t.call(e[n],n,e[n])===!1)break},event:function(){var e=function(e){return e=e||window.event,e.isFixed?e:(e.isFixed=!0,e.target||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},e)};return{add:function(t,n,i){t.events||(t.events={},t.handle=function(n){var i,r=t.events[n.type];n=e(n);for(var o=0,s=r.length;s>o;o++)r[o]&&(i=r[o].call(t,n),i===!1&&(n.preventDefault(),n.stopPropagation()))}),t.events[n]||(t.events[n]=[],t.addEventListener?t.addEventListener(n,t.handle,!1):t.attachEvent&&t.attachEvent("on"+n,t.handle)),t.events[n].push(i)},remove:function(e,t,n){for(var i=e.events[t],r=i.length-1;r>=0;r--)i[r]===n&&i.splice(r,1);i.length||(delete e.events[t],e.removeEventListener?e.removeEventListener(t,e.handle,!1):e.detachEvent&&e.detachEvent("on"+t,e.handle))}}}(),queryElementsBySelector:function(e,t){if(t=t||document,!e)return[];if(">*"===e)return t.children;if("function"==typeof document.querySelectorAll)return t.querySelectorAll(e);for(var n=e.split(","),i=[],r=0;r<n.length;r++){for(var o=[t||document],s=n[r].replace(/^\s+/,"").replace(/\s+$/,"").split(" "),a=0;a<s.length;a++)if(token=s[a].replace(/^\s+/,"").replace(/\s+$/,""),token.indexOf("#")>-1){var l=token.split("#"),c=l[0],u=l[1],h=document.getElementById(u);if(h&&c&&h.nodeName.toLowerCase()!=c)return[];o=h?[h]:[]}else if(token.indexOf(".")>-1){for(var l=token.split("."),c=l[0]||"*",d=l[1],f=[],p=0,g=0;g<o.length;g++){var m;m=o[g].getElementsByTagName("*"==c?"*":c);for(var v=0;v<m.length;v++)f[p++]=m[v]}o=[];for(var y=0,b=0;b<f.length;b++)f[b].className&&f[b].className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))&&(o[y++]=f[b])}else if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var c=RegExp.$1||"*",w=RegExp.$2,x=RegExp.$3,k=RegExp.$4;"for"==w.toLowerCase()&&this.browser.msie&&this.browser.version<8&&(w="htmlFor");for(var f=[],p=0,g=0;g<o.length;g++){var m;m=o[g].getElementsByTagName("*"==c?"*":c);for(var v=0;m[v];v++)f[p++]=m[v]}o=[];var C,y=0;switch(x){case"=":C=function(e){return e.getAttribute(w)==k};break;case"~":C=function(e){return e.getAttribute(w).match(new RegExp("(\\s|^)"+k+"(\\s|$)"))};break;case"|":C=function(e){return e.getAttribute(w).match(new RegExp("^"+k+"-?"))};break;case"^":C=function(e){return 0==e.getAttribute(w).indexOf(k)};break;case"$":C=function(e){return e.getAttribute(w).lastIndexOf(k)==e.getAttribute(w).length-k.length};break;case"*":C=function(e){return e.getAttribute(w).indexOf(k)>-1};break;default:C=function(e){return e.getAttribute(w)}}o=[];for(var y=0,b=0;b<f.length;b++)C(f[b])&&(o[y++]=f[b])}else{c=token;for(var f=[],p=0,g=0;g<o.length;g++)for(var m=o[g].getElementsByTagName(c),v=0;v<m.length;v++)f[p++]=m[v];o=f}i=[].concat(i,o)}return i},trim:function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},bind:function(e,t,n){return function(){return e.apply(t,"undefined"!=typeof n?[n]:arguments)}}},function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,s,a,l,c,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),l=a===t?null:a,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var d=i.data("ujs:submit-button");d&&(s.push(d),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);return h={type:r||"GET",data:s,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(h.xhrFields={withCredentials:c}),o&&(h.url=o),n.ajax(h)
}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&a!==t&&(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),s&&c.attr("target",s),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),e.data("ujs:enable-with",e[n]()),i!==t&&e[n](i),e.prop("disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,s=e(),a=n||"input,textarea",l=t.find(a);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");e.data("ujs:enable-with",e.html()),i!==t&&e.html(i),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),s=r.data("params"),a=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(a&&(!o||"GET"===o)&&!s)return!0;var l=n.handleRemote(r);return l===!1?n.enableElement(r):l.fail(function(){n.enableElement(r)}),!1}return o?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,s=e(this),a=s.data("remote")!==t;if(!n.allowAction(s))return n.stopEverything(i);if(s.attr("novalidate")==t&&(r=n.blankInputs(s,n.requiredInputSelector),r&&n.fire(s,"ajax:aborted:required",[r])))return n.stopEverything(i);if(a){if(o=n.nonBlankInputs(s,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(s)},13);var l=n.fire(s,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(s)},13),l}return n.handleRemote(s),!1}setTimeout(function(){n.disableFormElements(s)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){e.deparam=function(t,n){var i={},r={"true":!0,"false":!1,"null":null};return e.each(t.replace(/\+/g," ").split("&"),function(t,o){var s,a=o.split("="),l=decodeURIComponent(a[0]),c=i,u=0,h=l.split("]["),d=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[d])?(h[d]=h[d].replace(/\]$/,""),h=h.shift().split("[").concat(h),d=h.length-1):d=0,2===a.length)if(s=decodeURIComponent(a[1]),n&&(s=s&&!isNaN(s)?+s:"undefined"===s?void 0:void 0!==r[s]?r[s]:s),d)for(;d>=u;u++)l=""===h[u]?c.length:h[u],c=c[l]=d>u?c[l]||(h[u+1]&&isNaN(h[u+1])?{}:[]):s;else e.isArray(i[l])?i[l].push(s):i[l]=void 0!==i[l]?[i[l],s]:s;else l&&(i[l]=n?void 0:"")}),i}}(jQuery),function(e,t){"use strict";if(!e.PushStream){var n={},i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=function(e){return(10>e?"0":"")+e};n.dateToUTCString=function(e){var t=o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds());return i[e.getUTCDay()]+", "+o(e.getUTCDate())+" "+r[e.getUTCMonth()]+" "+e.getUTCFullYear()+" "+t+" GMT"};var s=function(){for(var e=arguments[0]||{},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)(!n.hasOwnProperty||n.hasOwnProperty(i))&&(e[i]=n[i])}return e},a=/^[\],:{}\s]*$/,l=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,c=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,u=/(?:^|:|,)(?:\s*\[)+/g,h=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")};n.parseJSON=function(t){if(!t||!y(t))return null;if(t=h(t),e.JSON&&e.JSON.parse)try{return e.JSON.parse(t)}catch(n){throw"Invalid JSON: "+t}if(a.test(t.replace(l,"@").replace(c,"]").replace(u,"")))return new Function("return "+t)();throw"Invalid JSON: "+t};var d=function(e){var t={};return t[e.tagArgument]="",t[e.timeArgument]="",t[e.eventIdArgument]="",e.messagesControlByArgument&&(t[e.tagArgument]=Number(e._etag),e._lastModified?t[e.timeArgument]=e._lastModified:e._lastEventId&&(t[e.eventIdArgument]=e._lastEventId)),t},f=function(){return(new Date).getTime()},p=function(){return{_:f()}},g=function(t){var n=t;if("object"==typeof t){n="";for(var i in t)(!t.hasOwnProperty||t.hasOwnProperty(i))&&(n+="&"+i+"="+e.escape(t[i]));n=n.substring(1)}return n||""},m=function(e,t){return e+(e.indexOf("?")<0?"?":"&")+g(t)},v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},y=function(e){return"[object String]"===Object.prototype.toString.call(e)},b=function(e){return"[object Date]"===Object.prototype.toString.call(e)},w={logger:null,debug:function(){"debug"===$.LOG_LEVEL&&w._log.apply(w._log,arguments)},info:function(){("info"===$.LOG_LEVEL||"debug"===$.LOG_LEVEL)&&w._log.apply(w._log,arguments)},error:function(){w._log.apply(w._log,arguments)},_log:function(){if(!w.logger){var n=e.console;n&&n.log&&(n.log.apply?w.logger=n.log:"object"==typeof n.log&&Function.prototype.bind?w.logger=Function.prototype.bind.call(n.log,n):"object"==typeof n.log&&Function.prototype.call&&(w.logger=function(){Function.prototype.call.call(n.log,n,Array.prototype.slice.call(arguments))}))}w.logger&&w.logger.apply(e.console,arguments);var i=t.getElementById($.LOG_OUTPUT_ELEMENT_ID);if(i){for(var r="",o=0;o<arguments.length;o++)r+=arguments[o]+" ";i.innerHTML+=r+"\n";var s=i.innerHTML.split("\n");s.length>100&&(i.innerHTML=s.slice(-100).join("\n"))}}},x={_getXHRObject:function(){var t=!1;try{t=new e.XMLHttpRequest}catch(n){try{t=new e.XDomainRequest}catch(i){try{t=new e.ActiveXObject("Msxml2.XMLHTTP")}catch(r){try{t=new e.ActiveXObject("Microsoft.XMLHTTP")}catch(o){t=!1}}}}return t},_send:function(t,n){t=t||{},t.timeout=t.timeout||3e4;var i=x._getXHRObject();if(i&&t.url){x.clear(t),i.onreadystatechange=function(){4===i.readyState&&(x.clear(t),t.afterReceive&&t.afterReceive(i),200===i.status?t.success&&t.success(i.responseText):t.error&&t.error(i.status))},t.beforeOpen&&t.beforeOpen(i);var r={},o=null,a="GET";n?(o=g(t.data),a="POST"):r=t.data||{},i.open(a,m(t.url,s({},r,p())),!0),t.beforeSend&&t.beforeSend(i);var l=function(){try{i.abort()}catch(e){}x.clear(t),t.error(304)};return n?(i.setRequestHeader("Accept","application/json"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")):t.timeoutId=e.setTimeout(l,t.timeout+2e3),i.send(o),i}},_clear_script:function(e){e&&(e.onerror=e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e))},_clear_timeout:function(e){e.timeoutId=A(e.timeoutId)},clear:function(e){x._clear_timeout(e),x._clear_script(t.getElementById(e.scriptId))},jsonp:function(n){n.timeout=n.timeout||3e4,x.clear(n);var i=t.head||t.getElementsByTagName("head")[0],r=t.createElement("script"),o=f(),a=function(){x.clear(n);var t=n.data.callback;t&&(e[t]=function(){e[t]=null});var i=f();n.error(i-o>n.timeout/2?304:0)},l=function(){x.clear(n),n.load()};r.onerror=a,r.onload=r.onreadystatechange=function(){(!r.readyState||/loaded|complete/.test(r.readyState))&&l()},n.beforeOpen&&n.beforeOpen({}),n.beforeSend&&n.beforeSend({}),n.timeoutId=e.setTimeout(a,n.timeout+2e3),n.scriptId=n.scriptId||f();var c=n.data.callback;return c&&(e[c]=function(){e[c]=null}),n.data.callback=n.scriptId+"_onmessage_"+f(),e[n.data.callback]=n.success,r.setAttribute("src",m(n.url,s({},n.data,p()))),r.setAttribute("async","async"),r.setAttribute("id",n.scriptId),i.insertBefore(r,i.firstChild),n},load:function(e){return x._send(e,!1)},post:function(e){return x._send(e,!0)}},k=function(t){return t?e.escape(t):""},C=function(t){return t?e.unescape(t):""};n.parseMessage=function(e,t){var i=e;y(e)&&(i=n.parseJSON(e));var r={id:i[t.jsonIdKey],channel:i[t.jsonChannelKey],text:y(i[t.jsonTextKey])?C(i[t.jsonTextKey]):i[t.jsonTextKey],tag:i[t.jsonTagKey],time:i[t.jsonTimeKey],eventid:i[t.jsonEventIdKey]||""};return r};var _=function(e){return e.backtrack?".b"+Number(e.backtrack):""},S=function(e,t){var n="";for(var i in e)(!e.hasOwnProperty||e.hasOwnProperty(i))&&(n+="/"+i+(t?_(e[i]):""));return n},T=function(e,t,n,i){var r=e.wrapper.type===N.TYPE,o=e.useSSL,a=r?o?"wss://":"ws://":o?"https://":"http://";a+=e.host,a+=!o&&80===e.port||o&&443===e.port?"":":"+e.port,a+=t;var l=S(e.channels,i);if(e.channelsByArgument){var c={};c[e.channelsArgument]=l.substring(1),n=s({},n,c)}else a+=l;return m(a,n)},L=function(e){var t="",n=e.useSSL?"https://":"http://";n+=e.host,n+=80!==e.port&&443!==e.port?":"+e.port:"",n+=e.urlPrefixPublisher;for(var i in e.channels)if(!e.channels.hasOwnProperty||e.channels.hasOwnProperty(i)){t=i;break}return n+="?id="+t};n.extract_xss_domain=function(e){if(e.match(/^(\d{1,3}\.){3}\d{1,3}$/))return e;var t=e.split("."),n=Math.max(t.length-1,e.match(/(\w{4,}\.\w{2}|\.\w{3,})$/)?2:3);return t.slice(-1*n).join(".")};var E=function(e,t){return function(){return e.apply(t,arguments)}},A=function(t){return t&&e.clearTimeout(t),null},M=function(e){w.info("["+this.type+"] message received",arguments);var t=n.parseMessage(e.data,this.pushstream);t.tag&&(this.pushstream._etag=t.tag),t.time&&(this.pushstream._lastModified=t.time),t.eventid&&(this.pushstream._lastEventId=t.eventid),this.pushstream._onmessage(t.text,t.id,t.channel,t.eventid,!0)},P=function(){this.pushstream._onopen(),w.info("["+this.type+"] connection opened")},j=function(e){w.info("["+this.type+"] error (disconnected by server):",e),(this.pushstream.readyState!==$.OPEN||this.type!==O.TYPE||"error"!==e.type||this.connection.readyState!==EventSource.CONNECTING)&&(this._closeCurrentConnection(),this.pushstream._onerror({type:e&&("load"===e.type||"close"===e.type)||this.pushstream.readyState===$.CONNECTING?"load":"timeout"}))},N=function(t){if(!e.WebSocket&&!e.MozWebSocket)throw"WebSocket not supported";this.type=N.TYPE,this.pushstream=t,this.connection=null};N.TYPE="WebSocket",N.prototype={connect:function(){this._closeCurrentConnection();var t=s({},this.pushstream.extraParams(),p(),d(this.pushstream)),n=T(this.pushstream,this.pushstream.urlPrefixWebsocket,t,!this.pushstream._useControlArguments());this.connection=e.WebSocket?new e.WebSocket(n):new e.MozWebSocket(n),this.connection.onerror=E(j,this),this.connection.onclose=E(j,this),this.connection.onopen=E(P,this),this.connection.onmessage=E(M,this),w.info("[WebSocket] connecting to:",n)},disconnect:function(){this.connection&&(w.debug("[WebSocket] closing connection to:",this.connection.URL),this.connection.onclose=null,this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(e){}this.connection=null}},sendMessage:function(e){this.connection&&this.connection.send(e)}};var O=function(t){if(!e.EventSource)throw"EventSource not supported";this.type=O.TYPE,this.pushstream=t,this.connection=null};O.TYPE="EventSource",O.prototype={connect:function(){this._closeCurrentConnection();var t=s({},this.pushstream.extraParams(),p(),d(this.pushstream)),n=T(this.pushstream,this.pushstream.urlPrefixEventsource,t,!this.pushstream._useControlArguments());this.connection=new e.EventSource(n),this.connection.onerror=E(j,this),this.connection.onopen=E(P,this),this.connection.onmessage=E(M,this),w.info("[EventSource] connecting to:",n)},disconnect:function(){this.connection&&(w.debug("[EventSource] closing connection to:",this.connection.URL),this.connection.onclose=null,this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.connection){try{this.connection.close()}catch(e){}this.connection=null}}};var I=function(e){this.type=I.TYPE,this.pushstream=e,this.connection=null,this.url=null,this.frameloadtimer=null,this.pingtimer=null,this.iframeId="PushStreamManager_"+e.id};I.TYPE="Stream",I.prototype={connect:function(){this._closeCurrentConnection();var e=n.extract_xss_domain(this.pushstream.host);try{t.domain=e}catch(i){w.error("[Stream] (warning) problem setting document.domain = "+e+" (OBS: IE8 does not support set IP numbers as domain)")}var r=s({},this.pushstream.extraParams(),p(),{streamid:this.pushstream.id},d(this.pushstream));this.url=T(this.pushstream,this.pushstream.urlPrefixStream,r,!this.pushstream._useControlArguments()),w.debug("[Stream] connecting to:",this.url),this.loadFrame(this.url)},disconnect:function(){this.connection&&(w.debug("[Stream] closing connection to:",this.url),this._closeCurrentConnection(),this.pushstream._onclose())},_clear_iframe:function(){var e=t.getElementById(this.iframeId);e&&(e.onload=null,e.src="about:blank",e.parentNode&&e.parentNode.removeChild(e))},_closeCurrentConnection:function(){this._clear_iframe(),this.connection&&(this.pingtimer=A(this.pingtimer),this.frameloadtimer=A(this.frameloadtimer),this.connection=null,this.transferDoc=null,"function"==typeof e.CollectGarbage&&e.CollectGarbage())},loadFrame:function(n){this._clear_iframe();try{var i=new e.ActiveXObject("htmlfile");i.open(),i.write('<html><script>document.domain="'+t.domain+'";</script></html>'),i.parentWindow.PushStream=$,i.close();var r=i.createElement("div");i.appendChild(r),r.innerHTML='<iframe src="'+n+'"></iframe>',this.connection=r.getElementsByTagName("IFRAME")[0],this.connection.onload=E(j,this),this.transferDoc=i}catch(o){var s=t.createElement("IFRAME");s.style.width="1px",s.style.height="1px",s.style.border="none",s.style.position="absolute",s.style.top="-10px",s.style.marginTop="-10px",s.style.zIndex="-20",s.PushStream=$,t.body.appendChild(s),s.setAttribute("src",n),s.onload=E(j,this),this.connection=s}this.connection.setAttribute("id",this.iframeId),this.frameloadtimer=e.setTimeout(E(j,this),this.pushstream.timeout)},register:function(e){this.frameloadtimer=A(this.frameloadtimer),e.p=E(this.process,this),this.connection.onload=E(this._onframeloaded,this),this.pushstream._onopen(),this.setPingTimer(),w.info("[Stream] frame registered")},process:function(e,t,n,i,r,o){this.pingtimer=A(this.pingtimer),w.info("[Stream] message received",arguments),-1!==e&&(o&&(this.pushstream._etag=o),r&&(this.pushstream._lastModified=r),i&&(this.pushstream._lastEventId=i)),this.pushstream._onmessage(C(n),e,t,i||"",!0),this.setPingTimer()},_onframeloaded:function(){w.info("[Stream] frame loaded (disconnected by server)"),this.connection.onload=null,this.disconnect()},setPingTimer:function(){this.pingtimer&&A(this.pingtimer),this.pingtimer=e.setTimeout(E(j,this),this.pushstream.pingtimeout)}};var D=function(e){this.type=D.TYPE,this.pushstream=e,this.connection=null,this.opentimer=null,this.messagesQueue=[],this._linkedInternalListen=E(this._internalListen,this),this.xhrSettings={timeout:this.pushstream.timeout,data:{},url:null,success:E(this.onmessage,this),error:E(this.onerror,this),load:E(this.onload,this),beforeSend:E(this.beforeSend,this),afterReceive:E(this.afterReceive,this)}};D.TYPE="LongPolling",D.prototype={connect:function(){this.messagesQueue=[],this._closeCurrentConnection(),this.urlWithBacktrack=T(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!0),this.urlWithoutBacktrack=T(this.pushstream,this.pushstream.urlPrefixLongpolling,{},!1),this.xhrSettings.url=this.urlWithBacktrack;var t=n.extract_xss_domain(this.pushstream.host),i=n.extract_xss_domain(e.location.hostname),r=this.pushstream.port,o=e.location.port?Number(e.location.port):this.pushstream.useSSL?443:80;this.useJSONP=t!==i||r!==o||this.pushstream.useJSONP,this.xhrSettings.scriptId="PushStreamManager_"+this.pushstream.id,this.useJSONP&&(this.pushstream.messagesControlByArgument=!0),this._internalListen(),this.opentimer=e.setTimeout(E(P,this),100),w.info("[LongPolling] connecting to:",this.xhrSettings.url)},_listen:function(){this._internalListenTimeout&&A(this._internalListenTimeout),this._internalListenTimeout=e.setTimeout(this._linkedInternalListen,100)},_internalListen:function(){this.pushstream._keepConnected&&(this.xhrSettings.url=this.pushstream._useControlArguments()?this.urlWithoutBacktrack:this.urlWithBacktrack,this.xhrSettings.data=s({},this.pushstream.extraParams(),this.xhrSettings.data,d(this.pushstream)),this.useJSONP?this.connection=x.jsonp(this.xhrSettings):this.connection||(this.connection=x.load(this.xhrSettings)))},disconnect:function(){this.connection&&(w.debug("[LongPolling] closing connection to:",this.xhrSettings.url),this._closeCurrentConnection(),this.pushstream._onclose())},_closeCurrentConnection:function(){if(this.opentimer=A(this.opentimer),this.connection){try{this.connection.abort()}catch(e){try{x.clear(this.connection)}catch(e){}}this.connection=null,this.xhrSettings.url=null}},beforeSend:function(e){this.pushstream.messagesControlByArgument||(e.setRequestHeader("If-None-Match",this.pushstream._etag),e.setRequestHeader("If-Modified-Since",this.pushstream._lastModified))},afterReceive:function(e){this.pushstream.messagesControlByArgument||(this.pushstream._etag=e.getResponseHeader("Etag"),this.pushstream._lastModified=e.getResponseHeader("Last-Modified")),this.connection=null},onerror:function(e){this.pushstream._keepConnected&&(304===e?this._listen():(w.info("[LongPolling] error (disconnected by server):",e),this._closeCurrentConnection(),this.pushstream._onerror({type:403===e||this.pushstream.readyState===$.CONNECTING?"load":"timeout"})))},onload:function(){this._listen()},onmessage:function(e){this._internalListenTimeout&&A(this._internalListenTimeout),w.info("[LongPolling] message received",e);for(var t=null,i=v(e)?e:e.replace(/\}\{/g,"}\r\n{").split("\r\n"),r=0;r<i.length;r++)i[r]&&(t=n.parseMessage(i[r],this.pushstream),this.messagesQueue.push(t),this.pushstream.messagesControlByArgument&&t.time&&(this.pushstream._etag=t.tag,this.pushstream._lastModified=t.time));for(this._listen();this.messagesQueue.length>0;){var o=this.messagesQueue.shift();this.pushstream._onmessage(o.text,o.id,o.channel,o.eventid,0===this.messagesQueue.length)}}};var R=[],$=function(t){t=t||{},this.id=R.push(this)-1,this.useSSL=t.useSSL||!1,this.host=t.host||e.location.hostname,this.port=Number(t.port||(this.useSSL?443:80)),this.timeout=t.timeout||3e4,this.pingtimeout=t.pingtimeout||3e4,this.reconnectOnTimeoutInterval=t.reconnectOnTimeoutInterval||3e3,this.reconnectOnChannelUnavailableInterval=t.reconnectOnChannelUnavailableInterval||6e4,this.lastEventId=t.lastEventId||null,this.messagesPublishedAfter=t.messagesPublishedAfter,this.messagesControlByArgument=t.messagesControlByArgument||!1,this.tagArgument=t.tagArgument||"tag",this.timeArgument=t.timeArgument||"time",this.eventIdArgument=t.eventIdArgument||"eventid",this.useJSONP=t.useJSONP||!1,this._reconnecttimer=null,this._etag=0,this._lastModified=null,this._lastEventId=null,this.urlPrefixPublisher=t.urlPrefixPublisher||"/pub",this.urlPrefixStream=t.urlPrefixStream||"/sub",this.urlPrefixEventsource=t.urlPrefixEventsource||"/ev",this.urlPrefixLongpolling=t.urlPrefixLongpolling||"/lp",this.urlPrefixWebsocket=t.urlPrefixWebsocket||"/ws",this.jsonIdKey=t.jsonIdKey||"id",this.jsonChannelKey=t.jsonChannelKey||"channel",this.jsonTextKey=t.jsonTextKey||"text",this.jsonTagKey=t.jsonTagKey||"tag",this.jsonTimeKey=t.jsonTimeKey||"time",this.jsonEventIdKey=t.jsonEventIdKey||"eventid",this.modes=(t.modes||"eventsource|websocket|stream|longpolling").split("|"),this.wrappers=[],this.wrapper=null,this.onchanneldeleted=t.onchanneldeleted||null,this.onmessage=t.onmessage||null,this.onerror=t.onerror||null,this.onstatuschange=t.onstatuschange||null,this.extraParams=t.extraParams||function(){return{}},this.channels={},this.channelsCount=0,this.channelsByArgument=t.channelsByArgument||!1,this.channelsArgument=t.channelsArgument||"channels";for(var n=0;n<this.modes.length;n++)try{var i=null;switch(this.modes[n]){case"websocket":i=new N(this);break;case"eventsource":i=new O(this);break;case"longpolling":i=new D(this);break;case"stream":i=new I(this)}this.wrappers[this.wrappers.length]=i}catch(r){w.info(r)}this.readyState=0};$.LOG_LEVEL="error",$.LOG_OUTPUT_ELEMENT_ID="Log4jsLogOutput",$.CLOSED=0,$.CONNECTING=1,$.OPEN=2,$.prototype={addChannel:function(e,t){if(k(e)!==e)throw"Invalid channel name! Channel has to be a set of [a-zA-Z0-9]";if(w.debug("entering addChannel"),"undefined"!=typeof this.channels[e])throw"Cannot add channel "+e+": already subscribed";t=t||{},w.info("adding channel",e,t),this.channels[e]=t,this.channelsCount++,this.readyState!==$.CLOSED&&this.connect(),w.debug("leaving addChannel")},removeChannel:function(e){this.channels[e]&&(w.info("removing channel",e),delete this.channels[e],this.channelsCount--)},removeAllChannels:function(){w.info("removing all channels"),this.channels={},this.channelsCount=0},_setState:function(e){this.readyState!==e&&(w.info("status changed",e),this.readyState=e,this.onstatuschange&&this.onstatuschange(this.readyState))},connect:function(){if(w.debug("entering connect"),!this.host)throw"PushStream host not specified";if(isNaN(this.port))throw"PushStream port not specified";if(!this.channelsCount)throw"No channels specified";if(0===this.wrappers.length)throw"No available support for this browser";this._keepConnected=!0,this._lastUsedMode=0,this._connect(),w.debug("leaving connect")},disconnect:function(){w.debug("entering disconnect"),this._keepConnected=!1,this._disconnect(),this._setState($.CLOSED),w.info("disconnected"),w.debug("leaving disconnect")},_useControlArguments:function(){return this.messagesControlByArgument&&(null!==this._lastModified||null!==this._lastEventId)},_connect:function(){if(null===this._lastEventId&&(this._lastEventId=this.lastEventId),null===this._lastModified){var e=this.messagesPublishedAfter;if(!b(e)){var t=Number(this.messagesPublishedAfter);t>0?(e=new Date,e.setTime(e.getTime()-1e3*t)):0>t&&(e=new Date(0))}b(e)&&(this._lastModified=n.dateToUTCString(e))}this._disconnect(),this._setState($.CONNECTING),this.wrapper=this.wrappers[this._lastUsedMode++%this.wrappers.length];try{this.wrapper.connect()}catch(i){this.wrapper&&this.wrapper.disconnect()}},_disconnect:function(){this._reconnecttimer=A(this._reconnecttimer),this.wrapper&&this.wrapper.disconnect()},_onopen:function(){this._reconnecttimer=A(this._reconnecttimer),this._setState($.OPEN),this._lastUsedMode>0&&this._lastUsedMode--},_onclose:function(){this._reconnecttimer=A(this._reconnecttimer),this._setState($.CLOSED),this._reconnect(this.reconnectOnTimeoutInterval)},_onmessage:function(e,t,n,i,r){w.debug("message",e,t,n,i,r),-2===t?this.onchanneldeleted&&this.onchanneldeleted(n):t>0&&this.onmessage&&this.onmessage(e,t,n,i,r)},_onerror:function(e){this._setState($.CLOSED),this._reconnect("timeout"===e.type?this.reconnectOnTimeoutInterval:this.reconnectOnChannelUnavailableInterval),this.onerror&&this.onerror(e)},_reconnect:function(t){this._keepConnected&&!this._reconnecttimer&&this.readyState!==$.CONNECTING&&(w.info("trying to reconnect in",t),this._reconnecttimer=e.setTimeout(E(this._connect,this),t))},sendMessage:function(e,t,n){e=k(e),this.wrapper.type===N.TYPE?(this.wrapper.sendMessage(e),t&&t()):x.post({url:L(this),data:e,success:t,error:n})}},$.sendMessage=function(e,t,n,i){x.post({url:e,data:k(t),success:n,error:i})},$.register=function(e){var t=e.window.location.href.match(/streamid=([0-9]*)&?/);t[1]&&R[t[1]]&&R[t[1]].wrapper.register(e)},$.unload=function(){for(var e=0;e<R.length;e++)try{R[e].disconnect()}catch(t){}},e.PushStream=$,e.PushStreamManager=R,e.attachEvent&&e.attachEvent("onunload",$.unload),e.addEventListener&&e.addEventListener.call(e,"unload",$.unload,!1)}}(window,document),function(){"use strict";var e=this,t=e.Chart,n=function(e){this.canvas=e.canvas,this.ctx=e;this.width=e.canvas.width,this.height=e.canvas.height;return this.aspectRatio=this.width/this.height,i.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,customTooltips:!1,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var i=n.helpers={},r=i.each=function(e,t,n){var i=Array.prototype.slice.call(arguments,3);if(e)if(e.length===+e.length){var r;for(r=0;r<e.length;r++)t.apply(n,[e[r],r].concat(i))}else for(var o in e)t.apply(n,[e[o],o].concat(i))},o=i.clone=function(e){var t={};return r(e,function(n,i){e.hasOwnProperty(i)&&(t[i]=n)}),t},s=i.extend=function(e){return r(Array.prototype.slice.call(arguments,1),function(t){r(t,function(n,i){t.hasOwnProperty(i)&&(e[i]=n)})}),e},a=i.merge=function(){var e=Array.prototype.slice.call(arguments,0);return e.unshift({}),s.apply(null,e)},l=i.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},c=(i.where=function(e,t){var n=[];return i.each(e,function(e){t(e)&&n.push(e)}),n},i.findNextWhere=function(e,t,n){n||(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},i.findPreviousWhere=function(e,t,n){n||(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=c,e&&s(n.prototype,e),n.__super__=t.prototype,n}),u=i.noop=function(){},h=i.uid=function(){var e=0;return function(){return"chart-"+e++}}(),d=i.warn=function(e){window.console&&"function"==typeof window.console.warn&&console.warn(e)},f=i.amd="function"==typeof define&&define.amd,p=i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},g=i.max=function(e){return Math.max.apply(Math,e)},m=i.min=function(e){return Math.min.apply(Math,e)},v=(i.cap=function(e,t,n){if(p(t)){if(e>t)return t}else if(p(n)&&n>e)return n;return e},i.getDecimalPlaces=function(e){return e%1!==0&&p(e)?e.toString().split(".")[1].length:0}),y=i.radians=function(e){return e*(Math.PI/180)},b=(i.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=2*Math.PI+Math.atan2(i,n);return 0>n&&0>i&&(o+=2*Math.PI),{angle:o,distance:r}},i.aliasPixel=function(e){return e%2===0?0:.5}),w=(i.splineCurve=function(e,t,n,i){var r=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),o=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),s=i*r/(r+o),a=i*o/(r+o);return{inner:{x:t.x-s*(n.x-e.x),y:t.y-s*(n.y-e.y)},outer:{x:t.x+a*(n.x-e.x),y:t.y+a*(n.y-e.y)}}},i.calculateOrderOfMagnitude=function(e){return Math.floor(Math.log(e)/Math.LN10)}),x=(i.calculateScaleRange=function(e,t,n,i,r){var o=2,s=Math.floor(t/(1.5*n)),a=o>=s,l=g(e),c=m(e);l===c&&(l+=.5,c>=.5&&!i?c-=.5:l+=.5);for(var u=Math.abs(l-c),h=w(u),d=Math.ceil(l/(1*Math.pow(10,h)))*Math.pow(10,h),f=i?0:Math.floor(c/(1*Math.pow(10,h)))*Math.pow(10,h),p=d-f,v=Math.pow(10,h),y=Math.round(p/v);(y>s||s>2*y)&&!a;)if(y>s)v*=2,y=Math.round(p/v),y%1!==0&&(a=!0);else if(r&&h>=0){if(v/2%1!==0)break;v/=2,y=Math.round(p/v)}else v/=2,y=Math.round(p/v);return a&&(y=o,v=p/y),{steps:y,stepValue:v,min:f,max:f+y*v}},i.template=function(e,t){function n(e,t){var n=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):i[e]=i[e];return t?n(t):n}if(e instanceof Function)return e(t);var i={};return n(e,t)}),k=(i.generateLabels=function(e,t,n,i){var o=new Array(t);return labelTemplateString&&r(o,function(t,r){o[r]=x(e,{value:n+i*(r+1)})}),o},i.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n):i*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/n)*.5+1)
},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-k.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*k.easeInBounce(2*e):.5*k.easeOutBounce(2*e-1)+.5}}),C=i.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),_=(i.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),i.animationLoop=function(e,t,n,i,r,o){var s=0,a=k[n]||k.linear,l=function(){s++;var n=s/t,c=a(n);e.call(o,c,n,s),i.call(o,c,n),t>s?o.animationFrame=C(l):r.apply(o)};C(l)},i.getRelativePosition=function(e){var t,n,i=e.originalEvent||e,r=e.currentTarget||e.srcElement,o=r.getBoundingClientRect();return i.touches?(t=i.touches[0].clientX-o.left,n=i.touches[0].clientY-o.top):(t=i.clientX-o.left,n=i.clientY-o.top),{x:t,y:n}},i.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}),S=i.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=u},T=(i.bindEvents=function(e,t,n){e.events||(e.events={}),r(t,function(t){e.events[t]=function(){n.apply(e,arguments)},_(e.chart.canvas,t,e.events[t])})},i.unbindEvents=function(e,t){r(t,function(t,n){S(e.chart.canvas,n,t)})}),L=i.getMaximumWidth=function(e){var t=e.parentNode;return t.clientWidth},E=i.getMaximumHeight=function(e){var t=e.parentNode;return t.clientHeight},A=(i.getMaximumSize=i.getMaximumWidth,i.retinaScale=function(e){var t=e.ctx,n=e.canvas.width,i=e.canvas.height;window.devicePixelRatio&&(t.canvas.style.width=n+"px",t.canvas.style.height=i+"px",t.canvas.height=i*window.devicePixelRatio,t.canvas.width=n*window.devicePixelRatio,t.scale(window.devicePixelRatio,window.devicePixelRatio))}),M=i.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},P=i.fontString=function(e,t,n){return t+" "+e+"px "+n},j=i.longestText=function(e,t,n){e.font=t;var i=0;return r(n,function(t){var n=e.measureText(t).width;i=n>i?n:i}),i},N=i.drawRoundedRectangle=function(e,t,n,i,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()};n.instances={},n.Type=function(e,t,i){this.options=t,this.chart=i,this.id=h(),n.instances[this.id]=this,t.responsive&&this.resize(),this.initialize.call(this,e)},s(n.Type.prototype,{initialize:function(){return this},clear:function(){return M(this.chart),this},stop:function(){return i.cancelAnimFrame.call(e,this.animationFrame),this},resize:function(e){this.stop();var t=this.chart.canvas,n=L(this.chart.canvas),i=this.options.maintainAspectRatio?n/this.chart.aspectRatio:E(this.chart.canvas);return t.width=this.chart.width=n,t.height=this.chart.height=i,A(this.chart),"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:u,render:function(e){return e&&this.reflow(),this.options.animation&&!e?i.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return x(this.options.legendTemplate,this)},destroy:function(){this.clear(),T(this,this.events);var e=this.chart.canvas;e.width=this.chart.width,e.height=this.chart.height,e.style.removeProperty?(e.style.removeProperty("width"),e.style.removeProperty("height")):(e.style.removeAttribute("width"),e.style.removeAttribute("height")),delete n.instances[this.id]},showTooltip:function(e,t){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(e){var t=!1;return e.length!==this.activeElements.length?t=!0:(r(e,function(e,n){e!==this.activeElements[n]&&(t=!0)},this),t)}.call(this,e);if(o||t){if(this.activeElements=e,this.draw(),this.options.customTooltips&&this.options.customTooltips(!1),e.length>0)if(this.datasets&&this.datasets.length>1){for(var s,a,c=this.datasets.length-1;c>=0&&(s=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,a=l(s,e[0]),-1===a);c--);var u=[],h=[],d=function(){var e,t,n,r,o,s=[],l=[],c=[];return i.each(this.datasets,function(t){e=t.points||t.bars||t.segments,e[a]&&e[a].hasValue()&&s.push(e[a])}),i.each(s,function(e){l.push(e.x),c.push(e.y),u.push(i.template(this.options.multiTooltipTemplate,e)),h.push({fill:e._saved.fillColor||e.fillColor,stroke:e._saved.strokeColor||e.strokeColor})},this),o=m(c),n=g(c),r=m(l),t=g(l),{x:r>this.chart.width/2?r:t,y:(o+n)/2}}.call(this,a);new n.MultiTooltip({x:d.x,y:d.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:u,legendColors:h,legendColorBackground:this.options.multiTooltipKeyBackground,title:e[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else r(e,function(e){var t=e.tooltipPosition();new n.Tooltip({x:Math.round(t.x),y:Math.round(t.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:x(this.options.tooltipTemplate,e),chart:this.chart,custom:this.options.customTooltips}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(e){var t=this,i=function(){return t.apply(this,arguments)};if(i.prototype=o(t.prototype),s(i.prototype,e),i.extend=n.Type.extend,e.name||t.prototype.name){var r=e.name||t.prototype.name,l=n.defaults[t.prototype.name]?o(n.defaults[t.prototype.name]):{};n.defaults[r]=s(l,e.defaults),n.types[r]=i,n.prototype[r]=function(e,t){var o=a(n.defaults.global,n.defaults[r],t||{});return new i(e,o,this)}}else d("Name not provided for this chart, so it hasn't been registered");return t},n.Element=function(e){s(this,e),this.initialize.apply(this,arguments),this.save()},s(n.Element.prototype,{initialize:function(){},restore:function(e){return e?r(e,function(e){this[e]=this._saved[e]},this):s(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(e){return r(e,function(e,t){this._saved[t]=this[t],this[t]=e},this),this},transition:function(e,t){return r(e,function(e,n){this[n]=(e-this._saved[n])*t+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return p(this.value)}}),n.Element.extend=c,n.Point=n.Element.extend({display:!0,inRange:function(e,t){var n=this.hitDetectionRadius+this.radius;return Math.pow(e-this.x,2)+Math.pow(t-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.stroke()}}}),n.Arc=n.Element.extend({inRange:function(e,t){var n=i.getAngleFromPoint(this,{x:e,y:t}),r=n.angle>=this.startAngle&&n.angle<=this.endAngle,o=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return r&&o},tooltipPosition:function(){var e=this.startAngle+(this.endAngle-this.startAngle)/2,t=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(e)*t,y:this.y+Math.sin(e)*t}},draw:function(e){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),t.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.lineJoin="bevel",this.showStroke&&t.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var e=this.ctx,t=this.width/2,n=this.x-t,i=this.x+t,r=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(n+=o,i-=o,r+=o),e.beginPath(),e.fillStyle=this.fillColor,e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.moveTo(n,this.base),e.lineTo(n,r),e.lineTo(i,r),e.lineTo(i,this.base),e.fill(),this.showStroke&&e.stroke()},height:function(){return this.base-this.y},inRange:function(e,t){return e>=this.x-this.width/2&&e<=this.x+this.width/2&&t>=this.y&&t<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var e=this.chart.ctx;e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var t=this.caretPadding=2,n=e.measureText(this.text).width+2*this.xPadding,i=this.fontSize+2*this.yPadding,r=i+this.caretHeight+t;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-r<0&&(this.yAlign="below");var o=this.x-n/2,s=this.y-r;if(e.fillStyle=this.fillColor,this.custom)this.custom(this);else{switch(this.yAlign){case"above":e.beginPath(),e.moveTo(this.x,this.y-t),e.lineTo(this.x+this.caretHeight,this.y-(t+this.caretHeight)),e.lineTo(this.x-this.caretHeight,this.y-(t+this.caretHeight)),e.closePath(),e.fill();break;case"below":s=this.y+t+this.caretHeight,e.beginPath(),e.moveTo(this.x,this.y+t),e.lineTo(this.x+this.caretHeight,this.y+t+this.caretHeight),e.lineTo(this.x-this.caretHeight,this.y+t+this.caretHeight),e.closePath(),e.fill()}switch(this.xAlign){case"left":o=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}N(e,o,s,n,i,this.cornerRadius),e.fill(),e.fillStyle=this.textColor,e.textAlign="center",e.textBaseline="middle",e.fillText(this.text,o+n/2,s+i/2)}}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=P(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var e=this.ctx.measureText(this.title).width,t=j(this.ctx,this.font,this.labels)+this.fontSize+3,n=g([t,e]);this.width=n+2*this.xPadding;var i=this.height/2;this.y-i<0?this.y=i:this.y+i>this.chart.height&&(this.y=this.chart.height-i),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(e){var t=this.y-this.height/2+this.yPadding,n=e-1;return 0===e?t+this.titleFontSize/2:t+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){if(this.custom)this.custom(this);else{N(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var e=this.ctx;e.fillStyle=this.fillColor,e.fill(),e.closePath(),e.textAlign="left",e.textBaseline="middle",e.fillStyle=this.titleTextColor,e.font=this.titleFont,e.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),e.font=this.font,i.each(this.labels,function(t,n){e.fillStyle=this.textColor,e.fillText(t,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),e.fillStyle=this.legendColorBackground,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),e.fillStyle=this.legendColors[n].fill,e.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}));this.yLabelWidth=this.display&&this.showLabels?j(this.ctx,this.font,this.yLabels):0},addXLabel:function(e){this.xLabels.push(e),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var e,t=this.endPoint-this.startPoint;for(this.calculateYRange(t),this.buildYLabels(),this.calculateXLabelRotation();t>this.endPoint-this.startPoint;)t=this.endPoint-this.startPoint,e=this.yLabelWidth,this.calculateYRange(t),this.buildYLabels(),e<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var e,t,n=this.ctx.measureText(this.xLabels[0]).width,i=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=i/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var r,o=j(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var s=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&this.xLabelRotation>0;)r=Math.cos(y(this.xLabelRotation)),e=r*n,t=r*i,e+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=e+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=r*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(y(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:u,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(e){var t=this.drawingArea()/(this.min-this.max);return this.endPoint-t*(e-this.min)},calculateX:function(e){var t=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=t/(this.valuesCount-(this.offsetGridLines?0:1)),i=n*e+this.xScalePaddingLeft;return this.offsetGridLines&&(i+=n/2),Math.round(i)},update:function(e){i.extend(this,e),this.fit()},draw:function(){var e=this.ctx,t=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(e.fillStyle=this.textColor,e.font=this.font,r(this.yLabels,function(r,o){var s=this.endPoint-t*o,a=Math.round(s),l=this.showHorizontalLines;e.textAlign="right",e.textBaseline="middle",this.showLabels&&e.fillText(r,n-10,s),0!==o||l||(l=!0),l&&e.beginPath(),o>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),a+=i.aliasPixel(e.lineWidth),l&&(e.moveTo(n,a),e.lineTo(this.width,a),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(n-5,a),e.lineTo(n,a),e.stroke(),e.closePath()},this),r(this.xLabels,function(t,n){var i=this.calculateX(n)+b(this.lineWidth),r=this.calculateX(n-(this.offsetGridLines?.5:0))+b(this.lineWidth),o=this.xLabelRotation>0,s=this.showVerticalLines;0!==n||s||(s=!0),s&&e.beginPath(),n>0?(e.lineWidth=this.gridLineWidth,e.strokeStyle=this.gridLineColor):(e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor),s&&(e.moveTo(r,this.endPoint),e.lineTo(r,this.startPoint-3),e.stroke(),e.closePath()),e.lineWidth=this.lineWidth,e.strokeStyle=this.lineColor,e.beginPath(),e.moveTo(r,this.endPoint),e.lineTo(r,this.endPoint+5),e.stroke(),e.closePath(),e.save(),e.translate(i,o?this.endPoint+12:this.endPoint+8),e.rotate(-1*y(this.xLabelRotation)),e.font=this.font,e.textAlign=o?"right":"center",e.textBaseline=o?"middle":"top",e.fillText(t,0,0),e.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(e){var t=this.drawingArea/(this.max-this.min);return(e-this.min)*t},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var e=v(this.stepValue),t=0;t<=this.steps;t++)this.yLabels.push(x(this.templateString,{value:(this.min+t*this.stepValue).toFixed(e)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var e,t,n,i,r,o,s,a,l,c,u,h,d=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),f=this.width,g=0;for(this.ctx.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t=0;t<this.valuesCount;t++)e=this.getPointPosition(t,d),n=this.ctx.measureText(x(this.templateString,{value:this.labels[t]})).width+5,0===t||t===this.valuesCount/2?(i=n/2,e.x+i>f&&(f=e.x+i,r=t),e.x-i<g&&(g=e.x-i,s=t)):t<this.valuesCount/2?e.x+n>f&&(f=e.x+n,r=t):t>this.valuesCount/2&&e.x-n<g&&(g=e.x-n,s=t);l=g,c=Math.ceil(f-this.width),o=this.getIndexAngle(r),a=this.getIndexAngle(s),u=c/Math.sin(o+Math.PI/2),h=l/Math.sin(a+Math.PI/2),u=p(u)?u:0,h=p(h)?h:0,this.drawingArea=d-(h+u)/2,this.setCenterPoint(h,u)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,i=e+this.drawingArea;this.xCenter=(i+n)/2,this.yCenter=this.height/2},getIndexAngle:function(e){var t=2*Math.PI/this.valuesCount;return e*t-Math.PI/2},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},draw:function(){if(this.display){var e=this.ctx;if(r(this.yLabels,function(t,n){if(n>0){var i,r=n*(this.drawingArea/this.steps),o=this.yCenter-r;if(this.lineWidth>0)if(e.strokeStyle=this.lineColor,e.lineWidth=this.lineWidth,this.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,r,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var s=0;s<this.valuesCount;s++)i=this.getPointPosition(s,this.calculateCenterOffset(this.min+n*this.stepValue)),0===s?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y);e.closePath(),e.stroke()}if(this.showLabels){if(e.font=P(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var a=e.measureText(t).width;e.fillStyle=this.backdropColor,e.fillRect(this.xCenter-a/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,a+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=this.fontColor,e.fillText(t,this.xCenter,o)}}},this),!this.lineArc){e.lineWidth=this.angleLineWidth,e.strokeStyle=this.angleLineColor;for(var t=this.valuesCount-1;t>=0;t--){if(this.angleLineWidth>0){var n=this.getPointPosition(t,this.calculateCenterOffset(this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(n.x,n.y),e.stroke(),e.closePath()}var i=this.getPointPosition(t,this.calculateCenterOffset(this.max)+5);e.font=P(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e.fillStyle=this.pointLabelFontColor;var o=this.labels.length,s=this.labels.length/2,a=s/2,l=a>t||t>o-a,c=t===a||t===o-a;e.textAlign=0===t?"center":t===s?"center":s>t?"left":"right",e.textBaseline=c?"middle":l?"bottom":"top",e.fillText(this.labels[t],i.x,i.y)}}}}}),i.addEvent(window,"resize",function(){var e;return function(){clearTimeout(e),e=setTimeout(function(){r(n.instances,function(e){e.options.responsive&&e.resize(e.render,!0)})},50)}}()),f?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),e.Chart=n,n.noConflict=function(){return e.Chart=t,n}}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Bar",defaults:i,initialize:function(e){var i=this.options;this.ScaleClass=t.Scale.extend({offsetGridLines:!0,calculateBarX:function(e,t,n){var r=this.calculateBaseWidth(),o=this.calculateX(n)-r/2,s=this.calculateBarWidth(e);return o+s*t+t*i.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*i.barValueSpacing},calculateBarWidth:function(e){var t=this.calculateBaseWidth()-(e-1)*i.barDatasetSpacing;return t/e}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getBarsAtEvent(e):[];this.eachBars(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),this.BarClass=t.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,bars:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.bars.push(new this.BarClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.strokeColor,fillColor:t.fillColor,highlightFill:t.highlightFill||t.fillColor,highlightStroke:t.highlightStroke||t.strokeColor}))},this)},this),this.buildScale(e.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(e,t,i){n.extend(e,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,i,t),y:this.scale.endPoint}),e.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachBars(function(e){e.save()}),this.render()},eachBars:function(e){n.each(this.datasets,function(t,i){n.each(t.bars,e,this,i)},this)},getBarsAtEvent:function(e){for(var t,i=[],r=n.getRelativePosition(e),o=function(e){i.push(e.bars[t])},s=0;s<this.datasets.length;s++)for(t=0;t<this.datasets[s].bars.length;t++)if(this.datasets[s].bars[t].inRange(r.x,r.y))return n.each(this.datasets,o),i;return i},buildScale:function(e){var t=this,i=function(){var e=[];return t.eachBars(function(t){e.push(t.value)}),e},r={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(i(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(r,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(r)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].bars.push(new this.BarClass({value:e,label:t,x:this.scale.calculateBarX(this.datasets.length,n,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[n].strokeColor,fillColor:this.datasets[n].fillColor}))},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();this.chart.ctx;this.scale.draw(t),n.each(this.datasets,function(e,i){n.each(e.bars,function(e,n){e.hasValue()&&(e.base=this.scale.endPoint,e.transition({x:this.scale.calculateBarX(this.datasets.length,i,n),y:this.scale.calculateY(e.value),width:this.scale.calculateBarWidth(this.datasets.length)},t).draw())},this)},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Doughnut",defaults:i,initialize:function(e){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=t.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.calculateTotal(e),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.render()},getSegmentsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(i.x,i.y)&&t.push(e)},this),t},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({value:e.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:e.color,highlightColor:e.highlight||e.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(e.value),label:e.label})),n||(this.reflow(),this.update())},calculateCircumference:function(e){return 2*Math.PI*(e/this.total)},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(e){e.restore(["fillColor"])}),n.each(this.segments,function(e){e.save()}),this.render()},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(e){e.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(e){var t=e?e:1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.calculateCircumference(e.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},t),e.endAngle=e.startAngle+e.circumference,e.draw(),0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle)},this)}}),t.types.Doughnut.extend({name:"Pie",defaults:n.merge(i,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!0,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"Line",defaults:i,initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(e){return Math.pow(e-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(i),n.each(t.data,function(n,r){i.points.push(new this.PointClass({value:n,label:e.labels[r],datasetLabel:t.label,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this),this.buildScale(e.labels),this.eachPoints(function(e,t){n.extend(e,{x:this.scale.calculateX(t),y:this.scale.endPoint}),e.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(e){e.restore(["fillColor","strokeColor"])}),this.eachPoints(function(e){e.save()}),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.datasets,function(e){n.each(e.points,function(e){e.inRange(i.x,i.y)&&t.push(e)})},this),t},buildScale:function(e){var i=this,r=function(){var e=[];return i.eachPoints(function(t){e.push(t.value)}),e},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:e.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(e){var t=n.calculateScaleRange(r(),e,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,t)},xLabels:e,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,showHorizontalLines:this.options.scaleShowHorizontalLines,showVerticalLines:this.options.scaleShowVerticalLines,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(o,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new t.Scale(o)},addData:function(e,t){n.each(e,function(e,n){this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))
},this),this.scale.addXLabel(t),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(e){e.points.shift()},this),this.update()},reflow:function(){var e=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(e)},draw:function(e){var t=e||1;this.clear();var i=this.chart.ctx,r=function(e){return null!==e.value},o=function(e,t,i){return n.findNextWhere(t,r,i)||e},s=function(e,t,i){return n.findPreviousWhere(t,r,i)||e};this.scale.draw(t),n.each(this.datasets,function(e){var a=n.where(e.points,r);n.each(e.points,function(e,n){e.hasValue()&&e.transition({y:this.scale.calculateY(e.value),x:this.scale.calculateX(n)},t)},this),this.options.bezierCurve&&n.each(a,function(e,t){var i=t>0&&t<a.length-1?this.options.bezierCurveTension:0;e.controlPoints=n.splineCurve(s(e,a,t),e,o(e,a,t),i),e.controlPoints.outer.y>this.scale.endPoint?e.controlPoints.outer.y=this.scale.endPoint:e.controlPoints.outer.y<this.scale.startPoint&&(e.controlPoints.outer.y=this.scale.startPoint),e.controlPoints.inner.y>this.scale.endPoint?e.controlPoints.inner.y=this.scale.endPoint:e.controlPoints.inner.y<this.scale.startPoint&&(e.controlPoints.inner.y=this.scale.startPoint)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),n.each(a,function(e,t){if(0===t)i.moveTo(e.x,e.y);else if(this.options.bezierCurve){var n=s(e,a,t);i.bezierCurveTo(n.controlPoints.outer.x,n.controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y)}else i.lineTo(e.x,e.y)},this),i.stroke(),this.options.datasetFill&&a.length>0&&(i.lineTo(a[a.length-1].x,this.scale.endPoint),i.lineTo(a[0].x,this.scale.endPoint),i.fillStyle=e.fillColor,i.closePath(),i.fill()),n.each(a,function(e){e.draw()})},this)}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers,i={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};t.Type.extend({name:"PolarArea",defaults:i,initialize:function(e){this.segments=[],this.SegmentArc=t.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:e.length}),this.updateScaleRange(e),this.scale.update(),n.each(e,function(e,t){this.addData(e,t,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getSegmentsAtEvent(e):[];n.each(this.segments,function(e){e.restore(["fillColor"])}),n.each(t,function(e){e.fillColor=e.highlightColor}),this.showTooltip(t)}),this.render()},getSegmentsAtEvent:function(e){var t=[],i=n.getRelativePosition(e);return n.each(this.segments,function(e){e.inRange(i.x,i.y)&&t.push(e)},this),t},addData:function(e,t,n){var i=t||this.segments.length;this.segments.splice(i,0,new this.SegmentArc({fillColor:e.color,highlightColor:e.highlight||e.color,label:e.label,value:e.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(e.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(e){var t=n.isNumber(e)?e:this.segments.length-1;this.segments.splice(t,1),this.reflow(),this.update()},calculateTotal:function(e){this.total=0,n.each(e,function(e){this.total+=e.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(e){var t=[];n.each(e,function(e){t.push(e.value)});var i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,i,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(e){e.save()}),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(e){e.update({outerRadius:this.scale.calculateCenterOffset(e.value)})},this)},draw:function(e){var t=e||1;this.clear(),n.each(this.segments,function(e,n){e.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(e.value)},t),e.endAngle=e.startAngle+e.circumference,0===n&&(e.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=e.endAngle),e.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var e=this,t=e.Chart,n=t.helpers;t.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(e){this.PointClass=t.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(e),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(e){var t="mouseout"!==e.type?this.getPointsAtEvent(e):[];this.eachPoints(function(e){e.restore(["fillColor","strokeColor"])}),n.each(t,function(e){e.fillColor=e.highlightFill,e.strokeColor=e.highlightStroke}),this.showTooltip(t)}),n.each(e.datasets,function(t){var i={label:t.label||null,fillColor:t.fillColor,strokeColor:t.strokeColor,pointColor:t.pointColor,pointStrokeColor:t.pointStrokeColor,points:[]};this.datasets.push(i),n.each(t.data,function(n,r){var o;this.scale.animation||(o=this.scale.getPointPosition(r,this.scale.calculateCenterOffset(n))),i.points.push(new this.PointClass({value:n,label:e.labels[r],datasetLabel:t.label,x:this.options.animation?this.scale.xCenter:o.x,y:this.options.animation?this.scale.yCenter:o.y,strokeColor:t.pointStrokeColor,fillColor:t.pointColor,highlightFill:t.pointHighlightFill||t.pointColor,highlightStroke:t.pointHighlightStroke||t.pointStrokeColor}))},this)},this),this.render()},eachPoints:function(e){n.each(this.datasets,function(t){n.each(t.points,e,this)},this)},getPointsAtEvent:function(e){var t=n.getRelativePosition(e),i=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},t),r=2*Math.PI/this.scale.valuesCount,o=Math.round((i.angle-1.5*Math.PI)/r),s=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),i.distance<=this.scale.drawingArea&&n.each(this.datasets,function(e){s.push(e.points[o])}),s},buildScale:function(e){this.scale=new t.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:e.labels,valuesCount:e.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(e.datasets),this.scale.buildYLabels()},updateScaleRange:function(e){var t=function(){var t=[];return n.each(e,function(e){e.data?t=t.concat(e.data):n.each(e.points,function(e){t.push(e.value)})}),t}(),i=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(t,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,i)},addData:function(e,t){this.scale.valuesCount++,n.each(e,function(e,n){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(e));this.datasets[n].points.push(new this.PointClass({value:e,label:t,x:i.x,y:i.y,strokeColor:this.datasets[n].pointStrokeColor,fillColor:this.datasets[n].pointColor}))},this),this.scale.labels.push(t),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(e){e.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(e){e.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(e){var t=e||1,i=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(e){n.each(e.points,function(e,n){e.hasValue()&&e.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(e.value)),t)},this),i.lineWidth=this.options.datasetStrokeWidth,i.strokeStyle=e.strokeColor,i.beginPath(),n.each(e.points,function(e,t){0===t?i.moveTo(e.x,e.y):i.lineTo(e.x,e.y)},this),i.closePath(),i.stroke(),i.fillStyle=e.fillColor,i.fill(),n.each(e.points,function(e){e.hasValue()&&e.draw()})},this)}})}.call(this),window.onload=function(){if($("#steady-state").length){var e=document.getElementById("chart-area").getContext("2d");returnCurrentLessonCount=function(){return"complete"==r?0:1};var t=$("#progress").data("progress-lessons-incomplete"),n=$("#progress").data("progress-lessons-complete"),i=$("#progress").data("current-lesson-title"),r=$("#progress").data("current-lesson-completeness"),o=returnCurrentLessonCount(),s=[{value:n,color:"#29CE5A",highlight:"#8CEFAA",label:"Lessons Completed"},{value:o,color:"#ffa500",highlight:"#FFC870",label:i},{value:t-o,color:"#efefef",highlight:"#FAFAFA",label:"Lessons to Complete"}];window.myDoughnut=new Chart(e).Doughnut(s,{percentageInnerCutout:80,animationEasing:!1,animateRotate:!1,showTooltips:!1})}};var lesson_complete_button={};lesson_complete_button.bindButtonLink=function(){$(".lesson-complete-link").on("click",function(){$(".lesson-complete-button").trigger("click")})},$(document).ready(function(){lesson_complete_button.bindButtonLink()}),$(document).ready(function(){var e=$(".track-link .title"),t=$(".track-nav"),n=$(".schedule-link"),i=$(".nav-panel");e.text().length>38&&e.css("padding-top","5px"),$(".nav-submenu-expand").on("click",function(e){e.preventDefault(),$(this).siblings(".slide").toggle(300),$(this).toggleClass("active")}),$(".slide-lessons:visible").closest(".unit-level").addClass("opened"),$(".unit-submenu").on("click",function(){$(this).parent().toggleClass("opened")}),$("ul.lesson-links > li").on("click",function(){$(".nav-holder.schedule-holder div.slide").hide(300)}),i.hover(function(){$(window).width()<=767&&$(".page").removeClass("nav-active")}),$(window).resize(function(){$(this).width()>767&&($(".weeks").attr("style",""),t.attr("style",""))}),$("li.lesson-level a").on("click",function(){$(".hidden-next-lesson-data").attr("data-next-lesson-id",$(this).parent("li").attr("data-lesson-id"))}),i.scroll(function(){n.length?n.hasClass("active")?i.scrollTop()>=$(".schedule-slide").height()+60?(e.addClass("fix-header"),t.css("padding-top","38px")):(e.removeClass("fix-header"),t.css("padding-top","0")):i.scrollTop()>=38?(e.addClass("fix-header"),t.css("padding-top","38px")):(e.removeClass("fix-header"),t.css("padding-top","0")):(e.addClass("fix-header"),t.css("padding-top","38px"))})}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,o,s,a=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)s[n]=str(n,l)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(r=str(i,l),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,i,r=e[t];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var n=e.History=e.History||{};if("undefined"!=typeof n.Adapter)throw new Error("History.js Adapter has already been loaded...");n.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=n.Adapter._uid++)},bind:function(e,t,i){var r=n.Adapter.uid(e);n.Adapter.handlers[r]=n.Adapter.handlers[r]||{},n.Adapter.handlers[r][t]=n.Adapter.handlers[r][t]||[],n.Adapter.handlers[r][t].push(i),e["on"+t]=function(e,t){return function(i){n.Adapter.trigger(e,t,i)}}(e,t)},trigger:function(e,t,i){i=i||{};var r,o,s=n.Adapter.uid(e);for(n.Adapter.handlers[s]=n.Adapter.handlers[s]||{},n.Adapter.handlers[s][t]=n.Adapter.handlers[s][t]||[],r=0,o=n.Adapter.handlers[s][t].length;o>r;++r)n.Adapter.handlers[s][t][r].apply(this,[i])},extractEventData:function(e,n){var i=n&&n[e]||t;return i},onDomLoad:function(t){var n=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(n),t()}}},"undefined"!=typeof n.init&&n.init()}(window),function(e){"use strict";var t=e.document,n=e.setTimeout||n,i=e.clearTimeout||i,r=e.setInterval||r,o=e.History=e.History||{};if("undefined"!=typeof o.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");o.initHtml4=function(){return"undefined"!=typeof o.initHtml4.initialized?!1:(o.initHtml4.initialized=!0,o.enabled=!0,o.savedHashes=[],o.isLastHash=function(e){var t,n=o.getHashByIndex();return t=e===n},o.isHashEqual=function(e,t){return e=encodeURIComponent(e).replace(/%25/g,"%"),t=encodeURIComponent(t).replace(/%25/g,"%"),e===t},o.saveHash=function(e){return o.isLastHash(e)?!1:(o.savedHashes.push(e),!0)},o.getHashByIndex=function(e){var t=null;return t="undefined"==typeof e?o.savedHashes[o.savedHashes.length-1]:0>e?o.savedHashes[o.savedHashes.length+e]:o.savedHashes[e]},o.discardedHashes={},o.discardedStates={},o.discardState=function(e,t,n){var i,r=o.getHashByState(e);return i={discardedState:e,backState:n,forwardState:t},o.discardedStates[r]=i,!0},o.discardHash=function(e,t,n){var i={discardedHash:e,backState:n,forwardState:t};return o.discardedHashes[e]=i,!0},o.discardedState=function(e){var t,n=o.getHashByState(e);return t=o.discardedStates[n]||!1},o.discardedHash=function(e){var t=o.discardedHashes[e]||!1;return t},o.recycleState=function(e){var t=o.getHashByState(e);return o.discardedState(e)&&delete o.discardedStates[t],!0},o.emulated.hashChange&&(o.hashChangeInit=function(){o.checkerFunction=null;var n,i,s,a,l="",c=Boolean(o.getHash());return o.isInternetExplorer()?(n="historyjs-iframe",i=t.createElement("iframe"),i.setAttribute("id",n),i.setAttribute("src","#"),i.style.display="none",t.body.appendChild(i),i.contentWindow.document.open(),i.contentWindow.document.close(),s="",a=!1,o.checkerFunction=function(){if(a)return!1;a=!0;var t=o.getHash(),n=o.getHash(i.contentWindow.document);return t!==l?(l=t,n!==t&&(s=n=t,i.contentWindow.document.open(),i.contentWindow.document.close(),i.contentWindow.document.location.hash=o.escapeHash(t)),o.Adapter.trigger(e,"hashchange")):n!==s&&(s=n,c&&""===n?o.back():o.setHash(n,!1)),a=!1,!0}):o.checkerFunction=function(){var t=o.getHash()||"";return t!==l&&(l=t,o.Adapter.trigger(e,"hashchange")),!0},o.intervalList.push(r(o.checkerFunction,o.options.hashChangeInterval)),!0},o.Adapter.onDomLoad(o.hashChangeInit)),o.emulated.pushState&&(o.onHashChange=function(t){var n,i=t&&t.newURL||o.getLocationHref(),r=o.getHashByUrl(i),s=null,a=null;return o.isLastHash(r)?(o.busy(!1),!1):(o.doubleCheckComplete(),o.saveHash(r),r&&o.isTraditionalAnchor(r)?(o.Adapter.trigger(e,"anchorchange"),o.busy(!1),!1):(s=o.extractState(o.getFullUrl(r||o.getLocationHref()),!0),o.isLastSavedState(s)?(o.busy(!1),!1):(a=o.getHashByState(s),(n=o.discardedState(s))?(o.getHashByIndex(-2)===o.getHashByState(n.forwardState)?o.back(!1):o.forward(!1),!1):(o.pushState(s.data,s.title,encodeURI(s.url),!1),!0))))},o.Adapter.bind(e,"hashchange",o.onHashChange),o.pushState=function(t,n,i,r){if(i=encodeURI(i).replace(/%25/g,"%"),o.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.pushState,args:arguments,queue:r}),!1;o.busy(!0);var s=o.createStateObject(t,n,i),a=o.getHashByState(s),l=o.getState(!1),c=o.getHashByState(l),u=o.getHash(),h=o.expectedStateId==s.id;return o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),a===c?(o.busy(!1),!1):(o.saveState(s),h||o.Adapter.trigger(e,"statechange"),o.isHashEqual(a,u)||o.isHashEqual(a,o.getShortUrl(o.getLocationHref()))||o.setHash(a,!1),o.busy(!1),!0)},o.replaceState=function(t,n,i,r){if(i=encodeURI(i).replace(/%25/g,"%"),o.getHashByUrl(i))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(r!==!1&&o.busy())return o.pushQueue({scope:o,callback:o.replaceState,args:arguments,queue:r}),!1;o.busy(!0);var s=o.createStateObject(t,n,i),a=o.getHashByState(s),l=o.getState(!1),c=o.getHashByState(l),u=o.getStateByIndex(-2);return o.discardState(l,s,u),a===c?(o.storeState(s),o.expectedStateId=s.id,o.recycleState(s),o.setTitle(s),o.saveState(s),o.Adapter.trigger(e,"statechange"),o.busy(!1)):o.pushState(s.data,s.title,s.url,!1),!0}),void(o.emulated.pushState&&o.getHash()&&!o.emulated.hashChange&&o.Adapter.onDomLoad(function(){o.Adapter.trigger(e,"hashchange")})))},"undefined"!=typeof o.init&&o.init()}(window),function(e,t){"use strict";var n=e.console||t,i=e.document,r=e.navigator,o=e.sessionStorage||!1,s=e.setTimeout,a=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,h=e.alert,d=e.History=e.History||{},f=e.history;try{o.setItem("TEST","1"),o.removeItem("TEST")}catch(p){o=!1}if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,"undefined"!=typeof d.init)throw new Error("History.js Core has already been loaded...");d.init=function(){return"undefined"==typeof d.Adapter?!1:("undefined"!=typeof d.initCore&&d.initCore(),"undefined"!=typeof d.initHtml4&&d.initHtml4(),!0)},d.initCore=function(){if("undefined"!=typeof d.initCore.initialized)return!1;if(d.initCore.initialized=!0,d.options=d.options||{},d.options.hashChangeInterval=d.options.hashChangeInterval||100,d.options.safariPollInterval=d.options.safariPollInterval||500,d.options.doubleCheckInterval=d.options.doubleCheckInterval||500,d.options.disableSuid=d.options.disableSuid||!1,d.options.storeInterval=d.options.storeInterval||1e3,d.options.busyDelay=d.options.busyDelay||250,d.options.debug=d.options.debug||!1,d.options.initialTitle=d.options.initialTitle||i.title,d.options.html4Mode=d.options.html4Mode||!1,d.options.delayInit=d.options.delayInit||!1,d.intervalList=[],d.clearAllIntervals=function(){var e,t=d.intervalList;if("undefined"!=typeof t&&null!==t){for(e=0;e<t.length;e++)c(t[e]);d.intervalList=null}},d.debug=function(){d.options.debug&&d.log.apply(d,arguments)},d.log=function(){var e,t,r,o,s,a=!("undefined"==typeof n||"undefined"==typeof n.log||"undefined"==typeof n.log.apply),l=i.getElementById("log");for(a?(o=Array.prototype.slice.call(arguments),e=o.shift(),"undefined"!=typeof n.debug?n.debug.apply(n,[e,o]):n.log.apply(n,[e,o])):e="\n"+arguments[0]+"\n",t=1,r=arguments.length;r>t;++t){if(s=arguments[t],"object"==typeof s&&"undefined"!=typeof u)try{s=u.stringify(s)}catch(c){}e+="\n"+s+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||h(e),!0},d.getInternetExplorerMajorVersion=function(){var e=d.getInternetExplorerMajorVersion.cached="undefined"!=typeof d.getInternetExplorerMajorVersion.cached?d.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=i.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},d.isInternetExplorer=function(){var e=d.isInternetExplorer.cached="undefined"!=typeof d.isInternetExplorer.cached?d.isInternetExplorer.cached:Boolean(d.getInternetExplorerMajorVersion());return e},d.emulated=d.options.html4Mode?{pushState:!0,hashChange:!0}:{pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(r.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(r.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in i)||d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8)},d.enabled=!d.emulated.pushState,d.bugs={setHash:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),safariPoll:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===r.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(r.userAgent)),ieDoubleCheck:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(d.isInternetExplorer()&&d.getInternetExplorerMajorVersion()<7)},d.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},d.cloneObject=function(e){var t,n;return e?(t=u.stringify(e),n=u.parse(t)):n={},n},d.getRootUrl=function(){var e=i.location.protocol+"//"+(i.location.hostname||i.location.host);return i.location.port&&(e+=":"+i.location.port),e+="/"},d.getBaseHref=function(){var e=i.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},d.getBaseUrl=function(){var e=d.getBaseHref()||d.getBasePageUrl()||d.getRootUrl();return e},d.getPageUrl=function(){var e,t=d.getState(!1,!1),n=(t||{}).url||d.getLocationHref();return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},d.getBasePageUrl=function(){var e=d.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},d.getFullUrl=function(e,t){var n=e,i=e.substring(0,1);return t="undefined"==typeof t?!0:t,/[a-z]+\:\/\//.test(e)||(n="/"===i?d.getRootUrl()+e.replace(/^\/+/,""):"#"===i?d.getPageUrl().replace(/#.*/,"")+e:"?"===i?d.getPageUrl().replace(/[\?#].*/,"")+e:t?d.getBaseUrl()+e.replace(/^(\.\/)+/,""):d.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},d.getShortUrl=function(e){var t=e,n=d.getBaseUrl(),i=d.getRootUrl();return d.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(i,"/"),t="./"+t,t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},d.getLocationHref=function(e){return e=e||i,e.URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},d.store={},d.idToState=d.idToState||{},d.stateToId=d.stateToId||{},d.urlToId=d.urlToId||{},d.storedStates=d.storedStates||[],d.savedStates=d.savedStates||[],d.normalizeStore=function(){d.store.idToState=d.store.idToState||{},d.store.urlToId=d.store.urlToId||{},d.store.stateToId=d.store.stateToId||{}},d.getState=function(e,t){"undefined"==typeof e&&(e=!0),"undefined"==typeof t&&(t=!0);var n=d.getLastSavedState();return!n&&t&&(n=d.createStateObject()),e&&(n=d.cloneObject(n),n.url=n.cleanUrl||n.url),n},d.getIdByState=function(e){var t,n=d.extractId(e.url);if(!n)if(t=d.getStateString(e),"undefined"!=typeof d.stateToId[t])n=d.stateToId[t];else if("undefined"!=typeof d.store.stateToId[t])n=d.store.stateToId[t];else{for(;;)if(n=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"==typeof d.idToState[n]&&"undefined"==typeof d.store.idToState[n])break;d.stateToId[t]=n,d.idToState[n]=e}return n},d.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),"undefined"!=typeof e.normalized?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=d.getFullUrl(e.url?e.url:d.getLocationHref()),t.hash=d.getShortUrl(t.url),t.data=d.cloneObject(e.data),t.id=d.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!d.isEmptyObject(t.data),(t.title||n)&&d.options.disableSuid!==!0&&(t.hash=d.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=d.getFullUrl(t.hash),(d.emulated.pushState||d.bugs.safariPoll)&&d.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},d.createStateObject=function(e,t,n){var i={data:e,title:t,url:n};return i=d.normalizeState(i)},d.getStateById=function(e){e=String(e);var n=d.idToState[e]||d.store.idToState[e]||t;return n},d.getStateString=function(e){var t,n,i;return t=d.normalizeState(e),n={data:t.data,title:e.title,url:e.url},i=u.stringify(n)},d.getStateId=function(e){var t,n;return t=d.normalizeState(e),n=t.id},d.getHashByState=function(e){var t,n;return t=d.normalizeState(e),n=t.hash},d.extractId=function(e){var t,n,i,r;return r=-1!=e.indexOf("#")?e.split("#")[0]:e,n=/(.*)\&_suid=([0-9]+)$/.exec(r),i=n?n[1]||e:e,t=n?String(n[2]||""):"",t||!1},d.isTraditionalAnchor=function(e){var t=!/[\/\\.]/.test(e);return t},d.extractState=function(e,t){var n,i,r=null;return t=t||!1,n=d.extractId(e),n&&(r=d.getStateById(n)),r||(i=d.getFullUrl(e),n=d.getIdByUrl(i)||!1,n&&(r=d.getStateById(n)),r||!t||d.isTraditionalAnchor(e)||(r=d.createStateObject(null,null,i))),r},d.getIdByUrl=function(e){var n=d.urlToId[e]||d.store.urlToId[e]||t;return n},d.getLastSavedState=function(){return d.savedStates[d.savedStates.length-1]||t},d.getLastStoredState=function(){return d.storedStates[d.storedStates.length-1]||t},d.hasUrlDuplicate=function(e){var t,n=!1;return t=d.extractState(e.url),n=t&&t.id!==e.id},d.storeState=function(e){return d.urlToId[e.url]=e.id,d.storedStates.push(d.cloneObject(e)),e},d.isLastSavedState=function(e){var t,n,i,r=!1;return d.savedStates.length&&(t=e.id,n=d.getLastSavedState(),i=n.id,r=t===i),r},d.saveState=function(e){return d.isLastSavedState(e)?!1:(d.savedStates.push(d.cloneObject(e)),!0)},d.getStateByIndex=function(e){var t=null;return t="undefined"==typeof e?d.savedStates[d.savedStates.length-1]:0>e?d.savedStates[d.savedStates.length+e]:d.savedStates[e]},d.getCurrentIndex=function(){var e=null;return e=d.savedStates.length<1?0:d.savedStates.length-1},d.getHash=function(e){var t,n=d.getLocationHref(e);return t=d.getHashByUrl(n)},d.unescapeHash=function(e){var t=d.normalizeHash(e);return t=decodeURIComponent(t)},d.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},d.setHash=function(e,t){var n,r;return t!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.setHash,args:arguments,queue:t}),!1):(d.busy(!0),n=d.extractState(e,!0),n&&!d.emulated.pushState?d.pushState(n.data,n.title,n.url,!1):d.getHash()!==e&&(d.bugs.setHash?(r=d.getPageUrl(),d.pushState(null,null,r+"#"+e,!1)):i.location.hash=e),d)},d.escapeHash=function(t){var n=d.normalizeHash(t);return n=e.encodeURIComponent(n),d.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},d.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=d.unescapeHash(t)},d.setTitle=function(e){var t,n=e.title;n||(t=d.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||d.options.initialTitle));try{i.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(r){}return i.title=n,d},d.queues=[],d.busy=function(e){if("undefined"!=typeof e?d.busy.flag=e:"undefined"==typeof d.busy.flag&&(d.busy.flag=!1),!d.busy.flag){a(d.busy.timeout);var t=function(){var e,n,i;if(!d.busy.flag)for(e=d.queues.length-1;e>=0;--e)n=d.queues[e],0!==n.length&&(i=n.shift(),d.fireQueueItem(i),d.busy.timeout=s(t,d.options.busyDelay))};d.busy.timeout=s(t,d.options.busyDelay)}return d.busy.flag},d.busy.flag=!1,d.fireQueueItem=function(e){return e.callback.apply(e.scope||d,e.args||[])},d.pushQueue=function(e){return d.queues[e.queue||0]=d.queues[e.queue||0]||[],d.queues[e.queue||0].push(e),d
},d.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),"undefined"!=typeof t&&(e.queue=t),d.busy()?d.pushQueue(e):d.fireQueueItem(e),d},d.clearQueue=function(){return d.busy.flag=!1,d.queues=[],d},d.stateChanged=!1,d.doubleChecker=!1,d.doubleCheckComplete=function(){return d.stateChanged=!0,d.doubleCheckClear(),d},d.doubleCheckClear=function(){return d.doubleChecker&&(a(d.doubleChecker),d.doubleChecker=!1),d},d.doubleCheck=function(e){return d.stateChanged=!1,d.doubleCheckClear(),d.bugs.ieDoubleCheck&&(d.doubleChecker=s(function(){return d.doubleCheckClear(),d.stateChanged||e(),!0},d.options.doubleCheckInterval)),d},d.safariStatePoll=function(){var t,n=d.extractState(d.getLocationHref());if(!d.isLastSavedState(n))return t=n,t||(t=d.createStateObject()),d.Adapter.trigger(e,"popstate"),d},d.back=function(e){return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.back,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.back(!1)}),f.go(-1),!0)},d.forward=function(e){return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.forward,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.forward(!1)}),f.go(1),!0)},d.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)d.forward(t);else{if(!(0>e))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)d.back(t)}return d},d.emulated.pushState){var p=function(){};d.pushState=d.pushState||p,d.replaceState=d.replaceState||p}else d.onPopState=function(t,n){var i,r,o=!1,s=!1;return d.doubleCheckComplete(),(i=d.getHash())?(r=d.extractState(i||d.getLocationHref(),!0),r?d.replaceState(r.data,r.title,r.url,!1):(d.Adapter.trigger(e,"anchorchange"),d.busy(!1)),d.expectedStateId=!1,!1):(o=d.Adapter.extractEventData("state",t,n)||!1,s=o?d.getStateById(o):d.expectedStateId?d.getStateById(d.expectedStateId):d.extractState(d.getLocationHref()),s||(s=d.createStateObject(null,null,d.getLocationHref())),d.expectedStateId=!1,d.isLastSavedState(s)?(d.busy(!1),!1):(d.storeState(s),d.saveState(s),d.setTitle(s),d.Adapter.trigger(e,"statechange"),d.busy(!1),!0))},d.Adapter.bind(e,"popstate",d.onPopState),d.pushState=function(t,n,i,r){if(d.getHashByUrl(i)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:r}),!1;d.busy(!0);var o=d.createStateObject(t,n,i);return d.isLastSavedState(o)?d.busy(!1):(d.storeState(o),d.expectedStateId=o.id,f.pushState(o.id,o.title,o.url),d.Adapter.trigger(e,"popstate")),!0},d.replaceState=function(t,n,i,r){if(d.getHashByUrl(i)&&d.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:r}),!1;d.busy(!0);var o=d.createStateObject(t,n,i);return d.isLastSavedState(o)?d.busy(!1):(d.storeState(o),d.expectedStateId=o.id,f.replaceState(o.id,o.title,o.url),d.Adapter.trigger(e,"popstate")),!0};if(o){try{d.store=u.parse(o.getItem("History.store"))||{}}catch(g){d.store={}}d.normalizeStore()}else d.store={},d.normalizeStore();d.Adapter.bind(e,"unload",d.clearAllIntervals),d.saveState(d.storeState(d.extractState(d.getLocationHref(),!0))),o&&(d.onUnload=function(){var e,t,n;try{e=u.parse(o.getItem("History.store"))||{}}catch(i){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in d.idToState)d.idToState.hasOwnProperty(t)&&(e.idToState[t]=d.idToState[t]);for(t in d.urlToId)d.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=d.urlToId[t]);for(t in d.stateToId)d.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=d.stateToId[t]);d.store=e,d.normalizeStore(),n=u.stringify(e);try{o.setItem("History.store",n)}catch(r){if(r.code!==DOMException.QUOTA_EXCEEDED_ERR)throw r;o.length&&(o.removeItem("History.store"),o.setItem("History.store",n))}},d.intervalList.push(l(d.onUnload,d.options.storeInterval)),d.Adapter.bind(e,"beforeunload",d.onUnload),d.Adapter.bind(e,"unload",d.onUnload)),d.emulated.pushState||(d.bugs.safariPoll&&d.intervalList.push(l(d.safariStatePoll,d.options.safariPollInterval)),("Apple Computer, Inc."===r.vendor||"Mozilla"===(r.appCodeName||""))&&(d.Adapter.bind(e,"hashchange",function(){d.Adapter.trigger(e,"popstate")}),d.getHash()&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(e,"hashchange")})))},d.options&&d.options.delayInit||d.init()}(window),function(){var e;e=function(){function e(){}return e.prototype.parse=function(e){return this._get_parser()(e)},e.prototype._get_parser=function(){return null!=this._document_parser?this._document_parser:this._document_parser=this._parser_factory()},e.prototype._parser_factory=function(){var t,n,i,r,o,s;n=function(t){return(new e).parseFromString(t,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},i=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return o=n("<html><body><p>test"),n}catch(a){return r=a,o=t("<html><body><p>test"),t}finally{if(1!==(null!=o&&null!=(s=o.body)?s.childNodes.length:void 0))return i}},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.DOMParser=e}.call(this),function(){var e;e=function(){function e(e,t,n){this.html=e,this.xhr=t,this.$target=n}return e._document_parser=null,e._get_document_parser=function(){return null!=e._document_parser?e._document_parser:e._document_parser=new window._Wiselinks.DOMParser},e.prototype.url=function(){return this.xhr.getResponseHeader("X-Wiselinks-Url")},e.prototype.assets_digest=function(){return this._is_full_document_response()?$('meta[name="assets-digest"]',this._get_doc()).attr("content"):this.xhr.getResponseHeader("X-Wiselinks-Assets-Digest")},e.prototype.content=function(){return null!=this._content?this._content:this._content=this._extract_content()},e.prototype.title=function(){return null!=this._title?this._title:this._title=this._extract_title()},e.prototype._extract_title=function(){return this._is_full_document_response()?$("title",this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Title")},e.prototype.description=function(){return null!=this._description?this._description:this._description=this._extract_description()},e.prototype._extract_description=function(){return this._is_full_document_response()?$('meta[name="description"]',this._get_doc()).text():this.xhr.getResponseHeader("X-Wiselinks-Description")},e.prototype._extract_content=function(){return this._is_full_document_response()?this._get_doc_target_node().html():this.html},e.prototype._is_full_document_response=function(){return 1===this._get_doc_target_node().length},e.prototype._get_doc_target_node=function(){return null!=this.$doc_target_node?this.$doc_target_node:this.$doc_target_node=$(this.$target.selector,this._get_doc())},e.prototype._get_doc=function(){return null!=this._doc?this._doc:this._doc=e._get_document_parser().parse(this.html)},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Response=e}.call(this),function(){var e;e=function(){function e(e){this.options=null!=e?e:{}}return e.prototype.call=function(e,t){var n;return n=this,null!=this.redirected?void(this.redirected=null):(n._loading(e,t),$.ajax({url:t.url,headers:{"X-Wiselinks":t.data.render,"X-Wiselinks-Referer":t.data.referer},dataType:"html"}).done(function(t,i,r){return n._html_loaded(e,t,i,r)}).fail(function(i,r,o){return n._fail(e,r,t,o,i.status)}).always(function(i,r){return n._always(e,r,t)}))},e.prototype._normalize=function(e){return null!=e?e=e.replace(/\/+$/,""):void 0},e.prototype._assets_changed=function(e){return null!=this.options.assets_digest&&this.options.assets_digest!==e},e.prototype._redirect_to=function(e,t,n,i){return i&&i.readyState<4&&(i.onreadystatechange=$.noop,i.abort()),this.redirected=!0,$(document).trigger("page:redirected",[t,n.data.render,e]),History.replaceState(n.data,document.title,e)},e.prototype._loading=function(e,t){return $(document).trigger("page:loading",[e,t.data.render,decodeURI(t.url)])},e.prototype._done=function(e,t,n,i){return $(document).trigger("page:done",[e,t,decodeURI(n.url),i])},e.prototype._html_loaded=function(e,t,n,i){var r,o,s,a;return o=new window._Wiselinks.Response(t,i,e),a=this._normalize(o.url()),r=o.assets_digest(),this._assets_changed(r)?window.location.reload(!0):(s=History.getState(),null!=a&&a!==this._normalize(s.url)&&this._redirect_to(a,e,s,i),e.html(o.content()).promise().done(function(t){return function(){return t._title(o.title()),t._description(o.description()),t._done(e,n,s,o.content())}}(this)))},e.prototype._fail=function(e,t,n,i,r){return $(document).trigger("page:fail",[e,t,decodeURI(n.url),i,r])},e.prototype._always=function(e,t,n){return $(document).trigger("page:always",[e,t,decodeURI(n.url)])},e.prototype._title=function(e){return null!=e?($(document).trigger("page:title",decodeURI(e)),document.title=decodeURI(e)):void 0},e.prototype._description=function(e){return null!=e?($(document).trigger("page:description",decodeURI(e)),$('meta[name="description"]').attr("content",decodeURI(e))):void 0},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.RequestManager=e}.call(this),function(){var e;e=function(){function e(e,t){var n;this.$target=e,this.options=t,n=this,this.template_id=(new Date).getTime(),this.request_manager=new _Wiselinks.RequestManager(this.options),this.$target=n._wrap(this.$target),n._try_target(this.$target),History.emulated.pushState&&this.options.html4===!0&&-1===window.location.href.indexOf("#.")&&this.options.html4_normalize_path===!0&&window.location.pathname!==this.options.html4_root_path&&(window.location.href=""+window.location.protocol+"//"+window.location.host+this.options.html4_root_path+"#."+window.location.pathname),History.Adapter.bind(window,"statechange",function(){var e;return e=History.getState(),n._call(n._template_id_changed(e)?n._reset_state(e):e)}),$(document).on("click","a[data-push], a[data-replace]",function(e){var t;return(t=new _Wiselinks.Link(n,$(this))).allows_process(e)?(e.preventDefault(),t.process(),!1):void 0}),$(document).on("submit","form[data-push], form[data-replace]",function(e){var t;return(t=new _Wiselinks.Form(n,$(this)))?(e.preventDefault(),t.process(),!1):void 0})}return e.prototype.load=function(e,t,n){var i,r;return null==n&&(n="template"),"partial"!==n&&(this.template_id=(new Date).getTime()),r=null!=t?(i=this._wrap(t),this._try_target(i),i.selector):void 0,History.pushState({timestamp:(new Date).getTime(),template_id:this.template_id,render:n,target:r,referer:window.location.href},document.title,e)},e.prototype.reload=function(){return History.replaceState({timestamp:(new Date).getTime(),template_id:this.template_id,render:"template",referer:window.location.href},document.title,History.getState().url)},e.prototype._call=function(e){var t;return t=null!=e.data.target?$(e.data.target):this.$target,this.request_manager.call(t,e)},e.prototype._template_id_changed=function(e){return null==e.data.template_id||e.data.template_id!==this.template_id},e.prototype._make_state=function(e,t,n,i){return null==n&&(n="template"),{url:e,data:{target:t,render:n,referer:i}}},e.prototype._reset_state=function(e){return null==e.data&&(e.data={}),e.data.target=null,e.data.render="template",e},e.prototype._try_target=function(e){if(0===e.length&&"exception"===this.options.target_missing)throw new Error("[Wiselinks] Target missing: `"+e.selector+"`")},e.prototype._wrap=function(e){return $(e)},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Page=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$link=t}return e.prototype.allows_process=function(e){return!(this._cross_origin_link(e.currentTarget)||this._non_standard_click(e))},e.prototype.process=function(){var e;return e="partial"===this.$link.data("push")?"partial":"template",this.page.load(this.$link.attr("href"),this.$link.data("target"),e)},e.prototype._cross_origin_link=function(e){return this._different_protocol(e)||this._different_host(e)||this._different_port(e)},e.prototype._different_protocol=function(e){return":"===e.protocol||""===e.protocol?!1:location.protocol!==e.protocol},e.prototype._different_host=function(e){return""===e.host?!1:location.host.split(":")[0]!==e.host.split(":")[0]},e.prototype._different_port=function(e){var t;return t=location.port===e.port||""===location.port&&("80"===e.port||"443"===e.port),!t},e.prototype._non_standard_click=function(e){return e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},e}(),void 0===window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Link=e}.call(this),function(){var e;e=function(){function e(e,t){this.page=e,this.$form=t}return e.prototype.process=function(){var e;return e=this,e._include_blank_url_params()?e.page.load(e._url(),e._target(),e._type()):e._without_blank_url_params(function(){return e.page.load(e._url(),e._target(),e._type())})},e.prototype._without_blank_url_params=function(e){var t,n;return n="select:not(:disabled),input:not(:disabled)",t=this.$form.find(n).filter(function(){return!$(this).val()}),t.attr("disabled",!0),e(),t.attr("disabled",!1)},e.prototype._params=function(){var e,t,n,i,r,o;for(e={},o=this.$form.serializeArray(),i=0,r=o.length;r>i;i++)t=o[i],"utf8"!==t.name&&(n=-1!==t.name.indexOf("[]",t.name.length-"[]".length)?t.name.substr(0,t.name.length-2):t.name,e[n]=null!=e[n]?e[n]+(","+t.value):t.value);return e},e.prototype._include_blank_url_params=function(){return this.$form.data("include-blank-url-params")===!0},e.prototype._optimize_url_params=function(){return this.$form.data("optimize-url-params")!==!1},e.prototype._type=function(){return"partial"===this.$form.data("push")?"partial":"template"},e.prototype._target=function(){return this.$form.data("target")},e.prototype._url=function(){var e,t,n,i,r,o;return n=this,i=function(){var i;if(n._optimize_url_params()){t=[],i=this._params();for(e in i)o=i[e],t.push(""+e+"="+encodeURIComponent(o).replace(/%2C/g,","));return t.join("&")}return this.$form.serialize()}.call(this),r=this.$form.attr("action").replace(/\?.*$/,""),i.length>0&&(r+="?"+i),r},e}(),null==window._Wiselinks&&(window._Wiselinks={}),window._Wiselinks.Form=e}.call(this),function(){var e;e=function(){function e(e,t){null==e&&(e=$("body")),this.options=null!=t?t:{},this._try_jquery(),this.options=$.extend(this._defaults(),this.options),this.enabled()&&(this.options.disable_suid&&(History.options.disableSuid=!0),this.page=new _Wiselinks.Page(e,this.options))}return e.prototype.enabled=function(){return!History.emulated.pushState||this.options.html4===!0},e.prototype.load=function(e,t,n){return null==n&&(n="template"),this.page.load(e,t,n)},e.prototype.reload=function(){return this.page.reload()},e.prototype._defaults=function(){return{disable_suid:!0,html4:!0,html4_root_path:"/",html4_normalize_path:!0,target_missing:null,assets_digest:$("meta[name='assets-digest']").attr("content")}},e.prototype._try_jquery=function(){if(null==window.jQuery)throw new Error("[Wiselinks] jQuery is not loaded")},e}(),window.Wiselinks=e}.call(this),$(document).ready(function(){return window.wiselinks=new Wiselinks("#partial-page-content"),$(document).off("page:loading").on("page:loading",function(){var e=$(".hidden-next-lesson-data").attr("data-next-lesson-id");setCurrentLessonForInactiveNav(e)}),$(document).off("page:done").on("page:done",function(){var e,t,n,i;if(analytics.page(),i=new EventsTracker(trackingOptions,!0),addLessonClassToLinks(),populateHandraiseForm(),$(".flash-frontend").html(""),$(".hidden-lesson-data").length){$("#team-invite-reminder").hide(),ResponsiveIframeModule.init(),$.getScript(window.location.pathname,function(){if("/"!=window.location.pathname&&($("#need-help").css("background","url(/assets/ask-a-question-blue.svg) no-repeat"),$("#need-help p").css("color","white")),$(".handraise-lesson-data").length)try{FIChat.configure({currentLesson:$(".handraise-lesson-data").data("current-lesson-id"),userToken:$(".handraise-lesson-data").data("user-token"),nextLessons:$(".handraise-lesson-data").data("next-three-lesson-ids"),prevLessons:$(".handraise-lesson-data").data("previous-three-lesson-ids"),allLessons:$(".handraise-lesson-data").data("all-lesson-ids"),admin:$(".handraise-lesson-data").data("user-teacher"),button:"#need-help",buttonTriangleOffset:30,allPrevLessons:$(".handraise-lesson-data").data("all-previous-lesson-ids")}),FIChat.start()}catch(e){}});var r=$(".hidden-lesson-data").data("lesson-id");setCurrentLessonForInactiveNav(r),$.getScript("/lessons/"+r+"/students_working",function(){}),lab.initialize(),lesson_complete_button.bindButtonLink(),$("#lesson-container a").not(".next-lesson-btn,.lesson-action-link-lesson-submit").attr("target","_blank"),$(".next-button-complete").click(function(e){var t;return e.preventDefault(),t=$(".next-button-complete .next-lesson-btn").data("next-lesson-id"),$(".hidden-next-lesson-data").attr("data-next-lesson-id",t)})}else $(".classmate-status-container").hide();return $(".hidden-daily-schedule-data").length&&(t=$(".hidden-daily-schedule-data").attr("data-daily-schedule-id"),e=$("ul.daily-schedule-links li[data-daily-schedule-id="+t+"]"),n=e.closest("ul.sub-nav > li"),e.addClass("active highlight"),n.addClass("active"),$.getScript(window.location.pathname)),$("html, body").animate({scrollTop:0},"normal")})}),$(document).ready(function(){$("#lesson-container a").not(".next-lesson-btn,.lesson-action-link-lesson-submit").attr("target","_blank")}),$(document).ready(function(){$(".section-login").length&&$(".page").removeClass("nav-active")}),$(document).ready(function(){$("body").tooltip({selector:"[data-toggle=tooltip]"})}),$(function(){populateHandraiseForm()});var populateHandraiseForm=function(){var e=new ApplicationData;for(var t in e)if(e.hasOwnProperty(t)){var n=t.toUnderscore();$("#ticket_"+n).val(e[t])}},ApplicationData=function(){return $("#application-data").data()};window.analytics=window.analytics||[],window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),window.analytics.push(t),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(e){if(!document.getElementById("analytics-js")){var t=document.createElement("script");t.type="text/javascript",t.id="analytics-js",t.async=!0,t.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}},window.analytics.SNIPPET_VERSION="2.0.9",window.analytics.load("z2XIFN3Lzm"),window.analytics.page(),$(document).on("ready",function(){$("body").on("click","#manual-override-btn",function(){$("#manual-override").modal("show")}),$.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this}}),trackingOptions={classes:[["complete-lesson-no-lab","Clicked Complete Lesson (No Lab) Button",!0],["lesson-complete-button","Clicked Complete Lesson Button",!0],["btn-help","Clicked Need Help Button",!1],["email-submit","Clicked Email Button",!1],["handraise-submit","Clicked Handraise Button",!1],["popup-close","Dismissed Help Modal With Close Button",!1],["lesson-action-link-github-open","Clicked Through to GitHub Via GitHub Icon",!0],["schedule-link","Clicked Direct Link To Lesson From Schedule",!1]],ids:[["fancybox-close","Dismissed Help Modal With X",!1],["fancybox-overlay","Dismissed Help Modal By Clicking Out",!1]],specialClasses:[["nav-lesson-link","Clicked Link To Lesson In Nav Bar",!1]]},EventsTracker.prototype.isPageSpecific=function(e){return e.filter(function(e){return 1==e[2]})},EventsTracker.prototype.trackElements=function(e){$.each(e,function(e,t){var n=new ElementParser(t[0]),i=n.element(),r=n.symbol(),o=n.is_anchor_tag(),s=t[1];o?$.each($(i),function(e,t){analytics.trackLink(t,s,this.trackingDataForElement($(t)))}.bind(this)):$(document).on("click",r+t[0],function(e){analytics.track(s,this.trackingDataForElement($(e.target)))}.bind(this))}.bind(this))},EventsTracker.prototype.trackKeys=function(e){$(document).on("keydown",function(t){e[t.which]&&analytics.track(e[t.which])}.bind(this))},EventsTracker.prototype.trackingDataForElement=function(e){var t=e.prop("tagName"),n="";n="A"==t?"link":"BUTTON"==t?"button":t;var i={id:e.attr("id"),class_name:e.attr("class"),href:e.attr("href"),type:n,text:e.text(),page:window.location.pathname};return i},EventsTracker.prototype.trackSpecialClasses=function(e){$.each(e,function(e,t){var n=new ElementParser(t[0]),i=(n.element(),n.symbol()),r=t[1];$(document).on("click",i+t[0],function(e){analytics.track(r,this.trackingDataForElement($(e.target)))}.bind(this))}.bind(this))},$(function(){addLessonClassToLinks();new EventsTracker(trackingOptions)});var user={};/sign_in$|\/users\/sign_up\/[^\/]+$|sign_out$/.test(window.location.href)||$.ajax({url:"/user/session",dataType:"json",type:"GET",success:function(e){user=new User(e)}}),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return l[e]}function n(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e){return e instanceof a?e.toString():null==e?"":e?(e=""+e,u.test(e)?e.replace(c,t):e):e+""}function r(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}function o(e,t){return(e?e+".":"")+t}var s={},a=e,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,u=/[&<>"'`]/;s.extend=n;var h=Object.prototype.toString;s.toString=h;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var d;s.isFunction=d;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};return s.isArray=f,s.escapeExpression=i,s.isEmpty=r,s.appendContextPath=o,s}(e),n=function(){"use strict";function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=r[n[o]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,r=n.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(u(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var s=m(n.data);s.contextPath=o.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new s("Must pass iterator to #each");var n,i,r=t.fn,a=t.inverse,l=0,c="";if(t.data&&t.ids&&(i=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),h(e)&&(e=e.call(this)),t.data&&(n=m(t.data)),e&&"object"==typeof e)if(u(e))for(var d=e.length;d>l;l++)n&&(n.index=l,n.first=0===l,n.last=l===e.length-1,i&&(n.contextPath=i+l)),c+=r(e[l],{data:n});else for(var f in e)e.hasOwnProperty(f)&&(n&&(n.key=f,n.index=l,n.first=0===l,i&&(n.contextPath=i+f)),c+=r(e[f],{data:n}),l++);return 0===l&&(c=a(this)),c}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){h(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=m(t.data);i.contextPath=o.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var r={},o=e,s=t,a="2.0.0";r.VERSION=a;var l=6;r.COMPILER_REVISION=l;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};r.REVISION_CHANGES=c;var u=o.isArray,h=o.isFunction,d=o.toString,f="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:p,log:g,registerHelper:function(e,t){if(d.call(e)===f){if(t)throw new s("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){d.call(e)===f?o.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(p.level<=e){var n=p.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};r.logger=p;var g=p.log;r.log=g;var m=function(e){var t=o.extend({},e);return t._parent=e,t};return r.createFrame=m,r}(t,n),r=function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=d;if(t!==n){if(n>t){var i=f[n],r=f[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new h("No environment passed to template");if(!e||!e.main)throw new h("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,i,r,o,s,a,l,c,d){s&&(o=u.extend({},o,s));var f=t.VM.invokePartial.call(this,n,r,o,a,l,c,d);if(null==f&&t.compile){var p={helpers:a,partials:l,data:c,depths:d};l[r]=t.compile(n,{data:void 0!==c,compat:e.compat},t),f=l[r](o,p)}if(null!=f){if(i){for(var g=f.split("\n"),m=0,v=g.length;v>m&&(g[m]||m+1!==v);m++)g[m]=i+g[m];f=g.join("\n")}return f}throw new h("The partial "+r+" could not be compiled when running in runtime-only mode")},i={lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var i=this.programs[e],r=this.fn(e);return t||n?i=o(this,e,r,t,n):i||(i=this.programs[e]=o(this,e,r)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=u.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},r=function(t,n){n=n||{};var o=n.data;r._setup(n),!n.partial&&e.useData&&(o=l(t,o));var s;return e.useDepths&&(s=n.depths?[t].concat(n.depths):[t]),e.main.call(i,t,i.helpers,i.partials,o,s)};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials):(i.helpers=i.merge(n.helpers,t.helpers),e.usePartial&&(i.partials=i.merge(n.partials,t.partials)))},r._child=function(t,n,r){if(e.useDepths&&!r)throw new h("must pass parent depths");return o(i,t,e[t],n,r)},r}function o(e,t,n,i,r){var o=function(t,o){return o=o||{},n.call(e,t,e.helpers,e.partials,o.data||i,r&&[t].concat(r))};return o.program=t,o.depth=r?r.length:0,o}function s(e,t,n,i,r,o,s){var a={partial:!0,helpers:i,partials:r,data:o,depths:s};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function a(){return""}function l(e,t){return t&&"root"in t||(t=t?p(t):{},t.root=e),t}var c={},u=e,h=t,d=n.COMPILER_REVISION,f=n.REVISION_CHANGES,p=n.createFrame;return c.checkRevision=i,c.template=r,c.program=o,c.invokePartial=s,c.noop=a,c}(t,n,i),o=function(e,t,n,i,r){"use strict";var o,s=e,a=t,l=n,c=i,u=r,h=function(){var e=new s.HandlebarsEnvironment;return c.extend(e,s),e.SafeString=a,e.Exception=l,e.Utils=c,e.escapeExpression=c.escapeExpression,e.VM=u,e.template=function(t){return u.template(t,e)},e},d=h();return d.create=h,d["default"]=d,o=d}(i,e,n,t,r),s=function(e){"use strict";function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var n,i=e,r={ProgramNode:function(e,n,i){t.call(this,i),this.type="program",this.statements=e,this.strip=n},MustacheNode:function(e,n,i,o,s){if(t.call(this,s),this.type="mustache",this.strip=o,null!=i&&i.charAt){var a=i.charAt(3)||i.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!i;this.sexpr=e instanceof r.SexprNode?e:new r.SexprNode(e,n),this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,n,i){t.call(this,i),this.type="sexpr",this.hash=n;var r=this.id=e[0],o=this.params=e.slice(1);this.isHelper=!(!o.length&&!n),this.eligibleHelper=this.isHelper||r.isSimple},PartialNode:function(e,n,i,r,o){t.call(this,o),this.type="partial",this.partialName=e,this.context=n,this.hash=i,this.strip=r,this.strip.inlineStandalone=!0},BlockNode:function(e,n,i,r,o){t.call(this,o),this.type="block",this.mustache=e,this.program=n,this.inverse=i,this.strip=r,i&&!n&&(this.isInverse=!0)},RawBlockNode:function(e,n,o,s){if(t.call(this,s),e.sexpr.id.original!==o)throw new i(e.sexpr.id.original+" doesn't match "+o,this);n=new r.ContentNode(n,s),this.type="block",this.mustache=e,this.program=new r.ProgramNode([n],{},s)},ContentNode:function(e,n){t.call(this,n),this.type="content",this.original=this.string=e},HashNode:function(e,n){t.call(this,n),this.type="hash",this.pairs=e},IdNode:function(e,n){t.call(this,n),this.type="ID";for(var r="",o=[],s=0,a="",l=0,c=e.length;c>l;l++){var u=e[l].part;if(r+=(e[l].separator||"")+u,".."===u||"."===u||"this"===u){if(o.length>0)throw new i("Invalid path: "+r,this);".."===u?(s++,a+="../"):this.isScoped=!0}else o.push(u)}this.original=r,this.parts=o,this.string=o.join("."),this.depth=s,this.idName=a+this.string,this.isSimple=1===e.length&&!this.isScoped&&0===s,this.stringModeValue=this.string},PartialNameNode:function(e,n){t.call(this,n),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,n){t.call(this,n),this.type="DATA",this.id=e,this.stringModeValue=e.stringModeValue,this.idName="@"+e.stringModeValue},StringNode:function(e,n){t.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=e},NumberNode:function(e,n){t.call(this,n),this.type="NUMBER",this.original=this.number=e,this.stringModeValue=Number(e)},BooleanNode:function(e,n){t.call(this,n),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,n){t.call(this,n),this.type="comment",this.comment=e,this.strip={inlineStandalone:!0}}};return n=r}(n),a=function(){"use strict";var e,t=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,CONTENT:12,COMMENT:13,openRawBlock:14,END_RAW_BLOCK:15,OPEN_RAW_BLOCK:16,sexpr:17,CLOSE_RAW_BLOCK:18,openBlock:19,block_option0:20,closeBlock:21,openInverse:22,block_option1:23,OPEN_BLOCK:24,CLOSE:25,OPEN_INVERSE:26,inverseAndProgram:27,INVERSE:28,OPEN_ENDBLOCK:29,path:30,OPEN:31,OPEN_UNESCAPED:32,CLOSE_UNESCAPED:33,OPEN_PARTIAL:34,partialName:35,param:36,partial_option0:37,partial_option1:38,sexpr_repetition0:39,sexpr_option0:40,dataName:41,STRING:42,NUMBER:43,BOOLEAN:44,OPEN_SEXPR:45,CLOSE_SEXPR:46,hash:47,hash_repetition_plus0:48,hashSegment:49,ID:50,EQUALS:51,DATA:52,pathSegments:53,SEP:54,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",12:"CONTENT",13:"COMMENT",15:"END_RAW_BLOCK",16:"OPEN_RAW_BLOCK",18:"CLOSE_RAW_BLOCK",24:"OPEN_BLOCK",25:"CLOSE",26:"OPEN_INVERSE",28:"INVERSE",29:"OPEN_ENDBLOCK",31:"OPEN",32:"OPEN_UNESCAPED",33:"CLOSE_UNESCAPED",34:"OPEN_PARTIAL",42:"STRING",43:"NUMBER",44:"BOOLEAN",45:"OPEN_SEXPR",46:"CLOSE_SEXPR",50:"ID",51:"EQUALS",52:"DATA",54:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[10,3],[14,3],[9,4],[9,4],[19,3],[22,3],[27,2],[21,3],[8,3],[8,3],[11,5],[11,4],[17,3],[17,1],[36,1],[36,1],[36,1],[36,1],[36,1],[36,3],[47,1],[49,3],[35,1],[35,1],[35,1],[41,2],[30,1],[53,3],[53,1],[6,0],[6,2],[20,0],[20,1],[23,0],[23,1],[37,0],[37,1],[38,0],[38,1],[39,0],[39,2],[40,0],[40,1],[48,1],[48,2]],performAction:function(e,t,n,i,r,o){var s=o.length-1;
switch(r){case 1:return i.prepareProgram(o[s-1].statements,!0),o[s-1];case 2:this.$=new i.ProgramNode(i.prepareProgram(o[s]),{},this._$);break;case 3:this.$=o[s];break;case 4:this.$=o[s];break;case 5:this.$=o[s];break;case 6:this.$=o[s];break;case 7:this.$=new i.ContentNode(o[s],this._$);break;case 8:this.$=new i.CommentNode(o[s],this._$);break;case 9:this.$=new i.RawBlockNode(o[s-2],o[s-1],o[s],this._$);break;case 10:this.$=new i.MustacheNode(o[s-1],null,"","",this._$);break;case 11:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!1,this._$);break;case 12:this.$=i.prepareBlock(o[s-3],o[s-2],o[s-1],o[s],!0,this._$);break;case 13:this.$=new i.MustacheNode(o[s-1],null,o[s-2],i.stripFlags(o[s-2],o[s]),this._$);break;case 14:this.$=new i.MustacheNode(o[s-1],null,o[s-2],i.stripFlags(o[s-2],o[s]),this._$);break;case 15:this.$={strip:i.stripFlags(o[s-1],o[s-1]),program:o[s]};break;case 16:this.$={path:o[s-1],strip:i.stripFlags(o[s-2],o[s])};break;case 17:this.$=new i.MustacheNode(o[s-1],null,o[s-2],i.stripFlags(o[s-2],o[s]),this._$);break;case 18:this.$=new i.MustacheNode(o[s-1],null,o[s-2],i.stripFlags(o[s-2],o[s]),this._$);break;case 19:this.$=new i.PartialNode(o[s-3],o[s-2],o[s-1],i.stripFlags(o[s-4],o[s]),this._$);break;case 20:this.$=new i.PartialNode(o[s-2],void 0,o[s-1],i.stripFlags(o[s-3],o[s]),this._$);break;case 21:this.$=new i.SexprNode([o[s-2]].concat(o[s-1]),o[s],this._$);break;case 22:this.$=new i.SexprNode([o[s]],null,this._$);break;case 23:this.$=o[s];break;case 24:this.$=new i.StringNode(o[s],this._$);break;case 25:this.$=new i.NumberNode(o[s],this._$);break;case 26:this.$=new i.BooleanNode(o[s],this._$);break;case 27:this.$=o[s];break;case 28:o[s-1].isHelper=!0,this.$=o[s-1];break;case 29:this.$=new i.HashNode(o[s],this._$);break;case 30:this.$=[o[s-2],o[s]];break;case 31:this.$=new i.PartialNameNode(o[s],this._$);break;case 32:this.$=new i.PartialNameNode(new i.StringNode(o[s],this._$),this._$);break;case 33:this.$=new i.PartialNameNode(new i.NumberNode(o[s],this._$));break;case 34:this.$=new i.DataNode(o[s],this._$);break;case 35:this.$=new i.IdNode(o[s],this._$);break;case 36:o[s-2].push({part:o[s],separator:o[s-1]}),this.$=o[s-2];break;case 37:this.$=[{part:o[s]}];break;case 38:this.$=[];break;case 39:o[s-1].push(o[s]);break;case 48:this.$=[];break;case 49:o[s-1].push(o[s]);break;case 52:this.$=[o[s]];break;case 53:o[s-1].push(o[s])}},table:[{3:1,4:2,5:[2,38],6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],31:[2,38],32:[2,38],34:[2,38]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:[1,10],13:[1,11],14:16,16:[1,20],19:14,22:15,24:[1,18],26:[1,19],28:[2,2],29:[2,2],31:[1,12],32:[1,13],34:[1,17]},{1:[2,1]},{5:[2,39],12:[2,39],13:[2,39],16:[2,39],24:[2,39],26:[2,39],28:[2,39],29:[2,39],31:[2,39],32:[2,39],34:[2,39]},{5:[2,3],12:[2,3],13:[2,3],16:[2,3],24:[2,3],26:[2,3],28:[2,3],29:[2,3],31:[2,3],32:[2,3],34:[2,3]},{5:[2,4],12:[2,4],13:[2,4],16:[2,4],24:[2,4],26:[2,4],28:[2,4],29:[2,4],31:[2,4],32:[2,4],34:[2,4]},{5:[2,5],12:[2,5],13:[2,5],16:[2,5],24:[2,5],26:[2,5],28:[2,5],29:[2,5],31:[2,5],32:[2,5],34:[2,5]},{5:[2,6],12:[2,6],13:[2,6],16:[2,6],24:[2,6],26:[2,6],28:[2,6],29:[2,6],31:[2,6],32:[2,6],34:[2,6]},{5:[2,7],12:[2,7],13:[2,7],16:[2,7],24:[2,7],26:[2,7],28:[2,7],29:[2,7],31:[2,7],32:[2,7],34:[2,7]},{5:[2,8],12:[2,8],13:[2,8],16:[2,8],24:[2,8],26:[2,8],28:[2,8],29:[2,8],31:[2,8],32:[2,8],34:[2,8]},{17:21,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:27,30:22,41:23,50:[1,26],52:[1,25],53:24},{4:28,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{4:29,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],28:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{12:[1,30]},{30:32,35:31,42:[1,33],43:[1,34],50:[1,26],53:24},{17:35,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:36,30:22,41:23,50:[1,26],52:[1,25],53:24},{17:37,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[1,38]},{18:[2,48],25:[2,48],33:[2,48],39:39,42:[2,48],43:[2,48],44:[2,48],45:[2,48],46:[2,48],50:[2,48],52:[2,48]},{18:[2,22],25:[2,22],33:[2,22],46:[2,22]},{18:[2,35],25:[2,35],33:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],50:[2,35],52:[2,35],54:[1,40]},{30:41,50:[1,26],53:24},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],52:[2,37],54:[2,37]},{33:[1,42]},{20:43,27:44,28:[1,45],29:[2,40]},{23:46,27:47,28:[1,45],29:[2,42]},{15:[1,48]},{25:[2,46],30:51,36:49,38:50,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],47:57,48:58,49:60,50:[1,59],52:[1,25],53:24},{25:[2,31],42:[2,31],43:[2,31],44:[2,31],45:[2,31],50:[2,31],52:[2,31]},{25:[2,32],42:[2,32],43:[2,32],44:[2,32],45:[2,32],50:[2,32],52:[2,32]},{25:[2,33],42:[2,33],43:[2,33],44:[2,33],45:[2,33],50:[2,33],52:[2,33]},{25:[1,61]},{25:[1,62]},{18:[1,63]},{5:[2,17],12:[2,17],13:[2,17],16:[2,17],24:[2,17],26:[2,17],28:[2,17],29:[2,17],31:[2,17],32:[2,17],34:[2,17]},{18:[2,50],25:[2,50],30:51,33:[2,50],36:65,40:64,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],46:[2,50],47:66,48:58,49:60,50:[1,59],52:[1,25],53:24},{50:[1,67]},{18:[2,34],25:[2,34],33:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],50:[2,34],52:[2,34]},{5:[2,18],12:[2,18],13:[2,18],16:[2,18],24:[2,18],26:[2,18],28:[2,18],29:[2,18],31:[2,18],32:[2,18],34:[2,18]},{21:68,29:[1,69]},{29:[2,41]},{4:70,6:3,12:[2,38],13:[2,38],16:[2,38],24:[2,38],26:[2,38],29:[2,38],31:[2,38],32:[2,38],34:[2,38]},{21:71,29:[1,69]},{29:[2,43]},{5:[2,9],12:[2,9],13:[2,9],16:[2,9],24:[2,9],26:[2,9],28:[2,9],29:[2,9],31:[2,9],32:[2,9],34:[2,9]},{25:[2,44],37:72,47:73,48:58,49:60,50:[1,74]},{25:[1,75]},{18:[2,23],25:[2,23],33:[2,23],42:[2,23],43:[2,23],44:[2,23],45:[2,23],46:[2,23],50:[2,23],52:[2,23]},{18:[2,24],25:[2,24],33:[2,24],42:[2,24],43:[2,24],44:[2,24],45:[2,24],46:[2,24],50:[2,24],52:[2,24]},{18:[2,25],25:[2,25],33:[2,25],42:[2,25],43:[2,25],44:[2,25],45:[2,25],46:[2,25],50:[2,25],52:[2,25]},{18:[2,26],25:[2,26],33:[2,26],42:[2,26],43:[2,26],44:[2,26],45:[2,26],46:[2,26],50:[2,26],52:[2,26]},{18:[2,27],25:[2,27],33:[2,27],42:[2,27],43:[2,27],44:[2,27],45:[2,27],46:[2,27],50:[2,27],52:[2,27]},{17:76,30:22,41:23,50:[1,26],52:[1,25],53:24},{25:[2,47]},{18:[2,29],25:[2,29],33:[2,29],46:[2,29],49:77,50:[1,74]},{18:[2,37],25:[2,37],33:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[2,37],46:[2,37],50:[2,37],51:[1,78],52:[2,37],54:[2,37]},{18:[2,52],25:[2,52],33:[2,52],46:[2,52],50:[2,52]},{12:[2,13],13:[2,13],16:[2,13],24:[2,13],26:[2,13],28:[2,13],29:[2,13],31:[2,13],32:[2,13],34:[2,13]},{12:[2,14],13:[2,14],16:[2,14],24:[2,14],26:[2,14],28:[2,14],29:[2,14],31:[2,14],32:[2,14],34:[2,14]},{12:[2,10]},{18:[2,21],25:[2,21],33:[2,21],46:[2,21]},{18:[2,49],25:[2,49],33:[2,49],42:[2,49],43:[2,49],44:[2,49],45:[2,49],46:[2,49],50:[2,49],52:[2,49]},{18:[2,51],25:[2,51],33:[2,51],46:[2,51]},{18:[2,36],25:[2,36],33:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],50:[2,36],52:[2,36],54:[2,36]},{5:[2,11],12:[2,11],13:[2,11],16:[2,11],24:[2,11],26:[2,11],28:[2,11],29:[2,11],31:[2,11],32:[2,11],34:[2,11]},{30:79,50:[1,26],53:24},{29:[2,15]},{5:[2,12],12:[2,12],13:[2,12],16:[2,12],24:[2,12],26:[2,12],28:[2,12],29:[2,12],31:[2,12],32:[2,12],34:[2,12]},{25:[1,80]},{25:[2,45]},{51:[1,78]},{5:[2,20],12:[2,20],13:[2,20],16:[2,20],24:[2,20],26:[2,20],28:[2,20],29:[2,20],31:[2,20],32:[2,20],34:[2,20]},{46:[1,81]},{18:[2,53],25:[2,53],33:[2,53],46:[2,53],50:[2,53]},{30:51,36:82,41:55,42:[1,52],43:[1,53],44:[1,54],45:[1,56],50:[1,26],52:[1,25],53:24},{25:[1,83]},{5:[2,19],12:[2,19],13:[2,19],16:[2,19],24:[2,19],26:[2,19],28:[2,19],29:[2,19],31:[2,19],32:[2,19],34:[2,19]},{18:[2,28],25:[2,28],33:[2,28],42:[2,28],43:[2,28],44:[2,28],45:[2,28],46:[2,28],50:[2,28],52:[2,28]},{18:[2,30],25:[2,30],33:[2,30],46:[2,30],50:[2,30]},{5:[2,16],12:[2,16],13:[2,16],16:[2,16],24:[2,16],26:[2,16],28:[2,16],29:[2,16],31:[2,16],32:[2,16],34:[2,16]}],defaultActions:{4:[2,1],44:[2,41],47:[2,43],57:[2,47],63:[2,10],70:[2,15],73:[2,45]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],s=this.table,a="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;o.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,g,m,v,y,b,w,x,k={};;){if(g=i[i.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===f||"undefined"==typeof f)&&(f=t()),m=s[g]&&s[g][f]),"undefined"==typeof m||!m.length||!m[0]){var C="";if(!u){x=[];for(y in s[g])this.terminals_[y]&&y>2&&x.push("'"+this.terminals_[y]+"'");C=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:h,expected:x})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:i.push(f),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(m[1]),f=null,p?(f=p,p=null):(c=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,u>0&&u--);break;case 2:if(b=this.productions_[m[1]][1],k.$=r[r.length-b],k._$={first_line:o[o.length-(b||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(b||1)].first_column,last_column:o[o.length-1].last_column},d&&(k._$.range=[o[o.length-(b||1)].range[0],o[o.length-1].range[1]]),v=this.performAction.call(k,a,c,l,this.yy,m[1],r,o),"undefined"!=typeof v)return v;b&&(i=i.slice(0,-1*b*2),r=r.slice(0,-1*b),o=o.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),r.push(k.$),o.push(k._$),w=s[i[i.length-2]][i[i.length-1]],i.push(w);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,r;this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(n=this._input.match(this.rules[o[s]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function r(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 12;break;case 1:return 12;case 2:return this.popState(),12;case 3:return t.yytext=t.yytext.substr(5,t.yyleng-9),this.popState(),15;case 4:return 12;case 5:return r(0,4),this.popState(),13;case 6:return 45;case 7:return 46;case 8:return 16;case 9:return this.popState(),this.begin("raw"),18;case 10:return 34;case 11:return 24;case 12:return 29;case 13:return this.popState(),28;case 14:return this.popState(),28;case 15:return 26;case 16:return 26;case 17:return 32;case 18:return 31;case 19:this.popState(),this.begin("com");break;case 20:return r(3,5),this.popState(),13;case 21:return 31;case 22:return 51;case 23:return 50;case 24:return 50;case 25:return 54;case 26:break;case 27:return this.popState(),33;case 28:return this.popState(),25;case 29:return t.yytext=r(1,2).replace(/\\"/g,'"'),42;case 30:return t.yytext=r(1,2).replace(/\\'/g,"'"),42;case 31:return 52;case 32:return 44;case 33:return 44;case 34:return 43;case 35:return 50;case 36:return t.yytext=r(1,2),50;case 37:return"INVALID";case 38:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[5],inclusive:!1},raw:{rules:[3,4],inclusive:!1},INITIAL:{rules:[0,1,38],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();return e=t}(),l=function(e){"use strict";function t(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(t.length-3)}}function n(e,t,n,i,l,u){if(e.sexpr.id.original!==i.path.original)throw new c(e.sexpr.id.original+" doesn't match "+i.path.original,e);var h=n&&n.program,d={left:e.strip.left,right:i.strip.right,openStandalone:o(t.statements),closeStandalone:r((h||t).statements)};if(e.strip.right&&s(t.statements,null,!0),h){var f=n.strip;f.left&&a(t.statements,null,!0),f.right&&s(h.statements,null,!0),i.strip.left&&a(h.statements,null,!0),r(t.statements)&&o(h.statements)&&(a(t.statements),s(h.statements))}else i.strip.left&&a(t.statements,null,!0);return l?new this.BlockNode(e,h,t,d,u):new this.BlockNode(e,t,h,d,u)}function i(e,t){for(var n=0,i=e.length;i>n;n++){var l=e[n],c=l.strip;if(c){var u=r(e,n,t,"partial"===l.type),h=o(e,n,t),d=c.openStandalone&&u,f=c.closeStandalone&&h,p=c.inlineStandalone&&u&&h;c.right&&s(e,n,!0),c.left&&a(e,n,!0),p&&(s(e,n),a(e,n)&&"partial"===l.type&&(l.indent=/([ \t]+$)/.exec(e[n-1].original)?RegExp.$1:"")),d&&(s((l.program||l.inverse).statements),a(e,n)),f&&(s(e,n),a((l.inverse||l.program).statements))}}return e}function r(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],r=e[t-2];return i?"content"===i.type?(r||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function o(e,t,n){void 0===t&&(t=-1);var i=e[t+1],r=e[t+2];return i?"content"===i.type?(r||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(e,t,n){var i=e[null==t?0:t+1];if(i&&"content"===i.type&&(n||!i.rightStripped)){var r=i.string;i.string=i.string.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.string!==r}}function a(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"content"===i.type&&(n||!i.leftStripped)){var r=i.string;return i.string=i.string.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.string!==r,i.leftStripped}}var l={},c=e;return l.stripFlags=t,l.prepareBlock=n,l.prepareProgram=i,l}(n),c=function(e,t,n,i){"use strict";function r(e){return e.constructor===a.ProgramNode?e:(s.yy=u,s.parse(e))}var o={},s=e,a=t,l=n,c=i.extend;o.parser=s;var u={};return c(u,l,a),o.parse=r,o}(a,s,l,t),u=function(e,t){"use strict";function n(){}function i(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e),r=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(r,t)}function r(e,t,n){function i(){var i=n.parse(e),r=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(r,t,void 0,!0);return n.template(o)}if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new a("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r,o=function(e,t){return r||(r=i()),r.call(this,e,t)};return o._setup=function(e){return r||(r=i()),r._setup(e)},o._child=function(e,t,n){return r||(r=i()),r._child(e,t,n)},o}function o(e,t){if(e===t)return!0;if(l(e)&&l(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!o(e[n],t[n]))return!1;return!0}}var s={},a=e,l=t.isArray,c=[].slice;return s.Compiler=n,n.prototype={compiler:n,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],r=e.opcodes[n];if(i.opcode!==r.opcode||!o(i.args,r.args))return!1}for(t=this.children.length,n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(e)},accept:function(e){return this[e.type](e)},program:function(e){for(var t=e.statements,n=0,i=t.length;i>n;n++)this.accept(t[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var r=0,o=n.depths.list.length;o>r;r++)t=n.depths.list[r],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var r=t.sexpr,o=this.classifySexpr(r);"helper"===o?this.helperSexpr(r,n,i):"simple"===o?(this.simpleSexpr(r),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",r.id.original)):(this.ambiguousSexpr(r,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;for(this.opcode("pushHash"),t=0,n=i.length;n>t;t++)this.pushParam(i[t][1]);for(;t--;)this.opcode("assignToHash",i[t][0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.hash?this.accept(e.hash):this.opcode("push","undefined"),e.context?this.accept(e.context):(this.opcode("getContext",0),this.opcode("pushContext")),this.opcode("invokePartial",t.name,e.indent||""),this.opcode("append")},content:function(e){e.string&&this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),this.opcode(e.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(e,t,n){var i=e.id,r=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.ID(i),this.opcode("invokeAmbiguous",r,o)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),r=e.id,o=r.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new a("You specified knownHelpersOnly, but used the unknown helper "+o,e);r.falsy=!0,this.ID(r),this.opcode("invokeHelper",i.length,r.original,r.isSimple)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts,e.falsy,e.isScoped):this.opcode("pushContext")},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id.depth,e.id.parts)},STRING:function(e){this.opcode("pushString",e.string)},NUMBER:function(e){this.opcode("pushLiteral",e.number)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:c.call(arguments,1)})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var r=e.id.parts[0];i.knownHelpers[r]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;n>t;t++)this.pushParam(e[t])},pushParam:function(e){this.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):(this.trackIds&&this.opcode("pushId",e.type,e.idName||e.stringModeValue),this.accept(e))},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}},s.precompile=i,s.compile=r,s}(n,t),h=function(e,t){"use strict";function n(e){this.value=e}function i(){}var r,o=e.COMPILER_REVISION,s=e.REVISION_CHANGES,a=t;i.prototype={nameLookup:function(e,t){return i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},depthedLookup:function(e){return this.aliases.lookup="this.lookup",'lookup(depths, "'+e+'")'},compilerInfo:function(){var e=o,t=s[e];return[e,t]},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.depths.list.length||this.options.compat;var r,o,s,l=e.opcodes;for(o=0,s=l.length;s>o;o++)r=l[o],this[r.opcode].apply(this,r.args);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new a("Compile completed with content left on stack");var c=this.createFunctionContext(i);if(this.isChild)return c;var u={compiler:this.compilerInfo(),main:c},h=this.context.programs;for(o=0,s=h.length;s>o;o++)h[o]&&(u[o]=h[o]);return this.environment.usePartial&&(u.usePartial=!0),this.options.data&&(u.useData=!0),this.useDepths&&(u.useDepths=!0),this.options.compat&&(u.compat=!0),i||(u.compiler=JSON.stringify(u.compiler),u=this.objectLiteral(u)),u},preamble:function(){this.lastContext=0,this.source=[]},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));for(var i in this.aliases)this.aliases.hasOwnProperty(i)&&(t+=", "+i+"="+this.aliases[i]);var r=["depth0","helpers","partials","data"];this.useDepths&&r.push("depths");var o=this.mergeSource(t);return e?(r.push(o),Function.apply(this,r)):"function("+r.join(",")+") {\n  "+o+"}"},mergeSource:function(e){for(var t,n,i="",r=!this.forceBuffer,o=0,s=this.source.length;s>o;o++){var a=this.source[o];a.appendToBuffer?t=t?t+"\n    + "+a.content:a.content:(t&&(i?i+="buffer += "+t+";\n  ":(n=!0,i=t+";\n  "),t=void 0),i+=a+"\n  ",this.environment.isSimple||(r=!1))}return r?(t||!i)&&(i+="return "+(t||'""')+";\n"):(e+=", buffer = "+(n?"":this.initializeBuffer()),i+=t?"return buffer + "+t+";\n":"return buffer;\n"),e&&(i="var "+e.substring(2)+(n?"":";\n  ")+i),i},blockValue:function(e){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=[this.contextName(0)];this.setupParams(e,0,t);var n=this.popStack();t.splice(1,0,n),this.push("blockHelperMissing.call("+t.join(", ")+")")},ambiguousBlockValue:function(){this.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=[this.contextName(0)];this.setupParams("",0,e,!0),this.flushInline();var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.pendingContent=e},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if ("+e+" != null) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n){var i=0,r=e.length;for(n||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[i++]));r>i;i++)this.replaceStack(function(n){var r=this.nameLookup(n,e[i],"context");return t?" && "+r:" != null ? "+r+" : "+n})},lookupData:function(e,t){this.pushStackLiteral(e?"this.data(data, "+e+")":"data");for(var n=t.length,i=0;n>i;i++)this.replaceStack(function(e){return" && "+this.nameLookup(e,t[i],"data")})},resolvePossibleLambda:function(){this.aliases.lambda="this.lambda",this.push("lambda("+this.popStack()+", "+this.contextName(0)+")")},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push("{"+e.ids.join(",")+"}"),this.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t,n){this.aliases.helperMissing="helpers.helperMissing";var i=this.popStack(),r=this.setupHelper(e,t),o=(n?r.name+" || ":"")+i+" || helperMissing";this.push("(("+o+").call("+r.callParams+"))")},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.aliases.functionType='"function"',this.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),r=this.lastHelper=this.nameLookup("helpers",e,"helper");this.push("((helper = (helper = "+r+" || "+n+") != null ? helper : helperMissing"+(i.paramsInit?"),("+i.paramsInit:"")+"),(typeof helper === functionType ? helper.call("+i.callParams+") : helper))")},invokePartial:function(e,t){var n=[this.nameLookup("partials",e,"partial"),"'"+t+"'","'"+e+"'",this.popStack(),this.popStack(),"helpers","partials"];this.options.data?n.push("data"):this.options.compat&&n.push("undefined"),this.options.compat&&n.push("depths"),this.push("this.invokePartial("+n.join(", ")+")")},assignToHash:function(e){var t,n,i,r=this.popStack();this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),t=this.popStack());var o=this.hash;t&&o.contexts.push("'"+e+"': "+t),n&&o.types.push("'"+e+"': "+n),i&&o.ids.push("'"+e+"': "+i),o.values.push("'"+e+"': ("+r+")")},pushId:function(e,t){"ID"===e||"DATA"===e?this.pushString(t):this.pushStackLiteral("sexpr"===e?"true":"null")},compiler:i,compileChildren:function(e,t){for(var n,i,r=e.children,o=0,s=r.length;s>o;o++){n=r[o],i=new this.compiler;var a=this.matchExistingProgram(n);null==a?(this.context.programs.push(""),a=this.context.programs.length,n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,t,this.context,!this.precompile),this.context.environments[a]=n,this.useDepths=this.useDepths||i.useDepths):(n.index=a,n.name="program"+a)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){var t=this.environment.children[e],n=(t.depths.list,this.useDepths),i=[t.index,"data"];return n&&i.push("depths"),"this.program("+i.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){{var t,i,r,o="";this.isInline()}if(!this.isInline())throw new a("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof n)o=t=s.value,r=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();o="("+this.push(l)+" = "+s+")",t=this.topStack()}var c=e.call(this,t);r||this.popStack(),i&&this.stackSlot--,this.push("("+o+c+")")},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var r=e[t];r instanceof n?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length
},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof n)return i.value;if(!t){if(!this.stackSlot)throw new a("Invalid stack pop");this.stackSlot--}return i},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof n?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(this.quotedString(n)+":"+e[n]);return"{"+t.join(",")+"}"},setupHelper:function(e,t,n){var i=[],r=this.setupParams(t,e,i,n),o=this.nameLookup("helpers",t,"helper");return{params:i,paramsInit:r,name:o,callParams:[this.contextName(0)].concat(i).join(", ")}},setupOptions:function(e,t,n){var i,r,o,s={},a=[],l=[],c=[];s.name=this.quotedString(e),s.hash=this.popStack(),this.trackIds&&(s.hashIds=this.popStack()),this.stringParams&&(s.hashTypes=this.popStack(),s.hashContexts=this.popStack()),r=this.popStack(),o=this.popStack(),(o||r)&&(o||(o="this.noop"),r||(r="this.noop"),s.fn=o,s.inverse=r);for(var u=t;u--;)i=this.popStack(),n[u]=i,this.trackIds&&(c[u]=this.popStack()),this.stringParams&&(l[u]=this.popStack(),a[u]=this.popStack());return this.trackIds&&(s.ids="["+c.join(",")+"]"),this.stringParams&&(s.types="["+l.join(",")+"]",s.contexts="["+a.join(",")+"]"),this.options.data&&(s.data="data"),s},setupParams:function(e,t,n,i){var r=this.objectLiteral(this.setupOptions(e,t,n));return i?(this.useRegister("options"),n.push("options"),"options="+r):(n.push(r),"")}};for(var l="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),c=i.RESERVED_WORDS={},u=0,h=l.length;h>u;u++)c[l[u]]=!0;return i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},r=i}(i,n),d=function(e,t,n,i,r){"use strict";var o,s=e,a=t,l=n.parser,c=n.parse,u=i.Compiler,h=i.compile,d=i.precompile,f=r,p=s.create,g=function(){var e=p();return e.compile=function(t,n){return h(t,n,e)},e.precompile=function(t,n){return d(t,n,e)},e.AST=a,e.Compiler=u,e.JavaScriptCompiler=f,e.Parser=l,e.parse=c,e};return s=g(),s.create=g,s["default"]=s,o=s}(o,s,c,u,h);return d});var ResponsiveIframeModule=function(){var e=function(){$(".readme").find("iframe").each(function(e,t){$(t).wrap('<div class="videoWrapper">')}),$(".videoWrapper").css({position:"relative","padding-bottom":"56.25%","padding-top":"25px",height:"0"}).find("iframe").css({position:"absolute",top:"0",left:"0",width:"100%",height:"100%"})},t=function(){e()};return{init:t}}();$(function(){ResponsiveIframeModule.init()});var profile={};profile.trackProgressesArray=[],profile.trackIdArray=[],$(document).ready(function(){if($(".track-progress-container").length){profile.buildProgressObjects(),$(".topic-progress").tooltip();var e=profile.fetchCurrentTopic();$('.topic-progress[data-topic-slug="'+e+'"]').trigger("click"),profile.bindInactiveTrackClick()}}),profile.bindInactiveTrackClick=function(){$(".inactive-track-container").one("click",function(){$clicked=$(this);var e=$(this).data("track-id"),t=$(this).data("batch-id"),n=$("#profile").data("username");$(this).addClass("viewing"),$.ajax({type:"GET",url:"/"+n,data:{batch_id:t,track_id:e},dataType:"script",success:function(){$caret=$clicked.find(".i"),$caret.toggleClass("fa-caret-down"),$caret.toggleClass("fa-caret-right"),profile.buildProgressObjects()}})})},profile.buildProgressObjects=function(){for(var e=$(".track-progress-container.viewing"),t=0;t<e.length;t++){var n=$(e[t]).data("trackId");if(profile.trackStarted=$(e[t]).data("trackStarted"),-1==profile.trackIdArray.indexOf(n)&&(profile.trackIdArray.push(n),profile.trackStarted)){var i=new TrackProgress(e[t],n);i.lessons.length&&(profile.trackProgressesArray.push(i),profile.initializeBurnChart(i),profile.bindClickEvents(i),profile.collapseCurriculaDivs(i))}}},profile.collapseCurriculaDivs=function(e){e.units.hide()},profile.fetchCurrentTopic=function(){return window.location.hash?window.location.hash.substring(1):$(".topics").data("currentTopicSlug")},profile.bindClickEvents=function(e){$(e.progressContainer).find(".topic-header").on("click",function(){profile.topicProgressToggle(this,e)}),$(e.progressContainer).find(".topic-progress").on("click",function(){profile.topicProgressToggleFromBar(this,e)}),$(e.progressContainer).find(".incomplete").on("click",function(){profile.incompleteOnly(this,e)}),$(e.progressContainer).find(".labs").on("click",function(){profile.labsOnly(this,e)}),$(e.progressContainer).find(".expand").on("click",function(){profile.expandAll(this,e)}),$(e.progressContainer).find(".inactive-track-title, .active-track-title").on("click",function(){profile.toggleTrack(this,e)}),$(e.progressContainer).find('#tabs a:contains("Latest Completed Lessons")').on("click",function(){$(this).tab("show"),$(e.progressContainer).find(".labs, .incomplete, .expand").prop("disabled",!0),$(e.progressContainer).find(".expand").hide()}),$(e.progressContainer).find('#tabs a:contains("All Progress")').on("click",function(){$(this).tab("show"),$(e.progressContainer).find(".labs, .incomplete, .expand").prop("disabled",!1),$(e.progressContainer).find(".expand").show()}),profile.unitProgressToggle()},profile.toggleTrack=function(e){$caret=$(e).find(".i"),$caret.toggleClass("fa-caret-down"),$caret.toggleClass("fa-caret-right"),$(e).siblings().slideToggle("fast")},profile.expandAll=function(e,t){$(e).toggleClass("selected"),t.viewingLabs=!1,t.viewingIncomplete=!1,t.incompleteBtn.removeClass("selected"),t.labsOnlyBtn.removeClass("selected"),0==t.expanded?($(e).text("Collapse All"),t.expanded=!0):(t.expanded=!1,$(e).text("Expand All")),0==t.expanded?(t.topicHeaders.find("i").removeClass("fa-caret-down"),t.topicHeaders.find("i").addClass("fa-caret-right"),t.unitHeaders.find("i").removeClass("fa-caret-down"),t.unitHeaders.find("i").addClass("fa-caret-right"),t.units.hide(),t.topicHeaders.removeClass("topic-header-selected")):(t.topicHeaders.find("i").addClass("fa-caret-down"),t.topicHeaders.find("i").removeClass("fa-caret-right"),t.unitHeaders.find("i").addClass("fa-caret-down"),t.unitHeaders.find("i").removeClass("fa-caret-right"),t.units.show(),t.lessonTables.show(),t.lessons.show(),t.unitProgressCarats.show(),t.topicHeaders.addClass("topic-header-selected")),profile.runFilters(t),profile.showLessonCounts(t)},profile.topicProgressToggle=function(e,t){var n=$(e);n.hasClass("topic-header-selected")?(n.parent().find(".unit").slideToggle("fast"),n.find("i").toggleClass("fa-caret-down, fa-caret-right"),n.find(".unit-header").find("i").toggleClass("fa-caret-down, fa-caret-right"),n.toggleClass("topic-header-selected")):(n.addClass("topic-header-selected"),n.find("i").addClass("fa-caret-down"),n.find("i").removeClass("fa-caret-right"),n.addClass("topic-header-selected"),n.parent().find(".lessons-table, .lesson").show(),n.parent().find(".unit").slideDown("fast")),profile.runFilters(t)},profile.topicProgressToggleFromBar=function(e,t){$(".topic-progress").removeClass("topic-progress-selected"),$(e).addClass("topic-progress-selected"),t.topicSlug=$(e).data("topicSlug");var n=$('.topic-header[data-topic-slug="'+t.topicSlug+'"]');n.trigger("click"),$("html, body").animate({scrollTop:parseInt(n.offset().top)-100},200)},profile.labsOnly=function(e,t){$(e).toggleClass("selected"),0==t.viewingLabs?(t.viewingLabs=!0,profile.showLabCounts(t)):(t.viewingLabs=!1,profile.showLessonCounts(t)),$.when(profile.redrawCanvas(t)).then(profile.initializeBurnChart(t)),profile.runFilters(t)},profile.incompleteOnly=function(e,t){$(e).toggleClass("selected"),t.viewingIncomplete=0==t.viewingIncomplete?!0:!1,profile.runFilters(t)},profile.runFilters=function(e){$(e.progressContainer).find(".topic-header-selected").find(".lesson, .lessons-table, .unit").show(),1==e.viewingLabs&&1==e.viewingIncomplete?(e.readmes.hide(),e.incompleteLessons.hide()):1==e.viewingLabs&&0==e.viewingIncomplete?e.readmes.hide():0==e.viewingLabs&&1==e.viewingIncomplete&&e.incompleteLessons.hide(),$.each(e.units,function(){$(this).find(".lesson:visible").size()<1&&($(this).find("i").first().addClass("fa-caret-down"),$(this).find("i").removeClass("fa-caret-right"),$(this).hide())})},profile.showLabCounts=function(e){$.each(e.topicProgressStatus,function(){var e=$(this);e.data("totalLabsCount")<1?e.closest(".unit").hide():e.data("completedLabsCount")==e.data("totalLabsCount")?(e.parent().find(".topic-light").removeClass("fa-circle-thin"),e.parent().find(".topic-light").addClass("fa-check-circle")):e.data("completedLabsCount")<e.data("totalLabsCount")&&(e.parent().find(".topic-light").removeClass("fa-check-circle"),e.parent().find(".topic-light").addClass("fa-circle-thin")),e.text(e.data("completedLabsCount")+"/"+e.data("totalLabsCount"))}),$.each(e.unitProgressStatus,function(){$status=$(this),$status.data("totalLabsCount")<1?$status.closest(".unit").hide():$status.data("completedLabsCount")==$status.data("totalLabsCount")?($status.parent().find(".unit-light").removeClass("fa-circle-thin"),$status.parent().find(".unit-light").addClass("fa-check-circle")):$status.data("completedLabsCount")<$status.data("totalLabsCount")&&($status.parent().find(".unit-light").removeClass("fa-check-circle"),$status.parent().find(".unit-light").addClass("fa-circle-thin")),$status.text($status.data("completedLabsCount")+"/"+$status.data("totalLabsCount"))})},profile.showLessonCounts=function(e){$(e.progressContainer).find(".topic-header-selected").find(".lesson, .lessons-table, .unit").show(),$.each(e.topicProgressStatus,function(){var e=$(this);e.data("completedLessonsCount")==e.data("totalLessonsCount")?(e.parent().find(".topic-light").removeClass("fa-circle-thin"),e.parent().find(".topic-light").addClass("fa-check-circle")):e.data("completedLessonsCount")<e.data("totalLessonsCount")&&(e.parent().find(".topic-light").removeClass("fa-check-circle"),e.parent().find(".topic-light").addClass("fa-circle-thin")),e.text(e.data("completedLessonsCount")+"/"+e.data("totalLessonsCount"))}),$.each(e.unitProgressStatus,function(){var e=$(this);e.data("completedLessonsCount")==e.data("totalLessonsCount")?(e.parent().find(".unit-light").removeClass("fa-circle-thin"),e.parent().find(".unit-light").addClass("fa-check-circle")):e.data("completedLessonsCount")<e.data("totalLessonsCount")&&(e.parent().find(".unit-light").removeClass("fa-check-circle"),e.parent().find(".unit-light").addClass("fa-circle-thin")),e.text(e.data("completedLessonsCount")+"/"+e.data("totalLessonsCount"))})},profile.unitProgressToggle=function(){$(".unit-header").off("click"),$(".unit-header").on("click",function(){var e=$(this);e.find("i").toggleClass("fa-caret-down"),e.find("i").toggleClass("fa-caret-right"),e.parent().find(".lessons-table").toggle(),e.parent().find(".lesson").toggle(),e.parent().find(".unit").slideToggle("fast")})},profile.initializeBurnChart=function(e){e.chart.userName=e.chartData.data("user-name"),e.chart.batch=e.chartData.data("batch"),e.chart.lineChartData=e.chartData.data(0==e.viewingLabs?"line-chart-data-hash":"lab-line-chart-data-hash"),e.chart.datesForChart=[],e.chart.userProgress=[],e.ctx=$(e.progressContainer).find(".progress-chart-area").get(0).getContext("2d"),e.ctx.canvas.width=830,e.ctx.canvas.height=300,e.chart.progressChart=new Chart(e.ctx),profile.buildLineChart(e)},profile.buildLineChart=function(e){$.each(e.chart.lineChartData,function(t,n){e.chart.datesForChart.push(t),e.chart.userProgress.push(n)});var t={labels:e.chart.datesForChart,datasets:[{data:e.chart.userProgress,label:e.chart.userName,strokeColor:"rgba(41, 206, 90, 1)",pointColor:"rgba(41, 206, 90, 1)",pointStrokeColor:"#fff"}]},n={datasetFill:!1,showTooltips:!1,multiTooltipTemplate:"<%= datasetLabel %> - <%= value %>",scaleBeginAtZero:!0,scaleShowHorizontalLines:!0,scaleShowVerticalLines:!1,scaleShowLabels:!0,scaleLabel:" <%= value %>",maintainAspectRatio:!0,bezierCurve:!1,pointStrokeColor:"rgba(255, 255, 255, 1)",pointDotRadius:7,pointHitDetectionRadius:1,pointHighlightStroke:"rgba(255,255,255,1)",pointDotStrokeWidth:3,pointStrokeColor:"#fff",responsive:!0};e.chart.progressChart.Line(t,n)},profile.redrawCanvas=function(e){var t=e.ctx.canvas;t.remove();var n=document.createElement("canvas");n.className+="progress-chart-area",$(e.progressContainer).find(".progress-container").append(n)},$(document).ready(function(){if($("#tracks-container").length){var e,t,n,i,r,o=$(".track-doughnut-chart");$.when($.each(o,function(o,s){n=$(s).data("completedLessons"),r=$(s).data("totalLessons"),i=r-n,e=s.getContext("2d"),t=[{value:n,color:"#29CE5A",highlight:"#29CE5A",label:"Lessons Completed"},{value:i,color:"#FFFFFF",highlight:"#FFFFFF",label:"Lessons to Complete"}],new Chart(e).Doughnut(t,{percentageInnerCutout:70,animationEasing:!1,animateRotate:!1})})).then(function(){setTimeout(function(){adjustBrickHeight()},1e3)}),$(".track-header").on("click",function(){$(this).find("form").submit()}),$(".current-lesson").on("click",function(){$(this).find("form").submit()})}}),!function(e){"use strict";e.extend({tablesorter:new function(){function t(){var e=arguments[0],t=arguments.length>1?Array.prototype.slice.call(arguments):e;"undefined"!=typeof console&&"undefined"!=typeof console.log?console[/error/i.test(e)?"error":/warn/i.test(e)?"warn":"log"](t):alert(t)}function n(e,n){t(e+" ("+((new Date).getTime()-n.getTime())+"ms)")}function i(e){for(var t in e)return!1;return!0}function r(t,n,i){if(!n)return"";var r,o=t.config,s=o.textExtraction||"",a="";return a="basic"===s?e(n).attr(o.textAttribute)||n.textContent||n.innerText||e(n).text()||"":"function"==typeof s?s(n,t,i):"function"==typeof(r=k.getColumnData(t,s,i))?r(n,t,i):n.textContent||n.innerText||e(n).text()||"",e.trim(a)}function o(e,n,i,o){for(var s,a=k.parsers.length,l=!1,c="",u=!0;""===c&&u;)i++,n[i]?(l=n[i].cells[o],c=r(e,l,o),e.config.debug&&t("Checking if value was empty on row "+i+", column: "+o+': "'+c+'"')):u=!1;for(;--a>=0;)if(s=k.parsers[a],s&&"text"!==s.id&&s.is&&s.is(c,e,l))return s;return k.getParserById("text")}function s(e){var i,r,s,a,l,c,u,h,d,f,p=e.config,g=p.$tbodies=p.$table.children("tbody:not(."+p.cssInfoBlock+")"),m=0,v="",y=g.length;if(0===y)return p.debug?t("Warning: *Empty table!* Not building a parser cache"):"";for(p.debug&&(f=new Date,t("Detecting parsers for each column")),r={extractors:[],parsers:[]};y>m;){if(i=g[m].rows,i[m])for(s=p.columns,a=0;s>a;a++)l=p.$headers.filter('[data-column="'+a+'"]:last'),c=k.getColumnData(e,p.headers,a),d=k.getParserById(k.getData(l,c,"extractor")),h=k.getParserById(k.getData(l,c,"sorter")),u="false"===k.getData(l,c,"parser"),p.empties[a]=(k.getData(l,c,"empty")||p.emptyTo||(p.emptyToBottom?"bottom":"top")).toLowerCase(),p.strings[a]=(k.getData(l,c,"string")||p.stringTo||"max").toLowerCase(),u&&(h=k.getParserById("no-parser")),d||(d=!1),h||(h=o(e,i,-1,a)),p.debug&&(v+="column:"+a+"; extractor:"+d.id+"; parser:"+h.id+"; string:"+p.strings[a]+"; empty: "+p.empties[a]+"\n"),r.parsers[a]=h,r.extractors[a]=d;m+=r.parsers.length?y:1}p.debug&&(t(v?v:"No parsers detected"),n("Completed detecting parsers",f)),p.parsers=r.parsers,p.extractors=r.extractors}function a(i){var o,s,a,l,c,u,h,d,f,p,g,m,v,y,b=i.config,w=b.$table.children("tbody"),x=b.extractors,C=b.parsers;if(b.cache={},b.totalRows=0,!C)return b.debug?t("Warning: *Empty table!* Not building a cache"):"";for(b.debug&&(g=new Date),b.showProcessing&&k.isProcessing(i,!0),h=0;h<w.length;h++)if(y=[],o=b.cache[h]={normalized:[]},!w.eq(h).hasClass(b.cssInfoBlock)){for(m=w[h]&&w[h].rows.length||0,c=0;m>c;++c)if(v={child:[]},d=e(w[h].rows[c]),f=[new Array(b.columns)],p=[],d.hasClass(b.cssChildRow)&&0!==c)s=o.normalized.length-1,o.normalized[s][b.columns].$row=o.normalized[s][b.columns].$row.add(d),d.prev().hasClass(b.cssChildRow)||d.prev().addClass(k.css.cssHasChild),v.child[s]=e.trim(d[0].textContent||d[0].innerText||d.text()||"");else{for(v.$row=d,v.order=c,u=0;u<b.columns;++u)"undefined"!=typeof C[u]?(s=r(i,d[0].cells[u],u),a="undefined"==typeof x[u].id?s:x[u].format(s,i,d[0].cells[u],u),l="no-parser"===C[u].id?"":C[u].format(a,i,d[0].cells[u],u),p.push(b.ignoreCase&&"string"==typeof l?l.toLowerCase():l),"numeric"===(C[u].type||"").toLowerCase()&&(y[u]=Math.max(Math.abs(l)||0,y[u]||0))):b.debug&&t("No parser found for cell:",d[0].cells[u],"does it have a header?");p[b.columns]=v,o.normalized.push(p)}o.colMax=y,b.totalRows+=o.normalized.length}b.showProcessing&&k.isProcessing(i),b.debug&&n("Building cache for "+m+" rows",g)}function l(t,r){var o,s,a,l,c,u,h,d=t.config,f=d.widgetOptions,p=t.tBodies,g=[],m=d.cache;if(i(m))return d.appender?d.appender(t,g):t.isUpdating?d.$table.trigger("updateComplete",t):"";for(d.debug&&(h=new Date),u=0;u<p.length;u++)if(a=e(p[u]),a.length&&!a.hasClass(d.cssInfoBlock)){for(l=k.processTbody(t,a,!0),o=m[u].normalized,s=o.length,c=0;s>c;c++)g.push(o[c][d.columns].$row),d.appender&&(!d.pager||d.pager.removeRows&&f.pager_removeRows||d.pager.ajax)||l.append(o[c][d.columns].$row);k.processTbody(t,l,!1)}d.appender&&d.appender(t,g),d.debug&&n("Rebuilt table",h),r||d.appender||k.applyWidget(t),t.isUpdating&&d.$table.trigger("updateComplete",t)}function c(e){return/^d/i.test(e)||1===e}function u(i){var r,o,s,a,l,u,h,f=i.config;f.headerList=[],f.headerContent=[],f.debug&&(h=new Date),f.columns=k.computeColumnIndex(f.$table.children("thead, tfoot").children("tr")),a=f.cssIcon?'<i class="'+(f.cssIcon===k.css.icon?k.css.icon:f.cssIcon+" "+k.css.icon)+'"></i>':"",f.$headers=e(i).find(f.selectorHeaders).each(function(t){o=e(this),r=k.getColumnData(i,f.headers,t,!0),f.headerContent[t]=e(this).html(),""!==f.headerTemplate&&(l=f.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,a),f.onRenderTemplate&&(s=f.onRenderTemplate.apply(o,[t,l]),s&&"string"==typeof s&&(l=s)),e(this).html('<div class="'+k.css.headerIn+'">'+l+"</div>")),f.onRenderHeader&&f.onRenderHeader.apply(o,[t]),this.column=parseInt(e(this).attr("data-column"),10),this.order=c(k.getData(o,r,"sortInitialOrder")||f.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,u=k.getData(o,r,"lockedOrder")||!1,"undefined"!=typeof u&&u!==!1&&(this.order=this.lockedOrder=c(u)?[1,1,1]:[0,0,0]),o.addClass(k.css.header+" "+f.cssHeader),f.headerList[t]=this,o.parent().addClass(k.css.headerRow+" "+f.cssHeaderRow).attr("role","row"),f.tabIndex&&o.attr("tabindex",0)}).attr({scope:"col",role:"columnheader"}),d(i),f.debug&&(n("Built headers:",h),t(f.$headers))}function h(e,t,n){var i=e.config;i.$table.find(i.selectorRemove).remove(),s(e),a(e),w(i.$table,t,n)}function d(t){var n,i,r,o=t.config;o.$headers.each(function(s,a){i=e(a),r=k.getColumnData(t,o.headers,s,!0),n="false"===k.getData(a,r,"sorter")||"false"===k.getData(a,r,"parser"),a.sortDisabled=n,i[n?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+n),t.id&&(n?i.removeAttr("aria-controls"):i.attr("aria-controls",t.id))})}function f(t){var n,i,r,o=t.config,s=o.sortList,a=s.length,l=k.css.sortNone+" "+o.cssNone,c=[k.css.sortAsc+" "+o.cssAsc,k.css.sortDesc+" "+o.cssDesc],u=["ascending","descending"],h=e(t).find("tfoot tr").children().add(o.$extraHeaders).removeClass(c.join(" "));for(o.$headers.removeClass(c.join(" ")).addClass(l).attr("aria-sort","none"),i=0;a>i;i++)if(2!==s[i][1]&&(n=o.$headers.not(".sorter-false").filter('[data-column="'+s[i][0]+'"]'+(1===a?":last":"")),n.length)){for(r=0;r<n.length;r++)n[r].sortDisabled||n.eq(r).removeClass(l).addClass(c[s[i][1]]).attr("aria-sort",u[s[i][1]]);h.length&&h.filter('[data-column="'+s[i][0]+'"]').removeClass(l).addClass(c[s[i][1]])}o.$headers.not(".sorter-false").each(function(){var t=e(this),n=this.order[(this.count+1)%(o.sortReset?3:2)],i=t.text()+": "+k.language[t.hasClass(k.css.sortAsc)?"sortAsc":t.hasClass(k.css.sortDesc)?"sortDesc":"sortNone"]+k.language[0===n?"nextAsc":1===n?"nextDesc":"nextNone"];t.attr("aria-label",i)})}function p(t){var n,i,r=t.config;r.widthFixed&&0===r.$table.find("colgroup").length&&(n=e("<colgroup>"),i=e(t).width(),e(t.tBodies).not("."+r.cssInfoBlock).find("tr:first").children(":visible").each(function(){n.append(e("<col>").css("width",parseInt(e(this).width()/i*1e3,10)/10+"%"))}),r.$table.prepend(n))}function g(t,n){var i,r,o,s,a,l=t.config,c=n||l.sortList;l.sortList=[],e.each(c,function(t,n){if(s=parseInt(n[0],10),o=l.$headers.filter('[data-column="'+s+'"]:last')[0]){switch(r=(""+n[1]).match(/^(1|d|s|o|n)/),r=r?r[0]:""){case"1":case"d":r=1;break;case"s":r=a||0;break;case"o":i=o.order[(a||0)%(l.sortReset?3:2)],r=0===i?1:1===i?0:2;break;case"n":o.count=o.count+1,r=o.order[o.count%(l.sortReset?3:2)];break;default:r=0}a=0===t?r:a,i=[s,parseInt(r,10)||0],l.sortList.push(i),r=e.inArray(i[1],o.order),o.count=r>=0?r:i[1]%(l.sortReset?3:2)}})}function m(e,t){return e&&e[t]?e[t].type||"":""}function v(t,n,i){if(t.isUpdating)return setTimeout(function(){v(t,n,i)},50);var r,o,s,a,c,u=t.config,h=!i[u.sortMultiSortKey],d=u.$table;if(d.trigger("sortStart",t),n.count=i[u.sortResetKey]?2:(n.count+1)%(u.sortReset?3:2),u.sortRestart&&(o=n,u.$headers.each(function(){this===o||!h&&e(this).is("."+k.css.sortDesc+",."+k.css.sortAsc)||(this.count=-1)})),o=n.column,h){if(u.sortList=[],null!==u.sortForce)for(r=u.sortForce,s=0;s<r.length;s++)r[s][0]!==o&&u.sortList.push(r[s]);if(a=n.order[n.count],2>a&&(u.sortList.push([o,a]),n.colSpan>1))for(s=1;s<n.colSpan;s++)u.sortList.push([o+s,a])}else{if(u.sortAppend&&u.sortList.length>1)for(s=0;s<u.sortAppend.length;s++)c=k.isValueInArray(u.sortAppend[s][0],u.sortList),c>=0&&u.sortList.splice(c,1);if(k.isValueInArray(o,u.sortList)>=0)for(s=0;s<u.sortList.length;s++)c=u.sortList[s],a=u.$headers.filter('[data-column="'+c[0]+'"]:last')[0],c[0]===o&&(c[1]=a.order[n.count],2===c[1]&&(u.sortList.splice(s,1),a.count=-1));else if(a=n.order[n.count],2>a&&(u.sortList.push([o,a]),n.colSpan>1))for(s=1;s<n.colSpan;s++)u.sortList.push([o+s,a])}if(null!==u.sortAppend)for(r=u.sortAppend,s=0;s<r.length;s++)r[s][0]!==o&&u.sortList.push(r[s]);d.trigger("sortBegin",t),setTimeout(function(){f(t),y(t),l(t),d.trigger("sortEnd",t)},1)}function y(e){var t,r,o,s,a,l,c,u,h,d,f,p=0,g=e.config,v=g.textSorter||"",y=g.sortList,b=y.length,w=e.tBodies.length;if(!g.serverSideSorting&&!i(g.cache)){for(g.debug&&(a=new Date),r=0;w>r;r++)l=g.cache[r].colMax,c=g.cache[r].normalized,c.sort(function(n,i){for(t=0;b>t;t++){if(s=y[t][0],u=y[t][1],p=0===u,g.sortStable&&n[s]===i[s]&&1===b)return n[g.columns].order-i[g.columns].order;if(o=/n/i.test(m(g.parsers,s)),o&&g.strings[s]?(o="boolean"==typeof g.string[g.strings[s]]?(p?1:-1)*(g.string[g.strings[s]]?-1:1):g.strings[s]?g.string[g.strings[s]]||0:0,h=g.numberSorter?g.numberSorter(n[s],i[s],p,l[s],e):k["sortNumeric"+(p?"Asc":"Desc")](n[s],i[s],o,l[s],s,e)):(d=p?n:i,f=p?i:n,h="function"==typeof v?v(d[s],f[s],p,s,e):"object"==typeof v&&v.hasOwnProperty(s)?v[s](d[s],f[s],p,s,e):k["sortNatural"+(p?"Asc":"Desc")](n[s],i[s],s,e,g)),h)return h}return n[g.columns].order-i[g.columns].order});g.debug&&n("Sorting on "+y.toString()+" and dir "+u+" time",a)}}function b(t,n){var i=t[0];i.isUpdating&&t.trigger("updateComplete",i),e.isFunction(n)&&n(t[0])}function w(e,t,n){var i=e[0].config.sortList;t!==!1&&!e[0].isProcessing&&i.length?e.trigger("sorton",[i,function(){b(e,n)},!0]):(b(e,n),k.applyWidget(e[0],!1))}function x(t){var n=t.config,o=n.$table;o.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(n.namespace+" ")).bind("sortReset"+n.namespace,function(i,r){i.stopPropagation(),n.sortList=[],f(t),y(t),l(t),e.isFunction(r)&&r(t)}).bind("updateAll"+n.namespace,function(e,i,r){e.stopPropagation(),t.isUpdating=!0,k.refreshWidgets(t,!0,!0),k.restoreHeaders(t),u(t),k.bindEvents(t,n.$headers,!0),x(t),h(t,i,r)}).bind("update"+n.namespace+" updateRows"+n.namespace,function(e,n,i){e.stopPropagation(),t.isUpdating=!0,d(t),h(t,n,i)}).bind("updateCell"+n.namespace,function(i,s,a,l){i.stopPropagation(),t.isUpdating=!0,o.find(n.selectorRemove).remove();var c,u,h,d,f=o.find("tbody"),p=e(s),g=f.index(e.fn.closest?p.closest("tbody"):p.parents("tbody").filter(":first")),m=e.fn.closest?p.closest("tr"):p.parents("tr").filter(":first");s=p[0],f.length&&g>=0&&(h=f.eq(g).find("tr").index(m),d=p.index(),n.cache[g].normalized[h][n.columns].$row=m,u="undefined"==typeof n.extractors[d].id?r(t,s,d):n.extractors[d].format(r(t,s,d),t,s,d),c="no-parser"===n.parsers[d].id?"":n.parsers[d].format(u,t,s,d),n.cache[g].normalized[h][d]=n.ignoreCase&&"string"==typeof c?c.toLowerCase():c,"numeric"===(n.parsers[d].type||"").toLowerCase()&&(n.cache[g].colMax[d]=Math.max(Math.abs(c)||0,n.cache[g].colMax[d]||0)),w(o,a,l))}).bind("addRows"+n.namespace,function(a,l,c,u){if(a.stopPropagation(),t.isUpdating=!0,i(n.cache))d(t),h(t,c,u);else{l=e(l).attr("role","row");var f,p,g,m,v,y,b,x=l.filter("tr").length,k=o.find("tbody").index(l.parents("tbody").filter(":first"));for(n.parsers&&n.parsers.length||s(t),f=0;x>f;f++){for(g=l[f].cells.length,b=[],y={child:[],$row:l.eq(f),order:n.cache[k].normalized.length},p=0;g>p;p++)m="undefined"==typeof n.extractors[p].id?r(t,l[f].cells[p],p):n.extractors[p].format(r(t,l[f].cells[p],p),t,l[f].cells[p],p),v="no-parser"===n.parsers[p].id?"":n.parsers[p].format(m,t,l[f].cells[p],p),b[p]=n.ignoreCase&&"string"==typeof v?v.toLowerCase():v,"numeric"===(n.parsers[p].type||"").toLowerCase()&&(n.cache[k].colMax[p]=Math.max(Math.abs(b[p])||0,n.cache[k].colMax[p]||0));b.push(y),n.cache[k].normalized.push(b)}w(o,c,u)}}).bind("updateComplete"+n.namespace,function(){t.isUpdating=!1}).bind("sorton"+n.namespace,function(n,r,s,c){var u=t.config;n.stopPropagation(),o.trigger("sortStart",this),g(t,r),f(t),u.delayInit&&i(u.cache)&&a(t),o.trigger("sortBegin",this),y(t),l(t,c),o.trigger("sortEnd",this),k.applyWidget(t),e.isFunction(s)&&s(t)}).bind("appendCache"+n.namespace,function(n,i,r){n.stopPropagation(),l(t,r),e.isFunction(i)&&i(t)}).bind("updateCache"+n.namespace,function(i,r){n.parsers&&n.parsers.length||s(t),a(t),e.isFunction(r)&&r(t)}).bind("applyWidgetId"+n.namespace,function(e,i){e.stopPropagation(),k.getWidgetById(i).format(t,n,n.widgetOptions)}).bind("applyWidgets"+n.namespace,function(e,n){e.stopPropagation(),k.applyWidget(t,n)}).bind("refreshWidgets"+n.namespace,function(e,n,i){e.stopPropagation(),k.refreshWidgets(t,n,i)}).bind("destroy"+n.namespace,function(e,n,i){e.stopPropagation(),k.destroy(t,n,i)}).bind("resetToLoadState"+n.namespace,function(){k.refreshWidgets(t,!0,!0),n=e.extend(!0,k.defaults,n.originalSettings),t.hasInitialized=!1,k.setup(t,n)})}var k=this;k.version="2.17.8",k.parsers=[],k.widgets=[],k.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},k.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},k.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},k.log=t,k.benchmark=n,k.construct=function(t){return this.each(function(){var n=this,i=e.extend(!0,{},k.defaults,t);i.originalSettings=t,!n.hasInitialized&&k.buildTable&&"TABLE"!==this.tagName?k.buildTable(n,i):k.setup(n,i)})},k.setup=function(n,i){if(!n||!n.tHead||0===n.tBodies.length||n.hasInitialized===!0)return i.debug?t("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var r="",o=e(n),l=e.metadata;n.hasInitialized=!1,n.isProcessing=!0,n.config=i,e.data(n,"tablesorter",i),i.debug&&e.data(n,"startoveralltimer",new Date),i.supportsDataObject=function(e){return e[0]=parseInt(e[0],10),e[0]>1||1===e[0]&&parseInt(e[1],10)>=4}(e.fn.jquery.split(".")),i.string={max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},i.emptyTo=i.emptyTo.toLowerCase(),i.stringTo=i.stringTo.toLowerCase(),/tablesorter\-/.test(o.attr("class"))||(r=""!==i.theme?" tablesorter-"+i.theme:""),i.table=n,i.$table=o.addClass(k.css.table+" "+i.tableClass+r).attr("role","grid"),i.$headers=o.find(i.selectorHeaders),i.namespace=i.namespace?"."+i.namespace.replace(/\W/g,""):".tablesorter"+Math.random().toString(16).slice(2),i.$table.children().children("tr").attr("role","row"),i.$tbodies=o.children("tbody:not(."+i.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),i.$table.find("caption").length&&i.$table.attr("aria-labelledby","theCaption"),i.widgetInit={},i.textExtraction=i.$table.attr("data-text-extraction")||i.textExtraction||"basic",u(n),p(n),s(n),i.totalRows=0,i.delayInit||a(n),k.bindEvents(n,i.$headers,!0),x(n),i.supportsDataObject&&"undefined"!=typeof o.data().sortlist?i.sortList=o.data().sortlist:l&&o.metadata()&&o.metadata().sortlist&&(i.sortList=o.metadata().sortlist),k.applyWidget(n,!0),i.sortList.length>0?o.trigger("sorton",[i.sortList,{},!i.initWidgets,!0]):(f(n),i.initWidgets&&k.applyWidget(n,!1)),i.showProcessing&&o.unbind("sortBegin"+i.namespace+" sortEnd"+i.namespace).bind("sortBegin"+i.namespace+" sortEnd"+i.namespace,function(e){clearTimeout(i.processTimer),k.isProcessing(n),"sortBegin"===e.type&&(i.processTimer=setTimeout(function(){k.isProcessing(n,!0)},500))}),n.hasInitialized=!0,n.isProcessing=!1,i.debug&&k.benchmark("Overall initialization time",e.data(n,"startoveralltimer")),o.trigger("tablesorter-initialized",n),"function"==typeof i.initialized&&i.initialized(n)},k.getColumnData=function(t,n,i,r){if("undefined"!=typeof n&&null!==n){t=e(t)[0];var o,s,a,l=t.config;if(n[i])return r?n[i]:n[l.$headers.index(l.$headers.filter('[data-column="'+i+'"]:last'))];for(a in n)if("string"==typeof a&&(s=r?l.$headers.eq(i).filter(a):l.$headers.filter('[data-column="'+i+'"]:last').filter(a),s.length))return n[a];return o}},k.computeColumnIndex=function(t){var n,i,r,o,s,a,l,c,u,h,d,f,p,g=[],m={},v=0;for(n=0;n<t.length;n++)for(l=t[n].cells,i=0;i<l.length;i++){for(a=l[i],s=e(a),c=a.parentNode.rowIndex,u=c+"-"+s.index(),h=a.rowSpan||1,d=a.colSpan||1,"undefined"==typeof g[c]&&(g[c]=[]),r=0;r<g[c].length+1;r++)if("undefined"==typeof g[c][r]){f=r;break}for(m[u]=f,v=Math.max(f,v),s.attr({"data-column":f}),r=c;c+h>r;r++)for("undefined"==typeof g[r]&&(g[r]=[]),p=g[r],o=f;f+d>o;o++)p[o]="x"}return v+1},k.isProcessing=function(t,n,i){t=e(t);var r=t[0].config,o=i||t.find("."+k.css.header);n?("undefined"!=typeof i&&r.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:k.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)>=0})),t.add(o).addClass(k.css.processing+" "+r.cssProcessing)):t.add(o).removeClass(k.css.processing+" "+r.cssProcessing)},k.processTbody=function(t,n,i){t=e(t)[0];var r;return i?(t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),r=e.fn.detach?n.detach():n.remove()):(r=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(r),r.remove(),void(t.isProcessing=!1))},k.clearTableBody=function(t){e(t)[0].config.$tbodies.children().detach()},k.bindEvents=function(t,n,r){t=e(t)[0];var o,s=t.config;r!==!0&&(s.$extraHeaders=s.$extraHeaders?s.$extraHeaders.add(n):n),n.find(s.selectorSort).add(n.filter(s.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(s.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(s.namespace+" "),function(r,l){var c,u=r.type;
if(!(1!==(r.which||r.button)&&!/sort|keyup/.test(u)||"keyup"===u&&13!==r.which||"mouseup"===u&&l!==!0&&(new Date).getTime()-o>250)){if("mousedown"===u)return o=(new Date).getTime(),/(input|select|button|textarea)/i.test(r.target.tagName)?"":!s.cancelSelection;s.delayInit&&i(s.cache)&&a(t),c=e.fn.closest?e(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:e(this).parents("th, td")[0],c=s.$headers[n.index(c)],c.sortDisabled||v(t,c,r)}}),s.cancelSelection&&n.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},k.restoreHeaders=function(t){var n=e(t)[0].config;n.$table.find(n.selectorHeaders).each(function(t){e(this).find("."+k.css.headerIn).length&&e(this).html(n.headerContent[t])})},k.destroy=function(t,n,i){if(t=e(t)[0],t.hasInitialized){k.refreshWidgets(t,!0,!0);var r=e(t),o=t.config,s=r.find("thead:first"),a=s.find("tr."+k.css.headerRow).removeClass(k.css.headerRow+" "+o.cssHeaderRow),l=r.find("tfoot:first > tr").children("th, td");n===!1&&e.inArray("uitheme",o.widgets)>=0&&(r.trigger("applyWidgetId",["uitheme"]),r.trigger("applyWidgetId",["zebra"])),s.find("tr").not(a).remove(),r.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(o.namespace+" ")),o.$headers.add(l).removeClass([k.css.header,o.cssHeader,o.cssAsc,o.cssDesc,k.css.sortAsc,k.css.sortDesc,k.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),a.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ")),k.restoreHeaders(t),r.toggleClass(k.css.table+" "+o.tableClass+" tablesorter-"+o.theme,n===!1),t.hasInitialized=!1,delete t.config.cache,"function"==typeof i&&i(t)}},k.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},k.sortNatural=function(e,t){if(e===t)return 0;var n,i,r,o,s,a,l,c,u=k.regex;if(u.hex.test(t)){if(i=parseInt(e.match(u.hex),16),o=parseInt(t.match(u.hex),16),o>i)return-1;if(i>o)return 1}for(n=e.replace(u.chunk,"\\0$1\\0").replace(u.chunks,"").split("\\0"),r=t.replace(u.chunk,"\\0$1\\0").replace(u.chunks,"").split("\\0"),c=Math.max(n.length,r.length),l=0;c>l;l++){if(s=isNaN(n[l])?n[l]||0:parseFloat(n[l])||0,a=isNaN(r[l])?r[l]||0:parseFloat(r[l])||0,isNaN(s)!==isNaN(a))return isNaN(s)?1:-1;if(typeof s!=typeof a&&(s+="",a+=""),a>s)return-1;if(s>a)return 1}return 0},k.sortNaturalAsc=function(e,t,n,i,r){if(e===t)return 0;var o=r.string[r.empties[n]||r.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:o||1:k.sortNatural(e,t)},k.sortNaturalDesc=function(e,t,n,i,r){if(e===t)return 0;var o=r.string[r.empties[n]||r.emptyTo];return""===e&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===t&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:k.sortNatural(t,e)},k.sortText=function(e,t){return e>t?1:t>e?-1:0},k.getTextValue=function(e,t,n){if(n){var i,r=e?e.length:0,o=n+t;for(i=0;r>i;i++)o+=e.charCodeAt(i);return t*o}return 0},k.sortNumericAsc=function(e,t,n,i,r,o){if(e===t)return 0;var s=o.config,a=s.string[s.empties[r]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(e)&&(e=k.getTextValue(e,n,i)),isNaN(t)&&(t=k.getTextValue(t,n,i)),e-t)},k.sortNumericDesc=function(e,t,n,i,r,o){if(e===t)return 0;var s=o.config,a=s.string[s.empties[r]||s.emptyTo];return""===e&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===t&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(e)&&(e=k.getTextValue(e,n,i)),isNaN(t)&&(t=k.getTextValue(t,n,i)),t-e)},k.sortNumeric=function(e,t){return e-t},k.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6",O:"\xd3\xd2\xd4\xd5\xd6",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},k.replaceAccents=function(e){var t,n="[",i=k.characterEquivalents;if(!k.characterRegex){k.characterRegexArray={};for(t in i)"string"==typeof t&&(n+=i[t],k.characterRegexArray[t]=new RegExp("["+i[t]+"]","g"));k.characterRegex=new RegExp(n+"]")}if(k.characterRegex.test(e))for(t in i)"string"==typeof t&&(e=e.replace(k.characterRegexArray[t],t));return e},k.isValueInArray=function(e,t){var n,i=t.length;for(n=0;i>n;n++)if(t[n][0]===e)return n;return-1},k.addParser=function(e){var t,n=k.parsers.length,i=!0;for(t=0;n>t;t++)k.parsers[t].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&k.parsers.push(e)},k.getParserById=function(e){if("false"==e)return!1;var t,n=k.parsers.length;for(t=0;n>t;t++)if(k.parsers[t].id.toLowerCase()===e.toString().toLowerCase())return k.parsers[t];return!1},k.addWidget=function(e){k.widgets.push(e)},k.hasWidget=function(t,n){return t=e(t),t.length&&t[0].config&&t[0].config.widgetInit[n]||!1},k.getWidgetById=function(e){var t,n,i=k.widgets.length;for(t=0;i>t;t++)if(n=k.widgets[t],n&&n.hasOwnProperty("id")&&n.id.toLowerCase()===e.toLowerCase())return n},k.applyWidget=function(t,i){t=e(t)[0];var r,o,s,a=t.config,l=a.widgetOptions,c=[];i!==!1&&t.hasInitialized&&(t.isApplyingWidgets||t.isUpdating)||(a.debug&&(r=new Date),a.widgets.length&&(t.isApplyingWidgets=!0,a.widgets=e.grep(a.widgets,function(t,n){return e.inArray(t,a.widgets)===n}),e.each(a.widgets||[],function(e,t){s=k.getWidgetById(t),s&&s.id&&(s.priority||(s.priority=10),c[e]=s)}),c.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),e.each(c,function(n,r){r&&((i||!a.widgetInit[r.id])&&(a.widgetInit[r.id]=!0,r.hasOwnProperty("options")&&(l=t.config.widgetOptions=e.extend(!0,{},r.options,l)),r.hasOwnProperty("init")&&r.init(t,r,a,l)),!i&&r.hasOwnProperty("format")&&r.format(t,a,l,!1))})),setTimeout(function(){t.isApplyingWidgets=!1},0),a.debug&&(o=a.widgets.length,n("Completed "+(i===!0?"initializing ":"applying ")+o+" widget"+(1!==o?"s":""),r)))},k.refreshWidgets=function(n,i,r){n=e(n)[0];var o,s=n.config,a=s.widgets,l=k.widgets,c=l.length;for(o=0;c>o;o++)l[o]&&l[o].id&&(i||e.inArray(l[o].id,a)<0)&&(s.debug&&t('Refeshing widgets: Removing "'+l[o].id+'"'),l[o].hasOwnProperty("remove")&&s.widgetInit[l[o].id]&&(l[o].remove(n,s,s.widgetOptions),s.widgetInit[l[o].id]=!1));r!==!0&&k.applyWidget(n,i)},k.getData=function(t,n,i){var r,o,s="",a=e(t);return a.length?(r=e.metadata?a.metadata():!1,o=" "+(a.attr("class")||""),"undefined"!=typeof a.data(i)||"undefined"!=typeof a.data(i.toLowerCase())?s+=a.data(i)||a.data(i.toLowerCase()):r&&"undefined"!=typeof r[i]?s+=r[i]:n&&"undefined"!=typeof n[i]?s+=n[i]:" "!==o&&o.match(" "+i+"-")&&(s=o.match(new RegExp("\\s"+i+"-([\\w-]+)"))[1]||""),e.trim(s)):""},k.formatFloat=function(t,n){if("string"!=typeof t||""===t)return t;var i,r=n&&n.config?n.config.usNumberFormat!==!1:"undefined"!=typeof n?n:!0;return t=r?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),i=parseFloat(t),isNaN(i)?e.trim(t):i},k.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):!0}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),t.addParser({id:"text",is:function(){return!0},format:function(n,i){var r=i.config;return n&&(n=e.trim(r.ignoreCase?n.toLocaleLowerCase():n),n=r.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,i){var r=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),i);return n&&"number"==typeof r?r:n?e.trim(n&&i.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[+\-,. ]/g,""))},format:function(n,i){var r=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),i);return n&&"number"==typeof r?r:n?e.trim(n&&i.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var i,r=e?e.split("."):"",o="",s=r.length;for(i=0;s>i;i++)o+=("00"+r[i]).slice(-3);return e?t.formatFloat(o,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},parsed:!0,type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(""!==e?new Date(e.replace(/-/g,"/")).getTime()||e:"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,i,r){if(e){var o=n.config,s=o.$headers.filter("[data-column="+r+"]:last"),a=s.length&&s[0].dateFormat||t.getData(s,t.getColumnData(n,o.headers,r),"dateFormat")||o.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===a?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===a?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===a&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat(new Date(e).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||e,n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,i){var r=n.config,o=r.parserMetadataName?r.parserMetadataName:"sortValue";return e(i).metadata()[o]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,i,r){var o,s,a,l,c,u,h,d=new RegExp(i.cssChildRow,"i"),f=i.$tbodies;for(i.debug&&(u=new Date),h=0;h<f.length;h++)l=0,o=f.eq(h),s=o.children("tr:visible").not(i.selectorRemove),s.each(function(){a=e(this),d.test(this.className)||l++,c=l%2===0,a.removeClass(r.zebra[c?1:0]).addClass(r.zebra[c?0:1])});i.debug&&t.benchmark("Applying Zebra widget",u)},remove:function(t,n,i){var r,o,s=n.$tbodies,a=(i.zebra||["even","odd"]).join(" ");for(r=0;r<s.length;r++)o=e.tablesorter.processTbody(t,s.eq(r),!0),o.children().removeClass(a),e.tablesorter.processTbody(t,o,!1)}})}(jQuery),$(function(){var e=window.location.search.substr(1),t=$.deparam(e),n=t.batch_id,i=t.track_id,r=t.question_uid,o=t.new_question,s=t.show_all_questions;if($(".handraise-lesson-data").length)try{FIChat.configure({currentLesson:$(".handraise-lesson-data").data("current-lesson-id"),userToken:$(".handraise-lesson-data").data("user-token"),nextLessons:$(".handraise-lesson-data").data("next-three-lesson-ids"),prevLessons:$(".handraise-lesson-data").data("previous-three-lesson-ids"),allLessons:$(".handraise-lesson-data").data("all-lesson-ids"),admin:$(".handraise-lesson-data").data("user-teacher"),button:"#need-help",buttonTriangleOffset:30,userBatch:n||$(".handraise-lesson-data").data("user-batch-id"),userTrack:i||$(".handraise-lesson-data").data("user-track-id"),allPrevLessons:$(".handraise-lesson-data").data("all-previous-lesson-ids")}),FIChat.start()}catch(a){}$("#application-data").data("lesson-id")&&$("#need-help").addClass("lesson-page"),r&&FIChat.showQuestion(r),o&&"true"===o&&FIChat.open({focusInput:!0}),s&&"true"===s&&FIChat.open({collapsedQuestionInput:!0})}),$(document).ready(function(){function e(){$(".bug-report-textfield").val("")}$(".bug-report-submit").click(function(t){t.preventDefault(),$("#bug_report_path").val(location),$(".bug-report-textfield").val()?($(".bug-report-submit").prop("disabled",!0),$.ajax({type:"POST",url:"/bug_reports",data:$("#help-form").serialize(),dataType:"json",success:function(){$("#popup-sendemail").modal("hide"),e(),$(".bug-report-submit").prop("disabled",!1)},error:function(){alert("Error, please try again.")}})):alert("Description can't be blank.")}),$(".bug-report-close").click(function(){e()})}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.ReplitClient=e()}}(function(){var e,t,n;return function i(e,t,n){function r(s,a){if(!t[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return r(n?n:t)},u,u.exports,i,e,t,n)}return t[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t){"use strict";var n=function(e,t,n){t&&Object.defineProperties(e,t),n&&Object.defineProperties(e.prototype,n)},i=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},r=e("bluebird"),o=e("json-stream"),s=e("events").EventEmitter,a=7,l=500,c=function(e){function t(e,t,n,i){this._host=e,this._port=t,this._language=n,this._authToken=i.time_created+":"+i.msg_mac,this._init(),this._retries=a}return i(t,e),n(t,null,{connect:{value:function(){return this._connecting?this._connecting:(this._connecting=this._connect(),this._connecting)},writable:!0,enumerable:!0,configurable:!0},disconnect:{value:function(){var e=this;return this._ws&&this._ws.readyState===this._ws.OPEN?(clearTimeout(this._pingTimer),new r(function(t){e._ws.onclose=function(){return t(!0)},e._ws.close()})):r.resolve(!0)},writable:!0,enumerable:!0,configurable:!0},write:{value:function(e){var t=this;this._ensureConnected().then(function(){return t._sendMessage("input",e)})},writable:!0,enumerable:!0,configurable:!0},evaluate:{value:function(e,t){var n=this,i=t.stdout;return this._ensureConnected().then(function(){return n._stdout=i,n._sendMessage("eval",e),n._waitForResult()})},writable:!0,enumerable:!0,configurable:!0},evaluateOnce:{value:function(e,t){var n=this;return new r(function(i,r){var o=new XMLHttpRequest;o.onload=function(){if(200!==o.status)r(new Error(o.responseText));else{var e=[];try{e=JSON.parse(o.responseText)}catch(n){return void r(new Error("Error parsing response"))}e.forEach(function(e){"output"===e.command?t&&null!=t.stdout&&t.stdout(e.data):"result"===e.command&&i(e)})}};var s="http",a=n._port;"object"==typeof location&&"https:"===location.protocol&&(s="https",(80===a||"80"===a)&&(a=443)),o.open("POST",s+"://"+n._host+":"+a+"/eval",!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; param=value");var l="";l+="auth="+encodeURIComponent(n._authToken),l+="&language="+encodeURIComponent(n._language),l+="&code="+encodeURIComponent(e),o.send(l)})},writable:!0,enumerable:!0,configurable:!0},_init:{value:function(){var e=this;this._jsonStream&&(this._jsonStream.removeAllListeners(),this._jsonStream=null),this._ws=null,this._stdout=null,this._msgQueue=[],this._msgResolvers=[],this._jsonStream=o(),this._jsonStream.on("data",function(t){if("pong"===t.command)return void e._ping();if("ping"===t.command)return void e._pong();if(e._msgResolvers.length){var n=e._msgResolvers.shift();n(t)}else e._msgQueue.push(t)})},writable:!0,enumerable:!0,configurable:!0},_nextMessage:{value:function(){var e=this;return new r(function(t){e._msgQueue.length?t(e._msgQueue.shift()):e._msgResolvers.push(t)})},writable:!0,enumerable:!0,configurable:!0},_ensureConnected:{value:function(){return null==this._connecting?r.reject("Disconnected"):this._connecting},writable:!0,enumerable:!0,configurable:!0},_connect:{value:function(){var e=this;return new r(function(t,n){e.emit("connecting");var i="ws",r=e._port;"object"==typeof location&&"https:"===location.protocol&&(i="wss",(80===r||"80"===r)&&(r=443));var o=i+"://"+e._host+":"+r+"/ws";e._ws=new WebSocket(o),e._ws.onopen=function(){e.emit("connected"),e._retries=a,e._handshake().then(function(){return t(e)},n),e._ws.onclose=e._closeHandler.bind(e)},e._ws.onclose=function(e){return n(new Error(e.reason+" :"+e.code))},e._ws.onmessage=e._messageHandler.bind(e)})},writable:!0,enumerable:!0,configurable:!0},_handshake:{value:function(){var e=this;return this._sendMessage("auth",this._authToken),this._nextMessage().then(function(t){if("auth_result"!==t.command)throw new Error('Expected "auth_result" command: '+t.command);if("true"!==t.data)throw new Error("Failed to auth");return e._sendMessage("select_language",e._language),e._nextMessage()}).then(function(t){if("ready"!==t.command)throw new Error('Expected "ready" command but got: '+t.command);e._ping()})},writable:!0,enumerable:!0,configurable:!0},_sendMessage:{value:function(e,t){var n={command:e,data:t};this._ws.send(JSON.stringify(n))},writable:!0,enumerable:!0,configurable:!0},_messageHandler:{value:function(e){this._jsonStream.write(e.data)},writable:!0,enumerable:!0,configurable:!0},_waitForResult:{value:function(){var e=this;return this._nextMessage().then(function(t){switch(t.command){case"result":return t;case"output":return null!=e._stdout&&e._stdout(t.data),e._waitForResult();case"input":return e._waitForResult()}throw new Error("Unexpected command: "+t.command)})},writable:!0,enumerable:!0,configurable:!0},_closeHandler:{value:function(){var e=this;if(this._init(),this._retries-=1,clearTimeout(this._pingTimer),this._retries<1)this.emit("disconnected",{retry:!1}),this._connecting=null;else{var t=(a-this._retries)*l;this.emit("disconnected",{retry:!0,delay:t}),this._connecting=new r(function(n,i){setTimeout(function(){return e._connect().then(n,i)},t)})}},writable:!0,enumerable:!0,configurable:!0},_ping:{value:function(){var e=this;this._pingTimer=setTimeout(function(){e._ws.send(JSON.stringify({command:"ping"}))},1e4)},writable:!0,enumerable:!0,configurable:!0},_pong:{value:function(){this._ws.send(JSON.stringify({command:"pong"}))},writable:!0,enumerable:!0,configurable:!0}}),t}(s);t.exports=c},{bluebird:2,events:7,"json-stream":26}],2:[function(t,n,i){(function(t,r){"use strict";!function(t){if("object"==typeof i&&"undefined"!=typeof n)n.exports=t();else if("function"==typeof e&&e.amd)e([],t);else{var o;"undefined"!=typeof window?o=window:"undefined"!=typeof r?o=r:"undefined"!=typeof self&&(o=self),o.Promise=t()}}(function(){var e,n,i;return function o(e,t,n){for(var i=function(s,a){if(!t[s]){if(!e[s]){var l="function"==typeof _dereq_&&_dereq_;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n?n:t)},u,u.exports,o,e,t,n)}return t[s].exports},r="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t){t.exports=function(e){var t=function(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i},n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n){var i,r=function(){this._isTickUsed=!1,this._lateQueue=new u(16),this._normalQueue=new u(16),this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c.isStatic?c(this.drainQueues):c},o=function(e,t,n){var i=this._getDomain();void 0!==i&&(e=i.bind(e)),this._lateQueue.push(e,t,n),this._queueTick()},s=function(e,t,n){var i=this._getDomain();void 0!==i&&(e=i.bind(e)),this._normalQueue.push(e,t,n),this._queueTick()},a=function(e){var t=this._getDomain();if(void 0!==t){var n=t.bind(e._settlePromises);this._normalQueue.push(n,e,void 0)}else this._normalQueue._pushOne(e);this._queueTick()};try{throw new Error}catch(l){i=l}var c=e("./schedule.js"),u=e("./queue.js"),h=e("./util.js");if(r.prototype.disableTrampolineIfNecessary=function(){h.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(e){setTimeout(e,0)})},r.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},r.prototype.throwLater=function(e,t){1===arguments.length&&(t=e,e=function(){throw t});var n=this._getDomain();if(void 0!==n&&(e=n.bind(e)),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(i){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},r.prototype._getDomain=function(){},h.isNode){var d=e("events"),f=function(){var e=t.domain;return null===e?void 0:e};if(d.usingDomains)r.prototype._getDomain=f;else{var p=Object.getOwnPropertyDescriptor(d,"usingDomains");if(p.configurable){var g=!1;Object.defineProperty(d,"usingDomains",{configurable:!1,enumerable:!0,get:function(){return g},set:function(e){!g&&e&&(g=!0,r.prototype._getDomain=f,h.toFastProperties(t),t.emit("domainsActivated"))}})}else t.on("domainsActivated",function(){r.prototype._getDomain=f})}}h.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):setTimeout(function(){e.call(t,n)},100)},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?s.call(this,e,t,n):setTimeout(function(){e.call(t,n)},0)},r.prototype.settlePromises=function(e){this._trampolineEnabled?a.call(this,e):setTimeout(function(){e._settlePromises()},0)}):(r.prototype.invokeLater=o,r.prototype.invoke=s,r.prototype.settlePromises=a),r.prototype.invokeFirst=function(e,t,n){var i=this._getDomain();void 0!==i&&(e=i.bind(e)),this._normalQueue.unshift(e,t,n),this._queueTick()},r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},n.exports=new r,n.exports.firstLineError=i},{"./queue.js":28,"./schedule.js":31,"./util.js":38,events:39}],3:[function(e,t){t.exports=function(e,t,n){var i=function(e,t){this._reject(t)},r=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(i,i,null,this,e)},o=function(e,t){this._setBoundTo(e),this._isPending()&&this._resolveCallback(t.target)},s=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(i){var a=n(i),l=new e(t);l._propagateFrom(this,1);var c=this._target();if(a instanceof e){var u={promiseRejectionQueued:!1,promise:l,target:c,bindingPromise:a};c._then(t,r,l._progress,l,u),a._then(o,s,l._progress,l,u)}else l._setBoundTo(i),l._resolveCallback(c);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=-131073&this._bitField},e.prototype._isBound=function(){return 131072===(131072&this._bitField)},e.bind=function(i,r){var o=n(i),s=new e(t);return o instanceof e?o._then(function(e){s._setBoundTo(e),s._resolveCallback(r)},s._reject,s._progress,s,null):(s._setBoundTo(i),s._resolveCallback(r)),s}}},{}],4:[function(e,t){var n,i=function(){try{Promise===r&&(Promise=n)}catch(e){}return r};"undefined"!=typeof Promise&&(n=Promise);var r=e("./promise.js")();r.noConflict=i,t.exports=r},{"./promise.js":23}],5:[function(e,t){var n=Object.create;if(n){var i=n(null),r=n(null);i[" size"]=r[" size"]=0}t.exports=function(t){{var n,i=function(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var r="Object "+a.classString(e)+" has no method '"+a.toString(n)+"'";throw new t.TypeError(r)}return i},r=function(e){var t=this.pop(),n=i(e,t);return n.apply(e,this)},o=function(e){return e[this]},s=function(e){var t=+this;return 0>t&&(t=Math.max(0,t+e.length)),e[t]},a=e("./util.js"),l=a.canEvaluate;a.isIdentifier}t.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),i=1;t>i;++i)n[i-1]=arguments[i];return n.push(e),this._then(r,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,i="number"==typeof e;if(i)t=s;else if(l){var r=n(e);t=null!==r?r:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util.js":38}],6:[function(e,t){t.exports=function(t){var n=e("./errors.js"),i=e("./async.js"),r=n.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,n=this;void 0!==(t=n._cancellationParent)&&t.isCancellable();)n=t;this._unsetCancellable(),n._target()._rejectCallback(e,!1,!0)},t.prototype.cancel=function(e){return this.isCancellable()?(void 0===e&&(e=new r),i.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(i.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},t.prototype.fork=function(e,t,n){var i=this._then(e,t,n,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":13}],7:[function(e,n){n.exports=function(){var n,i=function(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);x(this,i),t>32&&this.uncycle()},r=function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")},o=function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)},s=function(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],s=-1,a=i.length-1;a>=0;--a)if(i[a]===o){s=a;break}for(var a=s;a>=0;--a){var l=i[a];if(t[r]!==l)break;t.pop(),r--}t=i}},a=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r=g.test(i)||"    (No stack trace)"===i,o=r&&y(i);r&&!o&&(v&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t},l=function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||g.test(i))break}return n>0&&(t=t.slice(n)),t},c=function(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var i=JSON.stringify(e);t=i}catch(r){}0===t.length&&(t="(empty array)")}return"(<"+u(t)+">, no stack trace)"},u=function(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."},h=function(e){var t=e.match(b);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0},d=e("./async.js"),f=e("./util.js"),p=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,g=null,m=null,v=!1;f.inherits(i,Error),i.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;e>i;++i){var s=t[i].stack,a=n[s];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var l=i>0?t[i-1]:this;e-1>a?(l._parent=t[a+1],l._parent.uncycle(),l._length=l._parent._length+1):(l._parent=void 0,l._length=1);for(var c=l._length+1,u=i-2;u>=0;--u)t[u]._length=c,c++;return}}}},i.prototype.parent=function(){return this._parent},i.prototype.hasParent=function(){return void 0!==this._parent},i.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=i.parseStackAndMessage(e),n=t.message,l=[t.stack],c=this;void 0!==c;)l.push(a(c.stack.split("\n"))),c=c._parent;s(l),o(l),f.notEnumerableProp(e,"stack",r(n,l)),f.notEnumerableProp(e,"__stackCleaned__",!0)}},i.parseStackAndMessage=function(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?l(e):["    (No stack trace)"],{message:n,stack:a(t)}},i.formatAndLogError=function(e,t){if("undefined"!=typeof console){var i;if("object"==typeof e||"function"==typeof e){var r=e.stack;i=t+m(r,e)}else i=t+String(e);"function"==typeof n?n(i):("function"==typeof console.log||"object"==typeof console.log)&&console.log(i)}},i.unhandledRejection=function(e){i.formatAndLogError(e,"^--- With additional stack trace: ")},i.isSupported=function(){return"function"==typeof x},i.fireRejectionEvent=function(e,t,n,r){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(s){d.throwLater(s)}var a=!1;try{a=k(e,n,r)}catch(s){a=!0,d.throwLater(s)}var l=!1;if(w)try{l=w(e.toLowerCase(),{reason:n,promise:r})}catch(s){l=!0,d.throwLater(s)}a||o||l||"unhandledRejection"!==e||i.formatAndLogError(n,"Unhandled rejection ")};var y=function(){return!1},b=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;i.setBounds=function(e,t){if(i.isSupported()){for(var n,r,o=e.stack.split("\n"),s=t.stack.split("\n"),a=-1,l=-1,c=0;c<o.length;++c){var u=h(o[c]);if(u){n=u.fileName,a=u.line;break}}for(var c=0;c<s.length;++c){var u=h(s[c]);if(u){r=u.fileName,l=u.line;break}}0>a||0>l||!n||!r||n!==r||a>=l||(y=function(e){if(p.test(e))return!0;var t=h(e);return t&&t.fileName===n&&a<=t.line&&t.line<=l?!0:!1})}};var w,x=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():c(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,g=e,m=t;var n=Error.captureStackTrace;return y=function(e){return p.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,n(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return g=/@/,m=t,v=!0,function(e){e.stack=(new Error).stack};var r;try{throw new Error}catch(o){r="stack"in o}return"stack"in i||!r?(m=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?c(t):t.toString()},null):(g=e,m=t,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),k=function(){if(f.isNode)return function(e,n,i){return"rejectionHandled"===e?t.emit(e,i):t.emit(e,n,i)};var e=!1,n=!0;try{var i=new self.CustomEvent("test");e=i instanceof CustomEvent}catch(r){}if(!e)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(r){n=!1}n&&(w=function(t,n){var i;return e?i=new self.CustomEvent(t,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!1,!0,n)),i?!self.dispatchEvent(i):!1});var s={};return s.unhandledRejection="onunhandledRejection".toLowerCase(),s.rejectionHandled="onrejectionHandled".toLowerCase(),function(e,t,n){var i=s[e],r=self[i];return r?("rejectionHandled"===e?r.call(self,n):r.call(self,t,n),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(n=function(e){console.warn(e)},f.isNode&&t.stderr.isTTY?n=function(e){t.stderr.write("[31m"+e+"[39m\n")}:f.isNode||"string"!=typeof(new Error).stack||(n=function(e){console.warn("%c"+e,"color: red")})),i}},{"./async.js":2,"./util.js":38}],8:[function(e,t){t.exports=function(t){var n=function(e,t,n){this._instances=e,this._callback=t,this._promise=n},i=function(e,t){var n={},i=s(e).call(n,t);if(i===a)return i;var r=l(n);return r.length?(a.e=new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):i},r=e("./util.js"),o=e("./errors.js"),s=r.tryCatch,a=r.errorObj,l=e("./es5.js").keys,c=o.TypeError;return n.prototype.doFilter=function(e){for(var n=this._callback,r=this._promise,o=r._boundTo,l=0,c=this._instances.length;c>l;++l){var u=this._instances[l],h=u===Error||null!=u&&u.prototype instanceof Error;if(h&&e instanceof u){var d=s(n).call(o,e);return d===a?(t.e=d.e,t):d
}if("function"==typeof u&&!h){var f=i(u,e);if(f===a){e=a.e;break}if(f){var d=s(n).call(o,e);return d===a?(t.e=d.e,t):d}}}return t.e=e,t},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(e,t){t.exports=function(e,t,n){var i=function(){this._trace=new t(o())},r=function(){return n()?new i:void 0},o=function(){var e=s.length-1;return e>=0?s[e]:void 0},s=[];return i.prototype._pushContext=function(){n()&&void 0!==this._trace&&s.push(this._trace)},i.prototype._popContext=function(){n()&&void 0!==this._trace&&s.pop()},e.prototype._peekContext=o,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,r}},{}],10:[function(e,n){n.exports=function(n,i){var r,o,s=e("./async.js"),a=e("./errors.js").Warning,l=e("./util.js"),c=l.canAttachTrace,u=!1||l.isNode&&(!!t.env.BLUEBIRD_DEBUG||"development"===t.env.NODE_ENV);return u&&s.disableTrampolineIfNecessary(),n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){i.fireRejectionEvent("rejectionHandled",r,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),i.fireRejectionEvent("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return u&&(this._trace=new i(this._peekContext())),this},n.prototype._attachExtraTrace=function(e,t){if(u&&c(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=i.parseStackAndMessage(e);l.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),l.notEnumerableProp(e,"__stackCleaned__",!0)}}},n.prototype._warn=function(e){var t=new a(e),n=this._peekContext();if(n)n.attachExtraTrace(t);else{var r=i.parseStackAndMessage(t);t.stack=r.message+"\n"+r.stack.join("\n")}i.formatAndLogError(t,"")},n.onPossiblyUnhandledRejection=function(e){o="function"==typeof e?e:void 0},n.onUnhandledRejectionHandled=function(e){r="function"==typeof e?e:void 0},n.longStackTraces=function(){if(s.haveItemsQueued()&&u===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");u=i.isSupported(),u&&s.disableTrampolineIfNecessary()},n.hasLongStackTraces=function(){return u&&i.isSupported()},i.isSupported()||(n.longStackTraces=function(){},u=!1),function(){return u}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(e,t){var n=e("./util.js"),i=n.isPrimitive,r=n.wrapsPrimitiveReceiver;t.exports=function(e){var t=function(){return this},n=function(){throw this},o=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype["return"]=e.prototype.thenReturn=function(e){return r&&i(e)?this._then(o(e,2),void 0,void 0,void 0,void 0):this._then(t,void 0,void 0,e,void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return r&&i(e)?this._then(o(e,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":38}],12:[function(e,t){t.exports=function(e,t){var n=e.reduce;e.prototype.each=function(e){return n(this,e,null,t)},e.each=function(e,i){return n(e,i,null,t)}}},{}],13:[function(e,t){var n,i,r=function(e,t){var n=function(i){return this instanceof n?(u(this,"message","string"==typeof i?i:t),u(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)};return c(n,Error),n},o=function(e){return this instanceof o?(u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new o(e)},s=e("./es5.js"),a=s.freeze,l=e("./util.js"),c=l.inherits,u=l.notEnumerableProp,h=r("Warning","warning"),d=r("CancellationError","cancellation error"),f=r("TimeoutError","timeout error"),p=r("AggregateError","aggregate error");try{n=TypeError,i=RangeError}catch(g){n=r("TypeError","type error"),i=r("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<m.length;++v)"function"==typeof Array.prototype[m[v]]&&(p.prototype[m[v]]=Array.prototype[m[v]]);s.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var y=0;p.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];i=r.join("\n"),t+=i+"\n"}return y--,t},c(o,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:d,TimeoutError:f,OperationalError:o,RejectionError:o,AggregateError:p}),u(Error,"__BluebirdErrorTypes__",b)),t.exports={Error:Error,TypeError:n,RangeError:i,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:h}},{"./es5.js":14,"./util.js":38}],14:[function(e,t){var n=function(){return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,r={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},a=function(e,t){return{value:e[t]}},l=function(e,t,n){return e[t]=n.value,e},c=function(e){return e},u=function(e){try{return Object(e).constructor.prototype}catch(t){return o}},h=function(e){try{return"[object Array]"===r.call(e)}catch(t){return!1}};t.exports={isArray:h,keys:s,names:s,defineProperty:l,getDescriptor:a,freeze:c,getPrototypeOf:u,isES5:n,propertyIsWritable:function(){return!0}}}},{}],15:[function(e,t){t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],16:[function(e,t){t.exports=function(t,n,i){var r=function(){return this},o=function(){throw this},s=function(e){return function(){return e}},a=function(e){return function(){throw e}},l=function(e,t,n){var i;return i=d&&f(t)?n?s(t):a(t):n?r:o,e._then(i,p,void 0,t,void 0)},c=function(e){var r=this.promise,o=this.handler,s=r._isBound()?o.call(r._boundTo):o();if(void 0!==s){var a=i(s,r);if(a instanceof t)return a=a._target(),l(a,e,r.isFulfilled())}return r.isRejected()?(n.e=e,n):e},u=function(e){var n=this.promise,r=this.handler,o=n._isBound()?r.call(n._boundTo,e):r(e);if(void 0!==o){var s=i(o,n);if(s instanceof t)return s=s._target(),l(s,e,!0)}return e},h=e("./util.js"),d=h.wrapsPrimitiveReceiver,f=h.isPrimitive,p=h.thrower;t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var n={promise:this,handler:e};return this._then(t?c:u,t?c:void 0,void 0,n,void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":38}],17:[function(e,t){t.exports=function(t,n,i,r){var o=function(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var s=h(n[o])(e);if(i._popContext(),s===u){i._pushContext();var a=t.reject(u.e);return i._popContext(),a}var l=r(s,i);if(l instanceof t)return l}return null},s=function(e,n,r,o){var s=this._promise=new t(i);s._captureStackTrace(),this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(d):d},a=e("./errors.js"),l=a.TypeError,c=e("./util.js"),u=c.errorObj,h=c.tryCatch,d=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(e){if(e===u)return this._promise._rejectCallback(e.e,!1,!0);var n=e.value;if(e.done===!0)this._promise._resolveCallback(n);else{var i=r(n,this._promise);if(!(i instanceof t)&&(i=o(i,this._yieldHandlers,this._promise),null===i))return void this._throw(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));i._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},s.prototype._next=function(e){this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},t.coroutine=function(e,t){if("function"!=typeof e)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(t).yieldHandler,i=s,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,r);return o._generator=t,o._next(void 0),o.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("fn must be a function\n\n    See http://goo.gl/916lJJ\n");d.push(e)},t.spawn=function(e){if("function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var i=new s(e,this),r=i.promise();return i._run(t.spawn),r}}},{"./errors.js":13,"./util.js":38}],18:[function(e,t){t.exports=function(t,n,i,r){{var o=e("./util.js");o.canEvaluate,o.tryCatch,o.errorObj}t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}for(var r=arguments.length,o=new Array(r),s=0;r>s;++s)o[s]=arguments[s];e&&o.pop();var i=new n(o).promise();return void 0!==e?i.spread(e):i}}},{"./util.js":38}],19:[function(e,t){t.exports=function(t,n,i,r,o){var s=function(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace(),this._callback=t,this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,c.invoke(a,this,void 0)},a=function(){this._init$(void 0,-2)},l=function(e,t,n,i){var r="object"==typeof n&&null!==n?n.concurrency:0;return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new s(e,t,r,i)},c=e("./async.js"),u=e("./util.js"),h=u.tryCatch,d=u.errorObj,f={},p=[];u.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(i[n]===f){if(i[n]=e,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return i[n]=e,void this._queue.push(n);null!==s&&(s[n]=e);var l=this._callback,c=this._promise._boundTo;this._promise._pushContext();var u=h(l).call(c,e,n,o);if(this._promise._popContext(),u===d)return this._reject(u.e);var p=r(u,this._promise);if(p instanceof t){if(p=p._target(),p._isPending())return a>=1&&this._inFlight++,i[n]=f,p._proxyPromiseArray(this,n);if(!p._isFulfilled())return this._reject(p._reason());u=p._value()}i[n]=u}var g=++this._totalResolved;g>=o&&(null!==s?this._filter(i,s):this._resolve(i))},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;n>o;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):l(this,e,t,null).promise()},t.map=function(e,t,n,r){return"function"!=typeof t?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):l(e,t,n,r).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(e,t){t.exports=function(t,n,i,r){var o=e("./util.js"),s=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments);return i._popContext(),i._resolveFromSyncValue(r),i}},t.attempt=t["try"]=function(e,i,a){if("function"!=typeof e)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var l=new t(n);l._captureStackTrace(),l._pushContext();var c=o.isArray(i)?s(e).apply(a,i):s(e).call(a,i);return l._popContext(),l._resolveFromSyncValue(c),l},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},{"./util.js":38}],21:[function(e,t){t.exports=function(t){var n=function(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var r=a(t).apply(n._boundTo,[null].concat(e));r===l&&s.throwLater(r.e)},i=function(e,t){var n=this,i=n._boundTo,r=void 0===e?a(t).call(i,null):a(t).call(i,null,e);r===l&&s.throwLater(r.e)},r=function(e,t){var n=this;if(!e){var i=n._target(),r=i._getCarriedStackTrace();r.cause=e,e=r}var o=a(t).call(n._boundTo,e);o===l&&s.throwLater(o.e)},o=e("./util.js"),s=e("./async.js"),a=o.tryCatch,l=o.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,r,void 0,this,e)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(e,t){t.exports=function(t,n){var i=e("./util.js"),r=e("./async.js"),o=i.tryCatch,s=i.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var n=e.value,r=e.handler,a=e.promise,l=e.receiver,c=o(r).call(l,n);if(c===s){if(null!=c.e&&"StopProgressPropagation"!==c.e.name){var u=i.canAttachTrace(c.e)?c.e:new Error(i.toString(c.e));a._attachExtraTrace(u),a._progress(c.e)}}else c instanceof t?c._then(a._progress,null,null,a,void 0):a._progress(c)},t.prototype._progressUnchecked=function(e){for(var i=this._length(),o=this._progress,s=0;i>s;s++){var a=this._progressHandlerAt(s),l=this._promiseAt(s);if(l instanceof t)"function"==typeof a?r.invoke(this._doProgressWith,this,{handler:a,promise:l,receiver:this._receiverAt(s),value:e}):r.invoke(o,l,e);else{var c=this._receiverAt(s);"function"==typeof a?a.call(c,e,l):c instanceof n&&!c._isResolved()&&c._promiseProgressed(e,l)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,t){t.exports=function(){var t=function(e){if("function"!=typeof e)throw new c("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==t)throw new c("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==u&&this._resolveFromResolver(e)},n=function(e){var n=new t(u);n._fulfillmentHandler0=e,n._rejectionHandler0=e,n._progressHandler0=e,n._promise0=e,n._receiver0=e,n._settledValue=e},i=function(){return new c("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},r=function(){return new t.PromiseInspection(this._target())},o=function(e){return t.reject(new c(e))},s=e("./util.js"),a=e("./async.js"),l=e("./errors.js"),c=t.TypeError=l.TypeError;t.RangeError=l.RangeError,t.CancellationError=l.CancellationError,t.TimeoutError=l.TimeoutError,t.OperationalError=l.OperationalError,t.RejectionError=l.OperationalError,t.AggregateError=l.AggregateError;var u=function(){},h={},d={e:null},f=e("./thenables.js")(t,u),p=e("./promise_array.js")(t,u,f,o),g=e("./captured_trace.js")(),m=e("./debuggability.js")(t,g),v=e("./context.js")(t,g,m),y=e("./catch_filter.js")(d),b=e("./promise_resolver.js"),w=b._nodebackForPromise,x=s.errorObj,k=s.tryCatch;return t.prototype.toString=function(){return"[object Promise]"},t.prototype.caught=t.prototype["catch"]=function(e){var n=arguments.length;if(n>1){var i,r=new Array(n-1),o=0;for(i=0;n-1>i;++i){var s=arguments[i];if("function"!=typeof s)return t.reject(new c("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));r[o++]=s}r.length=o,e=arguments[i];var a=new y(r,e,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},t.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},t.prototype.then=function(e,t,n){if(m()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(i+=", "+s.classString(t)),this._warn(i)}return this._then(e,t,n,void 0,void 0)},t.prototype.done=function(e,t,n){var i=this._then(e,t,n,void 0,void 0);i._setIsFinal()},t.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,h,void 0)},t.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},t.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},t.prototype.all=function(){return new p(this).promise()},t.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},t.is=function(e){return e instanceof t},t.fromNode=function(e){var n=new t(u),i=k(e)(w(n));return i===x&&n._rejectCallback(i.e,!0,!0),n},t.all=function(e){return new p(e).promise()},t.defer=t.pending=function(){var e=new t(u);return new b(e)},t.cast=function(e){var n=f(e);if(!(n instanceof t)){var i=n;n=new t(u),n._fulfillUnchecked(i)}return n},t.resolve=t.fulfilled=t.cast,t.reject=t.rejected=function(e){var n=new t(u);return n._captureStackTrace(),n._rejectCallback(e,!0),n},t.setScheduler=function(e){if("function"!=typeof e)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=a._schedule;return a._schedule=e,t},t.prototype._then=function(e,n,i,r,o){var s=void 0!==o,l=s?o:new t(u);s||(l._propagateFrom(this,5),l._captureStackTrace());var c=this._target();c!==this&&(void 0===r&&(r=this._boundTo),s||l._setIsMigrated());var h=c._addCallbacks(e,n,i,l,r);return c._isResolved()&&!c._isSettlePromisesQueued()&&a.invoke(c._settlePromiseAtPostResolution,c,h),l},t.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},t.prototype._length=function(){return 131071&this._bitField},t.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},t.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},t.prototype._setLength=function(e){this._bitField=-131072&this._bitField|131071&e},t.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},t.prototype._setRejected=function(){this._bitField=134217728|this._bitField},t.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},t.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},t.prototype._isFinal=function(){return(33554432&this._bitField)>0},t.prototype._cancellable=function(){return(67108864&this._bitField)>0},t.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},t.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},t.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},t.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},t.prototype._isMigrated=function(){return(4194304&this._bitField)>0},t.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];return void 0===t&&this._isBound()?this._boundTo:t},t.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},t.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},t.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},t.prototype._migrateCallbacks=function(e,n){var i=e._fulfillmentHandlerAt(n),r=e._rejectionHandlerAt(n),o=e._progressHandlerAt(n),s=e._promiseAt(n),a=e._receiverAt(n);s instanceof t&&s._setIsMigrated(),this._addCallbacks(i,r,o,s,a)},t.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=i,void 0!==r&&(this._receiver0=r),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=e),"function"==typeof t&&(this._rejectionHandler0=t),"function"==typeof n&&(this._progressHandler0=n);else{var s=5*o-5;this[s+3]=i,this[s+4]=r,"function"==typeof e&&(this[s+0]=e),"function"==typeof t&&(this[s+1]=t),"function"==typeof n&&(this[s+2]=n)}return this._setLength(o+1),o},t.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var i=5*n-5;this[i+3]=t,this[i+4]=e}this._setLength(n+1)},t.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},t.prototype._resolveCallback=function(e,n){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(i(),!1,!0);var r=f(e,this);if(!(r instanceof t))return this._fulfill(e);var o=1|(n?4:0);this._propagateFrom(r,o);var s=r._target();if(s._isPending()){for(var a=this._length(),l=0;a>l;++l)s._migrateCallbacks(this,l);this._setFollowing(),this._setLength(0),this._setFollowee(s)}else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())}},t.prototype._rejectCallback=function(e,t,n){n||s.markAsOriginatingFromRejection(e);var i=s.ensureErrorObject(e),r=i===e;this._attachExtraTrace(i,t?r:!1),this._reject(e,r?void 0:i)},t.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=k(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,n),t=null)});n=!1,this._popContext(),void 0!==i&&i===x&&null!==t&&(t._rejectCallback(i.e,!0,!0),t=null)},t.prototype._settlePromiseFromHandler=function(e,t,n,r){if(!r._isRejected()){r._pushContext();var o;if(o=t!==h||this._isRejected()?k(e).call(t,n):k(e).apply(this._boundTo,n),r._popContext(),o===x||o===r||o===d){var s=o===r?i():o.e;r._rejectCallback(s,!1,!0)}else r._resolveCallback(o)}},t.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},t.prototype._followee=function(){return this._rejectionHandler0},t.prototype._setFollowee=function(e){this._rejectionHandler0=e},t.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},t.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},t.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},t.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},t.prototype._settlePromiseAt=function(e){var n=this._promiseAt(e),i=n instanceof t;if(i&&n._isMigrated())return n._unsetIsMigrated(),a.invoke(this._settlePromiseAt,this,e);var r=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,l=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof r?i?this._settlePromiseFromHandler(r,l,s,n):r.call(l,s,n):l instanceof p?l._isResolved()||(this._isFulfilled()?l._promiseFulfilled(s,n):l._promiseRejected(s,n)):i&&(this._isFulfilled()?n._fulfill(s):n._reject(s,o)),e>=4&&4===(31&e)&&a.invokeLater(this._setLength,this,0)},t.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},t.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},t.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},t.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},t.prototype._queueSettlePromises=function(){a.settlePromises(this),this._setSettlePromisesQueued()},t.prototype._fulfillUnchecked=function(e){if(e===this){var t=i();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},t.prototype._rejectUncheckedCheckError=function(e){var t=s.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},t.prototype._rejectUnchecked=function(e,t){if(e===this){var n=i();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal()?void a.throwLater(function(e){throw"stack"in e&&a.invokeFirst(g.unhandledRejection,void 0,e),e},void 0===t?e:t):(void 0!==t&&t!==e&&this._setCarriedStackTrace(t),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},t.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;e>t;t++)this._settlePromiseAt(t)},t._makeSelfResolutionError=i,e("./progress.js")(t,p),e("./method.js")(t,u,f,o),e("./bind.js")(t,u,f),e("./finally.js")(t,d,f),e("./direct_resolve.js")(t),e("./synchronous_inspection.js")(t),e("./join.js")(t,p,f,u),t.Promise=t,e("./map.js")(t,p,o,f,u),e("./cancel.js")(t),e("./using.js")(t,o,f,v),e("./generators.js")(t,o,u,f),e("./nodeify.js")(t),e("./call_get.js")(t),e("./props.js")(t,p,f,o),e("./race.js")(t,u,f,o),e("./reduce.js")(t,p,o,f,u),e("./settle.js")(t,p),e("./some.js")(t,p,o),e("./promisify.js")(t,u),e("./any.js")(t),e("./each.js")(t,u),e("./timers.js")(t,u),e("./filter.js")(t,u),s.toFastProperties(t),s.toFastProperties(t.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new t(u)),g.setBounds(a.firstLineError,s.lastLineError),t}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(e,t){t.exports=function(t,n,i,r){var o=function(e){switch(e){case-2:return[];case-3:return{}}},s=function(e){var i,r=this._promise=new t(n);e instanceof t&&(i=e,r._propagateFrom(i,5)),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)},a=e("./util.js"),l=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function c(e,n){var s=i(this._values,this._promise);if(s instanceof t){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(c,this._reject,void 0,this,n):void this._reject(s._reason());if(s=s._value(),!l(s)){var a=new t.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!l(s))return void this._promise._reject(r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(-5===n?this._resolveEmptyArray():this._resolve(o(n)));var u=this.getActualLength(s.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var h=this._promise,d=0;u>d;++d){var f=this._isResolved(),p=i(s[d],h);p instanceof t?(p=p._target(),f?p._unsetRejectionIsUnhandled():p._isPending()?p._proxyPromiseArray(this,d):p._isFulfilled()?this._promiseFulfilled(p._value(),d):this._promiseRejected(p._reason(),d)):f||this._promiseFulfilled(p,d)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype.__hardReject__=s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},s.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(e){this._totalResolved++,this._reject(e)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util.js":38}],25:[function(e,t){var n,i=function(e){return e instanceof Error&&d.getPrototypeOf(e)===Error.prototype},r=function(e){var t;if(i(e)){t=new u(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var n=d.keys(e),r=0;r<n.length;++r){var o=n[r];f.test(o)||(t[o]=e[o])}return t}return s.markAsOriginatingFromRejection(e),e},o=function(e){return function(t,n){if(null!==e){if(t){var i=r(a(t));e._attachExtraTrace(i),e._reject(i)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),l=1;o>l;++l)s[l-1]=arguments[l];e._fulfill(s)}else e._fulfill(n);e=null}}},s=e("./util.js"),a=s.maybeWrapAsError,l=e("./errors.js"),c=l.TimeoutError,u=l.OperationalError,h=s.haveGetters,d=e("./es5.js"),f=/^(?:name|message|stack|cause)$/;if(n=h?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=o(e),this.callback=this.asCallback},h){var p={get:function(){return o(this.promise)}};d.defineProperty(n.prototype,"asCallback",p),d.defineProperty(n.prototype,"callback",p)}n._nodebackForPromise=o,n.prototype.toString=function(){return"[object PromiseResolver]"},n.prototype.resolve=n.prototype.fulfill=function(e){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},n.prototype.reject=function(e){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},n.prototype.progress=function(e){if(!(this instanceof n))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},n.prototype.cancel=function(e){this.promise.cancel(e)},n.prototype.timeout=function(){this.reject(new c("timeout"))},n.prototype.isResolved=function(){return this.promise.isResolved()},n.prototype.toJSON=function(){return this.promise.toJSON()},t.exports=n},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(e,t){t.exports=function(t,n){var i,r=function(e){return!x.test(e)
},o=function(e){try{return e.__isPromisified__===!0}catch(t){return!1}},s=function(e,t,n){var i=f.getDataPropertyOrDefault(e,t+n,w);return i?o(i):!1},a=function(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new y("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}},l=function(e,t,n,i){for(var r=f.inheritedDataKeys(e),l=[],c=0;c<r.length;++c){var u=r[c],h=e[u],d=i===k?!0:k(u,h,e);"function"!=typeof h||o(h)||s(e,u,t)||!i(u,h,e,d)||l.push(u,h)}return a(l,t,n),l},c=function(e,i,r,o){var s=function(){var r=i;i===d&&(r=this);var o=new t(n);o._captureStackTrace();var s="string"==typeof l&&this!==a?this[l]:e,c=p(o);try{s.apply(r,g(arguments,c))}catch(u){o._rejectCallback(m(u),!0,!0)}return o},a=function(){return this}(),l=e;return"string"==typeof l&&(e=o),s.__isPromisified__=!0,s},u=function(e,t,n,i){for(var r=new RegExp(C(t)+"$"),o=l(e,t,r,n),s=0,a=o.length;a>s;s+=2){var c=o[s],u=o[s+1],h=c+t;e[h]=i===_?_(c,d,c,u,t):i(u,function(){return _(c,d,c,u,t)})}return f.toFastProperties(e),e},h=function(e,t){return _(e,t,void 0,e)},d={},f=e("./util.js"),p=e("./promise_resolver.js")._nodebackForPromise,g=f.withAppended,m=f.maybeWrapAsError,v=f.canEvaluate,y=e("./errors").TypeError,b="Async",w={__isPromisified__:!0},x=/^(?:length|name|arguments|caller|callee|prototype|__isPromisified__)$/,k=function(e,t){return f.isIdentifier(e)&&"_"!==e.charAt(0)&&!f.isClass(t)},C=function(e){return e.replace(/([$])/,"\\$")},_=v?i:c;t.promisify=function(e,t){if("function"!=typeof e)throw new y("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(o(e))return e;var n=h(e,arguments.length<2?d:t);return f.copyDescriptors(e,n,r),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new y("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");t=Object(t);var n=t.suffix;"string"!=typeof n&&(n=b);var i=t.filter;"function"!=typeof i&&(i=k);var r=t.promisifier;if("function"!=typeof r&&(r=_),!f.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=f.inheritedDataKeys(e),s=0;s<o.length;++s){var a=e[o[s]];"constructor"!==o[s]&&f.isClass(a)&&(u(a.prototype,n,i,r),u(a,n,i,r))}return u(e,n,i,r)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(e,t){t.exports=function(t,n,i,r){var o=function(e){for(var t=c.keys(e),n=t.length,i=new Array(2*n),r=0;n>r;++r){var o=t[r];i[r]=e[o],i[r+n]=o}this.constructor$(i)},s=function(e){var n,s=i(e);return l(s)?(n=s instanceof t?s._then(t.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof t&&n._propagateFrom(s,4),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")},a=e("./util.js"),l=a.isObject,c=e("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var i={},r=this.length(),o=0,s=this.length();s>o;++o)i[this._values[o+r]]=this._values[o];this._resolve(i)}},o.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return s(this)},t.props=function(e){return s(e)}}},{"./es5.js":14,"./util.js":38}],28:[function(e,t){var n=function(e,t,n,i,r){for(var o=0;r>o;++o)n[o+i]=e[o+t],e[o+t]=void 0},i=function(e){this._capacity=e,this._length=0,this._front=0};i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,i=(n-1&t-1^t)-t;this[i]=e,this._front=i,this._length=this.length()+1},i.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var i=this._front,r=this._length,o=i+r&t-1;n(this,0,this,t,o)},t.exports=i},{}],29:[function(e,t){t.exports=function(t,n,i,r){var o=function(e,o){var l=i(e);if(l instanceof t)return a(l);if(!s(e))return r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var c=new t(n);void 0!==o&&c._propagateFrom(o,5);for(var u=c._fulfill,h=c._reject,d=0,f=e.length;f>d;++d){var p=e[d];(void 0!==p||d in e)&&t.cast(p)._then(u,h,void 0,c,null)}return c},s=e("./util.js").isArray,a=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(e,t){t.exports=function(t,n,i,r,o){var s=function(e,n,i,s){this.constructor$(e),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var l=r(i,this._promise),u=!1,h=l instanceof t;h&&(l=l._target(),l._isPending()?l._proxyPromiseArray(this,-1):l._isFulfilled()?(i=l._value(),this._gotAccum=!0):(this._reject(l._reason()),u=!0)),h||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=i,u||c.invoke(a,this,void 0)},a=function(){this._init$(void 0,-5)},l=function(e,t,n,r){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(e,t,n,r);return o.promise()},c=e("./async.js"),u=e("./util.js"),h=u.tryCatch,d=u.errorObj;u.inherits(s,n),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(e,n){var i=this._values;i[n]=e;var o,s=this.length(),a=this._preservedValues,l=null!==a,c=this._gotAccum,u=this._valuesPhase;if(!u)for(u=this._valuesPhase=new Array(s),o=0;s>o;++o)u[o]=0;if(o=u[n],0===n&&this._zerothIsAccum?(this._accum=e,this._gotAccum=c=!0,u[n]=0===o?1:2):-1===n?(this._accum=e,this._gotAccum=c=!0):0===o?u[n]=1:(u[n]=2,this._accum=e),c){for(var f,p=this._callback,g=this._promise._boundTo,m=this._reducingIndex;s>m;++m)if(o=u[m],2!==o){if(1!==o)return;if(e=i[m],this._promise._pushContext(),l?(a.push(e),f=h(p).call(g,e,m,s)):f=h(p).call(g,this._accum,e,m,s),this._promise._popContext(),f===d)return this._reject(f.e);var v=r(f,this._promise);if(v instanceof t){if(v=v._target(),v._isPending())return u[m]=4,v._proxyPromiseArray(this,m);if(!v._isFulfilled())return this._reject(v._reason());f=v._value()}this._reducingIndex=m+1,this._accum=f}else this._reducingIndex=m+1;this._resolve(l?a:this._accum)}},t.prototype.reduce=function(e,t){return l(this,e,t,null)},t.reduce=function(e,t,n,i){return l(e,t,n,i)}}},{"./async.js":2,"./util.js":38}],31:[function(e,n){var i,o=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(e("./util.js").isNode){var s=t.versions.node.split(".").map(Number);i=0===s[0]&&s[1]>10||s[0]>0?r.setImmediate:t.nextTick,i||(i="undefined"!=typeof setImmediate?setImmediate:"undefined"!=typeof setTimeout?setTimeout:o)}else"undefined"!=typeof MutationObserver?(i=function(e){var t=document.createElement("div"),n=new MutationObserver(e);return n.observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}},i.isStatic=!0):i="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:o;n.exports=i},{"./util.js":38}],32:[function(e,t){t.exports=function(t,n){var i=function(e){this.constructor$(e)},r=t.PromiseInspection,o=e("./util.js");o.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(e,t){var n=new r;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new r;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)},t.settle=function(e){return new i(e).promise()},t.prototype.settle=function(){return new i(this).promise()}}},{"./util.js":38}],33:[function(e,t){t.exports=function(t,n,i){var r=function(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1},o=function(e,t){if((0|t)!==t||0>t)return i("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new r(e),o=n.promise();return n.setHowMany(t),n.init(),o},s=e("./util.js"),a=e("./errors.js").RangeError,l=e("./errors.js").AggregateError,c=s.isArray;s.inherits(r,n),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=c(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(e){this._howMany=e},r.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))},r.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new l,n=this.length();n<this._values.length;++n)t.push(this._values[n]);this._reject(t)}},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(e){this._values.push(e)},r.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=r}},{"./errors.js":13,"./util.js":38}],34:[function(e,t){t.exports=function(e){var t=function(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)};t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return 0===(402653184&this._bitField)},t.prototype.isResolved=e.prototype._isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},{}],35:[function(e,t){t.exports=function(t,n){var i=function(e,i){if(c(e)){if(e instanceof t)return e;if(o(e)){var u=new t(n);return e._then(u._fulfillUnchecked,u._rejectUncheckedCheckError,u._progressUnchecked,u,null),u}var h=a.tryCatch(r)(e);if(h===l){i&&i._pushContext();var u=t.reject(h.e);return i&&i._popContext(),u}if("function"==typeof h)return s(e,h,i)}return e},r=function(e){return e.then},o=function(e){return u.call(e,"_promise0")},s=function(e,i,r){var o=function(n){u&&(e===n?u._rejectCallback(t._makeSelfResolutionError(),!1,!0):u._resolveCallback(n),u=null)},s=function(e){u&&(u._rejectCallback(e,d,!0),u=null)},c=function(e){u&&"function"==typeof u._progress&&u._progress(e)},u=new t(n),h=u;r&&r._pushContext(),u._captureStackTrace(),r&&r._popContext();var d=!0,f=a.tryCatch(i).call(e,o,s,c);return d=!1,u&&f===l&&(u._rejectCallback(f.e,!0,!0),u=null),h},a=e("./util.js"),l=a.errorObj,c=a.isObject,u={}.hasOwnProperty;return i}},{"./util.js":38}],36:[function(e,t){t.exports=function(t,n){var i=function(e){var t=this;return t instanceof Number&&(t=+t),clearTimeout(t),e},r=function(e){var t=this;throw t instanceof Number&&(t=+t),clearTimeout(t),e},o=e("./util.js"),s=t.TimeoutError,a=function(e,t){if(e.isPending()){"string"!=typeof t&&(t="operation timed out");var n=new s(t);o.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._cancel(n)}},l=function(e){return c(+this).thenReturn(e)},c=t.delay=function(e,i){if(void 0===i){i=e,e=void 0;var r=new t(n);return setTimeout(function(){r._fulfill()},i),r}return i=+i,t.resolve(e)._then(l,null,null,i,void 0)};t.prototype.delay=function(e){return c(this,e)},t.prototype.timeout=function(e,t){e=+e;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,t)},e);return n._then(i,r,void 0,o,void 0)}}},{"./util.js":38}],37:[function(e,t){t.exports=function(t,n,i,r){var o=function(e){for(var n=e.length,i=0;n>i;++i){var r=e[i];if(r.isRejected())return t.reject(r.error());e[i]=r._settledValue}return e},s=function(e){setTimeout(function(){throw e},0)},a=function(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t},l=function(e,n){var r=function(){if(o>=l)return c.resolve();var u=a(e[o++]);if(u instanceof t&&u._isDisposable()){try{u=i(u._getDisposer().tryDispose(n),e.promise)}catch(h){return s(h)}if(u instanceof t)return u._then(r,s,null,null,null)}r()},o=0,l=e.length,c=t.defer();return r(),c.promise},c=function(e){var t=new m;return t._settledValue=e,t._bitField=268435456,l(this,t).thenReturn(e)},u=function(e){var t=new m;return t._settledValue=e,t._bitField=134217728,l(this,t).thenThrow(e)},h=function(e,t,n){this._data=e,this._promise=t,this._context=n},d=function(e,t,n){this.constructor$(e,t,n)},f=function(e){return h.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e},p=e("./errors.js").TypeError,g=e("./util.js").inherits,m=t.PromiseInspection;h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==t?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},h.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},g(d,h),d.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},t.using=function(){var e=arguments.length;if(2>e)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if("function"!=typeof r)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");e--;for(var s=new Array(e),a=0;e>a;++a){var l=arguments[a];if(h.isDisposer(l)){var d=l;l=l.promise(),l._setDisposable(d)}else{var p=i(l);p instanceof t&&(l=p._then(f,null,null,{resources:s,index:a},void 0))}s[a]=l}var g=t.settle(s).then(o).then(function(e){g._pushContext();var t;try{t=r.apply(void 0,e)}finally{g._popContext()}return t})._then(c,u,void 0,s,void 0);return s.promise=g,g},t.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new d(e,this,r());throw new p}}},{"./errors.js":13,"./util.js":38}],38:[function(e,n,i){var r=function(){try{return L.apply(this,arguments)}catch(e){return T.e=e,T}},o=function(e){return L=e,r},s=function(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e},a=function(e){return!s(e)},l=function(e){return s(e)?new Error(v(e)):e},c=function(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;i>n;++n)r[n]=e[n];return r[n]=t,r},u=function(e,t,n){if(!C.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0},h=function(e,t,n){if(s(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return C.defineProperty(e,t,i),e},d=function(e){throw e},f=function(e){try{if("function"==typeof e){var t=C.names(e.prototype);return C.isES5?t.length>1:t.length>0&&!(1===t.length&&"constructor"===t[0])}return!1}catch(n){return!1}},p=function(e){var t=function(){};t.prototype=e;for(var n=8;n--;)new t;return e},g=function(e){return P.test(e)},m=function(e,t,n){for(var i=new Array(e),r=0;e>r;++r)i[r]=t+r+n;return i},v=function(e){try{return e+""}catch(t){return"[no string representation]"}},y=function(e){try{h(e,"isOperational",!0)}catch(t){}},b=function(e){return null==e?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0},w=function(e){return e instanceof Error&&C.propertyIsWritable(e,"stack")},x=function(e){return{}.toString.call(e)},k=function(e,t,n){for(var i=C.names(e),r=0;r<i.length;++r){var o=i[r];n(o)&&C.defineProperty(t,o,C.getDescriptor(e,o))}},C=e("./es5.js"),_="undefined"==typeof navigator,S=function(){try{var e={};return C.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(t){return!1}}(),T={e:{}},L,E=function(e,t){var n=function(){this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])},i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},A=function(){return"string"!==this}.call("string"),M=function(){if(C.isES5){var e=Object.prototype,t=Object.getOwnPropertyNames;return function(n){for(var i=[],r=Object.create(null);null!=n&&n!==e;){var o;try{o=t(n)}catch(s){return i}for(var a=0;a<o.length;++a){var l=o[a];if(!r[l]){r[l]=!0;var c=Object.getOwnPropertyDescriptor(n,l);null!=c&&null==c.get&&null==c.set&&i.push(l)}}n=C.getPrototypeOf(n)}return i}}return function(e){var t=[];for(var n in e)t.push(n);return t}}(),P=/^[a-z$_][a-z$_0-9]*$/i,j=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(v(e))}:function(e){if(w(e))return e;try{throw new Error(v(e))}catch(t){return t}}}(),N={isClass:f,isIdentifier:g,inheritedDataKeys:M,getDataPropertyOrDefault:u,thrower:d,isArray:C.isArray,haveGetters:S,notEnumerableProp:h,isPrimitive:s,isObject:a,canEvaluate:_,errorObj:T,tryCatch:o,inherits:E,withAppended:c,maybeWrapAsError:l,wrapsPrimitiveReceiver:A,toFastProperties:p,filledRange:m,toString:v,canAttachTrace:w,ensureErrorObject:j,originatesFromRejection:b,markAsOriginatingFromRejection:y,classString:x,copyDescriptors:k,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof t&&"[object process]"===x(t).toLowerCase()};try{throw new Error}catch(O){N.lastLineError=O}n.exports=N},{"./es5.js":14}],39:[function(e,t){var n=function(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0},i=function(e){return"function"==typeof e},r=function(e){return"number"==typeof e},o=function(e){return"object"==typeof e&&null!==e},s=function(e){return void 0===e};t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),l=1;r>l;l++)a[l-1]=arguments[l];n.apply(this,a)}else if(o(n)){for(r=arguments.length,a=new Array(r-1),l=1;r>l;l++)a[l-1]=arguments[l];for(c=n.slice(),r=c.length,l=0;r>l;l++)c[l].apply(this,a)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var r;r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){var n=function(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))};if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:10}],3:[function(e,t,n){"use strict";function i(e,t){var n=this;if(!(n instanceof i))return new i(e,t);var r,o=typeof e;if("number"===o)r=+e;else if("string"===o)r=i.byteLength(e,t);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&D(e.data)&&(e=e.data),r=+e.length}if(r>R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");0>r?r=0:r>>>=0,i.TYPED_ARRAY_SUPPORT?n=i._augment(new Uint8Array(r)):(n.length=r,n._isBuffer=!0);var s;if(i.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)n._set(e);else if(T(e))if(i.isBuffer(e))for(s=0;r>s;s++)n[s]=e.readUInt8(s);else for(s=0;r>s;s++)n[s]=(e[s]%256+256)%256;else if("string"===o)n.write(e,0,t);else if("number"===o&&!i.TYPED_ARRAY_SUPPORT)for(s=0;r>s;s++)n[s]=0;return r>0&&r<=i.poolSize&&(n.parent=$),n}function r(e,t){if(!(this instanceof r))return new r(e,t);var n=new i(e,t);return delete n.parent,n}function o(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function s(e,t,n,i){var r=j(E(t,e.length-n),e,n,i);return r}function a(e,t,n,i){var r=j(A(t),e,n,i);return r}function l(e,t,n,i){return a(e,t,n,i)}function c(e,t,n,i){var r=j(P(t),e,n,i);return r}function u(e,t,n,i){var r=j(M(t,e.length-n),e,n,i);return r}function h(e,t,n){return O.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function d(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(i+=N(r)+String.fromCharCode(e[o]),r=""):r+="%"+e[o].toString(16);return i+N(r)}function f(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(127&e[r]);return i}function p(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function g(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=L(e[o]);return r}function m(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function v(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function y(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function b(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function w(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function x(e,t,n,i,r,o){if(t>r||o>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function k(e,t,n,i,r){return r||x(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),I.write(e,t,n,i,23,4),n+4}function C(e,t,n,i,r){return r||x(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),I.write(e,t,n,i,52,8),n+8}function _(e){if(e=S(e).replace(H,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function T(e){return D(e)||i.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function L(e){return 16>e?"0"+e.toString(16):e.toString(16)}function E(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;i>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&((t-=3)>-1&&o.push(239,191,189),r=null);if(128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function A(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function M(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function P(e){return O.toByteArray(_(e))}function j(e,t,n,i){for(var r=0;i>r&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}function N(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var O=e("base64-js"),I=e("ieee754"),D=e("is-array");n.Buffer=i,n.SlowBuffer=r,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var R=1073741823,$={};i.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);s>o&&e[o]===t[o];o++);return o!==s&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!D(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,o),o+=s.length}return r},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=E(e).length;break;case"base64":n=P(e).length;break;default:n=e.length}return n},i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(e,t,n){var i=!1;if(t>>>=0,n=void 0===n||1/0===n?this.length:n>>>0,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return g(this,t,n);case"utf8":case"utf-8":return d(this,t,n);case"ascii":return f(this,t,n);case"binary":return p(this,t,n);case"base64":return h(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){var n=function(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1};if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)
},i.prototype.write=function(e,t,n,i){if(isFinite(t))isFinite(n)||(i=n,n=void 0);else{var r=i;i=t,t=n,n=r}if(t=Number(t)||0,0>n||0>t||t>this.length)throw new RangeError("attempt to write outside buffer bounds");var h=this.length-t;n?(n=Number(n),n>h&&(n=h)):n=h,i=String(i||"utf8").toLowerCase();var d;switch(i){case"hex":d=o(this,e,t,n);break;case"utf8":case"utf-8":d=s(this,e,t,n);break;case"ascii":d=a(this,e,t,n);break;case"binary":d=l(this,e,t,n);break;case"base64":d=c(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":d=u(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+i)}return d},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},i.prototype.readUInt8=function(e,t){return t||v(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||v(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||v(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||v(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||v(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||v(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||v(e,4,this.length),I.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||v(e,4,this.length),I.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||v(e,8,this.length),I.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||v(e,8,this.length),I.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||y(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r>>>0&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||y(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o>>>0&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):b(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):b(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):w(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):w(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,i){e=+e,t>>>=0,i||y(this,e,t,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var r=0,o=1,s=0>e?1:0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=(e/o>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,i){e=+e,t>>>=0,i||y(this,e,t,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var r=n-1,o=1,s=0>e?1:0;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=(e/o>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):b(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):b(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):w(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||y(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):w(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return k(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return k(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return C(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return C(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(1e3>o||!i.TYPED_ARRAY_SUPPORT)for(var s=0;o>s;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=E(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var F=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=F.get,e.set=F.set,e.write=F.write,e.toString=F.toString,e.toLocaleString=F.toString,e.toJSON=F.toJSON,e.equals=F.equals,e.compare=F.compare,e.indexOf=F.indexOf,e.copy=F.copy,e.slice=F.slice,e.readUIntLE=F.readUIntLE,e.readUIntBE=F.readUIntBE,e.readUInt8=F.readUInt8,e.readUInt16LE=F.readUInt16LE,e.readUInt16BE=F.readUInt16BE,e.readUInt32LE=F.readUInt32LE,e.readUInt32BE=F.readUInt32BE,e.readIntLE=F.readIntLE,e.readIntBE=F.readIntBE,e.readInt8=F.readInt8,e.readInt16LE=F.readInt16LE,e.readInt16BE=F.readInt16BE,e.readInt32LE=F.readInt32LE,e.readInt32BE=F.readInt32BE,e.readFloatLE=F.readFloatLE,e.readFloatBE=F.readFloatBE,e.readDoubleLE=F.readDoubleLE,e.readDoubleBE=F.readDoubleBE,e.writeUInt8=F.writeUInt8,e.writeUIntLE=F.writeUIntLE,e.writeUIntBE=F.writeUIntBE,e.writeUInt16LE=F.writeUInt16LE,e.writeUInt16BE=F.writeUInt16BE,e.writeUInt32LE=F.writeUInt32LE,e.writeUInt32BE=F.writeUInt32BE,e.writeIntLE=F.writeIntLE,e.writeIntBE=F.writeIntBE,e.writeInt8=F.writeInt8,e.writeInt16LE=F.writeInt16LE,e.writeInt16BE=F.writeInt16BE,e.writeInt32LE=F.writeInt32LE,e.writeInt32BE=F.writeInt32BE,e.writeFloatLE=F.writeFloatLE,e.writeFloatBE=F.writeFloatBE,e.writeDoubleLE=F.writeDoubleLE,e.writeDoubleBE=F.writeDoubleBE,e.fill=F.fill,e.inspect=F.inspect,e.toArrayBuffer=F.toArrayBuffer,e};var H=/[^+\/0-9A-z\-]/g},{"base64-js":4,ieee754:5,"is-array":6}],4:[function(e,t,n){"use strict";var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){var t=function(e){var t=e.charCodeAt(0);return t===s||t===h?62:t===a||t===d?63:l>t?-1:l+10>t?t-l+26+26:u+26>t?t-u:c+26>t?t-c+26:void 0},n=function(e){var n,i,r,s,a,l,c=function(e){l[h++]=e};if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;a="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,l=new o(3*e.length/4-a),r=a>0?e.length-4:e.length;var h=0;for(n=0,i=0;r>n;n+=4,i+=3)s=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),c((16711680&s)>>16),c((65280&s)>>8),c(255&s);return 2===a?(s=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,c(255&s)):1===a&&(s=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,c(s>>8&255),c(255&s)),l},r=function(e){var t,n,r,o=function(e){return i.charAt(e)},s=function(e){return o(e>>18&63)+o(e>>12&63)+o(e>>6&63)+o(63&e)},a=e.length%3,l="";for(t=0,r=e.length-a;r>t;t+=3)n=(e[t]<<16)+(e[t+1]<<8)+e[t+2],l+=s(n);switch(a){case 1:n=e[e.length-1],l+=o(n>>2),l+=o(n<<4&63),l+="==";break;case 2:n=(e[e.length-2]<<8)+e[e.length-1],l+=o(n>>10),l+=o(n>>4&63),l+=o(n<<2&63),l+="="}return l},o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}("undefined"==typeof n?this.base64js={}:n)},{}],5:[function(e,t,n){"use strict";n.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?0/0:1/0*(f?-1:1);s+=Math.pow(2,i),o-=c}return(f?-1:1)*s*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*g}},{}],6:[function(e,t){"use strict";var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],7:[function(e,t){"use strict";function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,a,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,a=new Array(r-1),l=1;r>l;l++)a[l-1]=arguments[l];n.apply(this,a)}else if(o(n)){for(r=arguments.length,a=new Array(r-1),l=1;r>l;l++)a[l-1]=arguments[l];for(c=n.slice(),r=c.length,l=0;r>l;l++)c[l].apply(this,a)}return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var r;r=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){var n=function(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))};if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,s,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(a=s;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],8:[function(e,t){"use strict";t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],9:[function(e,t){"use strict";t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],10:[function(e,t){"use strict";function n(){if(!s){s=!0;for(var e,t=o.length;t;){e=o,o=[];for(var n=-1;++n<t;)e[n]();t=o.length}s=!1}}function i(){}var r=t.exports={},o=[],s=!1;r.nextTick=function(e){o.push(e),s||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=i,r.addListener=i,r.once=i,r.off=i,r.removeListener=i,r.removeAllListeners=i,r.emit=i,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],11:[function(e,t){"use strict";t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":12}],12:[function(e,t){(function(n){"use strict";function i(e){return this instanceof i?(l.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new i(e)}function r(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)}t.exports=i;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=e("core-util-is");a.inherits=e("inherits");var l=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(i,l),o(s(c.prototype),function(e){i.prototype[e]||(i.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":14,"./_stream_writable":16,_process:10,"core-util-is":17,inherits:8}],13:[function(e,t){"use strict";function n(e){return this instanceof n?void i.call(this,e):new n(e)}t.exports=n;var i=e("./_stream_transform"),r=e("core-util-is");r.inherits=e("inherits"),r.inherits(n,i),n.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":15,"core-util-is":17,inherits:8}],14:[function(e,t){(function(n){"use strict";function i(t){t=t||{};var n=t.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(E||(E=e("string_decoder/").StringDecoder),this.decoder=new E(t.encoding),this.encoding=t.encoding)}function r(e){return this instanceof r?(this._readableState=new i(e,this),this.readable=!0,void T.call(this)):new r(e)}function o(e,t,n,i,r){var o=c(t,n);if(o)e.emit("error",o);else if(null===n||void 0===n)t.reading=!1,t.ended||u(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||r||i||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&h(e),f(e,t);else r||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=A)e=A;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var n=null;return _.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function u(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?h(e):w(e)}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?n.nextTick(function(){d(e)}):d(e))}function d(e){e.emit("readable")}function f(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&m(e)}}function m(e){var t,n=function(e){var n=e.write(t);!1===n&&i.awaitDrain++},i=e._readableState;for(i.awaitDrain=0;i.pipesCount&&null!==(t=e.read());)if(1===i.pipesCount?n(i.pipes,0,null):x(i.pipes,n),e.emit("data",t),i.awaitDrain>0)return;return 0===i.pipesCount?(i.flowing=!1,void(S.listenerCount(e,"data")>0&&y(e))):void(i.ranOut=!0)}function v(){this._readableState.ranOut&&(this._readableState.ranOut=!1,m(this))}function y(e,t){var i=e._readableState;if(i.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,o=!1;e.readable=!0,e.pipe=T.prototype.pipe,e.on=e.addListener=T.prototype.on,e.on("readable",function(){o=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(o=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,o?n.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function b(e,t){var n,i=t.buffer,r=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(s)n=i.shift();else if(!e||e>=r)n=o?i.join(""):_.concat(i,r),i.length=0;else if(e<i[0].length){var a=i[0];n=a.slice(0,e),i[0]=a.slice(e)}else if(e===i[0].length)n=i.shift();else{n=o?"":new _(e);for(var l=0,c=0,u=i.length;u>c&&e>l;c++){var a=i[0],h=Math.min(e-l,a.length);o?n+=a.slice(0,h):a.copy(n,l,0,h),h<a.length?i[0]=a.slice(h):i.shift(),l+=h}}return n}function w(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function x(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)}function k(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}t.exports=r;var C=e("isarray"),_=e("buffer").Buffer;r.ReadableState=i;var S=e("events").EventEmitter;S.listenerCount||(S.listenerCount=function(e,t){return e.listeners(t).length});var T=e("stream"),L=e("core-util-is");L.inherits=e("inherits");var E;L.inherits(r,T),r.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding,t!==n.encoding&&(e=new _(e,t),t="")),o(this,n,e,t,!1)},r.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},r.prototype.setEncoding=function(t){E||(E=e("string_decoder/").StringDecoder),this._readableState.decoder=new E(t),this._readableState.encoding=t};var A=8388608;r.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,i=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h(this),null;if(e=l(e,t),0===e&&t.ended)return n=null,t.length>0&&t.decoder&&(n=b(e,t),t.length-=n.length),0===t.length&&w(this),n;var r=t.needReadable;return t.length-e<=t.highWaterMark&&(r=!0),(t.ended||t.reading)&&(r=!1),r&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=l(i,t)),n=e>0?b(e,t):null,null===n&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&w(this),n},r.prototype._read=function(){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(e,t){var i=function(e){e===u&&o()},r=function(){e.end()},o=function(){e.removeListener("close",a),e.removeListener("finish",l),e.removeListener("drain",p),e.removeListener("error",s),e.removeListener("unpipe",i),u.removeListener("end",r),u.removeListener("end",o),(!e._writableState||e._writableState.needDrain)&&p()},s=function(t){c(),e.removeListener("error",s),0===S.listenerCount(e,"error")&&e.emit("error",t)},a=function(){e.removeListener("finish",l),c()},l=function(){e.removeListener("close",a),c()},c=function(){u.unpipe(e)},u=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1;var d=(!t||t.end!==!1)&&e!==n.stdout&&e!==n.stderr,f=d?r:o;h.endEmitted?n.nextTick(f):u.once("end",f),e.on("unpipe",i);var p=g(u);return e.on("drain",p),e._events&&e._events.error?C(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",a),e.once("finish",l),e.emit("pipe",u),h.flowing||(this.on("readable",v),h.flowing=!0,n.nextTick(function(){m(u)})),e},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",v),t.flowing=!1;for(var r=0;i>r;r++)n[r].emit("unpipe",this);return this}var r=k(t.pipes,e);return-1===r?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},r.prototype.on=function(e,t){var n=T.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||y(this),"readable"===e&&this.readable){var i=this._readableState;i.readableListening||(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading?i.length&&h(this,i):this.read(0))}return n},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){y(this),this.read(0),this.emit("resume")},r.prototype.pause=function(){y(this,!0),this.emit("pause")},r.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),e.on("data",function(r){if(t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var o=i.push(r);o||(n=!0,e.pause())}});for(var r in e)"function"==typeof e[r]&&"undefined"==typeof this[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var o=["error","close","destroy","pause","resume"];return x(o,function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(){n&&(n=!1,e.resume())},i},r._fromList=b}).call(this,e("_process"))},{_process:10,buffer:3,"core-util-is":17,events:7,inherits:8,isarray:9,stream:22,"string_decoder/":23}],15:[function(e,t){"use strict";function n(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var i=e._transformState;i.transforming=!1;var r=i.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,null!==n&&void 0!==n&&e.push(n),r&&r(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function r(e){if(!(this instanceof r))return new r(e);s.call(this,e);var t=(this._transformState=new n(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var n=e._writableState,i=(e._readableState,e._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=r;var s=e("./_stream_duplex"),a=e("core-util-is");a.inherits=e("inherits"),a.inherits(r,s),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},r.prototype._transform=function(){throw new Error("not implemented")},r.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},r.prototype._read=function(){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":12,"core-util-is":17,inherits:8}],16:[function(e,t){(function(n){"use strict";function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function r(e,t){e=e||{};var n=e.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){f(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new r(t,this),this.writable=!0,void k.call(this)):new o(t)}function s(e,t,i){var r=new Error("write after end");e.emit("error",r),n.nextTick(function(){i(r)})}function a(e,t,i,r){var o=!0;if(!w.isBuffer(i)&&"string"!=typeof i&&null!==i&&void 0!==i&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){r(s)}),o=!1}return o}function l(e,t,n){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new w(t,n)),t}function c(e,t,n,r,o){n=l(t,n,r),w.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing?t.buffer.push(new i(n,r,o)):u(e,t,s,n,r,o),a}function u(e,t,n,i,r,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,e._write(i,r,t.onwrite),t.sync=!1}function h(e,t,i,r,o){i?n.nextTick(function(){o(r)}):o(r),e._writableState.errorEmitted=!0,e.emit("error",r)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function f(e,t){var i=e._writableState,r=i.sync,o=i.writecb;if(d(i),t)h(e,i,r,t,o);else{var s=v(e,i);s||i.bufferProcessing||!i.buffer.length||m(e,i),r?n.nextTick(function(){p(e,i,s,o)}):p(e,i,s,o)}}function p(e,t,n,i){n||g(e,t),i(),n&&y(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function m(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var i=t.buffer[n],r=i.chunk,o=i.encoding,s=i.callback,a=t.objectMode?1:r.length;if(u(e,t,a,r,o,s),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){var n=v(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function b(e,t,i){t.ending=!0,y(e,t),i&&(t.finished?n.nextTick(i):e.once("finish",i)),t.ended=!0}t.exports=o;var w=e("buffer").Buffer;o.WritableState=r;var x=e("core-util-is");x.inherits=e("inherits");var k=e("stream");x.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var i=this._writableState,r=!1;return"function"==typeof t&&(n=t,t=null),w.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=function(){}),i.ended?s(this,i,n):a(this,i,e,n)&&(r=c(this,i,e,t,n)),r},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),i.ending||i.finished||b(this,i,n)}}).call(this,e("_process"))},{"./_stream_duplex":12,_process:10,buffer:3,"core-util-is":17,inherits:8,stream:22}],17:[function(e,t,n){(function(e){"use strict";function t(e){return Array.isArray(e)}function i(e){return"boolean"==typeof e}function r(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function c(e){return void 0===e}function u(e){return h(e)&&"[object RegExp]"===v(e)}function h(e){return"object"==typeof e&&null!==e}function d(e){return h(e)&&"[object Date]"===v(e)}function f(e){return h(e)&&("[object Error]"===v(e)||e instanceof Error)}function p(e){return"function"==typeof e}function g(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function m(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}n.isArray=t,n.isBoolean=i,n.isNull=r,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=l,n.isUndefined=c,n.isRegExp=u,n.isObject=h,n.isDate=d,n.isError=f,n.isFunction=p,n.isPrimitive=g,n.isBuffer=m}).call(this,e("buffer").Buffer)},{buffer:3}],18:[function(e,t){"use strict";t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":13}],19:[function(e,t,n){"use strict";var i=e("stream");n=t.exports=e("./lib/_stream_readable.js"),n.Stream=i,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":12,"./lib/_stream_passthrough.js":13,"./lib/_stream_readable.js":14,"./lib/_stream_transform.js":15,"./lib/_stream_writable.js":16,stream:22}],20:[function(e,t){"use strict";t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":15}],21:[function(e,t){"use strict";
t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":16}],22:[function(e,t){"use strict";function n(){i.call(this)}t.exports=n;var i=e("events").EventEmitter,r=e("inherits");r(n,i),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){var n=function(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()},r=function(){c.readable&&c.resume&&c.resume()},o=function(){u||(u=!0,e.end())},s=function(){u||(u=!0,"function"==typeof e.destroy&&e.destroy())},a=function(e){if(l(),0===i.listenerCount(this,"error"))throw e},l=function(){c.removeListener("data",n),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),e.removeListener("error",a),c.removeListener("end",l),c.removeListener("close",l),e.removeListener("close",l)},c=this;c.on("data",n),e.on("drain",r),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",s));var u=!1;return c.on("error",a),e.on("error",a),c.on("end",l),c.on("close",l),e.on("close",l),e.emit("pipe",c),e}},{events:7,inherits:8,"readable-stream/duplex.js":11,"readable-stream/passthrough.js":18,"readable-stream/readable.js":19,"readable-stream/transform.js":20,"readable-stream/writable.js":21}],23:[function(e,t,n){"use strict";function i(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e("buffer").Buffer,l=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),i(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,i=t.charCodeAt(r);if(i>=55296&&56319>=i){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;t+=i.slice(0,n).toString(r)}return t}},{buffer:3}],24:[function(e,t){"use strict";t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],25:[function(e,t,n){(function(t,i){"use strict";function r(e,t){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(t)?i.showHidden=t:t&&n._extend(i,t),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),l(i,e,i.depth)}function o(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function s(e){return e}function a(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,t,i){if(e.customInspect&&t&&T(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return b(r)||(r=l(e,r,i)),r}var o=c(e,t);if(o)return o;var s=Object.keys(t),g=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),S(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return u(t);if(0===s.length){if(T(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return u(t)}var v="",y=!1,w=["{","}"];if(p(t)&&(y=!0,w=["[","]"]),T(t)){var x=t.name?": "+t.name:"";v=" [Function"+x+"]"}if(k(t)&&(v=" "+RegExp.prototype.toString.call(t)),_(t)&&(v=" "+Date.prototype.toUTCString.call(t)),S(t)&&(v=" "+u(t)),0===s.length&&(!y||0==t.length))return w[0]+v+w[1];if(0>i)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var C;return C=y?h(e,t,i,g,s):s.map(function(n){return d(e,t,i,g,n,y)}),e.seen.pop(),f(C,v,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r){for(var o=[],s=0,a=t.length;a>s;++s)o.push(P(t,String(s))?d(e,t,n,i,String(s),!0):"");return r.forEach(function(r){r.match(/^\d+$/)||o.push(d(e,t,n,i,r,!0))}),o}function d(e,t,n,i,r,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?a=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(a=e.stylize("[Setter]","special")),P(i,r)||(s="["+r+"]"),a||(e.seen.indexOf(c.value)<0?(a=m(n)?l(e,c.value,null):l(e,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function f(e,t,n){var i=0,r=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function k(e){return C(e)&&"[object RegExp]"===E(e)}function C(e){return"object"==typeof e&&null!==e}function _(e){return C(e)&&"[object Date]"===E(e)}function S(e){return C(e)&&("[object Error]"===E(e)||e instanceof Error)}function T(e){return"function"==typeof e}function L(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function E(e){return Object.prototype.toString.call(e)}function A(e){return 10>e?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var j=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(e).replace(j,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),a=i[n];o>n;a=i[++n])s+=m(a)||!C(a)?" "+a:" "+r(a);return s},n.deprecate=function(e,r){var o=function(){if(!s){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),s=!0}return e.apply(this,arguments)};if(x(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(t.noDeprecation===!0)return e;var s=!1;return o};var N,O={};n.debuglog=function(e){if(x(N)&&(N=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(N)){var i=t.pid;O[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else O[e]=function(){};return O[e]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=x,n.isRegExp=k,n.isObject=C,n.isDate=_,n.isError=S,n.isFunction=T,n.isPrimitive=L,n.isBuffer=e("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!C(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":24,_process:10,inherits:8}],26:[function(e,t){(function(n){"use strict";var i=e("util"),r=e("stream").Transform;t.exports=function(e){return new o(e)};var o=t.exports.JSONStream=function(e){e=e||{},r.call(this,e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this._async=e.async||!1};i.inherits(o,r),o.prototype._transform=function(e,t,i){n.isBuffer(e)||(e=new n(e)),this._buffer&&(e=n.concat([this._buffer,e]));for(var r=0,o=0;++r<=e.length;)if(10===e[r]||r===e.length){var s;try{s=JSON.parse(e.slice(o,r))}catch(a){}s&&(this.push(s),s=null),10===e[r]&&(o=++r)}return this._buffer=e.slice(o),this._async?void setImmediate(i):void i()}}).call(this,e("buffer").Buffer)},{buffer:3,stream:22,util:25}]},{},[1])(1)});var nitrousLabOpener={setupUrl:"/nitrous/integration",openUrl:"/nitrous/integration/open",processingSetup:!1,processingOpen:!1,setup:function(e,t){nitrousLabOpener.processingSetup||$.ajax({type:"POST",url:nitrousLabOpener.setupUrl,data:{nitrous_ssh_url:t},beforeSend:function(){$("body").css("cursor","progress"),nitrousLabOpener.processingSetup=!0},error:function(e){var t=e.responseJSON,n="<p>Whoops! Looks like there was a problem.</p>";t&&t.errors&&(n+="<p>"+t.errors.join(",")+"</p>"),$("body").css("cursor","default"),$("#nitrous-setup-progress").html(n),$(".form-nitrous-setup-ssh-url").val(""),$(".form-nitrous-setup-save").removeClass("valid")},success:function(){nitrousLabOpener.open(e,!0)},complete:function(){nitrousLabOpener.processingSetup=!1}})},open:function(e,t){nitrousLabOpener.processingOpen||$.ajax({type:"POST",url:nitrousLabOpener.openUrl,data:{lab_id:e},beforeSend:function(){$("body").css("cursor","progress"),nitrousLabOpener.processingOpen=!0},success:function(e){window.open(e.message,"_blank"),t&&location.reload()},error:function(e){data=e.responseJSON,errorMsg="Whoops! Looks like there was a problem.",data&&data.errors&&(errorMsg+="\n\n"+data.errors.join(",")),alert(errorMsg)},complete:function(){nitrousLabOpener.processingOpen=!1,$("body").css("cursor","default")}})}};$(document).on("DOMContentLoaded page:always",function(){$(".lesson-action-link-nitrous-open").unbind("click").on("click",function(e){e.preventDefault()}),$(".lesson-action-link-nitrous-open.active").on("click",function(){nitrousLabOpener.open($("#application-data").data("lab-id"),!1)}),$(".lesson-action-link-nitrous-setup.active").on("click",function(e){e.preventDefault(),$("#popup-nitrous-setup").modal("show")}),$(".lesson-action-link-nitrous-managed-help.active").on("click",function(e){e.preventDefault(),$("#popup-nitrous-managed-help").modal("show")}),$("input.form-nitrous-readonly").on("focus click",function(){$(this).select()}),$(".form-nitrous-setup-ssh-url").on("input propertychange paste",function(){""!=$(".form-nitrous-setup-ssh-url").val()?$(".form-nitrous-setup-save").addClass("valid"):$(".form-nitrous-setup-save").removeClass("valid")}),$(".form-nitrous-setup-save").on("click",function(e){e.preventDefault(),$("#popup-nitrous-setup").modal("hide"),$("#popup-nitrous-setup-loading").modal("show"),$("#nitrous-setup-progress").html("This may take up to a minute."),nitrousLabOpener.setup($("#application-data").data("lab-id"),$(".form-nitrous-setup-ssh-url").val())})}),$(document).on("DOMContentLoaded page:always",function(){$(".lesson-action-link-locally-open").unbind("click"),$(".lesson-action-link-locally-open.inactive").on("click",function(e){e.preventDefault()}),$(".lesson-action-link-locally-open.active").attr("target","")}),$(document).ready(function(){if($("#lesson-container").length){var e=$(".hidden-lesson-data").data("lesson-id");$.getScript("/lessons/"+e+"/students_working",function(){})}}),function(){this.JST||(this.JST={}),this.JST["learn/templates/first-lab-complete-modal"]=function(){return this.Skim={access:function(e){var t;return t=this[e],"function"==typeof t&&(t=t.call(this)),t===!0?[this]:t===!1||null==t?!1:"[object Array]"!==Object.prototype.toString.call(t)?[t]:0===t.length?!1:t},withContext:function(e,t){var n,i;return n=function(e){var t;return t=function(){},t.prototype=e,new t},e=n(e),e.safe||(e.safe=this.safe||function(e){var t;return(null!=e?e.skimSafe:void 0)?e:(t=new String(null!=e?e:""),t.skimSafe=!0,t)}),e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},e.flatten=i=function(e){var t,n,r,o;for(n=[],r=0,o=e.length;o>r;r++)t=e[r],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.escape||(e.escape=this.escape||function(e){return null==e?"":e.skimSafe||!/[&<>\"]/.test(e)?e:this.safe((""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))}),t.call(e)}},function(e){return null==e&&(e={}),Skim.withContext.call({},e,function(){var e;return e="",e+='<div class="modal-dialog"><div class="modal-content text-center"><div class="modal-header rounded-top-corners"><button class="close" data-dismiss="modal" type="button"><span aria-hidden="true" class="close-modal">&times;</span><span class="sr-only">x</span></button><h2 class="modal-title">Congratulations!</h2></div><div class="modal-body"><div class="row-holder"><p id="completion-message">You completed the First Lab. Click through to continue to the fundamentals track.</p></div><div class="row-holder"><div class="button">',this.lessonId?(e+='<a href="/lessons/',e+=this.escape(this.lessonId),e+='" id="completion-link">Continue</a>'):e+='<a href="/" id="completion-link">Continue</a>',e+="</div></div></div></div></div>"})}}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["learn/templates/fundamentals-complete-modal"]=function(){return this.Skim={access:function(e){var t;return t=this[e],"function"==typeof t&&(t=t.call(this)),t===!0?[this]:t===!1||null==t?!1:"[object Array]"!==Object.prototype.toString.call(t)?[t]:0===t.length?!1:t},withContext:function(e,t){var n,i;return n=function(e){var t;return t=function(){},t.prototype=e,new t},e=n(e),e.safe||(e.safe=this.safe||function(e){var t;return(null!=e?e.skimSafe:void 0)?e:(t=new String(null!=e?e:""),t.skimSafe=!0,t)}),e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},e.flatten=i=function(e){var t,n,r,o;for(n=[],r=0,o=e.length;o>r;r++)t=e[r],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.escape||(e.escape=this.escape||function(e){return null==e?"":e.skimSafe||!/[&<>\"]/.test(e)?e:this.safe((""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))}),t.call(e)}},function(e){return null==e&&(e={}),Skim.withContext.call({},e,function(){var e;return e="",e+='<div class="modal-dialog"><div class="modal-content text-center"><div class="modal-header rounded-top-corners"><button class="close" data-dismiss="modal" type="button"><span aria-hidden="true" class="close-modal">&times;</span><span class="sr-only">x</span></button><h2 class="modal-title">Congratulations!</h2></div><div class="modal-body"><div class="row-holder"><p id="completion-message">You completed the Fundamentals Track and are now eligible to apply. Click through to your application.</p></div><div class="row-holder"><div class="button"><a href="/apply/new" id="completion-link">Continue</a></div></div></div></div></div>'})}}.call(this)}.call(this),!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Ro(i):{},Ro(Ks,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new wa(r,i.mode,null,i.lineSeparator)),this.doc=r;var o=new e.inputStyles[i.inputStyle](this),s=this.display=new t(n,r,o);s.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Ts&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ao,keySeq:null,specialChars:null};var l=this;ms&&11>vs&&setTimeout(function(){l.display.input.reset(!0)},20),zn(this),Xo(),wn(this),this.curOp.forceUpdate=!0,Xr(this,r),i.autofocus&&!Ts||l.hasFocus()?setTimeout($o(mi,this),20):vi(this);for(var u in Qs)Qs.hasOwnProperty(u)&&Qs[u](this,i[u],Js);k(this),i.finishInit&&i.finishInit(this);for(var h=0;h<na.length;++h)na[h](this);kn(this),ys&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=zo("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=zo("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=zo("div",null,"CodeMirror-code"),i.selectionDiv=zo("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=zo("div",null,"CodeMirror-cursors"),i.measure=zo("div",null,"CodeMirror-measure"),i.lineMeasure=zo("div",null,"CodeMirror-measure"),i.lineSpace=zo("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=zo("div",[zo("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=zo("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=zo("div",null,null,"position: absolute; height: "+Ma+"px; width: 1px;"),i.gutters=zo("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=zo("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=zo("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),ms&&8>vs&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),ys||fs&&Ts||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,$t(e,100),e.state.modeGen++,e.curOp&&In(e)}function r(e){e.options.lineWrapping?(Va(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Ua(e.display.wrapper,"CodeMirror-wrap"),d(e)),s(e),In(e),an(e),setTimeout(function(){y(e)},100)}function o(e){var t=yn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/bn(e.display)-3);return function(r){if(xr(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Zr(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),an(e)}function l(e){c(e),In(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;Wo(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(zo("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function h(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=pr(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=gr(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function d(e){var t=e.display,n=e.doc;t.maxLine=Kr(n,n.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=h(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=No(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+Wt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+Ut(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function g(e,t,n){this.cm=n;var i=this.vert=zo("div",[zo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=zo("div",[zo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Ta(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Ta(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ms&&8>vs&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Ua(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Ta(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?ri(t,e):ii(t,e)},t),t.display.scrollbars.addClass&&Va(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var n=e.display.barWidth,i=e.display.barHeight;b(e,t);for(var r=0;4>r&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&P(e),b(e,p(e)),n=e.display.barWidth,i=e.display.barHeight}function b(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-zt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=to(t,i),s=to(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;o>a?(o=a,s=to(t,no(Kr(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=to(t,no(Kr(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=_(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=C(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(zo("div",[zo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function _(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var i=e.display;this.viewport=t,this.visible=w(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Vt(e),this.force=n,this.dims=N(e),this.events=[]}function T(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Ut(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Ut(e)+"px",t.scrollbarsClipped=!0)}function L(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Rn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Bn(e))return!1;k(e)&&(Rn(e),t.dims=N(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Ns&&(o=br(e.doc,o),s=wr(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Hn(e,o,s),n.viewOffset=no(Kr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Bn(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Uo();return l>4&&(n.lineDiv.style.display="none"),O(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Uo()!=c&&c.offsetHeight&&c.focus(),Wo(n.cursorDiv),Wo(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,$t(e,400)),n.updateLineNumbers=null,!0}function E(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Vt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Wt(e.display)-Gt(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&L(e,t);i=!1){P(e);var r=p(e);Nt(e),M(e,r),y(e,r)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function A(e,t){var n=new S(e,t);if(L(e,n)){P(e),E(e,n);var i=p(e);Nt(e),M(e,i),y(e,i),n.finish()}}function M(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+Ut(e),t.clientHeight)+"px"}function P(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(ms&&8>vs){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=yn(t)),(l>.001||-.001>l)&&(Zr(o.line,r),j(o.line),o.rest))for(var c=0;c<o.rest.length;c++)j(o.rest[c])}}}function j(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function N(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:_(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n){function i(t){var n=t.nextSibling;return ys&&Ls&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=i(a);var d=o&&null!=t&&c>=t&&h.lineNumber;h.changes&&(No(h.changes,"gutter")>-1&&(d=!1),I(e,h,c,n)),d&&(Wo(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(C(e.options,c)))),a=h.node.nextSibling}else{var f=W(e,h,c,n);s.insertBefore(f,a)}c+=h.size}for(;a;)a=i(a)}function I(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?F(e,t):"gutter"==o?B(e,t,n,i):"class"==o?H(t):"widget"==o&&z(e,t,i)}t.changes=null}function D(e){return e.node==e.text&&(e.node=zo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ms&&8>vs&&(e.node.style.zIndex=2)),e.node}function R(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=D(e);e.background=n.insertBefore(zo("div",null,t),n.firstChild)}}function $(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Rr(e,t)}function F(e,t){var n=t.text.className,i=$(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,H(t)):n&&(t.text.className=n)}function H(e){R(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function B(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=D(t);t.gutterBackground=zo("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var r=D(t),s=t.gutter=zo("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),r.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(zo("div",C(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=o.hasOwnProperty(l)&&o[l];
c&&s.appendChild(zo("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function z(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}q(e,t,n)}function W(e,t,n,i){var r=$(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),H(t),B(e,t,n,i),q(e,t,i),t.node}function q(e,t,n){if(U(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)U(e,t.rest[i],t,n,!1)}function U(e,t,n,i,r){if(t.widgets)for(var o=D(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=zo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),V(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),Co(l,"redraw")}}function V(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function G(e){return Os(e.line,e.ch)}function Y(e,t){return Is(e,t)<0?t:e}function X(e,t){return Is(e,t)<0?e:t}function K(e){e.state.focused||(e.display.input.focus(),mi(e))}function Q(e){return e.options.readOnly||e.doc.cantEdit}function J(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=e.state.pasteIncoming||"paste"==r,a=o.splitLines(t),l=null;if(s&&i.ranges.length>1)if(Ds&&Ds.join("\n")==t){if(i.ranges.length%Ds.length==0){l=[];for(var c=0;c<Ds.length;c++)l.push(o.splitLines(Ds[c]))}}else a.length==i.ranges.length&&(l=Oo(a,function(e){return[e]}));for(var c=i.ranges.length-1;c>=0;c--){var u=i.ranges[c],h=u.from(),d=u.to();u.empty()&&(n&&n>0?h=Os(h.line,h.ch-n):e.state.overwrite&&!s&&(d=Os(d.line,Math.min(Kr(o,d.line).text.length,d.ch+jo(a).length))));var f=e.curOp.updateInput,p={from:h,to:d,text:l?l[c%l.length]:a,origin:r||(s?"paste":e.state.cutIncoming?"cut":"+input")};Si(e.doc,p),Co(e,"inputRead",e,p)}t&&!s&&et(e,t),Ri(e),e.curOp.updateInput=f,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),Q(t)||t.options.disableInput||An(t,function(){J(t,n,0,null,"paste")}),!0):void 0}function et(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Fi(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Kr(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Fi(e,r.head.line,"smart"));s&&Co(e,"electricInput",e,r.head.line)}}}function tt(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:Os(r,0),head:Os(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function nt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function it(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ao,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function rt(){var e=zo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=zo("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ys?e.style.width="1000px":e.setAttribute("wrap","off"),Ss&&(e.style.border="1px solid black"),nt(e),t}function ot(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ao,this.gracePeriod=!1}function st(e,t){var n=Jt(e,t.line);if(!n||n.hidden)return null;var i=Kr(e.doc,t.line),r=Xt(n,i,t.line),o=io(i),s="left";if(o){var a=cs(o,t.ch);s=a%2?"right":"left"}var l=tn(r.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function at(e,t){return t&&(e.bad=!0),e}function lt(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return at(e.clipPos(Os(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return ct(o,t,n)}}function ct(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=0>r?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=eo(0>r?e.line:e.rest[r]),h=o[s]+i;return(0>i||a!=t)&&(h=o[s+(i?1:0)]),Os(l,h)}}}var r=e.text.firstChild,o=!1;if(!t||!za(r,t))return at(Os(eo(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var s=e.rest?jo(e.rest):e.line;return at(Os(eo(s),s.text.length),o)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,h=i(a,l,n);if(h)return at(h,o);for(var d=l.nextSibling,f=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(h=i(d,d.firstChild,0))return at(Os(h.line,h.ch-f),o);f+=d.textContent.length}for(var p=l.previousSibling,f=n;p;p=p.previousSibling){if(h=i(p,p.firstChild,-1))return at(Os(h.line,h.ch+f),o);f+=d.textContent.length}}function ut(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var u,h=t.getAttribute("cm-marker");if(h){var d=e.findMarks(Os(i,0),Os(r+1,0),o(+h));return void(d.length&&(u=d[0].find())&&(a+=Qr(e.doc,u.from,u.to).join(c)))}if("false"==t.getAttribute("contenteditable"))return;for(var f=0;f<t.childNodes.length;f++)s(t.childNodes[f]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var p=t.nodeValue;if(!p)return;l&&(a+=c,l=!1),a+=p}}for(var a="",l=!1,c=e.doc.lineSeparator();s(t),t!=n;)t=t.nextSibling;return a}function ht(e,t){this.ranges=e,this.primIndex=t}function dt(e,t){this.anchor=e,this.head=t}function ft(e,t){var n=e[t];e.sort(function(e,t){return Is(e.from(),t.from())}),t=No(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(Is(o.to(),r.from())>=0){var s=X(o.from(),r.from()),a=Y(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;t>=i&&--t,e.splice(--i,2,new dt(l?a:s,l?s:a))}}return new ht(e,t)}function pt(e,t){return new ht([new dt(e,t||e)],0)}function gt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mt(e,t){if(t.line<e.first)return Os(e.first,0);var n=e.first+e.size-1;return t.line>n?Os(n,Kr(e,n).text.length):vt(t,Kr(e,t.line).text.length)}function vt(e,t){var n=e.ch;return null==n||n>t?Os(e.line,t):0>n?Os(e.line,0):e}function yt(e,t){return t>=e.first&&t<e.first+e.size}function bt(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=mt(e,t[i]);return n}function wt(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=Is(n,r)<0;o!=Is(i,r)<0?(r=n,n=i):o!=Is(n,i)<0&&(n=i)}return new dt(r,n)}return new dt(i||n,n)}function xt(e,t,n,i){Lt(e,new ht([wt(e,e.sel.primary(),t,n)],0),i)}function kt(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=wt(e,e.sel.ranges[r],t[r],null);var o=ft(i,e.sel.primIndex);Lt(e,o,n)}function Ct(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Lt(e,ft(r,e.sel.primIndex),i)}function _t(e,t,n,i){Lt(e,pt(t,n),i)}function St(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new dt(mt(e,t[n].anchor),mt(e,t[n].head))}};return Ea(e,"beforeSelectionChange",e,n),e.cm&&Ea(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?ft(n.ranges,n.ranges.length-1):t}function Tt(e,t,n){var i=e.history.done,r=jo(i);r&&r.ranges?(i[i.length-1]=t,Et(e,t,n)):Lt(e,t,n)}function Lt(e,t,n){Et(e,t,n),uo(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function Et(e,t,n){(Lo(e,"beforeSelectionChange")||e.cm&&Lo(e.cm,"beforeSelectionChange"))&&(t=St(e,t));var i=n&&n.bias||(Is(t.primary().head,e.sel.primary().head)<0?-1:1);At(e,Pt(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Ri(e.cm)}function At(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,To(e.cm)),Co(e,"cursorActivity",e))}function Mt(e){At(e,Pt(e,e.sel,null,!1),ja)}function Pt(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=jt(e,s.anchor,n,i),l=jt(e,s.head,n,i);(r||a!=s.anchor||l!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new dt(a,l))}return r?ft(r,t.primIndex):t}function jt(e,t,n,i){var r=!1,o=t,s=n||1;e.cantEdit=!1;e:for(;;){var a=Kr(e,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(i&&(Ea(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find(0>s?-1:1);if(0==Is(h,o)&&(h.ch+=s,h.ch<0?h=h.line>e.first?mt(e,Os(h.line-1)):null:h.ch>a.text.length&&(h=h.line<e.first+e.size-1?Os(h.line+1,0):null),!h)){if(r)return i?(e.cantEdit=!0,Os(e.first,0)):jt(e,t,n,!0);r=!0,h=t,s=-s}o=h;continue e}}return o}}function Nt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ot(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s],l=a.empty();(l||e.options.showCursorWhenSelecting)&&It(e,a.head,r),l||Dt(e,a,o)}return i}function It(e,t,n){var i=fn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(zo("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(zo("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Dt(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(zo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return dn(e,Os(t,n),"div",h,i)}var a,l,h=Kr(s,t),d=h.text.length;return es(io(h),n||0,null==r?d:r,function(e,t,s){var h,f,p,g=o(e,"left");if(e==t)h=g,f=p=g.left;else{if(h=o(t-1,"right"),"rtl"==s){var m=g;g=h,h=m}f=g.left,p=h.right}null==n&&0==e&&(f=c),h.top-g.top>3&&(i(f,g.top,null,g.bottom),f=c,g.bottom<h.top&&i(f,g.bottom,null,h.top)),null==r&&t==d&&(p=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),c+1>f&&(f=c),i(f,h.top,p-f,h.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=qt(e.display),c=l.left,u=Math.max(o.sizerWidth,Vt(e)-o.sizer.offsetLeft)-l.right,h=t.from(),d=t.to();if(h.line==d.line)r(h.line,h.ch,d.ch);else{var f=Kr(s,h.line),p=Kr(s,d.line),g=vr(f)==vr(p),m=r(h.line,h.ch,g?f.text.length+1:null).end,v=r(d.line,g?0:null,d.ch).start;g&&(m.top<v.top-2?(i(m.right,m.top,null,m.bottom),i(c,v.top,v.left,v.bottom)):i(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&i(c,m.bottom,null,v.top)}n.appendChild(a)}function Rt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function $t(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,$o(Ft,e))}function Ft(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ra(t.mode,Bt(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=Nr(e,o,i,!0);o.styles=a.styles;var l=o.styleClasses,c=a.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!u&&h<s.length;++h)u=s[h]!=o.styles[h];u&&r.push(t.frontier),o.stateAfter=ra(t.mode,i)}else Ir(e,o.text,i),o.stateAfter=t.frontier%5==0?ra(t.mode,i):null;return++t.frontier,+new Date>n?($t(e,e.options.workDelay),!0):void 0}),r.length&&An(e,function(){for(var t=0;t<r.length;t++)Dn(e,r[t],"text")})}}function Ht(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Kr(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=Ia(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function Bt(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=Ht(e,t,n),s=o>i.first&&Kr(i,o-1).stateAfter;return s=s?ra(i.mode,s):oa(i.mode),i.iter(o,t,function(n){Ir(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?ra(i.mode,s):null,++o}),n&&(i.frontier=o),s}function zt(e){return e.lineSpace.offsetTop}function Wt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function qt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=qo(e.measure,zo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function Ut(e){return Ma-e.display.nativeBarWidth}function Vt(e){return e.display.scroller.clientWidth-Ut(e)-e.display.barWidth}function Gt(e){return e.display.scroller.clientHeight-Ut(e)-e.display.barHeight}function Yt(e,t,n){var i=e.options.lineWrapping,r=i&&Vt(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(eo(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kt(e,t){t=vr(t);var n=eo(t),i=e.display.externalMeasured=new Nn(e.doc,t,n);i.lineN=n;var r=i.built=Rr(e,i);return i.text=r.pre,qo(e.display.lineMeasure,r.pre),i}function Qt(e,t,n,i){return en(e,Zt(e,t),n,i)}function Jt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[$n(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Zt(e,t){var n=eo(t),i=Jt(e,n);i&&!i.text?i=null:i&&i.changes&&(I(e,i,n,N(e)),e.curOp.forceUpdate=!0),i||(i=Kt(e,t));var r=Xt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function en(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Yt(e,t.view,t.rect),t.hasHeights=!0),o=nn(e,t,n,i),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function tn(e,t,n){for(var i,r,o,s,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(r=0,o=1,s="left"):c>t?(r=t-l,o=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(o=c-l,r=o-1,t>=c&&(s="right")),null!=r){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],s="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function nn(e,t,n,i){var r,o=tn(t.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;4>u;u++){for(;a&&Bo(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&Bo(t.line.text.charAt(o.coverStart+l));)++l;if(ms&&9>vs&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(ms&&e.options.lineWrapping){var h=$a(s,a,l).getClientRects();r=h.length?h["right"==i?h.length-1:0]:Hs}else r=$a(s,a,l).getBoundingClientRect()||Hs;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}ms&&11>vs&&(r=rn(e.display.measure,r))}else{a>0&&(c=i="right");var h;r=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==i?h.length-1:0]:s.getBoundingClientRect()}if(ms&&9>vs&&!a&&(!r||!r.left&&!r.right)){var d=s.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+bn(e.display),top:d.top,bottom:d.bottom}:Hs}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,g=(f+p)/2,m=t.view.measure.heights,u=0;u<m.length-1&&!(g<m[u]);u++);var v=u?m[u-1]:0,y=m[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function rn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Zo(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function on(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function sn(e){e.display.externalMeasure=null,Wo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)on(e.display.view[t])}function an(e){sn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function ln(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cn(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function un(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=_r(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=no(t);if("local"==i?s+=zt(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:cn());var l=a.left+("window"==i?0:ln());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function hn(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=ln(),r-=cn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function dn(e,t,n,i,r){return i||(i=Kr(e.doc,t.line)),un(e,i,Qt(e,i,t.ch,r),n)}function fn(e,t,n,i,r,o){function s(t,s){var a=en(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,un(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==ts(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=ns(n)-(n.level%2?0:1),i=!0):e==ns(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=ts(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||Kr(e.doc,t.line),r||(r=Zt(e,i));var l=io(i),c=t.ch;if(!l)return s(c);var u=cs(l,c),h=a(c,u);return null!=el&&(h.other=a(c,el)),h}function pn(e,t){var n=0,t=mt(e.doc,t);e.options.lineWrapping||(n=bn(e.display)*t.ch);var i=Kr(e.doc,t.line),r=no(i)+zt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function gn(e,t,n,i){var r=Os(e,t);return r.xRel=i,n&&(r.outside=!0),r}function mn(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return gn(i.first,0,!0,-1);var r=to(i,n),o=i.first+i.size-1;if(r>o)return gn(i.first+i.size-1,Kr(i,o).text.length,!0,1);0>t&&(t=0);for(var s=Kr(i,r);;){var a=vn(e,s,r,t,n),l=gr(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=eo(s=c.to.line)}}function vn(e,t,n,i,r){function o(i){var r=fn(e,Os(n,i),"line",t,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-no(t),a=!1,l=2*e.display.wrapper.clientWidth,c=Zt(e,t),u=io(t),h=t.text.length,d=is(t),f=rs(t),p=o(d),g=a,m=o(f),v=a;if(i>m)return gn(n,f,v,1);for(;;){if(u?f==d||f==hs(t,d,1):1>=f-d){for(var y=p>i||m-i>=i-p?d:f,b=i-(y==d?p:m);Bo(t.text.charAt(y));)++y;var w=gn(n,y,y==d?g:v,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(h/2),k=d+x;if(u){k=d;for(var C=0;x>C;++C)k=hs(t,k,1)}var _=o(k);_>i?(f=k,m=_,(v=a)&&(m+=1e3),h=x):(d=k,p=_,g=a,h-=x)}}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Rs){Rs=zo("pre");for(var t=0;49>t;++t)Rs.appendChild(document.createTextNode("x")),Rs.appendChild(zo("br"));Rs.appendChild(document.createTextNode("x"))}qo(e.measure,Rs);var n=Rs.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Wo(e.measure),n||1}function bn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=zo("span","xxxxxxxxxx"),n=zo("pre",[t]);qo(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function wn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++zs},Bs?Bs.ops.push(e.curOp):e.curOp.ownsGroup=Bs={ops:[e.curOp],delayedCallbacks:[]}}function xn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}function kn(e){var t=e.curOp,n=t.ownsGroup;if(n)try{xn(n)}finally{Bs=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;Cn(n)}}function Cn(e){for(var t=e.ops,n=0;n<t.length;n++)_n(t[n]);for(var n=0;n<t.length;n++)Sn(t[n]);for(var n=0;n<t.length;n++)Tn(t[n]);for(var n=0;n<t.length;n++)Ln(t[n]);for(var n=0;n<t.length;n++)En(t[n])}function _n(e){var t=e.cm,n=t.display;T(t),e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Sn(e){e.updatedDisplay=e.mustUpdate&&L(e.cm,e.update)}function Tn(e){var t=e.cm,n=t.display;e.updatedDisplay&&P(t),e.barMeasure=p(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Qt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Ut(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Vt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ln(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ri(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&M(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&Rt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==Uo()&&K(e.cm)}function En(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&E(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Vt(t),e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(t)),e.scrollToPos){var r=Ni(t,mt(i,e.scrollToPos.from),mt(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&ji(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ea(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Ea(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ea(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function An(e,t){if(e.curOp)return t();wn(e);try{return t()}finally{kn(e)}}function Mn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wn(e);try{return t.apply(e,arguments)}finally{kn(e)}}}function Pn(e){return function(){if(this.curOp)return e.apply(this,arguments);wn(this);try{return e.apply(this,arguments)}finally{kn(this)}}}function jn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wn(t);try{return e.apply(this,arguments)}finally{kn(t)}}}function Nn(e,t,n){this.line=t,this.rest=yr(t),this.size=this.rest?eo(jo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=xr(e,t)}function On(e,t,n){for(var i,r=[],o=t;n>o;o=i){var s=new Nn(e.doc,Kr(e.doc,o),o);i=o+s.size,r.push(s)}return r}function In(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ns&&br(e.doc,t)<r.viewTo&&Rn(e);else if(n<=r.viewFrom)Ns&&wr(e.doc,n+i)>r.viewFrom?Rn(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)Rn(e);else if(t<=r.viewFrom){var o=Fn(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):Rn(e)}else if(n>=r.viewTo){var o=Fn(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):Rn(e)}else{var s=Fn(e,t,t,-1),a=Fn(e,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(On(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):Rn(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function Dn(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[$n(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==No(s,n)&&s.push(n)}}}function Rn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function $n(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function Fn(e,t,n,i){var r,o=$n(e,t),s=e.display.view;if(!Ns||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;br(e.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function Hn(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=On(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=On(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice($n(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(On(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,$n(e,n)))),i.viewTo=n}function Bn(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function zn(e){function t(){r.activeTouch&&(o=setTimeout(function(){r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Ta(r.scroller,"mousedown",Mn(e,Gn)),ms&&11>vs?Ta(r.scroller,"dblclick",Mn(e,function(t){if(!So(e,t)){var n=Vn(e,t);if(n&&!Jn(e,t)&&!Un(e.display,t)){Ca(t);var i=e.findWordAt(n);xt(e.doc,i.anchor,i.head)}}})):Ta(r.scroller,"dblclick",function(t){So(e,t)||Ca(t)}),Ps||Ta(r.scroller,"contextmenu",function(t){yi(e,t)});var o,s={end:0};Ta(r.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(o);var t=+new Date;r.activeTouch={start:t,moved:!1,prev:t-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Ta(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Ta(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!Un(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new dt(a,a):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(a):new dt(Os(a.line,0),mt(e.doc,Os(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Ca(n)}t()}),Ta(r.scroller,"touchcancel",t),Ta(r.scroller,"scroll",function(){r.scroller.clientHeight&&(ii(e,r.scroller.scrollTop),ri(e,r.scroller.scrollLeft,!0),Ea(e,"scroll",e))}),Ta(r.scroller,"mousewheel",function(t){oi(e,t)}),Ta(r.scroller,"DOMMouseScroll",function(t){oi(e,t)}),Ta(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(t){So(e,t)||Sa(t)},over:function(t){So(e,t)||(ti(e,t),Sa(t))},start:function(t){ei(e,t)},drop:Mn(e,Zn),leave:function(){ni(e)}};var a=r.input.getField();Ta(a,"keyup",function(t){fi.call(e,t)}),Ta(a,"keydown",Mn(e,hi)),Ta(a,"keypress",Mn(e,pi)),Ta(a,"focus",$o(mi,e)),Ta(a,"blur",$o(vi,e))}function Wn(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var o=t.display.dragFunctions,s=n?Ta:La;s(t.display.scroller,"dragstart",o.start),s(t.display.scroller,"dragenter",o.enter),s(t.display.scroller,"dragover",o.over),s(t.display.scroller,"dragleave",o.leave),s(t.display.scroller,"drop",o.drop)}}function qn(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Un(e,t){for(var n=xo(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Vn(e,t,n,i){var r=e.display;if(!n&&"true"==xo(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=mn(e,o,s);if(i&&1==c.xRel&&(l=Kr(e.doc,c.line).text).length==c.ch){var u=Ia(l,l.length,e.options.tabSize)-l.length;c=Os(c.line,Math.max(0,Math.round((o-qt(e.display).left)/bn(e.display))-u))}return c}function Gn(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||So(t,e))){if(n.shift=e.shiftKey,Un(n,e))return void(ys||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Jn(t,e)){var i=Vn(t,e);switch(window.focus(),ko(e)){case 1:t.state.selectingText?t.state.selectingText(e):i?Yn(t,e,i):xo(e)==n.scroller&&Ca(e);break;case 2:ys&&(t.state.lastMiddleDown=+new Date),i&&xt(t.doc,i),setTimeout(function(){n.input.focus()},20),Ca(e);break;case 3:Ps?yi(t,e):gi(t)}}}}function Yn(e,t,n){ms?setTimeout($o(K,e),0):e.curOp.focus=Uo();var i,r=+new Date;Fs&&Fs.time>r-400&&0==Is(Fs.pos,n)?i="triple":$s&&$s.time>r-400&&0==Is($s.pos,n)?(i="double",Fs={time:r,pos:n}):(i="single",$s={time:r,pos:n});var o,s=e.doc.sel,a=Ls?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ya&&!Q(e)&&"single"==i&&(o=s.contains(n))>-1&&(Is((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(Is(o.to(),n)>0||n.xRel<0)?Xn(e,t,n,a):Kn(e,t,n,i,a)}function Xn(e,t,n,i){var r=e.display,o=+new Date,s=Mn(e,function(a){ys&&(r.scroller.draggable=!1),e.state.draggingText=!1,La(document,"mouseup",s),La(r.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Ca(a),!i&&+new Date-200<o&&xt(e.doc,n),ys||ms&&9==vs?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});ys&&(r.scroller.draggable=!0),e.state.draggingText=s,r.scroller.dragDrop&&r.scroller.dragDrop(),Ta(document,"mouseup",s),Ta(r.scroller,"drop",s)}function Kn(e,t,n,i,r){function o(t){if(0!=Is(m,t))if(m=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=Ia(Kr(c,n.line).text,n.ch,o),a=Ia(Kr(c,t.line).text,t.ch,o),l=Math.min(s,a),f=Math.max(s,a),p=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=p;p++){var v=Kr(c,p).text,y=Mo(v,l,o);l==f?r.push(new dt(Os(p,y),Os(p,y))):v.length>y&&r.push(new dt(Os(p,y),Os(p,Mo(v,f,o))))}r.length||r.push(new dt(n,n)),Lt(c,ft(d.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)
}else{var b=u,w=b.anchor,x=t;if("single"!=i){if("double"==i)var k=e.findWordAt(t);else var k=new dt(Os(t.line,0),mt(c,Os(t.line+1,0)));Is(k.anchor,w)>0?(x=k.head,w=X(b.from(),k.anchor)):(x=k.anchor,w=Y(b.to(),k.head))}var r=d.ranges.slice(0);r[h]=new dt(mt(c,w),x),Lt(c,ft(r,h),Na)}}function s(t){var n=++y,r=Vn(e,t,!0,"rect"==i);if(r)if(0!=Is(r,m)){e.curOp.focus=Uo(),o(r);var a=w(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(Mn(e,function(){y==n&&s(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(Mn(e,function(){y==n&&(l.scroller.scrollTop+=u,s(t))}),50)}}function a(t){e.state.selectingText=!1,y=1/0,Ca(t),l.input.focus(),La(document,"mousemove",b),La(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;Ca(t);var u,h,d=c.sel,f=d.ranges;if(r&&!t.shiftKey?(h=c.sel.contains(n),u=h>-1?f[h]:new dt(n,n)):(u=c.sel.primary(),h=c.sel.primIndex),t.altKey)i="rect",r||(u=new dt(n,n)),n=Vn(e,t,!0,!0),h=-1;else if("double"==i){var p=e.findWordAt(n);u=e.display.shift||c.extend?wt(c,u,p.anchor,p.head):p}else if("triple"==i){var g=new dt(Os(n.line,0),mt(c,Os(n.line+1,0)));u=e.display.shift||c.extend?wt(c,u,g.anchor,g.head):g}else u=wt(c,u,n);r?-1==h?(h=f.length,Lt(c,ft(f.concat([u]),h),{scroll:!1,origin:"*mouse"})):f.length>1&&f[h].empty()&&"single"==i&&!t.shiftKey?(Lt(c,ft(f.slice(0,h).concat(f.slice(h+1)),0)),d=c.sel):Ct(c,h,u,Na):(h=0,Lt(c,new ht([u],0),Na),d=c.sel);var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Mn(e,function(e){ko(e)?s(e):a(e)}),x=Mn(e,a);e.state.selectingText=x,Ta(document,"mousemove",b),Ta(document,"mouseup",x)}function Qn(e,t,n,i,r){try{var o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ca(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!Lo(e,n))return wo(t);s-=l.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=o){var h=to(e.doc,s),d=e.options.gutters[c];return r(e,n,e,h,d,t),wo(t)}}}function Jn(e,t){return Qn(e,t,"gutterClick",!0,Co)}function Zn(e){var t=this;if(ni(t),!So(t,e)&&!Un(t.display,e)){Ca(e),ms&&(Ws=+new Date);var n=Vn(t,e,!0),i=e.dataTransfer.files;if(n&&!Q(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){var a=new FileReader;a.onload=Mn(t,function(){if(o[i]=a.result,++s==r){n=mt(t.doc,n);var e={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Si(t.doc,e),Tt(t.doc,pt(n,Xs(e)))}}),a.readAsText(e)},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(Ls?e.altKey:e.ctrlKey))var c=t.listSelections();if(Et(t.doc,pt(n,n)),c)for(var l=0;l<c.length;++l)Pi(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function ei(e,t){if(ms&&(!e.state.draggingText||+new Date-Ws<100))return void Sa(t);if(!So(e,t)&&!Un(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!ks)){var n=zo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",xs&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),xs&&n.parentNode.removeChild(n)}}function ti(e,t){var n=Vn(e,t);if(n){var i=document.createDocumentFragment();It(e,n,i),e.display.dragCursor||(e.display.dragCursor=zo("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),qo(e.display.dragCursor,i)}}function ni(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ii(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,fs||A(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),fs&&A(e),$t(e,100))}function ri(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function oi(e,t){var n=Vs(t),i=n.x,r=n.y,o=e.display,s=o.scroller;if(i&&s.scrollWidth>s.clientWidth||r&&s.scrollHeight>s.clientHeight){if(r&&Ls&&ys)e:for(var a=t.target,l=o.view;a!=s;a=a.parentNode)for(var c=0;c<l.length;c++)if(l[c].node==a){e.display.currentWheelTarget=a;break e}if(i&&!fs&&!xs&&null!=Us)return r&&ii(e,Math.max(0,Math.min(s.scrollTop+r*Us,s.scrollHeight-s.clientHeight))),ri(e,Math.max(0,Math.min(s.scrollLeft+i*Us,s.scrollWidth-s.clientWidth))),Ca(t),void(o.wheelStartX=null);if(r&&null!=Us){var u=r*Us,h=e.doc.scrollTop,d=h+o.wrapper.clientHeight;0>u?h=Math.max(0,h+u-50):d=Math.min(e.doc.height,d+u+50),A(e,{top:h,bottom:d})}20>qs&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Us=(Us*qs+n)/(qs+1),++qs)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function si(e,t,n){if("string"==typeof t&&(t=sa[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{Q(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Pa}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function ai(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=la(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&la(t,e.options.extraKeys,n,e)||la(t,e.options.keyMap,n,e)}function li(e,t,n,i){var r=e.state.keySeq;if(r){if(ca(t))return"handled";Gs.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=ai(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Co(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(Ca(n),Rt(e)),r&&!o&&/\'$/.test(t)?(Ca(n),!0):!!o}function ci(e,t){var n=ua(t,!0);return n?t.shiftKey&&!e.state.keySeq?li(e,"Shift-"+n,t,function(t){return si(e,t,!0)})||li(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?si(e,t):void 0}):li(e,n,t,function(t){return si(e,t)}):!1}function ui(e,t,n){return li(e,"'"+n+"'",t,function(t){return si(e,t,!0)})}function hi(e){var t=this;if(t.curOp.focus=Uo(),!So(t,e)){ms&&11>vs&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=ci(t,e);xs&&(Ys=i?n:null,!i&&88==n&&!Qa&&(Ls?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||di(t)}}function di(e){function t(e){18!=e.keyCode&&e.altKey||(Ua(n,"CodeMirror-crosshair"),La(document,"keyup",t),La(document,"mouseover",t))}var n=e.display.lineDiv;Va(n,"CodeMirror-crosshair"),Ta(document,"keyup",t),Ta(document,"mouseover",t)}function fi(e){16==e.keyCode&&(this.doc.sel.shift=!1),So(this,e)}function pi(e){var t=this;if(!(Un(t.display,e)||So(t,e)||e.ctrlKey&&!e.altKey||Ls&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(xs&&n==Ys)return Ys=null,void Ca(e);if(!xs||e.which&&!(e.which<10)||!ci(t,e)){var r=String.fromCharCode(null==i?n:i);ui(t,e,r)||t.display.input.onKeyPress(e)}}}function gi(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,vi(e))},100)}function mi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ea(e,"focus",e),e.state.focused=!0,Va(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ys&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Rt(e))}function vi(e){e.state.delayingBlurEvent||(e.state.focused&&(Ea(e,"blur",e),e.state.focused=!1,Ua(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yi(e,t){Un(e.display,t)||bi(e,t)||e.display.input.onContextMenu(t)}function bi(e,t){return Lo(e,"gutterContextMenu")?Qn(e,t,"gutterContextMenu",!1,Ea):!1}function wi(e,t){if(Is(e,t.from)<0)return e;if(Is(e,t.to)<=0)return Xs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Xs(t).ch-t.to.ch),Os(n,i)}function xi(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new dt(wi(r.anchor,t),wi(r.head,t)))}return ft(n,e.sel.primIndex)}function ki(e,t,n){return e.line==t.line?Os(n.line,e.ch-t.ch+n.ch):Os(n.line+(e.line-t.line),e.ch)}function Ci(e,t,n){for(var i=[],r=Os(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=ki(a.from,r,o),c=ki(Xs(a),r,o);if(r=a.to,o=c,"around"==n){var u=e.sel.ranges[s],h=Is(u.head,u.anchor)<0;i[s]=new dt(h?c:l,h?l:c)}else i[s]=new dt(l,l)}return new ht(i,e.sel.primIndex)}function _i(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(i.update=function(t,n,i,r){t&&(this.from=mt(e,t)),n&&(this.to=mt(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Ea(e,"beforeChange",e,i),e.cm&&Ea(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Si(e,t,n){if(e.cm){if(!e.cm.curOp)return Mn(e.cm,Si)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Lo(e,"beforeChange")||e.cm&&Lo(e.cm,"beforeChange"))||(t=_i(e,t,!0))){var i=js&&!n&&ar(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Ti(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Ti(e,t)}}function Ti(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Is(t.from,t.to)){var n=xi(e,t);lo(e,t,n,e.cm?e.cm.curOp.id:0/0),Ai(e,t,n,rr(e,t));var i=[];Yr(e,function(e,n){n||-1!=No(i,e.history)||(bo(e.history,t),i.push(e.history)),Ai(e,t,null,rr(e,t))})}}function Li(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(ho(i,a),n&&!i.equals(e.sel))return void Lt(e,i,{clearRedo:!1});o=i}var c=[];ho(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=Lo(e,"beforeChange")||e.cm&&Lo(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var h=i.changes[l];if(h.origin=t,u&&!_i(e,h,!1))return void(s.length=0);c.push(oo(e,h));var d=l?xi(e,h):jo(s);Ai(e,h,d,sr(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Xs(h)});var f=[];Yr(e,function(e,t){t||-1!=No(f,e.history)||(bo(e.history,h),f.push(e.history)),Ai(e,h,null,sr(e,h))})}}}}function Ei(e,t){if(0!=t&&(e.first+=t,e.sel=new ht(Oo(e.sel.ranges,function(e){return new dt(Os(e.anchor.line+t,e.anchor.ch),Os(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){In(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)Dn(e.cm,i,"gutter")}}function Ai(e,t,n,i){if(e.cm&&!e.cm.curOp)return Mn(e.cm,Ai)(e,t,n,i);if(t.to.line<e.first)return void Ei(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Ei(e,r),t={from:Os(e.first,0),to:Os(t.to.line+r,t.to.ch),text:[jo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Os(o,Kr(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Qr(e,t.from,t.to),n||(n=xi(e,t)),e.cm?Mi(e.cm,t,i):Ur(e,t,i),Et(e,n,ja)}}function Mi(e,t,n){var i=e.doc,r=e.display,s=t.from,a=t.to,l=!1,c=s.line;e.options.lineWrapping||(c=eo(vr(Kr(i,s.line))),i.iter(c,a.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&To(e),Ur(i,t,n,o(e)),e.options.lineWrapping||(i.iter(c,s.line+t.text.length,function(e){var t=h(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),$t(e,400);var u=t.text.length-(a.line-s.line)-1;t.full?In(e):s.line!=a.line||1!=t.text.length||qr(e.doc,t)?In(e,s.line,a.line+1,u):Dn(e,s.line,"text");var d=Lo(e,"changes"),f=Lo(e,"change");if(f||d){var p={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&Co(e,"change",e,p),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Pi(e,t,n,i,r){if(i||(i=n),Is(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Si(e,{from:n,to:i,text:t,origin:r})}function ji(e,t){if(!So(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!_s){var o=zo("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-zt(e.display))+"px; height: "+(t.bottom-t.top+Ut(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function Ni(e,t,n,i){null==i&&(i=0);for(var r=0;5>r;r++){var o=!1,s=fn(e,t),a=n&&n!=t?fn(e,n):s,l=Ii(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(ii(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(ri(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function Oi(e,t,n,i,r){var o=Ii(e,t,n,i,r);null!=o.scrollTop&&ii(e,o.scrollTop),null!=o.scrollLeft&&ri(e,o.scrollLeft)}function Ii(e,t,n,i,r){var o=e.display,s=yn(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Gt(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+Wt(o),h=s>n,d=r>u-s;if(a>n)c.scrollTop=h?0:n;else if(r>a+l){var f=Math.min(n,(d?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Vt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=i-t>g;return m&&(i=t+g),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(m?0:10)):i>g+p-3&&(c.scrollLeft=i+(m?0:10)-g),c}function Di(e,t,n){(null!=t||null!=n)&&$i(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Ri(e){$i(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?Os(t.line,t.ch-1):t,i=Os(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function $i(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=pn(e,t.from),i=pn(e,t.to),r=Ii(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Fi(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Bt(e,t):n="prev");var s=e.options.tabSize,a=Kr(o,t),l=Ia(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(r,a.text.slice(u.length),a.text),c==Pa||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?Ia(Kr(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)d+=s,h+="	";if(c>d&&(h+=Po(c-d)),h!=u)return Pi(o,h,Os(t,0),Os(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var d=Os(t,u.length);Ct(o,f,new dt(d,d));break}}}function Hi(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=Kr(e,gt(e,t)):r=eo(t),null==r?null:(i(o,r)&&e.cm&&Dn(e.cm,r,n),o)}function Bi(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&Is(o.from,jo(i).to)<=0;){var s=i.pop();if(Is(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}An(e,function(){for(var t=i.length-1;t>=0;t--)Pi(e.doc,"",i[t].from,i[t].to,"+delete");Ri(e)})}function zi(e,t,n,i,r){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?h=!1:(a=t,u=Kr(e,t))}function s(e){var t=(r?hs:ds)(u,l,n,!0);if(null==t){if(e||!o())return h=!1;l=r?(0>n?rs:is)(u):0>n?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Kr(e,a),h=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,f="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),g=!0;!(0>n)||s(!g);g=!1){var m=u.text.charAt(l)||"\n",v=Fo(m,p)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||g||v||(v="s"),d&&d!=v){0>n&&(n=1,s());break}if(v&&(d=v),n>0&&!s(!g))break}var y=jt(e,Os(a,l),c,!0);return h||(y.hitSide=!0),y}function Wi(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*yn(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=mn(e,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function qi(t,n,i,r){e.defaults[t]=n,i&&(Qs[t]=r?function(e,t,n){n!=Js&&i(e,t,n)}:i)}function Ui(e){for(var t,n,i,r,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Vi(e){return"string"==typeof e?aa[e]:e}function Gi(e,t,n,i,r){if(i&&i.shared)return Yi(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return Mn(e.cm,Gi)(e,t,n,i,r);var o=new fa(e,r),s=Is(t,n);if(i&&Ro(i,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=zo("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(mr(e,t.line,t,n,o)||t.line!=n.line&&mr(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ns=!0}o.addToHistory&&lo(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&vr(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Zr(e,0),tr(e,new Ji(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){xr(e,t)&&Zr(t,0)}),o.clearOnEnter&&Ta(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(js=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++da,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)In(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)Dn(c,u,"text");o.atomic&&Mt(c.doc),Co(c,"markerAdded",c,o)}return o}function Yi(e,t,n,i,r){i=Ro(i),i.shared=!1;var o=[Gi(e,t,n,i,r)],s=o[0],a=i.widgetNode;return Yr(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(Gi(e,mt(e,t),mt(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=jo(o)}),new pa(o,s)}function Xi(e){return e.findMarks(Os(e.first,0),e.clipPos(Os(e.lastLine())),function(e){return e.parent})}function Ki(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(Is(o,s)){var a=Gi(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Qi(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Yr(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==No(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function Ji(e,t,n){this.marker=e,this.from=t,this.to=n}function Zi(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function er(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function tr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function nr(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Ji(s,o.from,l?null:o.to))}}return i}function ir(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Ji(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function rr(e,t){if(t.full)return null;var n=yt(e,t.from.line)&&Kr(e,t.from.line).markedSpans,i=yt(e,t.to.line)&&Kr(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==Is(t.from,t.to),a=nr(n,r,s),l=ir(i,o,s),c=1==t.text.length,u=jo(t.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=Zi(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=r}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var f=Zi(a,d.marker);f||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=or(a)),l&&l!=a&&(l=or(l));var p=[a];if(!c){var g,m=t.text.length-2;if(m>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(g||(g=[])).push(new Ji(a[h].marker,null,null));for(var h=0;m>h;++h)p.push(g);p.push(l)}return p}function or(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function sr(e,t){var n=go(e,t),i=rr(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function ar(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=No(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(Is(c.to,a.from)<0||Is(c.from,a.to)>0)){var u=[l,1],h=Is(c.from,a.from),d=Is(c.to,a.to);(0>h||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function lr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function cr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ur(e){return e.inclusiveLeft?-1:0}function hr(e){return e.inclusiveRight?1:0}function dr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=Is(i.from,r.from)||ur(e)-ur(t);if(o)return-o;var s=Is(i.to,r.to)||hr(e)-hr(t);return s?s:t.id-e.id}function fr(e,t){var n,i=Ns&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||dr(n,r.marker)<0)&&(n=r.marker);return n}function pr(e){return fr(e,!0)}function gr(e){return fr(e,!1)}function mr(e,t,n,i,r){var o=Kr(e,t),s=Ns&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=Is(c.from,n)||ur(l.marker)-ur(r),h=Is(c.to,i)||hr(l.marker)-hr(r);if(!(u>=0&&0>=h||0>=u&&h>=0)&&(0>=u&&(Is(c.to,n)>0||l.marker.inclusiveRight&&r.inclusiveLeft)||u>=0&&(Is(c.from,i)<0||l.marker.inclusiveLeft&&r.inclusiveRight)))return!0}}}function vr(e){for(var t;t=pr(e);)e=t.find(-1,!0).line;return e}function yr(e){for(var t,n;t=gr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function br(e,t){var n=Kr(e,t),i=vr(n);return n==i?t:eo(i)}function wr(e,t){if(t>e.lastLine())return t;var n,i=Kr(e,t);if(!xr(e,i))return t;for(;n=gr(i);)i=n.find(1,!0).line;return eo(i)+1}function xr(e,t){var n=Ns&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&kr(e,t,i))return!0}}function kr(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return kr(e,i.line,Zi(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&kr(e,t,r))return!0}function Cr(e,t,n){no(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Di(e,null,n)}function _r(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!za(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),qo(t.display.measure,zo("div",[e.node],null,n))}return e.height=e.node.offsetHeight}function Sr(e,t,n,i){var r=new ga(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Hi(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!xr(e,t)){var i=no(t)<e.scrollTop;Zr(t,t.height+_r(r)),i&&Di(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Tr(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),lr(e),cr(e,n);var r=i?i(e):1;r!=e.height&&Zr(e,r)}function Lr(e){e.parent=null,lr(e)}function Er(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Ar(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Mr(t,n,i,r){for(var o=0;10>o;o++){r&&(r[0]=e.innerMode(t,i).mode);var s=t.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Pr(e,t,n,i){function r(e){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:e?ra(s.mode,u):u}}var o,s=e.doc,a=s.mode;t=mt(s,t);var l,c=Kr(s,t.line),u=Bt(e,t.line,n),h=new ha(c.text,e.options.tabSize);for(i&&(l=[]);(i||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=Mr(a,h,u),i&&l.push(r(!0));return i?l:r()}function jr(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new ha(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Er(Ar(n,i),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&Ir(e,t,i,h.pos),h.pos=t.length,l=null):l=Er(Mr(n,h,i,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)c=Math.min(h.start,c+5e4),r(c,u);u=l}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e4);r(p,u),c=p}}function Nr(e,t,n,i){var r=[e.state.modeGen],o={};jr(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;jr(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Or(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Nr(e,t,t.stateAfter=Bt(e,eo(t)));t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Ir(e,t,n,i){var r=e.doc.mode,o=new ha(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Ar(r,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)Mr(r,o,n),o.start=o.pos}function Dr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ya:va;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Rr(e,t){var n=zo("span",null,null,ys?"padding-right: .1px":null),i={pre:zo("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(ms||ys)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Fr,Jo(e.display.measure)&&(o=io(s))&&(i.addToken=Br(i.addToken,o)),i.map=[];var a=t!=e.display.externalMeasured&&eo(s);Wr(s,i,Or(e,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=Go(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=Go(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Qo(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ys&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Ea(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=Go(i.pre.className,i.textClass||"")),i}function $r(e){var t=zo("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Fr(e,t,n,i,r,o,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Hr):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var d=l.exec(t),f=d?d.index-h:t.length-h;if(f){var p=document.createTextNode(a.slice(h,h+f));u.appendChild(ms&&9>vs?zo("span",[p]):p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!d)break;if(h+=f+1,"	"==d[0]){var g=e.cm.options.tabSize,m=g-e.col%g,p=u.appendChild(zo("span",Po(m),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=m}else if("\r"==d[0]||"\n"==d[0]){var p=u.appendChild(zo("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar"));p.setAttribute("cm-text",d[0]),e.col+=1}else{var p=e.cm.options.specialCharPlaceholder(d[0]);p.setAttribute("cm-text",d[0]),u.appendChild(ms&&9>vs?zo("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),ms&&9>vs&&(c=!0),e.pos+=t.length}if(n||i||r||c||s){var v=n||"";i&&(v+=i),r&&(v+=r);var y=zo("span",[u],v,s);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(u)}}function Hr(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+=" "}function Br(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var h=0;h<t.length;h++){var d=t[h];if(d.to>c&&d.from<=c)break}if(d.to>=u)return e(n,i,r,o,s,a,l);e(n,i.slice(0,d.to-c),r,o,null,a,l),o=null,i=i.slice(d.to-c),c=d.to}}}function zr(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Wr(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,c,u,h,d,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=h=a="",d=null,v=1/0;for(var y=[],b=0;b<i.length;++b){var w=i[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(c+=" "+x.endStyle),x.title&&!h&&(h=x.title),x.collapsed&&(!d||dr(d.marker,x)<0)&&(d=w)):w.from>p&&v>w.from&&(v=w.from)}if(d&&(d.from||0)==p){if(zr(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}if(!d&&y.length)for(var b=0;b<y.length;++b)zr(t,0,y[b])}if(p>=f)break;for(var k=Math.min(f,v);;){if(m){var C=p+m.length;if(!d){var _=C>k?m.slice(0,k-p):m;t.addToken(t,_,s?s+l:l,u,p+_.length==v?c:"",h,a)}if(C>=k){m=m.slice(k-p),p=k;break}p=C,u=""}m=r.slice(o,o=n[g++]),s=Dr(n[g++],t.cm.options)}}else for(var g=1;g<n.length;g+=2)t.addToken(t,r.slice(o,o=n[g]),Dr(n[g+1],t.cm.options))}function qr(e,t){return 0==t.from.ch&&0==t.to.ch&&""==jo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ur(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){Tr(e,n,r,i),Co(e,"change",e,t)}function s(e,t){for(var n=e,o=[];t>n;++n)o.push(new ma(c[n],r(n),i));return o}var a=t.from,l=t.to,c=t.text,u=Kr(e,a.line),h=Kr(e,l.line),d=jo(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(qr(e,t)){var g=s(0,c.length-1);
o(h,h.text,f),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f);else{var g=s(1,c.length-1);g.push(new ma(d+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),f);var g=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,g)}Co(e,"change",e,t)}function Vr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Gr(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Yr(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Xr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,In(e)}function Kr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>t){n=r;break}t-=o}return n.lines[t]}function Qr(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function Jr(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function Zr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function eo(e){if(null==e.parent)return null;for(var t=e.parent,n=No(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function to(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(o>t){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i],a=s.height;if(a>t)break;t-=a}return n+i}function no(e){e=vr(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function io(e){var t=e.order;return null==t&&(t=e.order=tl(e.text)),t}function ro(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function oo(e,t){var n={from:G(t.from),to:Xs(t),text:Qr(e,t.from,t.to)};return fo(e,n,t.from.line,t.to.line+1),Yr(e,function(e){fo(e,n,t.from.line,t.to.line+1)},!0),n}function so(e){for(;e.length;){var t=jo(e);if(!t.ranges)break;e.pop()}}function ao(e,t){return t?(so(e.done),jo(e.done)):e.done.length&&!jo(e.done).ranges?jo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),jo(e.done)):void 0}function lo(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ao(r,r.lastOp==i))){var a=jo(o.changes);0==Is(t.from,t.to)&&0==Is(t.from,a.to)?a.to=Xs(t):o.changes.push(oo(e,t))}else{var l=jo(r.done);for(l&&l.ranges||ho(e.sel,r.done),o={changes:[oo(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Ea(e,"historyAdded")}function co(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function uo(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||co(e,o,jo(r.done),t))?r.done[r.done.length-1]=t:ho(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&i.clearRedo!==!1&&so(r.undone)}function ho(e,t){var n=jo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function fo(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function po(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function go(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(po(n[i]));return r}function mo(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ht.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&No(t,Number(c[1]))>-1&&(jo(a)[h]=u[h],delete u[h])}}}return r}function vo(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function yo(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)vo(o.ranges[a].anchor,t,n,i),vo(o.ranges[a].head,t,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Os(l.from.line+i,l.from.ch),l.to=Os(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function bo(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;yo(e.done,n,i,r),yo(e.undone,n,i,r)}function wo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function xo(e){return e.target||e.srcElement}function ko(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ls&&e.ctrlKey&&1==t&&(t=3),t}function Co(e,t){function n(e){return function(){e.apply(null,o)}}var i=e._handlers&&e._handlers[t];if(i){var r,o=Array.prototype.slice.call(arguments,2);Bs?r=Bs.delayedCallbacks:Aa?r=Aa:(r=Aa=[],setTimeout(_o,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function _o(){var e=Aa;Aa=null;for(var t=0;t<e.length;++t)e[t]()}function So(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ea(e,n||t.type,e,t),wo(t)||t.codemirrorIgnore}function To(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==No(n,t[i])&&n.push(t[i])}function Lo(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function Eo(e){e.prototype.on=function(e,t){Ta(this,e,t)},e.prototype.off=function(e,t){La(this,e,t)}}function Ao(){this.id=null}function Mo(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("	",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function Po(e){for(;Da.length<=e;)Da.push(jo(Da)+" ");return Da[e]}function jo(e){return e[e.length-1]}function No(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Oo(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function Io(){}function Do(e,t){var n;return Object.create?n=Object.create(e):(Io.prototype=e,n=new Io),t&&Ro(t,n),n}function Ro(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function $o(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Fo(e,t){return t?t.source.indexOf("\\w")>-1&&Ha(e)?!0:t.test(e):Ha(e)}function Ho(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function Bo(e){return e.charCodeAt(0)>=768&&Ba.test(e)}function zo(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Wo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function qo(e,t){return Wo(e).appendChild(t)}function Uo(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Vo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Go(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Vo(n[i]).test(t)&&(t+=" "+n[i]);return t}function Yo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Xo(){Ga||(Ko(),Ga=!0)}function Ko(){var e;Ta(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Yo(qn)},100))}),Ta(window,"blur",function(){Yo(vi)})}function Qo(e){if(null==Wa){var t=zo("span","\u200b");qo(e,zo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Wa=t.offsetWidth<=1&&t.offsetHeight>2&&!(ms&&8>vs))}var n=Wa?zo("span","\u200b"):zo("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Jo(e){if(null!=qa)return qa;var t=qo(e,document.createTextNode("A\u062eA")),n=$a(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=$a(t,1,2).getBoundingClientRect();return qa=i.right-n.right<3}function Zo(e){if(null!=Ja)return Ja;var t=qo(e,zo("span","x")),n=t.getBoundingClientRect(),i=$a(t,0,1).getBoundingClientRect();return Ja=Math.abs(n.left-i.left)>1}function es(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function ts(e){return e.level%2?e.to:e.from}function ns(e){return e.level%2?e.from:e.to}function is(e){var t=io(e);return t?ts(t[0]):0}function rs(e){var t=io(e);return t?ns(jo(t)):e.text.length}function os(e,t){var n=Kr(e.doc,t),i=vr(n);i!=n&&(t=eo(i));var r=io(i),o=r?r[0].level%2?rs(i):is(i):0;return Os(t,o)}function ss(e,t){for(var n,i=Kr(e.doc,t);n=gr(i);)i=n.find(1,!0).line,t=null;var r=io(i),o=r?r[0].level%2?is(i):rs(i):i.text.length;return Os(null==t?eo(i):t,o)}function as(e,t){var n=os(e,t.line),i=Kr(e.doc,n.line),r=io(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return Os(n.line,s?0:o)}return n}function ls(e,t,n){var i=e[0].level;return t==i?!0:n==i?!1:n>t}function cs(e,t){el=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return ls(e,r.level,e[n].level)?(r.from!=r.to&&(el=n),i):(r.from!=r.to&&(el=i),n);n=i}}return n}function us(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&Bo(e.text.charAt(t)));return t}function hs(e,t,n,i){var r=io(e);if(!r)return ds(e,t,n,i);for(var o=cs(r,t),s=r[o],a=us(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return cs(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?us(e,s.to,-1,i):us(e,s.from,1,i)}}function ds(e,t,n,i){var r=t+n;if(i)for(;r>0&&Bo(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var fs=/gecko\/\d/i.test(navigator.userAgent),ps=/MSIE \d/.test(navigator.userAgent),gs=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ms=ps||gs,vs=ms&&(ps?document.documentMode||6:gs[1]),ys=/WebKit\//.test(navigator.userAgent),bs=ys&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ws=/Chrome\//.test(navigator.userAgent),xs=/Opera\//.test(navigator.userAgent),ks=/Apple Computer/.test(navigator.vendor),Cs=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),_s=/PhantomJS/.test(navigator.userAgent),Ss=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ts=Ss||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),Ls=Ss||/Mac/.test(navigator.platform),Es=/win/i.test(navigator.platform),As=xs&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);As&&(As=Number(As[1])),As&&As>=15&&(xs=!1,ys=!0);var Ms=Ls&&(bs||xs&&(null==As||12.11>As)),Ps=fs||ms&&vs>=9,js=!1,Ns=!1;g.prototype=Ro({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==i&&this.overlayHack(),this.checkedOverlay=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=Ls&&!Cs?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){xo(e)!=t.vert&&xo(e)!=t.horiz&&Mn(t.cm,Gn)(e)};Ta(this.vert,"mousedown",n),Ta(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),m.prototype=Ro({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),e.scrollbarModel={"native":g,"null":m},S.prototype.signal=function(e,t){Lo(e,t)&&this.events.push(arguments)},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ea.apply(null,this.events[e])};var Os=e.Pos=function(e,t){return this instanceof Os?(this.line=e,void(this.ch=t)):new Os(e,t)},Is=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ds=null;it.prototype=Ro({init:function(e){function t(e){if(i.somethingSelected())Ds=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Ds.join("\n"),Ra(o));else{if(!i.options.lineWiseCopyCut)return;var t=tt(i);Ds=t.text,"cut"==e.type?i.setSelections(t.ranges,null,ja):(n.prevInput="",o.value=t.text.join("\n"),Ra(o))}"cut"==e.type&&(i.state.cutIncoming=!0)}var n=this,i=this.cm,r=this.wrapper=rt(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),Ss&&(o.style.width="0px"),Ta(o,"input",function(){ms&&vs>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Ta(o,"paste",function(e){return Z(e,i)?!0:(i.state.pasteIncoming=!0,void n.fastPoll())}),Ta(o,"cut",t),Ta(o,"copy",t),Ta(e.scroller,"paste",function(t){Un(e,t)||(i.state.pasteIncoming=!0,n.focus())}),Ta(e.lineSpace,"selectstart",function(t){Un(e,t)||Ca(t)}),Ta(o,"compositionstart",function(){var e=i.getCursor("from");n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Ta(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Ot(e);if(e.options.moveInputWithCursor){var r=fn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;qo(n.cursorDiv,e.cursors),qo(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=Qa&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var s=t?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Ra(this.textarea),ms&&vs>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",ms&&vs>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ts||Uo()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Ka(t)&&!n&&!this.composing||Q(e)||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(ms&&vs>=9&&this.hasSelection===i||Ls&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);s>o&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return An(e,function(){J(e,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ms&&vs>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,i.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",s.style.cssText=u,ms&&9>vs&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!ms||ms&&9>vs)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==i.prevInput?Mn(r,sa.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Vn(r,e),l=o.scroller.scrollTop;if(a&&!xs){var c=r.options.resetSelectionOnContextMenu;c&&-1==r.doc.sel.contains(a)&&Mn(r,Lt)(r.doc,pt(a),ja);var u=s.style.cssText;if(i.wrapper.style.position="absolute",s.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ms?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ys)var h=window.scrollY;if(o.input.focus(),ys&&window.scrollTo(null,h),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),ms&&vs>=9&&t(),Ps){Sa(e);var d=function(){La(window,"mouseup",d),setTimeout(n,20)};Ta(window,"mouseup",d)}else setTimeout(n,50)}},setUneditable:Io,needsContentAttribute:!1},it.prototype),ot.prototype=Ro({init:function(e){function t(e){if(i.somethingSelected())Ds=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=tt(i);Ds=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,ja),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!Ss)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ds.join("\n"));else{var n=rt(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Ds.join("\n");var o=document.activeElement;Ra(r),setTimeout(function(){i.display.lineSpace.removeChild(n),o.focus()},50)}}var n=this,i=n.cm,r=n.div=e.lineDiv;r.contentEditable="true",nt(r),Ta(r,"paste",function(e){Z(e,i)}),Ta(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line),s=o.indexOf(t,Math.max(0,r.head.ch-t.length));s>-1&&s<=r.head.ch&&(n.composing.sel=pt(Os(r.head.line,s),Os(r.head.line,s+t.length)))}}),Ta(r,"compositionupdate",function(e){n.composing.data=e.data}),Ta(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Ta(r,"touchstart",function(){n.forceCompositionEnd()}),Ta(r,"input",function(){n.composing||n.pollContent()||An(n.cm,function(){In(i)})}),Ta(r,"copy",t),Ta(r,"cut",t)},prepareSelection:function(){var e=Ot(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=lt(this.cm,e.anchorNode,e.anchorOffset),i=lt(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=Is(X(n,i),t.from())||0!=Is(Y(n,i),t.to())){var r=st(this.cm,t.from()),o=st(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=$a(r.node,r.offset,o.offset,o.node)}catch(h){}u&&(e.removeAllRanges(),e.addRange(u),a&&null==e.anchorNode?e.addRange(a):fs&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){qo(this.cm.display.cursorDiv,e.cursors),qo(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return za(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():An(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=lt(t,e.anchorNode,e.anchorOffset),i=lt(t,e.focusNode,e.focusOffset);n&&i&&An(t,function(){Lt(t.doc,pt(n,i),ja),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o;if(i.line==t.viewFrom||0==(o=$n(e,i.line)))var s=eo(t.view[0].line),a=t.view[0].node;else var s=eo(t.view[o].line),a=t.view[o-1].node.nextSibling;var l=$n(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.lineDiv.lastChild;else var c=eo(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var h=e.doc.splitLines(ut(e,a,u,s,c)),d=Qr(e.doc,Os(s,0),Os(c,Kr(e.doc,c).text.length));h.length>1&&d.length>1;)if(jo(h)==jo(d))h.pop(),d.pop(),c--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),s++}for(var f=0,p=0,g=h[0],m=d[0],v=Math.min(g.length,m.length);v>f&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=jo(h),b=jo(d),w=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;h[h.length-1]=y.slice(0,y.length-p),h[0]=h[0].slice(f);var x=Os(s,f),k=Os(c,d.length?jo(d).length-p:0);return h.length>1||h[0]||Is(x,k)?(Pi(e.doc,h,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&Mn(this.cm,J)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),Mn(this.cm,J)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:Io,resetPosition:Io,needsContentAttribute:!0},ot.prototype),e.inputStyles={textarea:it,contenteditable:ot},ht.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=Is(n.anchor,i.anchor)||0!=Is(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new dt(G(this.ranges[t].anchor),G(this.ranges[t].head));return new ht(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(Is(t,i.from())>=0&&Is(e,i.to())<=0)return n}return-1}},dt.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Rs,$s,Fs,Hs={left:0,right:0,top:0,bottom:0},Bs=null,zs=0,Ws=0,qs=0,Us=null;ms?Us=-.53:fs?Us=15:ws?Us=-.7:ks&&(Us=-1/3);var Vs=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Vs(e);return t.x*=Us,t.y*=Us,t};var Gs=new Ao,Ys=null,Xs=e.changeEnd=function(e){return e.text?Os(e.from.line+e.text.length-1,jo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Qs.hasOwnProperty(e)&&Mn(this,Qs[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Vi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Pn(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,In(this)}),removeOverlay:Pn(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void In(this)}}),indentLine:Pn(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),yt(this.doc,e)&&Fi(this,e,t,n)}),indentSelection:Pn(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Fi(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Ri(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)Fi(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[i].from().ch>0&&Ct(this.doc,i,new dt(o,c[i].to()),ja)}}}),getTokenAt:function(e,t){return Pr(this,e,t)},getLineTokens:function(e,t){return Pr(this,Os(e),t,!0)},getTokenTypeAt:function(e){e=mt(this.doc,e);var t,n=Or(this,Kr(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!ia.hasOwnProperty(t))return n;var i=ia[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=i[r[t][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==No(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=gt(n,null==e?n.first+n.size-1:e),Bt(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?mt(this.doc,e):e?i.from():i.to(),fn(this,n,t||"page")},charCoords:function(e,t){return dn(this,mt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=hn(this,e,t||"page"),mn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=hn(this,{top:e,left:0},t||"page").top,to(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Kr(this.doc,e)}else n=e;return un(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-no(n):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return bn(this.display)},setGutterMarker:Pn(function(e,t,n){return Hi(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Ho(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Pn(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,Dn(t,i,"gutter"),Ho(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!yt(this.doc,e))return null;var t=e;if(e=Kr(this.doc,e),!e)return null}else{var t=eo(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=fn(this,mt(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Oi(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Pn(hi),triggerOnKeyPress:Pn(pi),triggerOnKeyUp:fi,execCommand:function(e){return sa.hasOwnProperty(e)?sa[e].call(null,this):void 0},triggerElectric:Pn(function(e){et(this,e)}),findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var o=0,s=mt(this.doc,e);t>o&&(s=zi(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Pn(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?zi(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},Oa)}),deleteH:Pn(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):Bi(this,function(n){var r=zi(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;0>t&&(r=-1,t=-t);for(var s=0,a=mt(this.doc,e);t>s;++s){var l=fn(this,a,"div");if(null==o?o=l.left:l.left=o,a=Wi(this,l,r,n),a.hitSide)break}return a
},moveV:Pn(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=fn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Wi(n,a,e,t);return"page"==t&&s==i.sel.primary()&&Di(n,null,dn(n,l,"div").top-a.top),l},Oa),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=this.doc,n=Kr(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var s=n.charAt(i),a=Fo(s,o)?function(e){return Fo(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Fo(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new dt(Os(e.line,i),Os(e.line,r))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Va(this.display.cursorDiv,"CodeMirror-overwrite"):Ua(this.display.cursorDiv,"CodeMirror-overwrite"),Ea(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Uo()},scrollTo:Pn(function(e,t){(null!=e||null!=t)&&$i(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Ut(this)-this.display.barHeight,width:e.scrollWidth-Ut(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Vt(this)}},scrollIntoView:Pn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Os(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)$i(this),this.curOp.scrollToPos=e;else{var n=Ii(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Pn(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&sn(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Dn(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Ea(i,"refresh",this)}),operation:function(e){return An(this,e)},refresh:Pn(function(){var e=this.display.cachedTextHeight;In(this),this.curOp.forceUpdate=!0,an(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-yn(this.display))>.5)&&s(this),Ea(this,"refresh",this)}),swapDoc:Pn(function(e){var t=this.doc;return t.cm=null,Xr(this,e),an(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Co(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Eo(e);var Ks=e.defaults={},Qs=e.optionHandlers={},Js=e.Init={toString:function(){return"CodeMirror.Init"}};qi("value","",function(e,t){e.setValue(t)},!0),qi("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),qi("indentUnit",2,n,!0),qi("indentWithTabs",!1),qi("smartIndent",!0),qi("tabSize",4,function(e){i(e),an(e),In(e)},!0),qi("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],i=e.doc.first;e.doc.iter(function(e){for(var r=0;;){var o=e.text.indexOf(t,r);if(-1==o)break;r=o+t.length,n.push(Os(i,o))}i++});for(var r=n.length-1;r>=0;r--)Pi(e.doc,t,n[r],Os(n[r].line,n[r].ch+t.length))}}),qi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),i!=e.Init&&t.refresh()}),qi("specialCharPlaceholder",$r,function(e){e.refresh()},!0),qi("electricChars",!0),qi("inputStyle",Ts?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),qi("rtlMoveVisually",!Es),qi("wholeLineUpdateBefore",!0),qi("theme","default",function(e){a(e),l(e)},!0),qi("keyMap","default",function(t,n,i){var r=Vi(n),o=i!=e.Init&&Vi(i);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)}),qi("extraKeys",null),qi("lineWrapping",!1,r,!0),qi("gutters",[],function(e){f(e.options),l(e)},!0),qi("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_(e.display)+"px":"0",e.refresh()},!0),qi("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),qi("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),qi("lineNumbers",!1,function(e){f(e.options),l(e)},!0),qi("firstLineNumber",1,l,!0),qi("lineNumberFormatter",function(e){return e},l,!0),qi("showCursorWhenSelecting",!1,Nt,!0),qi("resetSelectionOnContextMenu",!0),qi("lineWiseCopyCut",!0),qi("readOnly",!1,function(e,t){"nocursor"==t?(vi(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),qi("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),qi("dragDrop",!0,Wn),qi("cursorBlinkRate",530),qi("cursorScrollMargin",0),qi("cursorHeight",1,Nt,!0),qi("singleCursorHeightPerLine",!0,Nt,!0),qi("workTime",100),qi("workDelay",100),qi("flattenSpans",!0,i,!0),qi("addModeClass",!1,i,!0),qi("pollInterval",100),qi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),qi("historyEventDelay",1250),qi("viewportMargin",10,function(e){e.refresh()},!0),qi("maxHighlightLength",1e4,i,!0),qi("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),qi("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),qi("autofocus",null);var Zs=e.modes={},ea=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Zs[t]=n},e.defineMIME=function(e,t){ea[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ea.hasOwnProperty(t))t=ea[t];else if(t&&"string"==typeof t.name&&ea.hasOwnProperty(t.name)){var n=ea[t.name];"string"==typeof n&&(n={name:n}),t=Do(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=Zs[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(ta.hasOwnProperty(n.name)){var o=ta[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var ta=e.modeExtensions={};e.extendMode=function(e,t){var n=ta.hasOwnProperty(e)?ta[e]:ta[e]={};Ro(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){wa.prototype[e]=t},e.defineOption=qi;var na=[];e.defineInitHook=function(e){na.push(e)};var ia=e.helpers={};e.registerHelper=function(t,n,i){ia.hasOwnProperty(t)||(ia[t]=e[t]={_global:[]}),ia[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),ia[t]._global.push({pred:i,val:r})};var ra=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},oa=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var sa=e.commands={selectAll:function(e){e.setSelection(Os(e.firstLine(),0),Os(e.lastLine()),ja)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ja)},killLine:function(e){Bi(e,function(t){if(t.empty()){var n=Kr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Os(t.head.line+1,0)}:{from:t.head,to:Os(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Bi(e,function(t){return{from:Os(t.from().line,0),to:mt(e.doc,Os(t.to().line+1,0))}})},delLineLeft:function(e){Bi(e,function(e){return{from:Os(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Bi(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){Bi(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Os(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Os(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return os(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return as(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return ss(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Oa)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Oa)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?as(e,t.head):i},Oa)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=Ia(e.getLine(o.line),o.ch,i);t.push(new Array(i-s%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){An(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=Kr(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new Os(r.line,r.ch-1)),r.ch>0)r=new Os(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),Os(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=Kr(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),Os(r.line-1,s.length-1),Os(r.line,1),"+transpose")}n.push(new dt(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){An(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0),Ri(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},aa=e.keyMap={};aa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},aa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},aa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},aa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},aa["default"]=Ls?aa.macDefault:aa.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Oo(n.split(" "),Ui),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e};var la=e.lookupKey=function(e,t,n,i){t=Vi(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return la(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=la(e,t.fallthrough[o],n,i);if(s)return s}}},ca=e.isModifierKey=function(e){var t="string"==typeof e?e:Za[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},ua=e.keyName=function(e,t){if(xs&&34==e.keyCode&&e["char"])return!1;var n=Za[e.keyCode],i=n;return null==i||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Ms?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Ms?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?Ro(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=Uo();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Ta(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(La(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var ha=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ha.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ia(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ia(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ia(this.string,null,this.tabSize)-(this.lineStart?Ia(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var da=0,fa=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++da};Eo(fa),fa.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wn(e),Lo(this,"clear")){var n=this.find();n&&Co(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Zi(s.markedSpans,this);e&&!this.collapsed?Dn(e,eo(s),"text"):e&&(null!=a.to&&(r=eo(s)),null!=a.from&&(i=eo(s))),s.markedSpans=er(s.markedSpans,a),null==a.from&&this.collapsed&&!xr(this.doc,s)&&e&&Zr(s,yn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=vr(this.lines[o]),c=h(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&In(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Mt(e.doc)),e&&Co(e,"markerCleared",e,this),t&&kn(e),this.parent&&this.parent.clear()}},fa.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=Zi(o.markedSpans,this);if(null!=s.from&&(n=Os(t?o:eo(o),s.from),-1==e))return n;if(null!=s.to&&(i=Os(t?o:eo(o),s.to),1==e))return i}return n&&{from:n,to:i}},fa.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&An(n,function(){var i=e.line,r=eo(e.line),o=Jt(n,r);if(o&&(on(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!xr(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=_r(t)-s;a&&Zr(i,i.height+a)}})},fa.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=No(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},fa.prototype.detachLine=function(e){if(this.lines.splice(No(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var da=0,pa=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Eo(pa),pa.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Co(this,"clear")}},pa.prototype.find=function(e,t){return this.primary.find(e,t)};var ga=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};Eo(ga),ga.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=eo(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=_r(this);Zr(n,Math.max(0,n.height-o)),e&&An(e,function(){Cr(e,n,-o),Dn(e,i,"widget")})}},ga.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=_r(this)-e;i&&(Zr(n,n.height+i),t&&An(t,function(){t.curOp.forceUpdate=!0,Cr(t,n,i)}))};var ma=e.Line=function(e,t,n){this.text=e,cr(this,t),this.height=n?n(this):1};Eo(ma),ma.prototype.lineNo=function(){return eo(this)};var va={},ya={};Vr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,Lr(r),Co(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},Gr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vr))){var a=[];this.collapse(a),this.children=[new Vr(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var s=r.lines.splice(r.lines.length-25,25),a=new Vr(s);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Gr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=No(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Gr(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ba=0,wa=e.Doc=function(e,t,n,i){if(!(this instanceof wa))return new wa(e,t,n,i);null==n&&(n=0),Gr.call(this,[new Vr([new ma("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=Os(n,0);this.sel=pt(r),this.history=new ro(null),this.id=++ba,this.modeOption=t,this.lineSep=i,"string"==typeof e&&(e=this.splitLines(e)),Ur(this,{from:r,to:r,text:e}),Lt(this,pt(r),ja)};wa.prototype=Do(Gr.prototype,{constructor:wa,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Jr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:jn(function(e){var t=Os(this.first,0),n=this.first+this.size-1;Si(this,{from:t,to:Os(n,Kr(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),Lt(this,pt(t))}),replaceRange:function(e,t,n,i){t=mt(this,t),n=n?mt(this,n):t,Pi(this,e,t,n,i)},getRange:function(e,t,n){var i=Qr(this,mt(this,e),mt(this,t));return n===!1?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return yt(this,e)?Kr(this,e):void 0},getLineNumber:function(e){return eo(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Kr(this,e)),vr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:jn(function(e,t,n){_t(this,mt(this,"number"==typeof e?Os(e,t||0):e),null,n)}),setSelection:jn(function(e,t,n){_t(this,mt(this,e),mt(this,t||e),n)}),extendSelection:jn(function(e,t,n){xt(this,mt(this,e),t&&mt(this,t),n)}),extendSelections:jn(function(e,t){kt(this,bt(this,e,t))}),extendSelectionsBy:jn(function(e,t){kt(this,Oo(this.sel.ranges,e),t)}),setSelections:jn(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new dt(mt(this,e[i].anchor),mt(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Lt(this,ft(r,t),n)}}),addSelection:jn(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new dt(mt(this,e),mt(this,t||e))),Lt(this,ft(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Qr(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Qr(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:jn(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&Ci(this,i,t),o=i.length-1;o>=0;o--)Si(this,i[o]);a?Tt(this,a):this.cm&&Ri(this.cm)}),undo:jn(function(){Li(this,"undo")}),redo:jn(function(){Li(this,"redo")}),undoSelection:jn(function(){Li(this,"undo",!0)}),redoSelection:jn(function(){Li(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new ro(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:mo(this.history.done),undone:mo(this.history.undone)}},setHistory:function(e){var t=this.history=new ro(this.history.maxGeneration);t.done=mo(e.done.slice(0),null,!0),t.undone=mo(e.undone.slice(0),null,!0)},addLineClass:jn(function(e,t,n){return Hi(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Vo(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:jn(function(e,t,n){return Hi(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(Vo(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:jn(function(e,t,n){return Sr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Gi(this,mt(this,e),mt(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=mt(this,e),Gi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=mt(this,e);var t=[],n=Kr(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=mt(this,e),t=mt(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];r==e.line&&e.ch>l.to||null==l.from&&r!=e.line||r==t.line&&l.from>t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,void++n)}),mt(this,Os(n,t))},indexFromPos:function(e){e=mt(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new wa(Jr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new wa(Jr(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Ki(i,Xi(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Qi(Xi(this));break}}if(t.history==this.history){var r=[t.id];Yr(t,function(e){r.push(e.id)},!0),t.history=new ro(null),t.history.done=mo(this.history.done,r),t.history.undone=mo(this.history.undone,r)}},iterLinkedDocs:function(e){Yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Xa(e)},lineSeparator:function(){return this.lineSep||"\n"}}),wa.prototype.eachLine=wa.prototype.iter;var xa="iter insert remove copy getEditor constructor".split(" ");for(var ka in wa.prototype)wa.prototype.hasOwnProperty(ka)&&No(xa,ka)<0&&(e.prototype[ka]=function(e){return function(){return e.apply(this.doc,arguments)}}(wa.prototype[ka]));Eo(wa);var Ca=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},_a=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Sa=e.e_stop=function(e){Ca(e),_a(e)},Ta=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},La=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},Ea=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Aa=null,Ma=30,Pa=e.Pass={toString:function(){return"CodeMirror.Pass"}},ja={scroll:!1},Na={origin:"*mouse"},Oa={origin:"+move"};Ao.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Ia=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=i||0,s=r||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},Da=[""],Ra=function(e){e.select()};Ss?Ra=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ms&&(Ra=function(e){try{e.select()}catch(t){}});var $a,Fa=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ha=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Fa.test(e))
},Ba=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;$a=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var za=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};ms&&11>vs&&(Uo=function(){try{return document.activeElement}catch(e){return document.body}});var Wa,qa,Ua=e.rmClass=function(e,t){var n=e.className,i=Vo(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Va=e.addClass=function(e,t){var n=e.className;Vo(t).test(n)||(e.className+=(n?" ":"")+t)},Ga=!1,Ya=function(){if(ms&&9>vs)return!1;var e=zo("div");return"draggable"in e||"dragDrop"in e}(),Xa=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ka=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Qa=function(){var e=zo("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ja=null,Za={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Za,function(){for(var e=0;10>e;e++)Za[e+48]=Za[e+96]=String(e);for(var e=65;90>=e;e++)Za[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Za[e+111]=Za[e+63235]="F"+e}();var el,tl=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,h=[],d=0;u>d;++d)h.push(i=e(n.charCodeAt(d)));for(var d=0,f=c;u>d;++d){var i=h[d];"m"==i?h[d]=f:f=i}for(var d=0,p=c;u>d;++d){var i=h[d];"1"==i&&"r"==p?h[d]="n":s.test(i)&&(p=i,"r"==i&&(h[d]="R"))}for(var d=1,f=h[0];u-1>d;++d){var i=h[d];"+"==i&&"1"==f&&"1"==h[d+1]?h[d]="1":","!=i||f!=h[d+1]||"1"!=f&&"n"!=f||(h[d]=f),f=i}for(var d=0;u>d;++d){var i=h[d];if(","==i)h[d]="N";else if("%"==i){for(var g=d+1;u>g&&"%"==h[g];++g);for(var m=d&&"!"==h[d-1]||u>g&&"1"==h[g]?"1":"N",v=d;g>v;++v)h[v]=m;d=g-1}}for(var d=0,p=c;u>d;++d){var i=h[d];"L"==p&&"1"==i?h[d]="L":s.test(i)&&(p=i)}for(var d=0;u>d;++d)if(o.test(h[d])){for(var g=d+1;u>g&&o.test(h[g]);++g);for(var y="L"==(d?h[d-1]:c),b="L"==(u>g?h[g]:c),m=y||b?"L":"R",v=d;g>v;++v)h[v]=m;d=g-1}for(var w,x=[],d=0;u>d;)if(a.test(h[d])){var k=d;for(++d;u>d&&a.test(h[d]);++d);x.push(new t(0,k,d))}else{var C=d,_=x.length;for(++d;u>d&&"L"!=h[d];++d);for(var v=C;d>v;)if(l.test(h[v])){v>C&&x.splice(_,0,new t(1,C,v));var S=v;for(++v;d>v&&l.test(h[v]);++v);x.splice(_,0,new t(2,S,v)),C=v}else++v;d>C&&x.splice(_,0,new t(1,C,d))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==jo(x).level&&(w=n.match(/\s+$/))&&(jo(x).to-=w[0].length,x.push(new t(0,u-w[0].length,u))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=jo(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="5.5.1",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,n=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(r){if(r.getOption("disableInput"))return e.Pass;for(var o=r.listSelections(),s=[],a=0;a<o.length;a++){var l=o[a].head,c=r.getStateAfter(l.line),u=c.list!==!1,h=0!==c.quote,d=r.getLine(l.line),f=t.exec(d);if(!o[a].empty()||!u&&!h||!f)return void r.execCommand("newlineAndIndent");if(n.test(d))r.replaceRange("",{line:l.line,ch:0},{line:l.line,ch:l.ch+1}),s[a]="\n";else{var p=f[1],g=f[5],m=i.test(f[2])||f[2].indexOf(">")>=0?f[2]:parseInt(f[3],10)+1+f[4];s[a]="\n"+p+m+g}}r.replaceSelections(s)},e.commands.shiftTabAndIndentContinueMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,i=e.getStateAfter(n.line),r=i.list!==!1;if(r)return void e.execCommand("indentLess");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var o=Array(e.options.tabSize+1).join(" ");e.replaceSelection(o)}},e.commands.tabAndIndentContinueMarkdownList=function(e){var t=e.listSelections(),n=t[0].head,i=e.getStateAfter(n.line),r=i.list!==!1;if(r)return void e.execCommand("indentMore");if(e.options.indentWithTabs)e.execCommand("insertTab");else{var o=Array(e.options.tabSize+1).join(" ");e.replaceSelection(o)}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",document.getElementsByClassName("editor-toolbar")[0].className+=" fullscreen",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),document.getElementsByClassName("editor-toolbar")[0].className=document.getElementsByClassName("editor-toolbar")[0].className.replace(/\s*fullscreen\b/,""),e.refresh()}e.defineOption("fullScreen",!1,function(i,r,o){o==e.Init&&(o=!1),!o!=!r&&(r?t(i):n(i))})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function i(n){if(e.findModeByName){var i=e.findModeByName(n);i&&(n=i.mime||i.mimes[0])}var r=e.getMode(t,n);return"null"==r.name?null:r}function r(e,t,n){return t.f=t.inline=n,n(e,t)}function o(e,t,n){return t.f=t.block=n,n(e,t)}function s(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,x||e.f!=l||(e.f=f,e.block=a),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function a(e,t){var o=e.sol(),s=t.list!==!1,a=t.indentedCode;t.indentedCode=!1,s&&(t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):(t.list=!1,t.listDepth=0));var l=null;if(t.indentationDiff>=4)return e.skipToEnd(),a||!t.prevLineHasContent?(t.indentation-=4,t.indentedCode=!0,S):null;if(e.eatSpace())return null;if((l=e.match(q))&&l[1].length<=6)return t.header=l[1].length,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,h(t);if(t.prevLineHasContent&&!t.quote&&!s&&!a&&(l=e.match(U)))return t.header="="==l[0].charAt(0)?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,h(t);if(e.eat(">"))return t.quote=o?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),h(t);if("["===e.peek())return r(e,t,v);if(e.match(H,!0))return t.hr=!0,M;if((!t.prevLineHasContent||s)&&(e.match(B,!1)||e.match(z,!1))){var u=null;return e.match(B,!0)?u="ul":(e.match(z,!0),u="ol"),t.indentation+=4,t.list=!0,t.listDepth++,n.taskLists&&e.match(W,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+u]),h(t)}return n.fencedCodeBlocks&&e.match(/^```[ \t]*([\w+#]*)/,!0)?(t.localMode=i(RegExp.$1),t.localMode&&(t.localState=t.localMode.startState()),t.f=t.block=c,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0,h(t)):r(e,t,t.inline)}function l(e,t){var n=k.token(e,t.htmlState);return(x&&null===t.htmlState.tagStart&&!t.htmlState.context&&t.htmlState.tokenize.isInText||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=f,t.block=a,t.htmlState=null),n}function c(e,t){return e.sol()&&e.match("```",!1)?(t.localMode=t.localState=null,t.f=t.block=u,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),S)}function u(e,t){e.match("```"),t.block=a,t.f=f,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0;var i=h(t);return t.code=!1,i}function h(e){var t=[];if(e.formatting){t.push(j),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var i=0;i<e.formatting.length;i++)t.push(j+"-"+e.formatting[i]),"header"===e.formatting[i]&&t.push(j+"-"+e.formatting[i]+"-"+e.header),"quote"===e.formatting[i]&&t.push(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?j+"-"+e.formatting[i]+"-"+e.quote:"error")}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(D,"url"):(e.strong&&t.push($),e.em&&t.push(R),e.strikethrough&&t.push(F),e.linkText&&t.push(I),e.code&&t.push(S)),e.header&&(t.push(_),t.push(_+"-"+e.header)),e.quote&&(t.push(T),t.push(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?T+"-"+e.quote:T+"-"+n.maxBlockquoteDepth)),e.list!==!1){var r=(e.listDepth-1)%3;t.push(r?1===r?E:A:L)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function d(e,t){return e.match(V,!0)?h(t):void 0}function f(t,i){var r=i.text(t,i);if("undefined"!=typeof r)return r;if(i.list)return i.list=null,h(i);if(i.taskList){var s="x"!==t.match(W,!0)[1];return s?i.taskOpen=!0:i.taskClosed=!0,n.highlightFormatting&&(i.formatting="task"),i.taskList=!1,h(i)}if(i.taskOpen=!1,i.taskClosed=!1,i.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(i.formatting="header"),h(i);var a=t.sol(),c=t.next();if("\\"===c&&(t.next(),n.highlightFormatting)){var u=h(i);return u?u+" formatting-escape":"formatting-escape"}if(i.linkTitle){i.linkTitle=!1;var d=c;"("===c&&(d=")"),d=(d+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var f="^\\s*(?:[^"+d+"\\\\]+|\\\\\\\\|\\\\.)"+d;if(t.match(new RegExp(f),!0))return D}if("`"===c){var m=i.formatting;n.highlightFormatting&&(i.formatting="code");var v=h(i),y=t.pos;t.eatWhile("`");var b=1+t.pos-y;return i.code?b===C?(i.code=!1,v):(i.formatting=m,h(i)):(C=b,i.code=!0,h(i))}if(i.code)return h(i);if("!"===c&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),i.inline=i.f=g,P;if("["===c&&t.match(/.*\](\(.*\)| ?\[.*\])/,!1))return i.linkText=!0,n.highlightFormatting&&(i.formatting="link"),h(i);if("]"===c&&i.linkText&&t.match(/\(.*\)| ?\[.*\]/,!1)){n.highlightFormatting&&(i.formatting="link");var u=h(i);return i.linkText=!1,i.inline=i.f=g,u}if("<"===c&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=p,n.highlightFormatting&&(i.formatting="link");var u=h(i);return u?u+=" ":u="",u+N}if("<"===c&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){i.f=i.inline=p,n.highlightFormatting&&(i.formatting="link");var u=h(i);return u?u+=" ":u="",u+O}if("<"===c&&t.match(/^(!--|\w)/,!1)){var w=t.string.indexOf(">",t.pos);if(-1!=w){var x=t.string.substring(t.start,w);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(i.md_inside=!0)}return t.backUp(1),i.htmlState=e.startState(k),o(t,i,l)}if("<"===c&&t.match(/^\/\w*?>/))return i.md_inside=!1,"tag";var _=!1;if(!n.underscoresBreakWords&&"_"===c&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var S=t.pos-2;if(S>=0){var T=t.string.charAt(S);"_"!==T&&T.match(/(\w)/,!1)&&(_=!0)}}if("*"===c||"_"===c&&!_)if(a&&" "===t.peek());else{if(i.strong===c&&t.eat(c)){n.highlightFormatting&&(i.formatting="strong");var v=h(i);return i.strong=!1,v}if(!i.strong&&t.eat(c))return i.strong=c,n.highlightFormatting&&(i.formatting="strong"),h(i);if(i.em===c){n.highlightFormatting&&(i.formatting="em");var v=h(i);return i.em=!1,v}if(!i.em)return i.em=c,n.highlightFormatting&&(i.formatting="em"),h(i)}else if(" "===c&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return h(i);t.backUp(1)}if(n.strikethrough)if("~"===c&&t.eatWhile(c)){if(i.strikethrough){n.highlightFormatting&&(i.formatting="strikethrough");var v=h(i);return i.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return i.strikethrough=!0,n.highlightFormatting&&(i.formatting="strikethrough"),h(i)}else if(" "===c&&t.match(/^~~/,!0)){if(" "===t.peek())return h(i);t.backUp(2)}return" "===c&&(t.match(/ +$/,!1)?i.trailingSpace++:i.trailingSpace&&(i.trailingSpaceNewLine=!0)),h(i)}function p(e,t){var i=e.next();if(">"===i){t.f=t.inline=f,n.highlightFormatting&&(t.formatting="link");var r=h(t);return r?r+=" ":r="",r+N}return e.match(/^[^>]+/,!0),N}function g(e,t){if(e.eatSpace())return null;var i=e.next();return"("===i||"["===i?(t.f=t.inline=m("("===i?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,h(t)):"error"}function m(e){return function(t,i){var r=t.next();if(r===e){i.f=i.inline=f,n.highlightFormatting&&(i.formatting="link-string");var o=h(i);return i.linkHref=!1,o}return t.match(w(e),!0)&&t.backUp(1),i.linkHref=!0,h(i)}}function v(e,t){return e.match(/^[^\]]*\]:/,!1)?(t.f=y,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,h(t)):r(e,t,f)}function y(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=b,n.highlightFormatting&&(t.formatting="link");var i=h(t);return t.linkText=!1,i}return e.match(/^[^\]]+/,!0),I}function b(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=f,D+" url")}function w(e){return G[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),G[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),G[e]}var x=e.modes.hasOwnProperty("xml"),k=e.getMode(t,x?{name:"xml",htmlMode:!0}:"text/plain");void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.fencedCodeBlocks&&(n.fencedCodeBlocks=!1),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1);var C=0,_="header",S="comment",T="quote",L="variable-2",E="variable-3",A="keyword",M="hr",P="tag",j="formatting",N="link",O="link",I="link",D="string",R="em",$="strong",F="strikethrough",H=/^([*\-_])(?:\s*\1){2,}\s*$/,B=/^[*\-+]\s+/,z=/^[0-9]+([.)])\s+/,W=/^\[(x| )\](?=\s)/,q=/^(#+)(?: |$)/,U=/^ *(?:\={1,}|-{1,})\s*$/,V=/^[^#!\[\]*_\\<>` "'(~]+/,G=[],Y={startState:function(){return{f:a,prevLineHasContent:!1,thisLineHasContent:!1,block:a,htmlState:null,indentation:0,inline:f,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&e.copyState(k,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,hr:t.hr,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(e,t){if(t.formatting=!1,e.sol()){var n=!!t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n)return t.prevLineHasContent=!1,s(t),n?this.token(e,t):null;t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,r=4*Math.floor((i-t.indentation)/4);r>4&&(r=4);var o=t.indentation+r;if(t.indentationDiff=o-t.indentation,t.indentation=o,i>0)return null}return t.f(e,t)},innerMode:function(e){return e.block==l?{state:e.htmlState,mode:k}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:Y}},blankLine:s,getType:h,fold:"markdown"};return Y},"xml"),e.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,i){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(i){return{base:e.copyState(t,i.base),overlay:e.copyState(n,i.overlay),basePos:i.basePos,baseCur:null,overlayPos:i.overlayPos,overlayCur:null}},token:function(e,r){return(e!=r.streamSeen||Math.min(r.basePos,r.overlayPos)<e.start)&&(r.streamSeen=e,r.basePos=r.overlayPos=e.start),e.start==r.basePos&&(r.baseCur=t.token(e,r.base),r.basePos=e.pos),e.start==r.overlayPos&&(e.pos=e.start,r.overlayCur=n.token(e,r.overlay),r.overlayPos=e.pos),e.pos=Math.min(r.basePos,r.overlayPos),null==r.overlayCur?r.baseCur:null!=r.baseCur&&r.overlay.combineTokens||i&&null==r.overlay.combineTokens?r.baseCur+" "+r.overlayCur:r.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("gfm",function(t,n){function i(e){return e.code=!1,null}var r=0,o={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(t.combineTokens=null,t.codeBlock)return e.match(/^```/)?(t.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```/))return e.skipToEnd(),t.codeBlock=!0,null;if("`"===e.peek()){e.next();var n=e.pos;e.eatWhile("`");var i=1+e.pos-n;return t.code?i===r&&(t.code=!1):(r=i,t.code=!0),null}return t.code?(e.next(),null):e.eatSpace()?(t.ateSpace=!0,null):((e.sol()||t.ateSpace)&&(t.ateSpace=!1),e.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))/i)&&"]("!=e.string.slice(e.start-2,e.start)?(t.combineTokens=!0,"link"):(e.next(),null))},blankLine:i},s={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0,strikethrough:!0};for(var a in n)s[a]=n[a];return s.name="markdown",e.overlayMode(e.getMode(t,s),o)},"markdown"),e.defineMIME("text/x-gfm","gfm")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta"):(C=e.eat("/")?"closeTag":"openTag",t.tokenize=r,"tag bracket");if("&"==i){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=i,C=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return C="equals",null;if("<"==n){t.tokenize=i,t.state=h,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function s(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function a(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(S.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!S.contextGrabbers.hasOwnProperty(n)||!S.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function h(e,t,n){return"openTag"==e?(n.tagStart=t.column(),d):"closeTag"==e?f:h}function d(e,t,n){return"word"==e?(n.tagName=t.current(),_="tag",m):(_="error",d)}function f(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&S.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i?(_="tag",p):(_="tag error",g)}return _="error",g}function p(e,t,n){return"endTag"!=e?(_="error",p):(c(n),h)}function g(e,t,n){return _="error",p(e,t,n)}function m(e,t,n){if("word"==e)return _="attribute",v;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||S.autoSelfClosers.hasOwnProperty(i)?u(n,i):(u(n,i),n.context=new l(n,i,r==n.indented)),h}return _="error",m}function v(e,t,n){return"equals"==e?y:(S.allowMissing||(_="error"),m(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&S.allowUnquoted?(_="string",m):(_="error",m(e,t,n))}function b(e,t,n){return"string"==e?b:m(e,t,n)}var w=t.indentUnit,x=n.multilineTagIndentFactor||1,k=n.multilineTagIndentPastTag;null==k&&(k=!0);var C,_,S=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return i.isInText=!0,{startState:function(){return{tokenize:i,state:h,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;C=null;var n=t.tokenize(e,t);return(n||C)&&"comment"!=n&&(_=null,t.state=t.state(C||n,e,t),_&&(n="error"==_?n+" error":_)),n},indent:function(t,n,o){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=r&&t.tokenize!=i)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return k?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if(T&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!S.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=S.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})});var Typo=function(e,t,n,i){if(i=i||{},this.platform=i.platform||"chrome",this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=i.flags||{},e){if(this.dictionary=e,"chrome"==this.platform)t||(t=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".aff"))),n||(n=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+e+"/"+e+".dic")));else{var r=i.dictionaryPath||"";t||(t=this._readFile(r+"/"+e+"/"+e+".aff")),n||(n=this._readFile(r+"/"+e+"/"+e+".dic"))}this.rules=this._parseAFF(t),this.compoundRuleCodes={};for(var o=0,s=this.compoundRules.length;s>o;o++)for(var a=this.compoundRules[o],l=0,c=a.length;c>l;l++)this.compoundRuleCodes[a[l]]=[];"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(n);for(var o in this.compoundRuleCodes)0==this.compoundRuleCodes[o].length&&delete this.compoundRuleCodes[o];for(var o=0,s=this.compoundRules.length;s>o;o++){for(var u=this.compoundRules[o],h="",l=0,c=u.length;c>l;l++){var d=u[l];h+=d in this.compoundRuleCodes?"("+this.compoundRuleCodes[d].join("|")+")":d}this.compoundRules[o]=new RegExp(h,"i")}}return this};Typo.prototype={load:function(e){for(var t in e)this[t]=e[t];return this},_readFile:function(e,t){t||(t="ISO8859-1");var n=new XMLHttpRequest;return n.open("GET",e,!1),n.overrideMimeType&&n.overrideMimeType("text/plain; charset="+t),n.send(null),n.responseText},_parseAFF:function(e){var t={};e=this._removeAffixComments(e);for(var n=e.split("\n"),i=0,r=n.length;r>i;i++){var o=n[i],s=o.split(/\s+/),a=s[0];if("PFX"==a||"SFX"==a){for(var l=s[1],c=s[2],u=parseInt(s[3],10),h=[],d=i+1,f=i+1+u;f>d;d++){var o=n[d],p=o.split(/\s+/),g=p[2],m=p[3].split("/"),v=m[0];"0"===v&&(v="");var y=this.parseRuleCodes(m[1]),b=p[4],w={};w.add=v,y.length>0&&(w.continuationClasses=y),"."!==b&&(w.match=new RegExp("SFX"===a?b+"$":"^"+b)),"0"!=g&&(w.remove="SFX"===a?new RegExp(g+"$"):g),h.push(w)}t[l]={type:a,combineable:"Y"==c,entries:h},i+=u}else if("COMPOUNDRULE"===a){for(var u=parseInt(s[1],10),d=i+1,f=i+1+u;f>d;d++){var o=n[d],p=o.split(/\s+/);this.compoundRules.push(p[1])}i+=u}else if("REP"===a){var p=o.split(/\s+/);3===p.length&&this.replacementTable.push([p[1],p[2]])}else this.flags[a]=s[1]}return t},_removeAffixComments:function(e){return e=e.replace(/#.*$/gm,""),e=e.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),e=e.replace(/\n{2,}/g,"\n"),e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(e){function t(e,t){e in i&&"object"==typeof i[e]||(i[e]=[]),i[e].push(t)}e=this._removeDicComments(e);for(var n=e.split("\n"),i={},r=1,o=n.length;o>r;r++){var s=n[r],a=s.split("/",2),l=a[0];if(a.length>1){var c=this.parseRuleCodes(a[1]);"NEEDAFFIX"in this.flags&&-1!=c.indexOf(this.flags.NEEDAFFIX)||t(l,c);for(var u=0,h=c.length;h>u;u++){var d=c[u],f=this.rules[d];if(f)for(var p=this._applyRule(l,f),g=0,m=p.length;m>g;g++){var v=p[g];if(t(v,[]),f.combineable)for(var y=u+1;h>y;y++){var b=c[y],w=this.rules[b];if(w&&w.combineable&&f.type!=w.type)for(var x=this._applyRule(v,w),k=0,C=x.length;C>k;k++){var _=x[k];t(_,[])}}}d in this.compoundRuleCodes&&this.compoundRuleCodes[d].push(l)}}else t(l.trim(),[])}return i},_removeDicComments:function(e){return e=e.replace(/^\t.*$/gm,"")},parseRuleCodes:function(e){if(!e)return[];if(!("FLAG"in this.flags))return e.split("");if("long"===this.flags.FLAG){for(var t=[],n=0,i=e.length;i>n;n+=2)t.push(e.substr(n,2));return t}return"num"===this.flags.FLAG?textCode.split(","):void 0},_applyRule:function(e,t){for(var n=t.entries,i=[],r=0,o=n.length;o>r;r++){var s=n[r];if(!s.match||e.match(s.match)){var a=e;if(s.remove&&(a=a.replace(s.remove,"")),"SFX"===t.type?a+=s.add:a=s.add+a,i.push(a),"continuationClasses"in s)for(var l=0,c=s.continuationClasses.length;c>l;l++){var u=this.rules[s.continuationClasses[l]];u&&(i=i.concat(this._applyRule(a,u)))}}}return i},check:function(e){var t=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(t))return!0;if(t.toUpperCase()===t){var n=t[0]+t.substring(1).toLowerCase();if(this.hasFlag(n,"KEEPCASE"))return!1;if(this.checkExact(n))return!0}var i=t.toLowerCase();if(i!==t){if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i))return!0}return!1},checkExact:function(e){var t=this.dictionaryTable[e];if("undefined"==typeof t){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN)for(var n=0,i=this.compoundRules.length;i>n;n++)if(e.match(this.compoundRules[n]))return!0;return!1}for(var n=0,i=t.length;i>n;n++)if(!this.hasFlag(e,"ONLYINCOMPOUND",t[n]))return!0;return!1},hasFlag:function(e,t,n){if(t in this.flags){if("undefined"==typeof n)var n=Array.prototype.concat.apply([],this.dictionaryTable[e]);if(n&&-1!==n.indexOf(this.flags[t]))return!0}return!1},alphabet:"",suggest:function(e,t){function n(e){for(var t=[],n=0,i=e.length;i>n;n++){for(var r=e[n],o=[],s=0,a=r.length+1;a>s;s++)o.push([r.substring(0,s),r.substring(s,r.length)]);
for(var l=[],s=0,a=o.length;a>s;s++){var u=o[s];u[1]&&l.push(u[0]+u[1].substring(1))}for(var h=[],s=0,a=o.length;a>s;s++){var u=o[s];u[1].length>1&&h.push(u[0]+u[1][1]+u[1][0]+u[1].substring(2))}for(var d=[],s=0,a=o.length;a>s;s++){var u=o[s];if(u[1])for(var f=0,p=c.alphabet.length;p>f;f++)d.push(u[0]+c.alphabet[f]+u[1].substring(1))}for(var g=[],s=0,a=o.length;a>s;s++){var u=o[s];if(u[1])for(var f=0,p=c.alphabet.length;p>f;f++)d.push(u[0]+c.alphabet[f]+u[1])}t=t.concat(l),t=t.concat(h),t=t.concat(d),t=t.concat(g)}return t}function i(e){for(var t=[],n=0;n<e.length;n++)c.check(e[n])&&t.push(e[n]);return t}function r(e){function r(e,t){return e[1]<t[1]?-1:1}for(var o=n([e]),s=n(o),a=i(o).concat(i(s)),l={},u=0,h=a.length;h>u;u++)a[u]in l?l[a[u]]+=1:l[a[u]]=1;var d=[];for(var u in l)d.push([u,l[u]]);d.sort(r).reverse();for(var f=[],u=0,h=Math.min(t,d.length);h>u;u++)c.hasFlag(d[u][0],"NOSUGGEST")||f.push(d[u][0]);return f}if(t||(t=5),this.check(e))return[];for(var o=0,s=this.replacementTable.length;s>o;o++){var a=this.replacementTable[o];if(-1!==e.indexOf(a[0])){var l=e.replace(a[0],a[1]);if(this.check(l))return[l]}}var c=this;return c.alphabet="abcdefghijklmnopqrstuvwxyz",r(e)}},CodeMirror.defineMode("spell-checker",function(e){var t,n=0,i="",r="",o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),o.onload=function(){4===o.readyState&&200===o.status&&(i=o.responseText,n++,2==n&&(t=new Typo("en_US",i,r,{platform:"any"})))},o.send(null);var s=new XMLHttpRequest;s.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),s.onload=function(){4===s.readyState&&200===s.status&&(r=s.responseText,n++,2==n&&(t=new Typo("en_US",i,r,{platform:"any"})))},s.send(null);var a='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',l={token:function(e){var n=e.peek(),i="";if(a.includes(n))return e.next(),null;for(;null!=(n=e.peek())&&!a.includes(n);)i+=n,e.next();return t&&!t.check(i)?"spell-error":null}},c=CodeMirror.getMode(e,e.backdrop||"text/plain");return CodeMirror.overlayMode(c,l,!0)}),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)}),function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=u.normal,this.options.gfm&&(this.rules=this.options.tables?u.tables:u.gfm)}function t(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=h.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?h.breaks:h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function n(e){this.options=e||{}}function i(e){this.tokens=[],this.token=null,this.options=e||c.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?String.fromCharCode("x"===t.charAt(1)?parseInt(t.substring(2),16):+t.substring(1)):""})}function s(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function a(){}function l(e){for(var t,n,i=1;i<arguments.length;i++){t=arguments[i];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(t,n,o){if(o||"function"==typeof n){o||(o=n,n=null),n=l({},c.defaults,n||{});var s,a,u=n.highlight,h=0;try{s=e.lex(t,n)}catch(d){return o(d)}a=s.length;var f=function(e){if(e)return n.highlight=u,o(e);var t;try{t=i.parse(s,n)}catch(r){e=r}return n.highlight=u,e?o(e):o(null,t)};if(!u||u.length<3)return f();if(delete n.highlight,!a)return f();for(;h<s.length;h++)!function(e){return"code"!==e.type?--a||f():u(e.text,e.lang,function(t,n){return t?f(t):null==n||n===e.text?--a||f():(e.text=n,e.escaped=!0,void(--a||f()))})}(s[h])}else try{return n&&(n=l({},c.defaults,n)),i.parse(e.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+r(d.message+"",!0)+"</pre>";throw d}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};u.bullet=/(?:[*+-]|\d+\.)/,u.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,u.item=s(u.item,"gm")(/bull/g,u.bullet)(),u.list=s(u.list)(/bull/g,u.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+u.def.source+")")(),u.blockquote=s(u.blockquote)("def",u.def)(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",u.html=s(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=s(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=l({},u),u.gfm=l({},u.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),u.gfm.paragraph=s(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=l({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=u,e.lex=function(t,n){var i=new e(n);return i.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,n){for(var i,r,o,s,a,l,c,h,d,e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(t&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},h=0;h<l.align.length;h++)l.align[h]=/^ *-+: *$/.test(l.align[h])?"right":/^ *:-+: *$/.test(l.align[h])?"center":/^ *:-+ *$/.test(l.align[h])?"left":null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].split(/ *\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,t,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),o=o[0].match(this.rules.item),i=!1,d=o.length,h=0;d>h;h++)l=o[h],c=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(c-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&h!==d-1&&(a=u.bullet.exec(o[h+1])[0],s===a||s.length>1&&a.length>1||(e=o.slice(h+1).join("\n")+e,h=d-1)),r=i||/\n\n(?!\s*$)/.test(l),h!==d-1&&(i="\n"===l.charAt(l.length-1),r||(r=i)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!n&&t&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(t&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<l.align.length;h++)l.align[h]=/^ *-+: *$/.test(l.align[h])?"right":/^ *:-+: *$/.test(l.align[h])?"center":/^ *:-+ *$/.test(l.align[h])?"left":null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=s(h.link)("inside",h._inside)("href",h._href)(),h.reflink=s(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=l({},h.normal,{escape:s(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:s(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:s(h.br)("{2,}","*")(),text:s(h.gfm.text)("{2,}","*")()}),t.rules=h,t.output=function(e,n,i){var r=new t(n,i);return r.output(e)},t.prototype.output=function(e){for(var t,n,i,o,s="";e;)if(o=this.rules.escape.exec(e))e=e.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(e))e=e.substring(o[0].length),"@"===o[2]?(n=this.mangle(":"===o[1].charAt(6)?o[1].substring(7):o[1]),i=this.mangle("mailto:")+n):(n=r(o[1]),i=n),s+=this.renderer.link(i,null,n);else if(this.inLink||!(o=this.rules.url.exec(e))){if(o=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(o[0])&&(this.inLink=!1),e=e.substring(o[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):r(o[0]):o[0];else if(o=this.rules.link.exec(e))e=e.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(e))||(o=this.rules.nolink.exec(e))){if(e=e.substring(o[0].length),t=(o[2]||o[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){s+=o[0].charAt(0),e=o[0].substring(1)+e;continue}this.inLink=!0,s+=this.outputLink(o,t),this.inLink=!1}else if(o=this.rules.strong.exec(e))e=e.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(e))e=e.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(e))e=e.substring(o[0].length),s+=this.renderer.codespan(r(o[2],!0));else if(o=this.rules.br.exec(e))e=e.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(e))e=e.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),s+=this.renderer.text(r(this.smartypants(o[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(o[0].length),n=r(o[1]),i=n,s+=this.renderer.link(i,null,n);return s},t.prototype.outputLink=function(e,t){var n=r(t.href),i=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,r(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):e},t.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;i>r;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},n.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(n?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:r(e,!0))+"\n</code></pre>"},n.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},n.prototype.html=function(e){return e},n.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},n.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},n.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},n.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},n.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},n.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},n.prototype.tablecell=function(e,t){var n=t.header?"th":"td",i=t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">";return i+e+"</"+n+">\n"},n.prototype.strong=function(e){return"<strong>"+e+"</strong>"},n.prototype.em=function(e){return"<em>"+e+"</em>"},n.prototype.codespan=function(e){return"<code>"+e+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(e){return"<del>"+e+"</del>"},n.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(o(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:"))return""}var s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>"},n.prototype.image=function(e,t,n){var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},n.prototype.text=function(e){return e},i.parse=function(e,t,n){var r=new i(t,n);return r.parse(e)},i.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var n="";this.next();)n+=this.tok();return n},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r,o="",s="";for(n="",e=0;e<this.token.header.length;e++)i={header:!0,align:this.token.align[e]},n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(o+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",r=0;r<t.length;r++)n+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});s+=this.renderer.tablerow(n)}return this.renderer.table(o,s);case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return this.renderer.blockquote(s);case"list_start":for(var s="",a=this.token.ordered;"list_end"!==this.next().type;)s+=this.tok();return this.renderer.list(s,a);case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(s);case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return this.renderer.listitem(s);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,c.options=c.setOptions=function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},c.Parser=i,c.parser=i.parse,c.Renderer=n,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=t,c.inlineLexer=t.output,c.parse=c,"undefined"!=typeof module&&"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):this.marked=c}.call(function(){return this||("undefined"!=typeof window?window:global)}());var isMac=/Mac/.test(navigator.platform),shortcuts={"Cmd-B":toggleBold,"Cmd-I":toggleItalic,"Cmd-K":drawLink,"Cmd-Alt-I":drawImage,"Cmd-'":toggleBlockquote,"Cmd-Alt-L":toggleOrderedList,"Cmd-L":toggleUnorderedList,"Cmd-Alt-C":toggleCodeBlock,"Cmd-P":togglePreview},toolbar=[{name:"bold",action:toggleBold,className:"fa fa-bold",title:"Bold (Ctrl+B)"},{name:"italic",action:toggleItalic,className:"fa fa-italic",title:"Italic (Ctrl+I)"},"|",{name:"quote",action:toggleBlockquote,className:"fa fa-quote-left",title:"Quote (Ctrl+')"},{name:"unordered-list",action:toggleUnorderedList,className:"fa fa-list-ul",title:"Generic List (Ctrl+L)"},{name:"ordered-list",action:toggleOrderedList,className:"fa fa-list-ol",title:"Numbered List (Ctrl+Alt+L)"},"|",{name:"link",action:drawLink,className:"fa fa-link",title:"Create Link (Ctrl+K)"},{name:"quote",action:drawImage,className:"fa fa-picture-o",title:"Insert Image (Ctrl+Alt+I)"},"|",{name:"preview",action:togglePreview,className:"fa fa-eye",title:"Toggle Preview (Ctrl+P)"},{name:"fullscreen",action:toggleFullScreen,className:"fa fa-arrows-alt",title:"Toggle Fullscreen (F11)"},{name:"guide",action:"http://nextstepwebs.github.io/simplemde-markdown-editor/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide"}];SimpleMDE.toolbar=toolbar,SimpleMDE.markdown=function(e){return window.marked?marked(e):void 0},SimpleMDE.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==e){this.element=e;var t=this.options,n=this,i={};for(var r in shortcuts)!function(e){i[fixShortcut(e)]=function(){shortcuts[e](n)}}(r);i.Enter="newlineAndIndentContinueMarkdownList",i.Tab="tabAndIndentContinueMarkdownList",i["Shift-Tab"]="shiftTabAndIndentContinueMarkdownList",i.F11=function(e){toggleFullScreen(e)},i.Esc=function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)};var o="spell-checker",s="gfm";t.spellChecker===!1&&(o="gfm",s=void 0),this.codemirror=CodeMirror.fromTextArea(e,{mode:o,backdrop:s,theme:"paper",tabSize:void 0!=t.tabSize?t.tabSize:2,indentUnit:void 0!=t.tabSize?t.tabSize:2,indentWithTabs:t.indentWithTabs===!1?!1:!0,lineNumbers:!1,autofocus:t.autofocus===!0?!0:!1,extraKeys:i,lineWrapping:t.lineWrapping===!1?!1:!0}),t.toolbar!==!1&&this.createToolbar(),t.status!==!1&&this.createStatusbar(),void 0!=t.autosave&&t.autosave.enabled===!0&&this.autosave(),this._rendered=this.element}},SimpleMDE.prototype.autosave=function(){var e=this.value(),t=this;if(void 0==this.options.autosave.unique_id||""==this.options.autosave.unique_id)return void console.log("SimpleMDE: You must set a unique_id to use the autosave feature");null!=t.element.form&&void 0!=t.element.form&&t.element.form.addEventListener("submit",function(){localStorage.setItem(t.options.autosave.unique_id,"")}),this.options.autosave.loaded!==!0&&(null!=localStorage.getItem(this.options.autosave.unique_id)&&this.codemirror.setValue(localStorage.getItem(this.options.autosave.unique_id)),this.options.autosave.loaded=!0),localStorage&&localStorage.setItem(this.options.autosave.unique_id,e);var n=document.getElementById("autosaved");if(null!=n&&void 0!=n&&""!=n){var i=new Date,r=i.getHours(),o=i.getMinutes(),s="am",a=r;a>=12&&(a=r-12,s="pm"),0==a&&(a=12),o=10>o?"0"+o:o,n.innerHTML="Autosaved: "+a+":"+o+" "+s}setTimeout(function(){t.autosave()},this.options.autosave.delay||1e4)},SimpleMDE.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,e&&0!==e.length){var t=document.createElement("div");t.className="editor-toolbar";var n=this,i={};n.toolbar=e;for(var r=0;r<e.length;r++)("guide"!=e[r].name||n.options.toolbarGuideIcon!==!1)&&!function(e){var r;r="|"===e?createSep():createIcon(e,n.options.toolbarTips),e.action&&("function"==typeof e.action?r.onclick=function(){e.action(n)}:"string"==typeof e.action&&(r.href=e.action,r.target="_blank")),i[e.name||e]=r,t.appendChild(r)}(e[r]);n.toolbarElements=i;var o=this.codemirror;o.on("cursorActivity",function(){var e=getState(o);for(var t in i)!function(t){var n=i[t];e[t]?n.className+=" active":"fullscreen"!=t&&(n.className=n.className.replace(/\s*active\s*/g,""))}(t)});var s=o.getWrapperElement();return s.parentNode.insertBefore(t,s),t}},SimpleMDE.prototype.createStatusbar=function(e){if(e=e||this.options.status,options=this.options,e&&0!==e.length){var t=document.createElement("div");t.className="editor-statusbar";for(var n,i=this.codemirror,r=0;r<e.length;r++)!function(e){var r=document.createElement("span");r.className=e,"words"===e?(r.innerHTML="0",i.on("update",function(){r.innerHTML=wordCount(i.getValue())})):"lines"===e?(r.innerHTML="0",i.on("update",function(){r.innerHTML=i.lineCount()})):"cursor"===e?(r.innerHTML="0:0",i.on("cursorActivity",function(){n=i.getCursor(),r.innerHTML=n.line+":"+n.ch})):"autosave"===e&&void 0!=options.autosave&&options.autosave.enabled===!0&&r.setAttribute("id","autosaved"),t.appendChild(r)}(e[r]);var o=this.codemirror.getWrapperElement();return o.parentNode.insertBefore(t,o.nextSibling),t}},SimpleMDE.prototype.value=function(e){return e?(this.codemirror.getDoc().setValue(e),this):this.codemirror.getValue()},SimpleMDE.toggleBold=toggleBold,SimpleMDE.toggleItalic=toggleItalic,SimpleMDE.toggleBlockquote=toggleBlockquote,SimpleMDE.toggleCodeBlock=toggleCodeBlock,SimpleMDE.toggleUnorderedList=toggleUnorderedList,SimpleMDE.toggleOrderedList=toggleOrderedList,SimpleMDE.drawLink=drawLink,SimpleMDE.drawImage=drawImage,SimpleMDE.drawHorizontalRule=drawHorizontalRule,SimpleMDE.undo=undo,SimpleMDE.redo=redo,SimpleMDE.togglePreview=togglePreview,SimpleMDE.toggleFullScreen=toggleFullScreen,SimpleMDE.prototype.toggleBold=function(){toggleBold(this)},SimpleMDE.prototype.toggleItalic=function(){toggleItalic(this)},SimpleMDE.prototype.toggleBlockquote=function(){toggleBlockquote(this)},SimpleMDE.prototype.toggleCodeBlock=function(){toggleCodeBlock(this)},SimpleMDE.prototype.toggleUnorderedList=function(){toggleUnorderedList(this)},SimpleMDE.prototype.toggleOrderedList=function(){toggleOrderedList(this)},SimpleMDE.prototype.drawLink=function(){drawLink(this)},SimpleMDE.prototype.drawImage=function(){drawImage(this)},SimpleMDE.prototype.drawHorizontalRule=function(){drawHorizontalRule(this)},SimpleMDE.prototype.undo=function(){undo(this)},SimpleMDE.prototype.redo=function(){redo(this)},SimpleMDE.prototype.togglePreview=function(){togglePreview(this)},SimpleMDE.prototype.toggleFullScreen=function(){toggleFullScreen(this)},function(){this.JST||(this.JST={}),this.JST["content-editor/templates/editor"]=function(){return this.Skim={access:function(e){var t;return t=this[e],"function"==typeof t&&(t=t.call(this)),t===!0?[this]:t===!1||null==t?!1:"[object Array]"!==Object.prototype.toString.call(t)?[t]:0===t.length?!1:t},withContext:function(e,t){var n,i;return n=function(e){var t;return t=function(){},t.prototype=e,new t},e=n(e),e.safe||(e.safe=this.safe||function(e){var t;return(null!=e?e.skimSafe:void 0)?e:(t=new String(null!=e?e:""),t.skimSafe=!0,t)}),e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},e.flatten=i=function(e){var t,n,r,o;for(n=[],r=0,o=e.length;o>r;r++)t=e[r],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.escape||(e.escape=this.escape||function(e){return null==e?"":e.skimSafe||!/[&<>\"]/.test(e)?e:this.safe((""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))}),t.call(e)}},function(e){return null==e&&(e={}),Skim.withContext.call({},e,function(){var e;return e="",e+='<h2 class="formPrompt">Edit Lesson</h2><textarea id="readme_markdown_format">',e+=this.escape(this.markdown_format),e+='</textarea><p class="commit_form">Commit Message</p><input class="commit form-control" placeholder="Update README.md" type="text" /><button class="btn btn-sm btn-info" id="lesson-readme-editor-submit">Submit</button><button class="btn btn-sm btn-info btn-cancel" id="lesson-readme-editor-hider">Cancel</button><div id="merge-to-master">',this.admin===!0&&(e+='<p><input class="automerge" style="display:inline" type="checkbox"> Merge to Master</input></p>'),e+='</div><div id="spinner-container"></div>'})}}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["switcher/templates/switcher-item"]=function(){return this.Skim={access:function(e){var t;return t=this[e],"function"==typeof t&&(t=t.call(this)),t===!0?[this]:t===!1||null==t?!1:"[object Array]"!==Object.prototype.toString.call(t)?[t]:0===t.length?!1:t},withContext:function(e,t){var n,i;return n=function(e){var t;return t=function(){},t.prototype=e,new t},e=n(e),e.safe||(e.safe=this.safe||function(e){var t;return(null!=e?e.skimSafe:void 0)?e:(t=new String(null!=e?e:""),t.skimSafe=!0,t)}),e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},e.flatten=i=function(e){var t,n,r,o;for(n=[],r=0,o=e.length;o>r;r++)t=e[r],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.escape||(e.escape=this.escape||function(e){return null==e?"":e.skimSafe||!/[&<>\"]/.test(e)?e:this.safe((""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))}),t.call(e)}},function(e){return null==e&&(e={}),Skim.withContext.call({},e,function(){var e,t;switch(e="",e+="<a",t=this.url){case!0:e+=' href="href"';break;case!1:case null:break;default:e+=' href="',e+=this.escape(t),e+='"'}return e+='><div class="contain"><p>',e+=this.escape(this.name),e+="</p></div></a>"})}}.call(this)}.call(this),function(){this.JST||(this.JST={}),this.JST["switcher/templates/switcher"]=function(){return this.Skim={access:function(e){var t;return t=this[e],"function"==typeof t&&(t=t.call(this)),t===!0?[this]:t===!1||null==t?!1:"[object Array]"!==Object.prototype.toString.call(t)?[t]:0===t.length?!1:t},withContext:function(e,t){var n,i;return n=function(e){var t;return t=function(){},t.prototype=e,new t},e=n(e),e.safe||(e.safe=this.safe||function(e){var t;return(null!=e?e.skimSafe:void 0)?e:(t=new String(null!=e?e:""),t.skimSafe=!0,t)}),e.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},e.flatten=i=function(e){var t,n,r,o;for(n=[],r=0,o=e.length;o>r;r++)t=e[r],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.escape||(e.escape=this.escape||function(e){return null==e?"":e.skimSafe||!/[&<>\"]/.test(e)?e:this.safe((""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))}),t.call(e)}},function(e){return null==e&&(e={}),Skim.withContext.call({},e,function(){var e;return e="",e+='<div class="wrap"><img class="toggle" src="/assets/switcher.svg" /><ul class="apps"></ul></div>'})}}.call(this)}.call(this),function e(t,n,i){function r(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e){e("lib/backbone-overrides")(Backbone);var t=e("content-editor/app");(new t).start(),window.CodeMirror=e("lib/code-mirror"),window.lab=e("learn/labs"),e("learn/announcement"),e("learn/karma"),e("learn/submit-lesson"),e("assessments/app"),e("learn/readme"),e("learn/suggest-change"),e("lib/switcher"),e("learn/verified_track_complete"),String.prototype.toUnderscore=function(){return this.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})}},{"assessments/app":2,"content-editor/app":11,"learn/announcement":15,"learn/karma":16,"learn/labs":17,"learn/readme":18,"learn/submit-lesson":19,"learn/suggest-change":20,"learn/verified_track_complete":21,"lib/backbone-overrides":23,"lib/code-mirror":24,"lib/switcher":32}],2:[function(e){var t=e("assessments/assessments_holder"),n=e("assessments/inline_quiz"),i=e("assessments/challenge_holder");$(document).on("DOMContentLoaded page:always",function(){var e=new t;if($(".quiz-light").length){var r=$(".answer-block"),o=$(".quiz-light"),s=o.data(),a=new n(s,o,r,e);a.initializeQuiz(),e.addAssessment(a)}if($(".repl").length){var l=$(".repl-light"),c=l.data(),u={time_created:gon.replToken.time_created,msg_mac:gon.replToken.msg_mac},h=new i(c,l,e,u);h.initializeRepls(),e.addAssessment(h)}e.assessments.length&&!e.assessmentsComplete()&&$(".complete-lesson a, .lesson-complete-container .btn-step").off()})},{"assessments/assessments_holder":3,"assessments/challenge_holder":4,"assessments/inline_quiz":6}],3:[function(e,t){function n(){this.assessments=[]}n.prototype={assessmentsComplete:function(){return this.assessments.every(function(e){return e.complete===!0})},checkAssessmentsStatus:function(){this.assessmentsComplete()&&this.enableNextLessonButton()},enableNextLessonButton:function(){$(".complete-readme").removeClass("disabled"),lab.userButtonSubmission()},quizIsComplete:function(){var e=this.quiz();return e?e.questions.every(function(e){return null!==e.studentResponse})&&!e.complete:!1},quiz:function(){return $.grep(this.assessments,function(e){return"quiz"===e.type})[0]},codeChallenge:function(){return $.grep(this.assessments,function(e){return"repl"===e.data.type})[0]},addAssessment:function(e){this.assessments.push(e)}},t.exports=n},{}],4:[function(e,t){function n(e,t,n,i){this.data={lesson_id:e.lessonId,assignment_id:e.assignmentId,assessment_id:e.assessmentId,type:"repl",responses:null},this.textEditors=document.getElementsByClassName("repl"),this.solutions=document.getElementsByClassName("repl-solution"),this.complete=e.complete,this.checksum=e.checksum,this.challenges=[],this.$replLight=t,this.assessmentsHolder=n,this.replItConnection=this.initializeReplItConn(i),this.responses=this.initializeResponses(e)}var i=e("assessments/code_challenge"),r=e("assessments/ruby-repl");n.prototype={initializeResponses:function(e){return this.complete?e.repl.data.repl.responses:null},initializeReplItConn:function(e){return new r(e)},initializeRepls:function(){for(var e=0;e<this.textEditors.length;e++){var t=new i(this.textEditors[e],this.solutions[e],this);this.complete?(t.attempted=!0,t.previousResponse=this.responses[e],t.populatePreviousResponse()):($(t.solutionButton).hide(),t.editor.setValue(t.initializationValue)),t.populateSolution(),t.bindButtons(),t.toggleSolution(),this.challenges.push(t)}},challengesComplete:function(){return this.challenges.every(function(e){return 0!=e.attempted})&&!this.complete},setResponses:function(){return _.map(this.challenges,function(e){return e.editor.getValue()})},submitChallengeResults:function(){this.challengesComplete()&&(this.data.responses=this.setResponses(),$.ajax({type:"POST",context:this,url:"/submissions",data:this.data,success:function(){this.$replLight.addClass("passing").removeClass("waiting"),this.$replLight.siblings().find("small").replaceWith("<small>Completed the Code Challenge</small>"),this.complete=!0,this.assessmentsHolder.checkAssessmentsStatus()
},failure:function(){alert("There was a problem recording your submission.")}}))}},t.exports=n},{"assessments/code_challenge":5,"assessments/ruby-repl":10}],5:[function(e,t){function n(e,t,n){this.initializationValue=$(e).data("initial"),this.previousResponse=null,this.answerBlock=$(e).closest(".repl-answer-block"),this.language=$(e).data("language"),this.solution=$(e).data("solution"),this.attempted=!1,this.validations=$(e).data("validation"),this.challengeHolder=n,this.editor=CodeMirror.fromTextArea(e,{mode:this.language,lineNumbers:!0,cursorHeight:.9,dragDrop:!1,lineWrapping:!0}),this.solutionChallenge=CodeMirror.fromTextArea(t,{mode:this.language,lineNumbers:!0,cursorHeight:.9,dragDrop:!1,lineWrapping:!0,readOnly:!0}),this.submitButton=$(e).closest(".question-block").find("input:submit"),this.solutionButton=$(e).closest(".question-block").find('input:button[value="SEE SOLUTION"]')}function i(){console.log("Failed to connect to repl.it API.");var e="Response could not be evaluated. Please try again later.",t=$(".repl-connect-spinner");$("<p class='incorrect-response'>"+e+"</p>").insertBefore(t),t.remove()}var r=e("when"),o=e("assessments/js-repl"),s=e("assessments/ruby-repl-assertion");n.prototype={populateSolution:function(){for(var e=0;e<this.solution.length;e++){{CodeMirror.Pos(this.solutionChallenge.lastLine())}this.solutionChallenge.replaceRange(String(this.solution[e]+"\n"),{line:e,ch:void 0})}},populatePreviousResponse:function(){for(var e=0;e<this.previousResponse.length;e++){{CodeMirror.Pos(this.editor.lastLine())}this.editor.replaceRange(String(this.previousResponse[e]),{line:e,ch:void 0})}},bindButtons:function(){this.submitButton.on("click",this.evaluateResponse.bind(this)),this.submitButton.on("click",this.displaySpinner.bind(this)),this.solutionButton.on("click",this.toggleSolution.bind(this))},toggleSolution:function(){$(this.solutionChallenge.getWrapperElement()).toggle()},displaySpinner:function(){this.clearResponseFeedback(),$("<div class='repl-connect-spinner'><i class='fa fa-refresh fa-spin'></i></div>").insertBefore(this.answerBlock)},correctResponseFeedback:function(){this.clearResponseFeedback(),$("<p class='correct-response'>Correct!</p>").insertBefore(this.answerBlock)},incorrectResponseFeedback:function(e){this.clearResponseFeedback(),$("<p class='incorrect-response'>"+e+"</p>").insertBefore(this.answerBlock)},clearResponseFeedback:function(){$(this.answerBlock).parent().find(".repl-connect-spinner, p.incorrect-response, p.correct-response").remove()},evaluateResponse:function(){"ruby"===this.language?this._evaluateRuby():"javascript"===this.language&&this._evaluateJS(),$(this.solutionButton).show(),this._submitResults()},_submitResults:function(){this.attempted=!0,this.challengeHolder.submitChallengeResults()},_evaluateRuby:function(){var e=this.challengeHolder.replItConnection,t=this.editor.getValue().replace(/#[^{].*/g,""),n=this.validations;r.map(n,function(n){return e.evaluate(new s({response:t,validation:n}))})["with"](this).timeout(4e3).then(function(e){var t=e.every(function(e){return"true"==e});if(t)this.correctResponseFeedback();else{var n=e.filter(function(e){return"true"!==e}).join("; ");this.incorrectResponseFeedback(n)}})["catch"](r.TimeoutError,i)["catch"](function(e){this.incorrectResponseFeedback(e)})},_evaluateJS:function(){var e=this.editor.getValue();r.map(this.validations,function(t){var n=t.replace(/"|'/g,'"');return(new o).evaluate(n,{response:e})})["with"](this).then(function(){this.correctResponseFeedback()})["catch"](this.incorrectResponseFeedback)}},t.exports=n},{"assessments/js-repl":7,"assessments/ruby-repl-assertion":9,when:106}],6:[function(e,t){function n(e,t,n,i){this.$quizData=e,this.$quizLight=t,this.lesson_id=this.$quizData.lessonId,this.assignment_id=this.$quizData.assignmentId,this.assessment_id=this.$quizData.assessmentId,this.complete=this.$quizData.complete,this.checksum=this.$quizData.checksum,this.type="quiz",this.$questionsDivs=n,this.questions=[],this.assessmentsHolder=i}var i=e("assessments/quiz_question");n.prototype={checksumsEquivalent:function(){return this.$quizData.quiz.data.quiz.checksum===$quizData.checksum},initializeQuiz:function(){if(1==this.complete)var e=this.$quizData.quiz.data.quiz.questions;_.each(this.$questionsDivs,function(t,n){var r=new i(t,this);r.setup(),this.questions.push(r),1==this.complete&&(r.correct=e[n].correct,r.studentResponse=e[n].studentResponse)}.bind(this)),1==this.complete&&this.checksumsEquivalent&&this.recreateQuizState()},submitResults:function(){this.assessmentsHolder.quizIsComplete()&&$.ajax({type:"POST",context:this,url:"/submissions",data:this.submissionData(),success:function(){this.$quizLight.addClass("passing").removeClass("waiting"),this.$quizLight.siblings().find("small").replaceWith("<small>Completed the Quiz</small>"),this.complete=!0,this.assessmentsHolder.enableNextLessonButton()},failure:function(){console.log("There was a problem recording your submission.")}})},recreateQuizState:function(){_.each(this.questions,function(e){var t=e.answerBlock,n=e.questionType;if("multi_choice"==n){var i=e.studentResponse;$(t.find(".question-selection")[i]).trigger("click")}else if("multi_select"==n){for(var i=e.studentResponse,r=0;r<i.length;r++)$(t.find(".question-selection")[i[r]]).trigger("click");t.find("input:submit").trigger("click")}})},stringifiedQuestions:function(){return _.map(this.questions,function(e){return delete e.answerBlock,delete e.$questionDivs,delete e.quiz,JSON.stringify(e)})}},n.prototype.submissionData=function(){return{questions:this.stringifiedQuestions(),checksum:this.checksum,type:"quiz",complete:this.complete,lesson_id:this.lesson_id,assignment_id:this.assignment_id,assessment_id:this.assessment_id}},t.exports=n},{"assessments/quiz_question":8}],7:[function(require,module,exports){function jsRepl(){this.chai=chai,this.chai.config.includeStack=!0}var W=require("when"),chai=require("chai");jsRepl.prototype={evaluate:function(code,options){var response=eval(options.response),assert=this.chai.assert,expect=this.chai.expect;return W.promise(function(resolve,reject){try{var result=eval(code)}catch(e){reject(e.message)}resolve(result)})}},module.exports=jsRepl},{chai:39,when:106}],8:[function(e,t){function n(e,t){this.answerBlock=$(e),this.questionType=this.answerBlock.data("question-type"),this.correct=null,this.studentResponse=null,this.quiz=t}n.prototype={setup:function(){"multi_choice"===this.questionType?this.setupMultipleChoice():"multi_select"===this.questionType?(this.setupMultipleSelect(),this.answerBlock.find(":checkbox").prop("disabled",!0)):"short_answer"===this.questionType&&this.setupShortAnswer()},setupMultipleChoice:function(){this.$questionDivs=$(this.answerBlock).find(".question-selection");var e=$(this.answerBlock).find("input.answer");this.$questionDivs.on("click",function(t){this.$questionDivs.off("click"),this.$questionDivs.prop("disabled",!0),this.$questionDivs.addClass("remove-hover");var n=$(t.currentTarget);this.$questionDivs.not(n).not(e.closest(".question-selection")).find("span").css("color","lightgray"),this.studentResponse=n.find("input").val(),n.find("input").hasClass("answer")?(this.correctMultipleChoiceAnswerFeedback(n),this.correct=!0):(this.wrongMultipleChoiceAnswerFeedback(n,e),this.correct=!1),this.quiz.submitResults()}.bind(this))},setupMultipleSelect:function(){$(this.answerBlock).find(".question-selection").on("click",function(e){var t=$(e.currentTarget);t.find("input").toggleClass("selected"),t.toggleClass("selected");var n=t.find("input:checkbox");n.is(":checked")?t.find("input:checkbox").prop("checked",!1):t.find("input:checkbox").prop("checked",!0)}.bind(this)),$(this.answerBlock).find("input:submit").on("click",function(e){e.preventDefault();var t=$(e.currentTarget);t.off("click"),t.prop("disabled",!0),$(this.answerBlock).find(":checkbox").prop("disabled",!0),$(this.answerBlock).find(".question-selection, input:submit").off("click"),this.checkMultipleSelectAnswers()}.bind(this))},checkMultipleSelectAnswers:function(){for(var e=$(this.answerBlock).find("input.selected"),t=$(this.answerBlock).find("input.answer"),n=[],i=0;i<e.length;i++)n.push(parseInt($(e[i]).val()));$(this.answerBlock).find(".question-selection").not(e.closest(".question-selection")).not(t.closest(".question-selection")).find("span").css("color","lightgray"),$(this.answerBlock).find(".question-selection").addClass("remove-hover"),0===e.not(t).length&&0===t.not(e).length?(this.correctMultipleSelectAnswerFeedback(t),this.correct=!0,this.studentResponse=n):(this.wrongMultipleSelectAnswerFeedback(t,e),this.correct=!1,this.studentResponse=n),this.quiz.submitResults()},correctMultipleChoiceAnswerFeedback:function(e){$(e).css("border","2px solid #29CE5A"),$("<p class='correct-response'>Correct Response</p>").insertBefore(e),$(e).find(".success-check").css("display","inline-block")},wrongMultipleChoiceAnswerFeedback:function(e,t){$(e).css("border","2px solid #ea5252"),$("<p class='correct-response'>Correct Response</p>").insertBefore(t),$("<p class='incorrect-response'>Incorrect</p>").insertBefore(e)},correctMultipleSelectAnswerFeedback:function(e){var t=$(e).closest(".question-selection");t.css("border","2px solid #55b847"),$("<p class='correct-response'>Correct Response</p>").insertBefore(t),t.find(".success-check").css("display","inline-block")},wrongMultipleSelectAnswerFeedback:function(e,t){var n=$(e).closest(".question-selection"),i=$(t).not($(e));i.closest(".question-selection").css("border","2px solid #ea5252"),n.css("border","2px solid #55b847"),$("<p class='correct-response'>Correct Response</p>").insertBefore(n),$("<p class='incorrect-response'>Incorrect</p>").insertBefore(i.closest(".question-selection"))}},t.exports=n},{}],9:[function(e,t){function n(e){if(!e.response||!e.validation)throw"You must pass values for both response and validation in your options hash.";this.response=e.response,this.validation=e.validation,this.evaluatedResponse="response = Fis::Test.new.evaluate_response { "+this.response+" }",this.evaluatedValidation='Fis::Test.new.test("Ruby Repl"){ Fis::Test.new.'+this.validation+" }"}n.prototype={build:function(){return[this.evaluatedResponse,this.evaluatedValidation].join("\n")}},t.exports=n},{}],10:[function(e,t){function n(e){this.client=new ReplitClient("api.repl.it","80","ruby",e)}var i=e("when");n.prototype={evaluate:function(e){var t=e.build();return i.promise(function(e,n){return i(this.client.connect())["with"](this).then(function(){return this.client.evaluate(this.testingLib+"\n"+t,{stdout:function(){}})}).then(function(t){if(t.error.length){var i=this.sanitizeResponse(t.error).split("\n")[0];n(i)}var r=this.sanitizeResponse(t.data);e(r)})}.bind(this))},sanitizeResponse:function(e){return e.replace(/(^"|"$|#)|for(\s|\S)*|\(repl\):\d{1,4}:/g,"").replace(/\s'}'/g," end-of-input").replace(/\\"/g,'"')},testingLib:['require "stringio"',"class Fis","class Test","class SkippedError < StandardError","end","def test(title, &b)","begin","if b","result = b.call","evaluate(result, title)","else",'"pending: #{title}"',"end","rescue => e","exception_handler(e, title)","end","end","def skip(message=nil)",'message ||= "skipped."',"raise SkippedError.new(message)","end","def assert(statement)","!!statement","end","def assert_equal(actual, expected)","if expected == actual","true","else",'[expected, actual, "to equal"]',"end","end","def assert_type(obj, expected)","if obj.is_a?(expected)","true","else",'[expected, obj, "to be a(n)"]',"end","end","def assert_length(obj, length)","if obj.length == length","true","else",'[length, obj, "to have length"]',"end","end","def assert_match(array, expected)","if (array.length == expected.length) && array.all? {|e| expected.include?(e)}","true","else",'[expected, array, "to match array"]',"end","end","def assert_true(obj)","if !!obj","true","else",'[true, obj, "to be"]',"end","end","def assert_false(obj)","if !!obj",'[false, obj, "to be"]',"else","true","end","end","def assert_contains(array, expected)","if array.include?(expected)","true","else",'[expected, array, "to contain"]',"end","end","def assert_output(actual, expected)","if expected == actual","true","else",'[expected, actual, "to equal"]',"end","end","def evaluate_response(&student_response)","if capture_stdout { yield }.empty?","yield","else","capture_stdout { yield }","end","end","def capture_stdout(&block)","original_stdout = $stdout","$stdout = fake = StringIO.new","begin","yield","ensure","$stdout = original_stdout","end","fake.string","end","private","def exception_handler(e, title)","if e.class == Fis::Test::SkippedError",'"skipped: #{e.message}"',"else",'"#{e}\n#{e.backtrace.first}"',"end","end","def evaluate(result, title)","if result.is_a?(Array)",'result[1] = "nil" if result[1].to_s.empty?','"expected #{result[1]} #{result.last} #{result[0]}"',"elsif result","true","else",'"unknown error"',"end","end","end","end"].join("\n")},t.exports=n},{when:106}],11:[function(e,t){var n=e("content-editor/models/content"),i=e("content-editor/views/editor"),r=Marionette.Application.extend({onStart:function(){$(document).on("DOMContentLoaded page:always",function(){$("#lesson-readme-editor-toggler").on("click",this.loadEditor.bind(this))}.bind(this))},loadEditor:function(e){e.preventDefault(),$("#lesson-readme").hide(),$("#lesson-readme-editor").show();var t=new n({id:$("#application-data").data("lesson-content-id")});t.fetch().then(function(){var e=new i({model:t,el:"#lesson-readme-editor"});e.render()})}});t.exports=r},{"content-editor/models/content":12,"content-editor/views/editor":13}],12:[function(e,t){var n;t.exports=n=Backbone.Model.extend({urlRoot:"/contents"})},{}],13:[function(e,t){var n=e("lib/flash.js"),i=e("lib/spinner.js"),r=(e("when"),Marionette.ItemView.extend({template:JST["content-editor/templates/editor"],onRender:function(){this.simplemde=new SimpleMDE({element:this.ui.editor[0],status:!1}),this.simplemde.render()},ui:{editor:"#readme_markdown_format",submit:"#lesson-readme-editor-submit",hide:"#lesson-readme-editor-hider",spinner:"#spinner-container",automerge:".automerge",commit:".commit"},events:{"click @ui.submit":"onSubmit","click @ui.hide":"onHide"},onSubmit:function(){this.startSpinner(),this.model.set({markdown_format:this.simplemde.value(),automerge:this.ui.automerge.is(":checked"),commit:this.ui.commit.val()}),this.model.save()["with"](this).then(function(){window.alertTimer&&clearTimeout(window.alertTimer),window.alertTimer=setTimeout(this.onTimeout.bind(this),this.timeoutLength),this.ui.submit.prop("disabled",!0)})},onHide:function(e){e.preventDefault(),$("#lesson-readme-editor").hide(),$("#lesson-readme").show()},onTimeout:function(){window.scrollTo(0,0),n.error("Sorry, your submission failed. Please try again.",{className:"wysiwyg"}),this.stopSpinner()},startSpinner:function(){this.spinner||(this.spinner=new i(this.ui.spinner)),this.spinner.start()},stopSpinner:function(){this.spinner&&this.spinner.stop()},timeoutLength:2e4,templateHelpers:function(){return{admin:gon.current_user_admin}}}));t.exports=r},{"lib/flash.js":29,"lib/spinner.js":31,when:106}],14:[function(e,t){var n;t.exports=n=Marionette.ItemView.extend({ui:{suggestChange:"a.lesson-action-link-suggest-a-change.active"},events:{"click @ui.suggestChange":"onClick"},onClick:function(){this.model.save()["with"](this)["catch"](function(e){console.error(e)})}})},{}],15:[function(e){function t(e,t){var n=$("#announcement-message-modal"),i=$("#announcement-content"),r=$("#announcement-timestamp"),o=new Date(Date.now()),s={hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"};r.html(o.toLocaleTimeString("en-us",s)),i.html(e+"<span> By: "+t+"</span>"),n.modal("show")}var n=e("lib/current-user-sub");n.on("announcement",function(e){t(e.content,e.poster_username)})},{"lib/current-user-sub":26}],16:[function(e){function t(e){var t=$("#karma-holder .points-total h3");t.text(e)}var n=e("lib/current-user-sub");n.on("karma",function(e){t(e.total)})},{"lib/current-user-sub":26}],17:[function(e,t){var n=e("lib/current-user-sub"),i={};i.badge_complete='<i class="fa fa-check-circle status-badge"></i>',i.badge_incomplete='<i class="fa fa-circle-thin status-badge"></i>',i.badge_started='<i class="fa fa-circle-o status-badge"></i>',i.badgeSelector=function(e,t){return $("li[data-"+t+"-id="+e+"] .status-badge:first")},i.initialize=function(){$("#submission-lights").length&&(i.userButtonSubmission(),$(".next-button-complete").click(function(e){var t;return e.preventDefault(),t=$(".next-button-complete .next-lesson-btn").data("next-lesson-id"),$(".hidden-next-lesson-data").attr("data-next-lesson-id",t)}))},i.userButtonSubmission=function(){$(".complete-lesson a").on("click",function(){$(".complete-readme").replaceWith("<em>Finished Reading</em>"),$("#finished-light").addClass("passing"),$(".complete-no-spec-lab").replaceWith("<em>Lab Complete</em>"),$(".next-button-complete").toggleClass("hidden"),$(".next-button-incomplete").toggleClass("hidden")}),$(".lesson-complete-container .btn-step").on("click",function(){$(".complete-lesson a").trigger("click")})},i.setBuildLightStatus=function(e){return e?"passing":"failing"},i.setNavUnitAndTopicStarted=function(e){var t=$(this.badgeSelector(e,"lesson").parents(".unit-level")),n=$(this.badgeSelector(e,"lesson").parents(".topic-level"));t.find(".status-badge:first").replaceWith(i.badge_started),n.find(".status-badge:first").replaceWith(i.badge_started)},i.setNavLessonStarted=function(e){this.badgeSelector(e,"lesson").replaceWith(i.badge_started)},i.setNavUnitStarted=function(e){this.badgeSelector(e,"unit").replaceWith(i.badge_started)},i.setNavTopicStarted=function(e){this.badgeSelector(e,"topic").replaceWith(i.badge_started)},i.setNavLessonComplete=function(e){this.badgeSelector(e,"lesson").replaceWith(i.badge_complete),this.updateInactiveNav(e)},i.updateInactiveNav=function(){var e=$(".next-button-complete .next-lesson-btn").data("next-lesson-id"),t=$("li[data-lesson-id="+e+"]"),n=t.closest("ul.lesson-links").closest("div.slide").closest("li"),i=t.closest("ul.sub-nav > li");t.removeClass("viewable-false"),n.removeClass("viewable-false"),i.removeClass("viewable-false")},i.setNavLessonIncomplete=function(e){this.badgeSelector(e,"lesson").replaceWith(i.badge_incomplete)},i.setNavUnitComplete=function(e){this.badgeSelector(e,"unit").replaceWith(i.badge_complete)},i.setNavUnitIncomplete=function(e){this.badgeSelector(e,"unit").replaceWith(i.badge_incomplete)},i.setNavTopicComplete=function(e){this.badgeSelector(e,"topic").replaceWith(i.badge_complete)},i.setNavTopicIncomplete=function(e){this.badgeSelector(e,"topic").replaceWith(i.badge_incomplete)},i.updateStatus=function(e){var t="true"===e.passing,n=e.lesson_id,r=i.setBuildLightStatus(t),o=e.build_type,s=e.assessment_id,a=e.event,l=$('.assessment[data-assessment-id="'+s+'"] .answer-status-circle');if(l.length)if(l.removeClass().addClass("answer-status-circle").addClass(r).addClass("badge-custom"),i.unlockNextLesson(),"fork"==a){i.setNavLessonStarted(n),i.setNavUnitAndTopicStarted(n);var c=$(".hidden-lesson-data").data("fork-url");$("#fork-label").html('You <a href="'+c+'">forked</a> this lab just now.'),$(".lesson-action-link-github-open").attr("href",c)}else t&&"pull_request"==a?($("#pull-request-label").text("You created a pull request just now."),$("#remote_build_event_status").removeClass().addClass("answer-status-circle badge-custom pending")):t||"pull_request"!=a?t&&"build"==a?($("#"+o+"-build-label").text("All tests passing, as of just now."),"remote"==o?(i.setNavLessonComplete(n),i.setNavUnitAndTopicStarted(n),i.unlockSeeSolution()):i.setNavUnitAndTopicStarted(n)):t||"build"!=a||$("#"+o+"-build-label").text("Build failures, as of just now."):$("#pull-request-label").text("Re-open your pull request to complete this lab.")},i.unlockNextLesson=function(){var e=$("#local_build_event_status"),t=$("#github_pr_event_status"),n=e.hasClass("passing"),r=t.hasClass("passing");n&&r&&i.revealNextLessonButton()},i.revealNextLessonButton=function(){$(".next-button-complete").removeClass("hidden"),$(".next-button-incomplete").addClass("hidden")},i.unlockSeeSolution=function(){var e=$("#remote_build_event_status");if(0==e.length)return!1;var t=e.hasClass("passing");t&&i.revealSeeSolutionButton()},i.revealSeeSolutionButton=function(){$("#see-solution-btn").removeClass("hidden")},i.setCurrentLessonForInactiveNav=function(){var e=$(".handraise-lesson-data").data("currentLessonId");setCurrentLessonForInactiveNav(e)},$(document).ready(function(){i.initialize(),1==$(".track-nav").data("limited-nav")&&i.setCurrentLessonForInactiveNav(!1),n.on("submission",function(e){i.updateStatus(e)})}),t.exports=i},{"lib/current-user-sub":26}],18:[function(e){function t(e,t,n){if("success"===t)clearTimeout(window.alertTimer),window.scrollTo(0,0),"true"===n?r(e,null):o(e,null),$("#spinner-container").hide(),$("#lesson-readme-editor").hide(),$("#lesson-readme").show();else if("automerge_success"===t){if(clearTimeout(window.alertTimer),window.scrollTo(0,0),"true"===n){var s="Both PRs have been merged to master and solution successfully.";r(e,s)}else{var s="and has been merged to master successfully.";o(e,s)}$("#spinner-container").hide(),$("#lesson-readme-editor").hide(),$("#lesson-readme").show()}else if("bot_success"===t){clearTimeout(window.alertTimer),window.scrollTo(0,0);var a="Thank you for your submission.";i.success(a,{className:"wysiwyg"}),$("#spinner-container").hide(),$("#lesson-readme-editor").hide(),$("#lesson-readme").show()}else if("failure"===t){clearTimeout(window.alertTimer),window.scrollTo(0,0);var a="Submission failed, please try again.";i.error(a,{className:"wysiwyg"}),$("#spinner-container").hide()}}var n=e("lib/current-user-sub"),i=e("lib/flash.js"),r=function(e,t){var n="<a target='_blank' href='"+e[0]+"'>master</a>",r="<a target='_blank' href='"+e[1]+"'>solution</a>";if(null!==t)var o="A PR has been opened to the "+n+" and "+r+" branches with your edits."+t;else var o="A PR has been opened to the "+n+" and "+r+" branches with your edits.";i.success(o,{className:"wysiwyg"})},o=function(e,t){var n="<a target='_blank' href='"+e[0]+"'>your edits</a>";if(null!==t)var r="A PR has been opened with "+n+", "+t;else var r="A PR has been opened with "+n+".";i.success(r,{className:"wysiwyg"})};n.on("readme_update",function(e){t(e.link,e.status,e.lab)})},{"lib/current-user-sub":26,"lib/flash.js":29}],19:[function(e){var t=e("lib/current-user-sub");$(document).on("DOMContentLoaded page:always",function(){$(".lesson-action-link-lesson-submit").unbind("click"),$(".lesson-action-link-lesson-submit.inactive").on("click",function(e){e.preventDefault()});var e=$("#submit-button"),n=$(".hidden-lesson-data").data("lesson-id");e.is(":visible")||t.on("submission",function(t){"build"===t.event&&"remote"!==t.build_type&&parseInt(t.lesson_id)===n&&e.removeClass("hidden")})})},{"lib/current-user-sub":26}],20:[function(e){var t=e("models/lesson-change.js"),n=e("content-editor/views/lesson-change");$(document).on("DOMContentLoaded page:always",function(){if($(".hidden-lesson-data").length){var e=new t({lesson_id:$(".hidden-lesson-data").data("lessonId")});new n({model:e,el:"li.lesson-action.suggest-a-change"})}})},{"content-editor/views/lesson-change":14,"models/lesson-change.js":34}],21:[function(e){function t(e){var t,n=e.status;"fundamentals"===n?t="learn/templates/first-lab-complete-modal":"eligible_to_apply"===n&&(t="learn/templates/fundamentals-complete-modal");var i=new r({template:JST[t],data:e});i.render(),$.ajax({url:"/update_status",type:"PUT",data:{learn_verified_status:n}}),$("#verified-track-completion-modal").modal("show")}var n=e("lib/current-user"),i=e("lib/current-user-sub"),r=e("learn/views/track-completion-modal-view");$(function(){n.get("onboarding_complete")?t({status:"fundamentals"}):n.get("fundamentals_complete")&&t({status:"eligible_to_apply"})}),i.on("verified_track_complete",function(e){t(e)})},{"learn/views/track-completion-modal-view":22,"lib/current-user":27,"lib/current-user-sub":26}],22:[function(e,t){var n=Marionette.ItemView.extend({template:JST["learn/templates/first-lab-complete-modal"],el:"#verified-track-completion-modal",initialize:function(e){this.lessonId=e.data.lesson_id},templateHelpers:function(){return{lessonId:this.lessonId}}});t.exports=n},{}],23:[function(e,t){var n=e("./csrf.js"),i=e("when");t.exports=function(e){e.sync=function(e){return function(t,r,o){return o.beforeSend=function(e){e.setRequestHeader("X-CSRF-Token",n())},i.promise(function(n,i){var s=e(t,r,o);return s.done(function(){n(r)}),s.fail(i),s})}}(e.sync)}},{"./csrf.js":25,when:106}],24:[function(e,t){var n=e("codemirror");e("codemirror/mode/coffeescript/coffeescript"),e("codemirror/mode/css/css"),e("codemirror/mode/htmlembedded/htmlembedded"),e("codemirror/mode/htmlmixed/htmlmixed"),e("codemirror/mode/python/python"),e("codemirror/mode/ruby/ruby"),e("codemirror/mode/sass/sass"),e("codemirror/mode/sql/sql"),e("codemirror/mode/yaml/yaml"),t.exports=n},{codemirror:75,"codemirror/mode/coffeescript/coffeescript":76,"codemirror/mode/css/css":77,"codemirror/mode/htmlembedded/htmlembedded":78,"codemirror/mode/htmlmixed/htmlmixed":79,"codemirror/mode/python/python":81,"codemirror/mode/ruby/ruby":82,"codemirror/mode/sass/sass":83,"codemirror/mode/sql/sql":84,"codemirror/mode/yaml/yaml":86}],25:[function(e,t){t.exports=function(){return $("meta[name='csrf-token']").attr("content")}},{}],26:[function(e,t){function n(){return gon&&gon.current_user_id?new i(gon.current_user_id,{host:gon.nginx_ip}).connect():!1}var i=e("lib/user-sub.js");t.exports=n()},{"lib/user-sub.js":33}],27:[function(e,t){function n(){return gon&&gon.current_user?new i(gon.current_user):!1}var i=e("models/user.js");t.exports=n()},{"models/user.js":35}],28:[function(e,t){t.exports=Marionette.Object.extend({initialize:function(e){this.flashSelector=e,this._flashTemplateCloseButton="<button class='close' data-dismiss='alert' type='button'><span aria-hidden='true'> \xd7</span><span class='sr-only'>Close</span></button>",this.flashTemplate="<div class='alert' role='alert'>"+this._flashTemplateCloseButton+"</div>",$(document).ready(function(){this._renderTemplate(),this.$el.hide()}.bind(this))},show:function(e,t,n,i){null==n&&(n={}),this._renderFlashMessage(e,t,n),i&&i.call(this)},success:function(e,t,n){this.show("success",e,t,n)},info:function(e,t,n){this.show("info",e,t,n)},warning:function(e,t,n){this.show("warning",e,t,n)},error:function(e,t,n){this.warning(e,t,n)},_renderTemplate:function(){$(this.flashSelector).html(this.flashTemplate),this.$el=$(this.flashSelector+" .alert")},_renderFlashMessage:function(e,t,n){this._renderTemplate(),this.$el.removeClass().html(this._flashTemplateCloseButton).addClass("alert alert-"+e).append(t).show(),n.className&&this.$el.addClass("alert-"+n.className),_.keys(n).length&&this._applyEffectsToFlashMessage(n)},_applyEffectsToFlashMessage:function(e){setTimeout(function(){for(var t in e)$.fn[t]&&(e[t].constructor===Array?$.fn[t].apply($(this.flashSelector+" .alert"),e[t]):$.fn[t].call($(this.flashSelector+" .alert"),e[t]))}.bind(this),e.effectTimeout)}})},{}],29:[function(e,t){var n=e("lib/flash-module.js");t.exports=new n(".flash-js")},{"lib/flash-module.js":28}],30:[function(e,t){var n;t.exports=n={rootPath:function(){return"/"},organizationPath:function(e){return"/organizations/"+e},organizationsPath:function(){return"/organizations"},organizationAdminsPath:function(e){return"/organizations/"+e+"/admins"},trackExplorerPath:function(){return"/admin/tracks"},rolloutsPath:function(){return"/admin/rollouts"},handraisePath:function(){return"/admin/handraise"},curriculumDeployerPath:function(){return"/admin/deploys/new"},batchesPath:function(){return"/batches"},batchPath:function(e){return"/batches/"+e},batchProgressPath:function(e){return"/batches/"+e+"/progress"},batchNitrousPath:function(e){return"/batches/"+e+"/nitrous"},batchLessonPath:function(e,t){return"/batches/"+e+"/lessons/"+t},batchAdminsPath:function(e){return"/batches/"+e+"/admins"},userPath:function(e){return"/"+e},userSearchPath:function(e){return"/users/search/"+e},suggestChangePath:function(){return"/suggest_change/lessons"},userRoleForUserPath:function(e,t,n){return"/users/"+e+"/user_roles/"+t+"/"+n},apiPath:function(e){return"/api/v1"+e},apiUserSearchPath:function(e){var t=this.apiPath("/users/search/");return e&&(t+=e),t},apiAdminSearchPath:function(e,t,n){var i=this.apiPath("/users/search/");return e&&t&&(i=i+e+"?exclude_id="+t+"&exclude_type="+n),i},apiOrganizationsPath:function(){return this.apiPath("/organizations")},apiOrganizationsLitePath:function(){return this.apiPath("/organizations/lite")},apiBatchesPath:function(){return this.apiPath("/batches")},apiBatchesForUserPath:function(e){return this.apiPath("/users/"+e+"/batches")},apiBatchesLitePath:function(){return this.apiPath("/batches/lite")},apiStudentAddableBatchesPath:function(e){return this.apiPath("/users/"+e+"/addable_batches")},apiOrganizationAdminsPath:function(e){return this.apiPath("/organizations/"+e+"/admins")},apiBatchUserRolesPath:function(e,t){var n=this.apiPath("/batches/"+e+"/user_roles");if(t){var i=$.param(t);n=n+"?"+i}return n},apiBatchTracksPath:function(e){return this.apiPath("/batches/"+e+"/batch_tracks")},apiBatchTracksForUserPath:function(e){return this.apiPath("/users/"+e+"/batch_tracks")},apiBatchTrackPath:function(e,t){return this.apiPath("/batches/"+e+"/batch_tracks/"+t)},apiActivateBatchTrackPath:function(e,t){return this.apiPath("/batches/"+e+"/batch_tracks/"+t+"/activate")},apiBatchTrackProgressPath:function(e,t){return this.apiPath("/batches/"+e+"/tracks/"+t+"/progress")},apiBatchTrackDeployedPath:function(e,t){return this.apiPath("/batches/"+e+"/tracks/"+t+"/deployed")},apiBatchLessonPath:function(e,t){return this.apiPath("/batches/"+e+"/lessons/"+t)},apiRolesPath:function(){return this.apiPath("/roles")},apiUserRolesRootPath:function(){return this.apiPath("/user_roles/")},apiUserPath:function(e){return this.apiPath("/users/"+e)},apiUserSwitchBatchPath:function(e){return this.apiPath("/users/"+e+"/switch_active_batch")},apiUserSwitchTrackPath:function(e){return this.apiPath("/users/"+e+"/switch_active_track")},apiUserRoleForUserPath:function(e,t,n){return this.apiPath(this.userRoleForUserPath(e,t,n))},apiInvitationsPath:function(e,t){return this.apiPath("/"+e+"/"+t+"/invitations")},apiAnnouncementPath:function(){return this.apiPath("/announcements")},apiTracksForUserPath:function(e){return this.apiPath("/users/"+e+"/tracks")},apiTracksPath:function(){return this.apiPath("/tracks")},apiSchedulePath:function(){return this.apiPath("/schedules")},apiBatchNitrousPath:function(e){return this.apiPath("/batches/"+e+"/nitrous")},apiUserNitrousPath:function(e,t){return this.apiPath("/batches/"+e+"/users/"+t+"/nitrous")},apiNitrousContainerPath:function(e,t,n){return this.apiUserNitrousPath(e,t)+"/"+n},apiUserNitrousCollaboratorsPath:function(e,t){return this.apiUserNitrousPath(e,t)+"/collaborators"}}},{}],31:[function(e,t){var n,i=e("spin.js"),r={lines:13,length:5,width:5,radius:8,scale:.66,corners:1,color:"#000",opacity:.05,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner-container",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};t.exports=n=function(e,t){t=_.defaults(t,r),this._$target=e,this._spinner=new i(t)},n.prototype={start:function(){return this._spinner.spin(this._$target[0]),this},stop:function(){return this._spinner.stop(),this}}},{"spin.js":87}],32:[function(e){var t=e("switcher/app"),n=e("lib/current-user.js");$(function(){if(n&&n.get("instructor")){var e=new t({region:new Marionette.Region({el:"#switcher"})});e.start()}})},{"lib/current-user.js":27,"switcher/app":36}],33:[function(e,t){Backbone.Radio=e("backbone.radio");var n;t.exports=n=function(e,t){t=_.defaults(t,{host:"push.flatironschool.com",channel:"fis-user-"+e,port:9443,modes:"eventsource"}),this._subscription=new PushStream({host:t.host,port:t.port,modes:t.modes,useSSL:!0}),this._subscription.onmessage=this._onmessage.bind(this),this._subscription.addChannel(t.channel),this._channel=Backbone.Radio.channel(t.channel)},n.prototype={connect:function(){return this._subscription.connect(),this},on:function(e,t){this._channel.on(e,t)},off:function(e){this._channel.off(e)},_onmessage:function(e){var t=$.deparam(e);this._channel.trigger(t.type,t)}}},{"backbone.radio":38}],34:[function(e,t){var n,i=e("lib/routes.js");t.exports=n=Backbone.Model.extend({urlRoot:i.suggestChangePath()})},{"lib/routes.js":30}],35:[function(e,t){var n,i=e("supermodel");t.exports=n=i.Model.extend({title:function(){return this.get("full_name")}})},{supermodel:88}],36:[function(e,t){var n=e("./views/switcher.js"),i=e("lib/routes.js"),r=e("lib/current-user.js"),o=Marionette.Application.extend({onStart:function(){if(!this.region)throw"You must pass the region you wish to render the switcher app into when constructing the application object.";
if(!r)return!1;var e=this.getApps();this.region.show(new n({collection:new Backbone.Collection(e)}))},getApps:function(){var e=_.reduce(this.restrictedApps,function(e,t,n){return r.get(n)&&e.push(this.restrictedApps[n]),e},[],this);return this.defaultApps.concat(_.flatten(e))},defaultApps:[{name:"Learn",url:i.rootPath()}],restrictedApps:{instructor:[{name:"Organizations",url:i.organizationsPath()}],admin:[{name:"Track Explorer",url:i.trackExplorerPath()},{name:"Curriculum Deployer",url:i.curriculumDeployerPath()},{name:"Handraise",url:i.handraisePath()}],super_admin:[{name:"Rollouts",url:i.rolloutsPath()}]}});t.exports=o},{"./views/switcher.js":37,"lib/current-user.js":27,"lib/routes.js":30}],37:[function(e,t){var n,i=Marionette.ItemView.extend({template:JST["switcher/templates/switcher-item"],tagName:"li"});t.exports=n=Marionette.CompositeView.extend({template:JST["switcher/templates/switcher"],className:"switcher",childView:i,childViewContainer:"ul.apps",ui:{toggle:".toggle",appsList:"ul.apps"},events:{click:"onClick"},onClick:function(e){this._isClickAncestor(e,this.ui.appsList)||(this._open?this.closeList():this.openList())},openList:function(){this._open||(this.toggleList(),this._open=!0)},closeList:function(){this._open&&(this.toggleList(),this._open=!1)},toggleList:function(){this.ui.appsList.slideToggle(300)},onClickOff:function(e){this._isClickAncestor(e,this.$el)||this.closeList()},onEscapeKeyUp:function(e){var t=27;e.which===t&&this.closeList()},initialize:function(){this.initializeGlobalListeners()},onBeforeDestroy:function(){this.destroyGlobalListeners()},initializeGlobalListeners:function(){this._onClickOff=this.onClickOff.bind(this),this._onEscapeKeyUp=this.onEscapeKeyUp.bind(this),$(document).on("click",this._onClickOff),$(document).on("keyup",this._onEscapeKeyUp)},destroyGlobalListeners:function(){$(document).unbind("click",this._onClickOff),$(document).unbind("keypress",this._onEscapeKeyUp)},_isClickAncestor:function(e,t){return $(e.target).closest(t).length}})},{}],38:[function(e,t,n){!function(e,i){"object"==typeof n&&"undefined"!=typeof t?t.exports=i("undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null,"undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null):"function"==typeof define&&define.amd?define(["underscore","backbone"],i):e.Backbone.Radio=i(e._,e.Backbone)}(this,function(e,t){"use strict";function n(e,t,n,i){var r=e[t];return n&&n!==r.callback&&n!==r.callback._callback||i&&i!==r.context?void 0:(delete e[t],!0)}function i(t,i,r,o){t||(t={});for(var s=i?[i]:e.keys(t),a=!1,l=0,c=s.length;c>l;l++)i=s[l],t[i]&&n(t,i,r,o)&&(a=!0);return a}function r(t){return c[t]||(c[t]=e.partial(a.log,t))}function o(t){return e.isFunction(t)?t:function(){return t}}var s=t.Radio,a=t.Radio={};a.VERSION="1.0.0",a.noConflict=function(){return t.Radio=s,this},a.DEBUG=!1,a._debugText=function(e,t,n){return e+(n?" on the "+n+" channel":"")+': "'+t+'"'},a.debugLog=function(e,t,n){a.DEBUG&&console&&console.warn&&console.warn(a._debugText(e,t,n))};var l=/\s+/;a._eventsApi=function(t,n,i,r){if(!i)return!1;var o={};if("object"==typeof i){for(var s in i){var a=t[n].apply(t,[s,i[s]].concat(r));l.test(s)?e.extend(o,a):o[s]=a}return o}if(l.test(i)){for(var c=i.split(l),u=0,h=c.length;h>u;u++)o[c[u]]=t[n].apply(t,[c[u]].concat(r));return o}return!1},a._callHandler=function(e,t,n){var i=n[0],r=n[1],o=n[2];switch(n.length){case 0:return e.call(t);case 1:return e.call(t,i);case 2:return e.call(t,i,r);case 3:return e.call(t,i,r,o);default:return e.apply(t,n)}};var c={};e.extend(a,{log:function(t,n){var i=e.rest(arguments,2);console.log("["+t+'] "'+n+'"',i)},tuneIn:function(e){var t=a.channel(e);return t._tunedIn=!0,t.on("all",r(e)),this},tuneOut:function(e){var t=a.channel(e);return t._tunedIn=!1,t.off("all",r(e)),delete c[e],this}}),a.Requests={request:function(t){var n=e.rest(arguments),i=a._eventsApi(this,"request",t,n);if(i)return i;var r=this.channelName,o=this._requests;if(r&&this._tunedIn&&a.log.apply(this,[r,t].concat(n)),o&&(o[t]||o["default"])){var s=o[t]||o["default"];return n=o[t]?n:arguments,a._callHandler(s.callback,s.context,n)}a.debugLog("An unhandled request was fired",t,r)},reply:function(e,t,n){return a._eventsApi(this,"reply",e,[t,n])?this:(this._requests||(this._requests={}),this._requests[e]&&a.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:o(t),context:n||this},this)},replyOnce:function(t,n,i){if(a._eventsApi(this,"replyOnce",t,[n,i]))return this;var r=this,s=e.once(function(){return r.stopReplying(t),o(n).apply(this,arguments)});return this.reply(t,s,i)},stopReplying:function(e,t,n){return a._eventsApi(this,"stopReplying",e)?this:(e||t||n?i(this._requests,e,t,n)||a.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},a._channels={},a.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return a._channels[e]?a._channels[e]:a._channels[e]=new a.Channel(e)},a.Channel=function(e){this.channelName=e},e.extend(a.Channel.prototype,t.Events,a.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var u,h,d=[t.Events,a.Commands,a.Requests];e.each(d,function(t){e.each(t,function(t,n){a[n]=function(t){return h=e.rest(arguments),u=this.channel(t),u[n].apply(u,h)}})}),a.reset=function(t){var n=t?[this._channels[t]]:this._channels;e.invoke(n,"reset")};var f=a;return f})},{}],39:[function(e,t){t.exports=e("./lib/chai")},{"./lib/chai":40}],40:[function(e,t,n){var i=[],n=t.exports={};n.version="3.0.0",n.AssertionError=e("assertion-error");var r=e("./chai/utils");n.use=function(e){return~i.indexOf(e)||(e(this,r),i.push(e)),this},n.util=r;var o=e("./chai/config");n.config=o;var s=e("./chai/assertion");n.use(s);var a=e("./chai/core/assertions");n.use(a);var l=e("./chai/interface/expect");n.use(l);var c=e("./chai/interface/should");n.use(c);var u=e("./chai/interface/assert");n.use(u)},{"./chai/assertion":41,"./chai/config":42,"./chai/core/assertions":43,"./chai/interface/assert":44,"./chai/interface/expect":45,"./chai/interface/should":46,"./chai/utils":59,"assertion-error":67}],41:[function(e,t){var n=e("./config");t.exports=function(e,t){function i(e,t,n){o(this,"ssfi",n||arguments.callee),o(this,"object",e),o(this,"message",t)}var r=e.AssertionError,o=t.flag;e.Assertion=i,Object.defineProperty(i,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),n.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),n.includeStack=e}}),Object.defineProperty(i,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),n.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),n.showDiff=e}}),i.addProperty=function(e,n){t.addProperty(this.prototype,e,n)},i.addMethod=function(e,n){t.addMethod(this.prototype,e,n)},i.addChainableMethod=function(e,n,i){t.addChainableMethod(this.prototype,e,n,i)},i.overwriteProperty=function(e,n){t.overwriteProperty(this.prototype,e,n)},i.overwriteMethod=function(e,n){t.overwriteMethod(this.prototype,e,n)},i.overwriteChainableMethod=function(e,n,i){t.overwriteChainableMethod(this.prototype,e,n,i)},i.prototype.assert=function(e,i,s,a,l,c){var u=t.test(this,arguments);if(!0!==c&&(c=!1),!0!==n.showDiff&&(c=!1),!u){var i=t.getMessage(this,arguments),h=t.getActual(this,arguments);throw new r(i,{actual:h,expected:a,showDiff:c},n.includeStack?this.assert:o(this,"ssfi"))}},Object.defineProperty(i.prototype,"_obj",{get:function(){return o(this,"object")},set:function(e){o(this,"object",e)}})}},{"./config":42}],42:[function(e,t){t.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],43:[function(e,t){t.exports=function(e,t){function n(e,n){n&&S(this,"message",n),e=e.toLowerCase();var i=S(this,"object"),r=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";this.assert(e===t.type(i),"expected #{this} to be "+r+e,"expected #{this} not to be "+r+e)}function i(){S(this,"contains",!0)}function r(e,n){n&&S(this,"message",n);var i=S(this,"object"),r=!1;if("array"===t.type(i)&&"object"===t.type(e)){for(var o in i)if(t.eql(i[o],e)){r=!0;break}}else if("object"===t.type(e)){if(!S(this,"negate")){for(var s in e)new _(i).property(s,e[s]);return}var a={};for(var s in e)a[s]=i[s];r=t.eql(a,e)}else r=i&&~i.indexOf(e);this.assert(r,"expected #{this} to include "+t.inspect(e),"expected #{this} to not include "+t.inspect(e))}function o(){var e=S(this,"object"),t=Object.prototype.toString.call(e);this.assert("[object Arguments]"===t,"expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}function s(e,t){t&&S(this,"message",t);var n=S(this,"object");return S(this,"deep")?this.eql(e):void this.assert(e===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}function a(e,n){n&&S(this,"message",n),this.assert(t.eql(e,S(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}function l(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new _(n,t).to.have.property("length");var i=n.length;this.assert(i>e,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",e,i)}else this.assert(n>e,"expected #{this} to be above "+e,"expected #{this} to be at most "+e)}function c(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new _(n,t).to.have.property("length");var i=n.length;this.assert(i>=e,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",e,i)}else this.assert(n>=e,"expected #{this} to be at least "+e,"expected #{this} to be below "+e)}function u(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new _(n,t).to.have.property("length");var i=n.length;this.assert(e>i,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",e,i)}else this.assert(e>n,"expected #{this} to be below "+e,"expected #{this} to be at least "+e)}function h(e,t){t&&S(this,"message",t);var n=S(this,"object");if(S(this,"doLength")){new _(n,t).to.have.property("length");var i=n.length;this.assert(e>=i,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",e,i)}else this.assert(e>=n,"expected #{this} to be at most "+e,"expected #{this} to be above "+e)}function d(e,n){n&&S(this,"message",n);var i=t.getName(e);this.assert(S(this,"object")instanceof e,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}function f(e,n){n&&S(this,"message",n);var i=S(this,"object");this.assert(i.hasOwnProperty(e),"expected #{this} to have own property "+t.inspect(e),"expected #{this} to not have own property "+t.inspect(e))}function p(e,n,i){"string"==typeof n&&(i=n,n=null),i&&S(this,"message",i);var r=S(this,"object"),o=Object.getOwnPropertyDescriptor(Object(r),e);o&&n?this.assert(t.eql(n,o),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to match "+t.inspect(n)+", got "+t.inspect(o),"expected the own property descriptor for "+t.inspect(e)+" on #{this} to not match "+t.inspect(n),n,o,!0):this.assert(o,"expected #{this} to have an own property descriptor for "+t.inspect(e),"expected #{this} to not have an own property descriptor for "+t.inspect(e)),S(this,"object",o)}function g(){S(this,"doLength",!0)}function m(e,t){t&&S(this,"message",t);var n=S(this,"object");new _(n,t).to.have.property("length");var i=n.length;this.assert(i==e,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",e,i)}function v(e,t){t&&S(this,"message",t);var n=S(this,"object");this.assert(e.exec(n),"expected #{this} to match "+e,"expected #{this} not to match "+e)}function y(e){var n,i=S(this,"object"),r=!0,o="keys must be given single argument of Array|Object|String, or multiple String arguments";switch(t.type(e)){case"array":if(arguments.length>1)throw new Error(o);break;case"object":if(arguments.length>1)throw new Error(o);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}if(!e.length)throw new Error("keys required");var s=Object.keys(i),a=e,l=e.length,c=S(this,"any"),u=S(this,"all");if(c||u||(u=!0),c){var h=a.filter(function(e){return~s.indexOf(e)});r=h.length>0}if(u&&(r=e.every(function(e){return~s.indexOf(e)}),S(this,"negate")||S(this,"contains")||(r=r&&e.length==s.length)),l>1){e=e.map(function(e){return t.inspect(e)});var d=e.pop();u&&(n=e.join(", ")+", and "+d),c&&(n=e.join(", ")+", or "+d)}else n=t.inspect(e[0]);n=(l>1?"keys ":"key ")+n,n=(S(this,"contains")?"contain ":"have ")+n,this.assert(r,"expected #{this} to "+n,"expected #{this} to not "+n,a.slice(0).sort(),s.sort(),!0)}function b(e,n,i){i&&S(this,"message",i);var r=S(this,"object");new _(r,i).is.a("function");var o=!1,s=null,a=null,l=null;0===arguments.length?(n=null,e=null):e&&(e instanceof RegExp||"string"==typeof e)?(n=e,e=null):e&&e instanceof Error?(s=e,e=null,n=null):"function"==typeof e?(a=e.prototype.name||e.name,"Error"===a&&e!==Error&&(a=(new e).name)):e=null;try{r()}catch(c){if(s)return this.assert(c===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),S(this,"object",c),this;if(e&&(this.assert(c instanceof e,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,c instanceof Error?c.toString():c),!n))return S(this,"object",c),this;var u="error"===t.type(c)&&"message"in c?c.message:""+c;if(null!=u&&n&&n instanceof RegExp)return this.assert(n.exec(u),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,u),S(this,"object",c),this;if(null!=u&&n&&"string"==typeof n)return this.assert(~u.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,u),S(this,"object",c),this;o=!0,l=c}var h="",d=null!==a?a:s?"#{exp}":"an error";o&&(h=" but #{act} was thrown"),this.assert(o===!0,"expected #{this} to throw "+d+h,"expected #{this} to not throw "+d+h,s instanceof Error?s.toString():s,l instanceof Error?l.toString():l),S(this,"object",l)}function w(e,t,n){return e.every(function(e){return n?t.some(function(t){return n(e,t)}):-1!==t.indexOf(e)})}function x(e,t,n){n&&S(this,"message",n);var i=S(this,"object");new _(e,n).to.have.property(t),new _(i).is.a("function");var r=e[t];i(),this.assert(r!==e[t],"expected ."+t+" to change","expected ."+t+" to not change")}function k(e,t,n){n&&S(this,"message",n);var i=S(this,"object");new _(e,n).to.have.property(t),new _(i).is.a("function");var r=e[t];i(),this.assert(e[t]-r>0,"expected ."+t+" to increase","expected ."+t+" to not increase")}function C(e,t,n){n&&S(this,"message",n);var i=S(this,"object");new _(e,n).to.have.property(t),new _(i).is.a("function");var r=e[t];i(),this.assert(e[t]-r<0,"expected ."+t+" to decrease","expected ."+t+" to not decrease")}var _=e.Assertion,S=(Object.prototype.toString,t.flag);["to","be","been","is","and","has","have","with","that","which","at","of","same"].forEach(function(e){_.addProperty(e,function(){return this})}),_.addProperty("not",function(){S(this,"negate",!0)}),_.addProperty("deep",function(){S(this,"deep",!0)}),_.addProperty("any",function(){S(this,"any",!0),S(this,"all",!1)}),_.addProperty("all",function(){S(this,"all",!0),S(this,"any",!1)}),_.addChainableMethod("an",n),_.addChainableMethod("a",n),_.addChainableMethod("include",r,i),_.addChainableMethod("contain",r,i),_.addChainableMethod("contains",r,i),_.addChainableMethod("includes",r,i),_.addProperty("ok",function(){this.assert(S(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),_.addProperty("true",function(){this.assert(!0===S(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),_.addProperty("false",function(){this.assert(!1===S(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),_.addProperty("null",function(){this.assert(null===S(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),_.addProperty("undefined",function(){this.assert(void 0===S(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),_.addProperty("exist",function(){this.assert(null!=S(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),_.addProperty("empty",function(){var e=S(this,"object"),t=e;Array.isArray(e)||"string"==typeof object?t=e.length:"object"==typeof e&&(t=Object.keys(e).length),this.assert(!t,"expected #{this} to be empty","expected #{this} not to be empty")}),_.addProperty("arguments",o),_.addProperty("Arguments",o),_.addMethod("equal",s),_.addMethod("equals",s),_.addMethod("eq",s),_.addMethod("eql",a),_.addMethod("eqls",a),_.addMethod("above",l),_.addMethod("gt",l),_.addMethod("greaterThan",l),_.addMethod("least",c),_.addMethod("gte",c),_.addMethod("below",u),_.addMethod("lt",u),_.addMethod("lessThan",u),_.addMethod("most",h),_.addMethod("lte",h),_.addMethod("within",function(e,t,n){n&&S(this,"message",n);var i=S(this,"object"),r=e+".."+t;if(S(this,"doLength")){new _(i,n).to.have.property("length");var o=i.length;this.assert(o>=e&&t>=o,"expected #{this} to have a length within "+r,"expected #{this} to not have a length within "+r)}else this.assert(i>=e&&t>=i,"expected #{this} to be within "+r,"expected #{this} to not be within "+r)}),_.addMethod("instanceof",d),_.addMethod("instanceOf",d),_.addMethod("property",function(e,n,i){i&&S(this,"message",i);var r=!!S(this,"deep"),o=r?"deep property ":"property ",s=S(this,"negate"),a=S(this,"object"),l=r?t.getPathInfo(e,a):null,c=r?l.exists:t.hasProperty(e,a),u=r?l.value:a[e];if(s&&arguments.length>1){if(void 0===u)throw i=null!=i?i+": ":"",new Error(i+t.inspect(a)+" has no "+o+t.inspect(e))}else this.assert(c,"expected #{this} to have a "+o+t.inspect(e),"expected #{this} to not have "+o+t.inspect(e));arguments.length>1&&this.assert(n===u,"expected #{this} to have a "+o+t.inspect(e)+" of #{exp}, but got #{act}","expected #{this} to not have a "+o+t.inspect(e)+" of #{act}",n,u),S(this,"object",u)}),_.addMethod("ownProperty",f),_.addMethod("haveOwnProperty",f),_.addMethod("ownPropertyDescriptor",p),_.addMethod("haveOwnPropertyDescriptor",p),_.addChainableMethod("length",m,g),_.addMethod("lengthOf",m),_.addMethod("match",v),_.addMethod("matches",v),_.addMethod("string",function(e,n){n&&S(this,"message",n);var i=S(this,"object");new _(i,n).is.a("string"),this.assert(~i.indexOf(e),"expected #{this} to contain "+t.inspect(e),"expected #{this} to not contain "+t.inspect(e))}),_.addMethod("keys",y),_.addMethod("key",y),_.addMethod("throw",b),_.addMethod("throws",b),_.addMethod("Throw",b),_.addMethod("respondTo",function(e,n){n&&S(this,"message",n);var i=S(this,"object"),r=S(this,"itself"),o="function"!==t.type(i)||r?i[e]:i.prototype[e];this.assert("function"==typeof o,"expected #{this} to respond to "+t.inspect(e),"expected #{this} to not respond to "+t.inspect(e))}),_.addProperty("itself",function(){S(this,"itself",!0)}),_.addMethod("satisfy",function(e,n){n&&S(this,"message",n);var i=S(this,"object"),r=e(i);this.assert(r,"expected #{this} to satisfy "+t.objDisplay(e),"expected #{this} to not satisfy"+t.objDisplay(e),this.negate?!1:!0,r)}),_.addMethod("closeTo",function(e,n,i){i&&S(this,"message",i);var r=S(this,"object");if(new _(r,i).is.a("number"),"number"!==t.type(e)||"number"!==t.type(n))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(r-e)<=n,"expected #{this} to be close to "+e+" +/- "+n,"expected #{this} not to be close to "+e+" +/- "+n)}),_.addMethod("members",function(e,n){n&&S(this,"message",n);var i=S(this,"object");new _(i).to.be.an("array"),new _(e).to.be.an("array");var r=S(this,"deep")?t.eql:void 0;return S(this,"contains")?this.assert(w(e,i,r),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",i,e):void this.assert(w(i,e,r)&&w(e,i,r),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",i,e)}),_.addChainableMethod("change",x),_.addChainableMethod("changes",x),_.addChainableMethod("increase",k),_.addChainableMethod("increases",k),_.addChainableMethod("decrease",C),_.addChainableMethod("decreases",C)}},{}],44:[function(e,t){t.exports=function(e,t){var n=e.Assertion,i=t.flag,r=e.assert=function(t,i){var r=new n(null,null,e.assert);r.assert(t,i,"[ negation message unavailable ]")};r.fail=function(t,n,i,o){throw i=i||"assert.fail()",new e.AssertionError(i,{actual:t,expected:n,operator:o},r.fail)},r.ok=function(e,t){new n(e,t).is.ok},r.notOk=function(e,t){new n(e,t).is.not.ok},r.equal=function(e,t,o){var s=new n(e,o,r.equal);s.assert(t==i(s,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e)},r.notEqual=function(e,t,o){var s=new n(e,o,r.notEqual);s.assert(t!=i(s,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e)},r.strictEqual=function(e,t,i){new n(e,i).to.equal(t)},r.notStrictEqual=function(e,t,i){new n(e,i).to.not.equal(t)},r.deepEqual=function(e,t,i){new n(e,i).to.eql(t)},r.notDeepEqual=function(e,t,i){new n(e,i).to.not.eql(t)},r.isAbove=function(e,t,i){new n(e,i).to.be.above(t)},r.isBelow=function(e,t,i){new n(e,i).to.be.below(t)},r.isTrue=function(e,t){new n(e,t).is["true"]},r.isFalse=function(e,t){new n(e,t).is["false"]},r.isNull=function(e,t){new n(e,t).to.equal(null)},r.isNotNull=function(e,t){new n(e,t).to.not.equal(null)},r.isUndefined=function(e,t){new n(e,t).to.equal(void 0)},r.isDefined=function(e,t){new n(e,t).to.not.equal(void 0)},r.isFunction=function(e,t){new n(e,t).to.be.a("function")},r.isNotFunction=function(e,t){new n(e,t).to.not.be.a("function")},r.isObject=function(e,t){new n(e,t).to.be.a("object")},r.isNotObject=function(e,t){new n(e,t).to.not.be.a("object")},r.isArray=function(e,t){new n(e,t).to.be.an("array")},r.isNotArray=function(e,t){new n(e,t).to.not.be.an("array")},r.isString=function(e,t){new n(e,t).to.be.a("string")},r.isNotString=function(e,t){new n(e,t).to.not.be.a("string")},r.isNumber=function(e,t){new n(e,t).to.be.a("number")},r.isNotNumber=function(e,t){new n(e,t).to.not.be.a("number")},r.isBoolean=function(e,t){new n(e,t).to.be.a("boolean")},r.isNotBoolean=function(e,t){new n(e,t).to.not.be.a("boolean")},r.typeOf=function(e,t,i){new n(e,i).to.be.a(t)},r.notTypeOf=function(e,t,i){new n(e,i).to.not.be.a(t)},r.instanceOf=function(e,t,i){new n(e,i).to.be.instanceOf(t)},r.notInstanceOf=function(e,t,i){new n(e,i).to.not.be.instanceOf(t)},r.include=function(e,t,i){new n(e,i,r.include).include(t)},r.notInclude=function(e,t,i){new n(e,i,r.notInclude).not.include(t)},r.match=function(e,t,i){new n(e,i).to.match(t)},r.notMatch=function(e,t,i){new n(e,i).to.not.match(t)},r.property=function(e,t,i){new n(e,i).to.have.property(t)},r.notProperty=function(e,t,i){new n(e,i).to.not.have.property(t)},r.deepProperty=function(e,t,i){new n(e,i).to.have.deep.property(t)},r.notDeepProperty=function(e,t,i){new n(e,i).to.not.have.deep.property(t)},r.propertyVal=function(e,t,i,r){new n(e,r).to.have.property(t,i)},r.propertyNotVal=function(e,t,i,r){new n(e,r).to.not.have.property(t,i)},r.deepPropertyVal=function(e,t,i,r){new n(e,r).to.have.deep.property(t,i)},r.deepPropertyNotVal=function(e,t,i,r){new n(e,r).to.not.have.deep.property(t,i)},r.lengthOf=function(e,t,i){new n(e,i).to.have.length(t)},r.Throw=function(e,t,r,o){("string"==typeof t||t instanceof RegExp)&&(r=t,t=null);var s=new n(e,o).to.Throw(t,r);return i(s,"object")},r.doesNotThrow=function(e,t,i){"string"==typeof t&&(i=t,t=null),new n(e,i).to.not.Throw(t)},r.operator=function(e,r,o,s){var a;switch(r){case"==":a=e==o;break;case"===":a=e===o;break;case">":a=e>o;break;case">=":a=e>=o;break;case"<":a=o>e;break;case"<=":a=o>=e;break;case"!=":a=e!=o;break;case"!==":a=e!==o;break;default:throw new Error('Invalid operator "'+r+'"')}var l=new n(a,s);l.assert(!0===i(l,"object"),"expected "+t.inspect(e)+" to be "+r+" "+t.inspect(o),"expected "+t.inspect(e)+" to not be "+r+" "+t.inspect(o))},r.closeTo=function(e,t,i,r){new n(e,r).to.be.closeTo(t,i)},r.sameMembers=function(e,t,i){new n(e,i).to.have.same.members(t)},r.sameDeepMembers=function(e,t,i){new n(e,i).to.have.same.deep.members(t)},r.includeMembers=function(e,t,i){new n(e,i).to.include.members(t)},r.changes=function(e,t,i){new n(e).to.change(t,i)},r.doesNotChange=function(e,t,i){new n(e).to.not.change(t,i)},r.increases=function(e,t,i){new n(e).to.increase(t,i)},r.doesNotIncrease=function(e,t,i){new n(e).to.not.increase(t,i)},r.decreases=function(e,t,i){new n(e).to.decrease(t,i)},r.doesNotDecrease=function(e,t,i){new n(e).to.not.decrease(t,i)},r.ifError=function(e){if(e)throw e},function o(e,t){return r[t]=r[e],o}("Throw","throw")("Throw","throws")}},{}],45:[function(e,t){t.exports=function(e){e.expect=function(t,n){return new e.Assertion(t,n)},e.expect.fail=function(t,n,i,r){throw i=i||"expect.fail()",new e.AssertionError(i,{actual:t,expected:n,operator:r},e.expect.fail)}}},{}],46:[function(e,t){t.exports=function(e){function t(){function t(){return this instanceof String||this instanceof Number||this instanceof Boolean?new n(this.valueOf(),null,t):new n(this,null,t)}function i(e){Object.defineProperty(this,"should",{value:e,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:i,get:t,configurable:!0});var r={};return r.fail=function(t,n,i,o){throw i=i||"should.fail()",new e.AssertionError(i,{actual:t,expected:n,operator:o},r.fail)},r.equal=function(e,t,i){new n(e,i).to.equal(t)},r.Throw=function(e,t,i,r){new n(e,r).to.Throw(t,i)},r.exist=function(e,t){new n(e,t).to.exist},r.not={},r.not.equal=function(e,t,i){new n(e,i).to.not.equal(t)},r.not.Throw=function(e,t,i,r){new n(e,r).to.not.Throw(t,i)},r.not.exist=function(e,t){new n(e,t).to.not.exist},r["throw"]=r.Throw,r.not["throw"]=r.not.Throw,r}var n=e.Assertion;e.should=t,e.Should=t}},{}],47:[function(e,t){var n=e("./transferFlags"),i=e("./flag"),r=e("../config"),o="__proto__"in Object,s=/^(?:length|name|arguments|caller)$/,a=Function.prototype.call,l=Function.prototype.apply;t.exports=function(e,t,c,u){"function"!=typeof u&&(u=function(){});var h={method:c,chainingBehavior:u};e.__methods||(e.__methods={}),e.__methods[t]=h,Object.defineProperty(e,t,{get:function(){h.chainingBehavior.call(this);var t=function d(){var e=i(this,"ssfi");e&&r.includeStack===!1&&i(this,"ssfi",d);var t=h.method.apply(this,arguments);return void 0===t?this:t};if(o){var c=t.__proto__=Object.create(this);c.call=a,c.apply=l}else{var u=Object.getOwnPropertyNames(e);u.forEach(function(n){if(!s.test(n)){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i)}})}return n(this,t),t},configurable:!0})}},{"../config":42,"./flag":50,"./transferFlags":66}],48:[function(e,t){var n=e("../config"),i=e("./flag");t.exports=function(e,t,r){e[t]=function(){var o=i(this,"ssfi");o&&n.includeStack===!1&&i(this,"ssfi",e[t]);var s=r.apply(this,arguments);return void 0===s?this:s}}},{"../config":42,"./flag":50}],49:[function(e,t){t.exports=function(e,t,n){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return void 0===e?this:e},configurable:!0})}},{}],50:[function(e,t){t.exports=function(e,t,n){var i=e.__flags||(e.__flags=Object.create(null));return 3!==arguments.length?i[t]:void(i[t]=n)}},{}],51:[function(e,t){t.exports=function(e,t){return t.length>4?t[4]:e._obj}},{}],52:[function(e,t){t.exports=function(e){var t=[];for(var n in e)t.push(n);return t}},{}],53:[function(e,t){var n=e("./flag"),i=e("./getActual"),r=(e("./inspect"),e("./objDisplay"));t.exports=function(e,t){var o=n(e,"negate"),s=n(e,"object"),a=t[3],l=i(e,t),c=o?t[2]:t[1],u=n(e,"message");return"function"==typeof c&&(c=c()),c=c||"",c=c.replace(/#{this}/g,r(s)).replace(/#{act}/g,r(l)).replace(/#{exp}/g,r(a)),u?u+": "+c:c}},{"./flag":50,"./getActual":51,"./inspect":60,"./objDisplay":61}],54:[function(e,t){t.exports=function(e){if(e.name)return e.name;var t=/^\s?function ([^(]*)\(/.exec(e);return t&&t[1]?t[1]:""}},{}],55:[function(e,t){function n(e){var t=e.replace(/([^\\])\[/g,"$1.["),n=t.match(/(\\\.|[^.]+?)+/g);return n.map(function(e){var t=/^\[(\d+)\]$/,n=t.exec(e);return n?{i:parseFloat(n[1])}:{p:e.replace(/\\([.\[\]])/g,"$1")}})}function i(e,t,n){var i,r=t;n=void 0===n?e.length:n;for(var o=0,s=n;s>o;o++){var a=e[o];r?("undefined"!=typeof a.p?r=r[a.p]:"undefined"!=typeof a.i&&(r=r[a.i]),o==s-1&&(i=r)):i=void 0}return i}var r=e("./hasProperty");t.exports=function(e,t){var o=n(e),s=o[o.length-1],a={parent:o.length>1?i(o,t,o.length-1):t,name:s.p||s.i,value:i(o,t)};return a.exists=r(a.name,a.parent),a}},{"./hasProperty":58}],56:[function(e,t){var n=e("./getPathInfo");t.exports=function(e,t){var i=n(e,t);return i.value}},{"./getPathInfo":55}],57:[function(e,t){t.exports=function(){function e(e){-1===t.indexOf(e)&&t.push(e)}for(var t=Object.getOwnPropertyNames(subject),n=Object.getPrototypeOf(subject);null!==n;)Object.getOwnPropertyNames(n).forEach(e),n=Object.getPrototypeOf(n);return t}},{}],58:[function(e,t){var n=e("type-detect"),i={number:Number,string:String};t.exports=function(e,t){var r=n(t);return"null"===r||"undefined"===r?!1:(i[r]&&"object"!=typeof t&&(t=new i[r](t)),e in t)}},{"type-detect":72}],59:[function(e,t,n){var n=t.exports={};n.test=e("./test"),n.type=e("type-detect"),n.getMessage=e("./getMessage"),n.getActual=e("./getActual"),n.inspect=e("./inspect"),n.objDisplay=e("./objDisplay"),n.flag=e("./flag"),n.transferFlags=e("./transferFlags"),n.eql=e("deep-eql"),n.getPathValue=e("./getPathValue"),n.getPathInfo=e("./getPathInfo"),n.hasProperty=e("./hasProperty"),n.getName=e("./getName"),n.addProperty=e("./addProperty"),n.addMethod=e("./addMethod"),n.overwriteProperty=e("./overwriteProperty"),n.overwriteMethod=e("./overwriteMethod"),n.addChainableMethod=e("./addChainableMethod"),n.overwriteChainableMethod=e("./overwriteChainableMethod")},{"./addChainableMethod":47,"./addMethod":48,"./addProperty":49,"./flag":50,"./getActual":51,"./getMessage":53,"./getName":54,"./getPathInfo":55,"./getPathValue":56,"./hasProperty":58,"./inspect":60,"./objDisplay":61,"./overwriteChainableMethod":62,"./overwriteMethod":63,"./overwriteProperty":64,"./test":65,"./transferFlags":66,"deep-eql":68,"type-detect":72}],60:[function(e,t,n){function i(e,t,n){var i={showHidden:t,seen:[],stylize:function(e){return e}};return r(i,e,"undefined"==typeof n?2:n)}function r(e,t,i){if(t&&"function"==typeof t.inspect&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var p=t.inspect(i);return"string"!=typeof p&&(p=r(e,p,i)),p}var b=o(e,t);if(b)return b;if(y(t)){if("outerHTML"in t)return t.outerHTML;try{if(document.xmlVersion){var w=new XMLSerializer;return w.serializeToString(t)}var x="http://www.w3.org/1999/xhtml",k=document.createElementNS(x,"_");return k.appendChild(t.cloneNode(!1)),html=k.innerHTML.replace("><",">"+t.innerHTML+"<"),k.innerHTML="",html}catch(C){}}var _=v(t),S=e.showHidden?m(t):_;if(0===S.length||f(t)&&(1===S.length&&"stack"===S[0]||2===S.length&&"description"===S[0]&&"stack"===S[1])){if("function"==typeof t){var T=g(t),L=T?": "+T:"";return e.stylize("[Function"+L+"]","special")}if(h(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(d(t))return e.stylize(Date.prototype.toUTCString.call(t),"date");if(f(t))return s(t)}var E="",A=!1,M=["{","}"];if(u(t)&&(A=!0,M=["[","]"]),"function"==typeof t){var T=g(t),L=T?": "+T:"";E=" [Function"+L+"]"}if(h(t)&&(E=" "+RegExp.prototype.toString.call(t)),d(t)&&(E=" "+Date.prototype.toUTCString.call(t)),f(t))return s(t);if(0===S.length&&(!A||0==t.length))return M[0]+E+M[1];if(0>i)return h(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var P;return P=A?a(e,t,i,_,S):S.map(function(n){return l(e,t,i,_,n,A)}),e.seen.pop(),c(P,E,M)}function o(e,t){switch(typeof t){case"undefined":return e.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string");case"number":return 0===t&&1/t===-1/0?e.stylize("-0","number"):e.stylize(""+t,"number");case"boolean":return e.stylize(""+t,"boolean")}return null===t?e.stylize("null","null"):void 0
}function s(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,n,i,r){for(var o=[],s=0,a=t.length;a>s;++s)o.push(Object.prototype.hasOwnProperty.call(t,String(s))?l(e,t,n,i,String(s),!0):"");return r.forEach(function(r){r.match(/^\d+$/)||o.push(l(e,t,n,i,r,!0))}),o}function l(e,t,n,i,o,s){var a,l;if(t.__lookupGetter__&&(t.__lookupGetter__(o)?l=t.__lookupSetter__(o)?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.__lookupSetter__(o)&&(l=e.stylize("[Setter]","special"))),i.indexOf(o)<0&&(a="["+o+"]"),l||(e.seen.indexOf(t[o])<0?(l=null===n?r(e,t[o],null):r(e,t[o],n-1),l.indexOf("\n")>-1&&(l=s?l.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+l.split("\n").map(function(e){return"   "+e}).join("\n"))):l=e.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&o.match(/^\d+$/))return l;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+l}function c(e,t,n){var i=0,r=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function u(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===p(e)}function h(e){return"object"==typeof e&&"[object RegExp]"===p(e)}function d(e){return"object"==typeof e&&"[object Date]"===p(e)}function f(e){return"object"==typeof e&&"[object Error]"===p(e)}function p(e){return Object.prototype.toString.call(e)}var g=e("./getName"),m=e("./getProperties"),v=e("./getEnumerableProperties");t.exports=i;var y=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName}},{"./getEnumerableProperties":52,"./getName":54,"./getProperties":57}],61:[function(e,t){var n=e("./inspect"),i=e("../config");t.exports=function(e){var t=n(e),r=Object.prototype.toString.call(e);if(i.truncateThreshold&&t.length>=i.truncateThreshold){if("[object Function]"===r)return e.name&&""!==e.name?"[Function: "+e.name+"]":"[Function]";if("[object Array]"===r)return"[ Array("+e.length+") ]";if("[object Object]"===r){var o=Object.keys(e),s=o.length>2?o.splice(0,2).join(", ")+", ...":o.join(", ");return"{ Object ("+s+") }"}return t}return t}},{"../config":42,"./inspect":60}],62:[function(e,t){t.exports=function(e,t,n,i){var r=e.__methods[t],o=r.chainingBehavior;r.chainingBehavior=function(){var e=i(o).call(this);return void 0===e?this:e};var s=r.method;r.method=function(){var e=n(s).apply(this,arguments);return void 0===e?this:e}}},{}],63:[function(e,t){t.exports=function(e,t,n){var i=e[t],r=function(){return this};i&&"function"==typeof i&&(r=i),e[t]=function(){var e=n(r).apply(this,arguments);return void 0===e?this:e}}},{}],64:[function(e,t){t.exports=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e,t),r=function(){};i&&"function"==typeof i.get&&(r=i.get),Object.defineProperty(e,t,{get:function(){var e=n(r).call(this);return void 0===e?this:e},configurable:!0})}},{}],65:[function(e,t){var n=e("./flag");t.exports=function(e,t){var i=n(e,"negate"),r=t[0];return i?!r:r}},{"./flag":50}],66:[function(e,t){t.exports=function(e,t,n){var i=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var r in i)(n||"object"!==r&&"ssfi"!==r&&"message"!=r)&&(t.__flags[r]=i[r])}},{}],67:[function(e,t){function n(){function e(e,n){Object.keys(n).forEach(function(i){~t.indexOf(i)||(e[i]=n[i])})}var t=[].slice.call(arguments);return function(){for(var t=[].slice.call(arguments),n=0,i={};n<t.length;n++)e(i,t[n]);return i}}function i(e,t,i){var r=n("name","message","stack","constructor","toJSON"),o=r(t||{});this.message=e||"Unspecified AssertionError",this.showDiff=!1;for(var s in o)this[s]=o[s];i=i||arguments.callee,i&&Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}t.exports=i,i.prototype=Object.create(Error.prototype),i.prototype.name="AssertionError",i.prototype.constructor=i,i.prototype.toJSON=function(e){var t=n("constructor","toJSON","stack"),i=t({name:this.name},this);return!1!==e&&this.stack&&(i.stack=this.stack),i}},{}],68:[function(e,t){t.exports=e("./lib/eql")},{"./lib/eql":69}],69:[function(e,t){function n(e,t,n){return i(e,t)?!0:"date"===p(e)?o(e,t):"regexp"===p(e)?s(e,t):f.isBuffer(e)?u(e,t):"arguments"===p(e)?a(e,t,n):r(e,t)?"object"!==p(e)&&"object"!==p(t)&&"array"!==p(e)&&"array"!==p(t)?i(e,t):d(e,t,n):!1}function i(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e,t){return p(e)===p(t)}function o(e,t){return"date"!==p(t)?!1:i(e.getTime(),t.getTime())}function s(e,t){return"regexp"!==p(t)?!1:i(e.toString(),t.toString())}function a(e,t,i){return"arguments"!==p(t)?!1:(e=[].slice.call(e),t=[].slice.call(t),n(e,t,i))}function l(e){var t=[];for(var n in e)t.push(n);return t}function c(e,t){if(e.length!==t.length)return!1;for(var n=0,i=!0;n<e.length;n++)if(e[n]!==t[n]){i=!1;break}return i}function u(e,t){return f.isBuffer(t)?c(e,t):!1}function h(e){return null!==e&&void 0!==e}function d(e,t,i){if(!h(e)||!h(t))return!1;if(e.prototype!==t.prototype)return!1;var r;if(i){for(r=0;r<i.length;r++)if(i[r][0]===e&&i[r][1]===t||i[r][0]===t&&i[r][1]===e)return!0}else i=[];try{var o=l(e),s=l(t)}catch(a){return!1}if(o.sort(),s.sort(),!c(o,s))return!1;i.push([e,t]);var u;for(r=o.length-1;r>=0;r--)if(u=o[r],!n(e[u],t[u],i))return!1;return!0}var f,p=e("type-detect");try{f=e("buffer").Buffer}catch(g){f={},f.isBuffer=function(){return!1}}t.exports=n},{buffer:107,"type-detect":70}],70:[function(e,t){t.exports=e("./lib/type")},{"./lib/type":71}],71:[function(e,t,n){function i(e){var t=Object.prototype.toString.call(e);return o[t]?o[t]:null===e?"null":void 0===e?"undefined":e===Object(e)?"object":typeof e}function r(){this.tests={}}var n=t.exports=i,o={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};n.Library=r,r.prototype.of=i,r.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},r.prototype.test=function(e,t){if(t===i(e))return!0;var n=this.tests[t];if(n&&"regexp"===i(n))return n.test(e);if(n&&"function"===i(n))return n(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}},{}],72:[function(e,t,n){arguments[4][70][0].apply(n,arguments)},{"./lib/type":73,dup:70}],73:[function(e,t,n){function i(e){var t=Object.prototype.toString.call(e).match(o)[1].toLowerCase();return"function"==typeof Promise&&e instanceof Promise?"promise":null===e?"null":void 0===e?"undefined":t}function r(){return this instanceof r?void(this.tests={}):new r}var n=t.exports=i,o=/^\[object (.*)\]$/;n.Library=r,r.prototype.of=i,r.prototype.define=function(e,t){return 1===arguments.length?this.tests[e]:(this.tests[e]=t,this)},r.prototype.test=function(e,t){if(t===i(e))return!0;var n=this.tests[t];if(n&&"regexp"===i(n))return n.test(e);if(n&&"function"===i(n))return n(e);throw new ReferenceError('Type test "'+t+'" not defined or invalid.')}},{}],74:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.multiplexingMode=function(t){function n(e,t,n,i){if("string"==typeof t){var r=e.indexOf(t,n);return i&&r>-1?r+t.length:r}var o=t.exec(n?e.slice(n):e);return o?o.index+n+(i?o[0].length:0):-1}var i=Array.prototype.slice.call(arguments,1);return{startState:function(){return{outer:e.startState(t),innerActive:null,inner:null}},copyState:function(n){return{outer:e.copyState(t,n.outer),innerActive:n.innerActive,inner:n.innerActive&&e.copyState(n.innerActive.mode,n.inner)}},token:function(r,o){if(o.innerActive){var s=o.innerActive,a=r.string;if(!s.close&&r.sol())return o.innerActive=o.inner=null,this.token(r,o);var l=s.close?n(a,s.close,r.pos,s.parseDelimiters):-1;if(l==r.pos&&!s.parseDelimiters)return r.match(s.close),o.innerActive=o.inner=null,s.delimStyle;l>-1&&(r.string=a.slice(0,l));var c=s.mode.token(r,o.inner);return l>-1&&(r.string=a),l==r.pos&&s.parseDelimiters&&(o.innerActive=o.inner=null),s.innerStyle&&(c=c?c+" "+s.innerStyle:s.innerStyle),c}for(var u=1/0,a=r.string,h=0;h<i.length;++h){var d=i[h],l=n(a,d.open,r.pos);if(l==r.pos)return d.parseDelimiters||r.match(d.open),o.innerActive=d,o.inner=e.startState(d.mode,t.indent?t.indent(o.outer,""):0),d.delimStyle;-1!=l&&u>l&&(u=l)}1/0!=u&&(r.string=a.slice(0,u));var f=t.token(r,o.outer);return 1/0!=u&&(r.string=a),f},indent:function(n,i){var r=n.innerActive?n.innerActive.mode:t;return r.indent?r.indent(n.innerActive?n.inner:n.outer,i):e.Pass},blankLine:function(n){var r=n.innerActive?n.innerActive.mode:t;if(r.blankLine&&r.blankLine(n.innerActive?n.inner:n.outer),n.innerActive)"\n"===n.innerActive.close&&(n.innerActive=n.inner=null);else for(var o=0;o<i.length;++o){var s=i[o];"\n"===s.open&&(n.innerActive=s,n.inner=e.startState(s.mode,r.indent?r.indent(n.outer,""):0))}},electricChars:t.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:t}}}}})},{"../../lib/codemirror":75}],75:[function(e,t,n){!function(e){if("object"==typeof n&&"object"==typeof t)t.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,i){if(!(this instanceof e))return new e(n,i);this.options=i=i?Oo(i):{},Oo(Gs,i,!1),f(i);var r=i.value;"string"==typeof r&&(r=new va(r,i.mode)),this.doc=r;var o=new e.inputStyles[i.inputStyle](this),s=this.display=new t(n,r,o);s.wrapper.CodeMirror=this,c(this),a(this),i.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),i.autofocus&&!Cs&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new To,keySeq:null,specialChars:null};var l=this;fs&&11>ps&&setTimeout(function(){l.display.input.reset(!0)},20),Bn(this),Vo(),bn(this),this.curOp.forceUpdate=!0,Vr(this,r),i.autofocus&&!Cs||l.hasFocus()?setTimeout(Io(fi,this),20):pi(this);for(var u in Ys)Ys.hasOwnProperty(u)&&Ys[u](this,i[u],Xs);k(this),i.finishInit&&i.finishInit(this);for(var h=0;h<Zs.length;++h)Zs[h](this);xn(this),gs&&i.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Fo("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Fo("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Fo("div",null,"CodeMirror-code"),i.selectionDiv=Fo("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Fo("div",null,"CodeMirror-cursors"),i.measure=Fo("div",null,"CodeMirror-measure"),i.lineMeasure=Fo("div",null,"CodeMirror-measure"),i.lineSpace=Fo("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Fo("div",[Fo("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Fo("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Fo("div",null,null,"position: absolute; height: "+La+"px; width: 1px;"),i.gutters=Fo("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Fo("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Fo("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),fs&&8>ps&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),gs||us&&Cs||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),i(t)}function i(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Rt(e,100),e.state.modeGen++,e.curOp&&On(e)}function r(e){e.options.lineWrapping?(Wa(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(za(e.display.wrapper,"CodeMirror-wrap"),d(e)),s(e),On(e),sn(e),setTimeout(function(){y(e)},100)}function o(e){var t=vn(e.display),n=e.options.lineWrapping,i=n&&Math.max(5,e.display.scroller.clientWidth/yn(e.display)-3);return function(r){if(yr(e.doc,r))return 0;var o=0;if(r.widgets)for(var s=0;s<r.widgets.length;s++)r.widgets[s].height&&(o+=r.widgets[s].height);return n?o+(Math.ceil(r.text.length/i)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Kr(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),sn(e)}function l(e){c(e),On(e),setTimeout(function(){x(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;Ho(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(Fo("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function h(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=hr(i);){var r=t.find(0,!0);i=r.from.line,n+=r.from.ch-r.to.ch}for(i=e;t=dr(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,i=r.to.line,n+=i.text.length-r.to.ch}return n}function d(e){var t=e.display,n=e.doc;t.maxLine=Gr(n,n.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=h(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=Mo(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+zt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+qt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function g(e,t,n){this.cm=n;var i=this.vert=Fo("div",[Fo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Fo("div",[Fo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),Ca(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),Ca(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedOverlay=!1,fs&&8>ps&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&za(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Ca(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?ti(t,e):ei(t,e)},t),t.display.scrollbars.addClass&&Wa(t.display.wrapper,t.display.scrollbars.addClass)}function y(e,t){t||(t=p(e));var n=e.display.barWidth,i=e.display.barHeight;b(e,t);for(var r=0;4>r&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&P(e),b(e,p(e)),n=e.display.barWidth,i=e.display.barHeight}function b(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function w(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-Bt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=Jr(t,i),s=Jr(t,r);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;o>a?(o=a,s=Jr(t,Zr(Gr(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=Jr(t,Zr(Gr(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function x(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=_(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function k(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=C(e.options,t.first+t.size-1),i=e.display;if(n.length!=i.lineNumChars){var r=i.measure.appendChild(Fo("div",[Fo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,s=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",u(e),!0}return!1}function C(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function _(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function S(e,t,n){var i=e.display;this.viewport=t,this.visible=w(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=Ut(e),this.force=n,this.dims=N(e),this.events=[]}function T(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=qt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=qt(e)+"px",t.scrollbarsClipped=!0)}function L(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return Dn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Hn(e))return!1;k(e)&&(Dn(e),t.dims=N(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),s=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(r,n.viewTo)),Ms&&(o=mr(e.doc,o),s=vr(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Fn(e,o,s),n.viewOffset=Zr(Gr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Hn(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=zo();return l>4&&(n.lineDiv.style.display="none"),O(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&zo()!=c&&c.offsetHeight&&c.focus(),Ho(n.cursorDiv),Ho(n.selectionDiv),n.gutters.style.height=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Rt(e,400)),n.updateLineNumbers=null,!0}function E(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=Ut(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+zt(e.display)-Vt(e),n.top)}),t.visible=w(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&L(e,t);i=!1){P(e);var r=p(e);jt(e),M(e,r),y(e,r)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function A(e,t){var n=new S(e,t);if(L(e,n)){P(e),E(e,n);var i=p(e);jt(e),M(e,i),y(e,i),n.finish()}}function M(e,t){e.display.sizer.style.minHeight=t.docHeight+"px";var n=t.docHeight+e.display.barHeight;e.display.heightForcer.style.top=n+"px",e.display.gutters.style.height=Math.max(n+qt(e),t.clientHeight)+"px"}function P(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(fs&&8>ps){var s=o.node.offsetTop+o.node.offsetHeight;r=s-n,n=s}else{var a=o.node.getBoundingClientRect();r=a.bottom-a.top}var l=o.line.height-r;if(2>r&&(r=vn(t)),(l>.001||-.001>l)&&(Kr(o.line,r),j(o.line),o.rest))for(var c=0;c<o.rest.length;c++)j(o.rest[c])}}}function j(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function N(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[s]]=o.clientWidth;return{fixedPos:_(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function O(e,t,n){function i(t){var n=t.nextSibling;return gs&&_s&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var r=e.display,o=e.options.lineNumbers,s=r.lineDiv,a=s.firstChild,l=r.view,c=r.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node&&h.node.parentNode==s){for(;a!=h.node;)a=i(a);var d=o&&null!=t&&c>=t&&h.lineNumber;h.changes&&(Mo(h.changes,"gutter")>-1&&(d=!1),I(e,h,c,n)),d&&(Ho(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(C(e.options,c)))),a=h.node.nextSibling}else{var f=W(e,h,c,n);s.insertBefore(f,a)}c+=h.size}for(;a;)a=i(a)}function I(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?F(e,t):"gutter"==o?B(e,t,n,i):"class"==o?H(t):"widget"==o&&z(e,t,i)}t.changes=null}function D(e){return e.node==e.text&&(e.node=Fo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),fs&&8>ps&&(e.node.style.zIndex=2)),e.node}function R(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=D(e);e.background=n.insertBefore(Fo("div",null,t),n.firstChild)}}function $(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Or(e,t)}function F(e,t){var n=t.text.className,i=$(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,H(t)):n&&(t.text.className=n)}function H(e){R(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function B(e,t,n,i){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var r=t.line.gutterMarkers;if(e.options.lineNumbers||r){var o=D(t),s=t.gutter=Fo("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px");if(e.display.input.setUneditable(s),o.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||r&&r["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Fo("div",C(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),r)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],c=r.hasOwnProperty(l)&&r[l];c&&s.appendChild(Fo("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function z(e,t,n){t.alignable&&(t.alignable=null);for(var i,r=t.node.firstChild;r;r=i){var i=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}q(e,t,n)}function W(e,t,n,i){var r=$(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),H(t),B(e,t,n,i),q(e,t,i),t.node}function q(e,t,n){if(U(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)U(e,t.rest[i],t,n,!1)}function U(e,t,n,i,r){if(t.widgets)for(var o=D(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],c=Fo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),V(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),wo(l,"redraw")}}function V(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}function G(e){return Ps(e.line,e.ch)}function Y(e,t){return js(e,t)<0?t:e}function X(e,t){return js(e,t)<0?e:t}function K(e){e.state.focused||(e.display.input.focus(),fi(e))}function Q(e){return e.options.readOnly||e.doc.cantEdit}function J(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var s=Va(t),a=null;e.state.pasteIncoming&&i.ranges.length>1&&(Ns&&Ns.join("\n")==t?a=i.ranges.length%Ns.length==0&&Po(Ns,Va):s.length==i.ranges.length&&(a=Po(s,function(e){return[e]})));for(var l=i.ranges.length-1;l>=0;l--){var c=i.ranges[l],u=c.from(),h=c.to();c.empty()&&(n&&n>0?u=Ps(u.line,u.ch-n):e.state.overwrite&&!e.state.pasteIncoming&&(h=Ps(h.line,Math.min(Gr(o,h.line).text.length,h.ch+Ao(s).length))));var d=e.curOp.updateInput,f={from:u,to:h,text:a?a[l%a.length]:s,origin:r||(e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input")};ki(e.doc,f),wo(e,"inputRead",e,f)}t&&!e.state.pasteIncoming&&Z(e,t),Oi(e),e.curOp.updateInput=d,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Z(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;i>=0;i--){var r=n.ranges[i];if(!(r.head.ch>100||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=Di(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Gr(e.doc,r.head.line).text.slice(0,r.head.ch))&&(s=Di(e,r.head.line,"smart"));s&&wo(e,"electricInput",e,r.head.line)}}}function et(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:Ps(r,0),head:Ps(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function tt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function nt(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new To,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function it(){var e=Fo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Fo("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return gs?e.style.width="1000px":e.setAttribute("wrap","off"),ks&&(e.style.border="1px solid black"),tt(e),t}function rt(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new To,this.gracePeriod=!1}function ot(e,t){var n=Qt(e,t.line);if(!n||n.hidden)return null;var i=Gr(e.doc,t.line),r=Yt(n,i,t.line),o=eo(i),s="left";if(o){var a=ss(o,t.ch);s=a%2?"right":"left"}var l=en(r.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function st(e,t){return t&&(e.bad=!0),e}function at(e,t,n){var i;if(t==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[n],!i)return st(e.clipPos(Ps(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return lt(o,t,n)}}function lt(e,t,n){function i(t,n,i){for(var r=-1;r<(u?u.length:0);r++)for(var o=0>r?c.map:u[r],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=Qr(0>r?e.line:e.rest[r]),h=o[s]+i;return(0>i||a!=t)&&(h=o[s+(i?1:0)]),Ps(l,h)}}}var r=e.text.firstChild,o=!1;if(!t||!Fa(r,t))return st(Ps(Qr(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var s=e.rest?Ao(e.rest):e.line;return st(Ps(Qr(s),s.text.length),o)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=r;)l=l.parentNode;var c=e.measure,u=c.maps,h=i(a,l,n);if(h)return st(h,o);for(var d=l.nextSibling,f=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(h=i(d,d.firstChild,0))return st(Ps(h.line,h.ch-f),o);f+=d.textContent.length}for(var p=l.previousSibling,f=n;p;p=p.previousSibling){if(h=i(p,p.firstChild,-1))return st(Ps(h.line,h.ch+f),o);f+=d.textContent.length}}function ct(e,t,n,i,r){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var c,u=t.getAttribute("cm-marker");if(u){var h=e.findMarks(Ps(i,0),Ps(r+1,0),o(+u));return void(h.length&&(c=h[0].find())&&(a+=Yr(e.doc,c.from,c.to).join("\n")))}if("false"==t.getAttribute("contenteditable"))return;for(var d=0;d<t.childNodes.length;d++)s(t.childNodes[d]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var f=t.nodeValue;if(!f)return;l&&(a+="\n",l=!1),a+=f}}for(var a="",l=!1;s(t),t!=n;)t=t.nextSibling;return a}function ut(e,t){this.ranges=e,this.primIndex=t}function ht(e,t){this.anchor=e,this.head=t}function dt(e,t){var n=e[t];e.sort(function(e,t){return js(e.from(),t.from())}),t=Mo(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(js(o.to(),r.from())>=0){var s=X(o.from(),r.from()),a=Y(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;t>=i&&--t,e.splice(--i,2,new ht(l?a:s,l?s:a))}}return new ut(e,t)}function ft(e,t){return new ut([new ht(e,t||e)],0)}function pt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function gt(e,t){if(t.line<e.first)return Ps(e.first,0);var n=e.first+e.size-1;return t.line>n?Ps(n,Gr(e,n).text.length):mt(t,Gr(e,t.line).text.length)}function mt(e,t){var n=e.ch;return null==n||n>t?Ps(e.line,t):0>n?Ps(e.line,0):e}function vt(e,t){return t>=e.first&&t<e.first+e.size}function yt(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=gt(e,t[i]);return n}function bt(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=js(n,r)<0;o!=js(i,r)<0?(r=n,n=i):o!=js(n,i)<0&&(n=i)}return new ht(r,n)}return new ht(i||n,n)}function wt(e,t,n,i){Tt(e,new ut([bt(e,e.sel.primary(),t,n)],0),i)}function xt(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=bt(e,e.sel.ranges[r],t[r],null);var o=dt(i,e.sel.primIndex);Tt(e,o,n)}function kt(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,Tt(e,dt(r,e.sel.primIndex),i)}function Ct(e,t,n,i){Tt(e,ft(t,n),i)}function _t(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ht(gt(e,t[n].anchor),gt(e,t[n].head))}};return Sa(e,"beforeSelectionChange",e,n),e.cm&&Sa(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?dt(n.ranges,n.ranges.length-1):t}function St(e,t,n){var i=e.history.done,r=Ao(i);r&&r.ranges?(i[i.length-1]=t,Lt(e,t,n)):Tt(e,t,n)}function Tt(e,t,n){Lt(e,t,n),ao(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function Lt(e,t,n){(_o(e,"beforeSelectionChange")||e.cm&&_o(e.cm,"beforeSelectionChange"))&&(t=_t(e,t));var i=n&&n.bias||(js(t.primary().head,e.sel.primary().head)<0?-1:1);Et(e,Mt(e,t,i,!0)),n&&n.scroll===!1||!e.cm||Oi(e.cm)}function Et(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,Co(e.cm)),wo(e,"cursorActivity",e))
}function At(e){Et(e,Mt(e,e.sel,null,!1),Aa)}function Mt(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=Pt(e,s.anchor,n,i),l=Pt(e,s.head,n,i);(r||a!=s.anchor||l!=s.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new ht(a,l))}return r?dt(r,t.primIndex):t}function Pt(e,t,n,i){var r=!1,o=t,s=n||1;e.cantEdit=!1;e:for(;;){var a=Gr(e,o.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var c=a.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(i&&(Sa(u,"beforeCursorEnter"),u.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find(0>s?-1:1);if(0==js(h,o)&&(h.ch+=s,h.ch<0?h=h.line>e.first?gt(e,Ps(h.line-1)):null:h.ch>a.text.length&&(h=h.line<e.first+e.size-1?Ps(h.line+1,0):null),!h)){if(r)return i?(e.cantEdit=!0,Ps(e.first,0)):Pt(e,t,n,!0);r=!0,h=t,s=-s}o=h;continue e}}return o}}function jt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Nt(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s],l=a.empty();(l||e.options.showCursorWhenSelecting)&&Ot(e,a,r),l||It(e,a,o)}return i}function Ot(e,t,n){var i=dn(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Fo("div","\xa0","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(Fo("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function It(e,t,n){function i(e,t,n,i){0>t&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Fo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(i-t)+"px"))}function r(t,n,r){function o(n,i){return hn(e,Ps(t,n),"div",h,i)}var a,l,h=Gr(s,t),d=h.text.length;return Qo(eo(h),n||0,null==r?d:r,function(e,t,s){var h,f,p,g=o(e,"left");if(e==t)h=g,f=p=g.left;else{if(h=o(t-1,"right"),"rtl"==s){var m=g;g=h,h=m}f=g.left,p=h.right}null==n&&0==e&&(f=c),h.top-g.top>3&&(i(f,g.top,null,g.bottom),f=c,g.bottom<h.top&&i(f,g.bottom,null,h.top)),null==r&&t==d&&(p=u),(!a||g.top<a.top||g.top==a.top&&g.left<a.left)&&(a=g),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),c+1>f&&(f=c),i(f,h.top,p-f,h.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Wt(e.display),c=l.left,u=Math.max(o.sizerWidth,Ut(e)-o.sizer.offsetLeft)-l.right,h=t.from(),d=t.to();if(h.line==d.line)r(h.line,h.ch,d.ch);else{var f=Gr(s,h.line),p=Gr(s,d.line),g=pr(f)==pr(p),m=r(h.line,h.ch,g?f.text.length+1:null).end,v=r(d.line,g?0:null,d.ch).start;g&&(m.top<v.top-2?(i(m.right,m.top,null,m.bottom),i(c,v.top,v.left,v.bottom)):i(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&i(c,m.bottom,null,v.top)}n.appendChild(a)}function Dt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Io($t,e))}function $t(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,i=ta(t.mode,Ht(e,t.frontier)),r=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=Mr(e,o,i,!0);o.styles=a.styles;var l=o.styleClasses,c=a.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var u=!s||s.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!u&&h<s.length;++h)u=s[h]!=o.styles[h];u&&r.push(t.frontier),o.stateAfter=ta(t.mode,i)}else jr(e,o.text,i),o.stateAfter=t.frontier%5==0?ta(t.mode,i):null;return++t.frontier,+new Date>n?(Rt(e,e.options.workDelay),!0):void 0}),r.length&&En(e,function(){for(var t=0;t<r.length;t++)In(e,r[t],"text")})}}function Ft(e,t,n){for(var i,r,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Gr(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var c=ja(l.text,null,e.options.tabSize);(null==r||i>c)&&(r=a-1,i=c)}return r}function Ht(e,t,n){var i=e.doc,r=e.display;if(!i.mode.startState)return!0;var o=Ft(e,t,n),s=o>i.first&&Gr(i,o-1).stateAfter;return s=s?ta(i.mode,s):na(i.mode),i.iter(o,t,function(n){jr(e,n.text,s);var a=o==t-1||o%5==0||o>=r.viewFrom&&o<r.viewTo;n.stateAfter=a?ta(i.mode,s):null,++o}),n&&(i.frontier=o),s}function Bt(e){return e.lineSpace.offsetTop}function zt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Wt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Bo(e.measure,Fo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function qt(e){return La-e.display.nativeBarWidth}function Ut(e){return e.display.scroller.clientWidth-qt(e)-e.display.barWidth}function Vt(e){return e.display.scroller.clientHeight-qt(e)-e.display.barHeight}function Gt(e,t,n){var i=e.options.lineWrapping,r=i&&Ut(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],c=s[a+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Yt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var i=0;i<e.rest.length;i++)if(Qr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Xt(e,t){t=pr(t);var n=Qr(t),i=e.display.externalMeasured=new jn(e.doc,t,n);i.lineN=n;var r=i.built=Or(e,i);return i.text=r.pre,Bo(e.display.lineMeasure,r.pre),i}function Kt(e,t,n,i){return Zt(e,Jt(e,t),n,i)}function Qt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Rn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Jt(e,t){var n=Qr(t),i=Qt(e,n);i&&!i.text?i=null:i&&i.changes&&I(e,i,n,N(e)),i||(i=Xt(e,t));var r=Yt(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Zt(e,t,n,i,r){t.before&&(n=-1);var o,s=n+(i||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Gt(e,t.view,t.rect),t.hasHeights=!0),o=tn(e,t,n,i),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}function en(e,t,n){for(var i,r,o,s,a=0;a<e.length;a+=3){var l=e[a],c=e[a+1];if(l>t?(r=0,o=1,s="left"):c>t?(r=t-l,o=r+1):(a==e.length-3||t==c&&e[a+3]>t)&&(o=c-l,r=o-1,t>=c&&(s="right")),null!=r){if(i=e[a+2],l==c&&n==(i.insertLeft?"left":"right")&&(s=n),"left"==n&&0==r)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)i=e[(a-=3)+2],s="left";if("right"==n&&r==c-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)i=e[(a+=3)+2],s="right";break}}return{node:i,start:r,end:o,collapse:s,coverStart:l,coverEnd:c}}function tn(e,t,n,i){var r,o=en(t.map,n,i),s=o.node,a=o.start,l=o.end,c=o.collapse;if(3==s.nodeType){for(var u=0;4>u;u++){for(;a&&$o(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&$o(t.line.text.charAt(o.coverStart+l));)++l;if(fs&&9>ps&&0==a&&l==o.coverEnd-o.coverStart)r=s.parentNode.getBoundingClientRect();else if(fs&&e.options.lineWrapping){var h=Ia(s,a,l).getClientRects();r=h.length?h["right"==i?h.length-1:0]:Rs}else r=Ia(s,a,l).getBoundingClientRect()||Rs;if(r.left||r.right||0==a)break;l=a,a-=1,c="right"}fs&&11>ps&&(r=nn(e.display.measure,r))}else{a>0&&(c=i="right");var h;r=e.options.lineWrapping&&(h=s.getClientRects()).length>1?h["right"==i?h.length-1:0]:s.getBoundingClientRect()}if(fs&&9>ps&&!a&&(!r||!r.left&&!r.right)){var d=s.parentNode.getClientRects()[0];r=d?{left:d.left,right:d.left+yn(e.display),top:d.top,bottom:d.bottom}:Rs}for(var f=r.top-t.rect.top,p=r.bottom-t.rect.top,g=(f+p)/2,m=t.view.measure.heights,u=0;u<m.length-1&&!(g<m[u]);u++);var v=u?m[u-1]:0,y=m[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:y};return r.left||r.right||(b.bogus=!0),e.options.singleCursorHeightPerLine||(b.rtop=f,b.rbottom=p),b}function nn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ko(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}function rn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function on(e){e.display.externalMeasure=null,Ho(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)rn(e.display.view[t])}function sn(e){on(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function an(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ln(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function cn(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=xr(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var s=Zr(t);if("local"==i?s+=Bt(e.display):s-=e.display.viewOffset,"page"==i||"window"==i){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==i?0:ln());var l=a.left+("window"==i?0:an());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function un(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=an(),r-=ln();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:i-s.left,top:r-s.top}}function hn(e,t,n,i,r){return i||(i=Gr(e.doc,t.line)),cn(e,i,Kt(e,i,t.ch,r),n)}function dn(e,t,n,i,r,o){function s(t,s){var a=Zt(e,r,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,cn(e,i,a,n)}function a(e,t){var n=l[t],i=n.level%2;return e==Jo(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=Zo(n)-(n.level%2?0:1),i=!0):e==Zo(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Jo(n)-n.level%2,i=!1),i&&e==n.to&&e>n.from?s(e-1):s(e,i)}i=i||Gr(e.doc,t.line),r||(r=Jt(e,i));var l=eo(i),c=t.ch;if(!l)return s(c);var u=ss(l,c),h=a(c,u);return null!=Qa&&(h.other=a(c,Qa)),h}function fn(e,t){var n=0,t=gt(e.doc,t);e.options.lineWrapping||(n=yn(e.display)*t.ch);var i=Gr(e.doc,t.line),r=Zr(i)+Bt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function pn(e,t,n,i){var r=Ps(e,t);return r.xRel=i,n&&(r.outside=!0),r}function gn(e,t,n){var i=e.doc;if(n+=e.display.viewOffset,0>n)return pn(i.first,0,!0,-1);var r=Jr(i,n),o=i.first+i.size-1;if(r>o)return pn(i.first+i.size-1,Gr(i,o).text.length,!0,1);0>t&&(t=0);for(var s=Gr(i,r);;){var a=mn(e,s,r,t,n),l=dr(s),c=l&&l.find(0,!0);if(!l||!(a.ch>c.from.ch||a.ch==c.from.ch&&a.xRel>0))return a;r=Qr(s=c.to.line)}}function mn(e,t,n,i,r){function o(i){var r=dn(e,Ps(n,i),"line",t,c);return a=!0,s>r.bottom?r.left-l:s<r.top?r.left+l:(a=!1,r.left)}var s=r-Zr(t),a=!1,l=2*e.display.wrapper.clientWidth,c=Jt(e,t),u=eo(t),h=t.text.length,d=es(t),f=ts(t),p=o(d),g=a,m=o(f),v=a;if(i>m)return pn(n,f,v,1);for(;;){if(u?f==d||f==ls(t,d,1):1>=f-d){for(var y=p>i||m-i>=i-p?d:f,b=i-(y==d?p:m);$o(t.text.charAt(y));)++y;var w=pn(n,y,y==d?g:v,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(h/2),k=d+x;if(u){k=d;for(var C=0;x>C;++C)k=ls(t,k,1)}var _=o(k);_>i?(f=k,m=_,(v=a)&&(m+=1e3),h=x):(d=k,p=_,g=a,h-=x)}}function vn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Os){Os=Fo("pre");for(var t=0;49>t;++t)Os.appendChild(document.createTextNode("x")),Os.appendChild(Fo("br"));Os.appendChild(document.createTextNode("x"))}Bo(e.measure,Os);var n=Os.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Ho(e.measure),n||1}function yn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Fo("span","xxxxxxxxxx"),n=Fo("pre",[t]);Bo(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return r>2&&(e.cachedCharWidth=r),r||10}function bn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Fs},$s?$s.ops.push(e.curOp):e.curOp.ownsGroup=$s={ops:[e.curOp],delayedCallbacks:[]}}function wn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++](r.cm)}}while(n<t.length)}function xn(e){var t=e.curOp,n=t.ownsGroup;if(n)try{wn(n)}finally{$s=null;for(var i=0;i<n.ops.length;i++)n.ops[i].cm.curOp=null;kn(n)}}function kn(e){for(var t=e.ops,n=0;n<t.length;n++)Cn(t[n]);for(var n=0;n<t.length;n++)_n(t[n]);for(var n=0;n<t.length;n++)Sn(t[n]);for(var n=0;n<t.length;n++)Tn(t[n]);for(var n=0;n<t.length;n++)Ln(t[n])}function Cn(e){var t=e.cm,n=t.display;T(t),e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new S(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function _n(e){e.updatedDisplay=e.mustUpdate&&L(e.cm,e.update)}function Sn(e){var t=e.cm,n=t.display;e.updatedDisplay&&P(t),e.barMeasure=p(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Kt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+qt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Ut(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Tn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&ti(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&M(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&y(t,e.barMeasure),e.selectionChanged&&Dt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),e.focus&&e.focus==zo()&&K(e.cm)}function Ln(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&E(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Ut(t),e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,x(t)),e.scrollToPos){var r=Mi(t,gt(i,e.scrollToPos.from),gt(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Ai(t,r)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Sa(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Sa(s[a],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Sa(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function En(e,t){if(e.curOp)return t();bn(e);try{return t()}finally{xn(e)}}function An(e,t){return function(){if(e.curOp)return t.apply(e,arguments);bn(e);try{return t.apply(e,arguments)}finally{xn(e)}}}function Mn(e){return function(){if(this.curOp)return e.apply(this,arguments);bn(this);try{return e.apply(this,arguments)}finally{xn(this)}}}function Pn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);bn(t);try{return e.apply(this,arguments)}finally{xn(t)}}}function jn(e,t,n){this.line=t,this.rest=gr(t),this.size=this.rest?Qr(Ao(this.rest))-n+1:1,this.node=this.text=null,this.hidden=yr(e,t)}function Nn(e,t,n){for(var i,r=[],o=t;n>o;o=i){var s=new jn(e.doc,Gr(e.doc,o),o);i=o+s.size,r.push(s)}return r}function On(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)Ms&&mr(e.doc,t)<r.viewTo&&Dn(e);else if(n<=r.viewFrom)Ms&&vr(e.doc,n+i)>r.viewFrom?Dn(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)Dn(e);else if(t<=r.viewFrom){var o=$n(e,n,n+i,1);o?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):Dn(e)}else if(n>=r.viewTo){var o=$n(e,t,t,-1);o?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):Dn(e)}else{var s=$n(e,t,t,-1),a=$n(e,n,n+i,1);s&&a?(r.view=r.view.slice(0,s.index).concat(Nn(e,s.lineN,a.lineN)).concat(r.view.slice(a.index)),r.viewTo+=i):Dn(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function In(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[Rn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Mo(s,n)&&s.push(n)}}}function Dn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Rn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,i=0;i<n.length;i++)if(t-=n[i].size,0>t)return i}function $n(e,t,n,i){var r,o=Rn(e,t),s=e.display.view;if(!Ms||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(i>0){if(o==s.length-1)return null;r=l+s[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;mr(e.doc,n)!=n;){if(o==(0>i?0:s.length-1))return null;n+=i*s[o-(0>i?1:0)].size,o+=i}return{index:o,lineN:n}}function Fn(e,t,n){var i=e.display,r=i.view;0==r.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Nn(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Nn(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(Rn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Nn(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,Rn(e,n)))),i.viewTo=n}function Hn(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function Bn(e){function t(){r.activeTouch&&(o=setTimeout(function(){r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function i(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return n*n+i*i>400}var r=e.display;Ca(r.scroller,"mousedown",An(e,Vn)),fs&&11>ps?Ca(r.scroller,"dblclick",An(e,function(t){if(!ko(e,t)){var n=Un(e,t);if(n&&!Qn(e,t)&&!qn(e.display,t)){wa(t);var i=e.findWordAt(n);wt(e.doc,i.anchor,i.head)}}})):Ca(r.scroller,"dblclick",function(t){ko(e,t)||wa(t)}),Es||Ca(r.scroller,"contextmenu",function(t){gi(e,t)});var o,s={end:0};Ca(r.scroller,"touchstart",function(e){if(!n(e)){clearTimeout(o);var t=+new Date;r.activeTouch={start:t,moved:!1,prev:t-s.end<=300?s:null},1==e.touches.length&&(r.activeTouch.left=e.touches[0].pageX,r.activeTouch.top=e.touches[0].pageY)}}),Ca(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Ca(r.scroller,"touchend",function(n){var o=r.activeTouch;if(o&&!qn(r,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(r.activeTouch,"page");s=!o.prev||i(o,o.prev)?new ht(a,a):!o.prev.prev||i(o,o.prev.prev)?e.findWordAt(a):new ht(Ps(a.line,0),gt(e.doc,Ps(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),wa(n)}t()}),Ca(r.scroller,"touchcancel",t),Ca(r.scroller,"scroll",function(){r.scroller.clientHeight&&(ei(e,r.scroller.scrollTop),ti(e,r.scroller.scrollLeft,!0),Sa(e,"scroll",e))}),Ca(r.scroller,"mousewheel",function(t){ni(e,t)}),Ca(r.scroller,"DOMMouseScroll",function(t){ni(e,t)}),Ca(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={simple:function(t){ko(e,t)||ka(t)},start:function(t){Zn(e,t)},drop:An(e,Jn)};var a=r.input.getField();Ca(a,"keyup",function(t){ui.call(e,t)}),Ca(a,"keydown",An(e,li)),Ca(a,"keypress",An(e,hi)),Ca(a,"focus",Io(fi,e)),Ca(a,"blur",Io(pi,e))}function zn(t,n,i){var r=i&&i!=e.Init;if(!n!=!r){var o=t.display.dragFunctions,s=n?Ca:_a;s(t.display.scroller,"dragstart",o.start),s(t.display.scroller,"dragenter",o.simple),s(t.display.scroller,"dragover",o.simple),s(t.display.scroller,"drop",o.drop)}}function Wn(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function qn(e,t){for(var n=yo(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Un(e,t,n,i){var r=e.display;if(!n&&"true"==yo(t).getAttribute("cm-not-content"))return null;var o,s,a=r.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,c=gn(e,o,s);if(i&&1==c.xRel&&(l=Gr(e.doc,c.line).text).length==c.ch){var u=ja(l,l.length,e.options.tabSize)-l.length;c=Ps(c.line,Math.max(0,Math.round((o-Wt(e.display).left)/yn(e.display))-u))}return c}function Vn(e){var t=this,n=t.display;if(!(n.activeTouch&&n.input.supportsTouch()||ko(t,e))){if(n.shift=e.shiftKey,qn(n,e))return void(gs||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Qn(t,e)){var i=Un(t,e);switch(window.focus(),bo(e)){case 1:i?Gn(t,e,i):yo(e)==n.scroller&&wa(e);break;case 2:gs&&(t.state.lastMiddleDown=+new Date),i&&wt(t.doc,i),setTimeout(function(){n.input.focus()},20),wa(e);break;case 3:Es?gi(t,e):di(t)}}}}function Gn(e,t,n){fs?setTimeout(Io(K,e),0):e.curOp.focus=zo();var i,r=+new Date;Ds&&Ds.time>r-400&&0==js(Ds.pos,n)?i="triple":Is&&Is.time>r-400&&0==js(Is.pos,n)?(i="double",Ds={time:r,pos:n}):(i="single",Is={time:r,pos:n});var o,s=e.doc.sel,a=_s?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ua&&!Q(e)&&"single"==i&&(o=s.contains(n))>-1&&!s.ranges[o].empty()?Yn(e,t,n,a):Xn(e,t,n,i,a)}function Yn(e,t,n,i){var r=e.display,o=+new Date,s=An(e,function(a){gs&&(r.scroller.draggable=!1),e.state.draggingText=!1,_a(document,"mouseup",s),_a(r.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(wa(a),!i&&+new Date-200<o&&wt(e.doc,n),gs||fs&&9==ps?setTimeout(function(){document.body.focus(),r.input.focus()},20):r.input.focus())});gs&&(r.scroller.draggable=!0),e.state.draggingText=s,r.scroller.dragDrop&&r.scroller.dragDrop(),Ca(document,"mouseup",s),Ca(r.scroller,"drop",s)}function Xn(e,t,n,i,r){function o(t){if(0!=js(m,t))if(m=t,"rect"==i){for(var r=[],o=e.options.tabSize,s=ja(Gr(c,n.line).text,n.ch,o),a=ja(Gr(c,t.line).text,t.ch,o),l=Math.min(s,a),f=Math.max(s,a),p=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=p;p++){var v=Gr(c,p).text,y=Lo(v,l,o);l==f?r.push(new ht(Ps(p,y),Ps(p,y))):v.length>y&&r.push(new ht(Ps(p,y),Ps(p,Lo(v,f,o))))}r.length||r.push(new ht(n,n)),Tt(c,dt(d.ranges.slice(0,h).concat(r),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,x=t;if("single"!=i){if("double"==i)var k=e.findWordAt(t);else var k=new ht(Ps(t.line,0),gt(c,Ps(t.line+1,0)));js(k.anchor,w)>0?(x=k.head,w=X(b.from(),k.anchor)):(x=k.anchor,w=Y(b.to(),k.head))}var r=d.ranges.slice(0);r[h]=new ht(gt(c,w),x),Tt(c,dt(r,h),Ma)}}function s(t){var n=++y,r=Un(e,t,!0,"rect"==i);if(r)if(0!=js(r,m)){e.curOp.focus=zo(),o(r);var a=w(l,c);(r.line>=a.to||r.line<a.from)&&setTimeout(An(e,function(){y==n&&s(t)}),150)}else{var u=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;u&&setTimeout(An(e,function(){y==n&&(l.scroller.scrollTop+=u,s(t))}),50)}}function a(e){y=1/0,wa(e),l.input.focus(),_a(document,"mousemove",b),_a(document,"mouseup",x),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;wa(t);var u,h,d=c.sel,f=d.ranges;if(r&&!t.shiftKey?(h=c.sel.contains(n),u=h>-1?f[h]:new ht(n,n)):(u=c.sel.primary(),h=c.sel.primIndex),t.altKey)i="rect",r||(u=new ht(n,n)),n=Un(e,t,!0,!0),h=-1;else if("double"==i){var p=e.findWordAt(n);u=e.display.shift||c.extend?bt(c,u,p.anchor,p.head):p}else if("triple"==i){var g=new ht(Ps(n.line,0),gt(c,Ps(n.line+1,0)));u=e.display.shift||c.extend?bt(c,u,g.anchor,g.head):g}else u=bt(c,u,n);r?-1==h?(h=f.length,Tt(c,dt(f.concat([u]),h),{scroll:!1,origin:"*mouse"})):f.length>1&&f[h].empty()&&"single"==i&&!t.shiftKey?(Tt(c,dt(f.slice(0,h).concat(f.slice(h+1)),0)),d=c.sel):kt(c,h,u,Ma):(h=0,Tt(c,new ut([u],0),Ma),d=c.sel);var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=An(e,function(e){bo(e)?s(e):a(e)}),x=An(e,a);Ca(document,"mousemove",b),Ca(document,"mouseup",x)}function Kn(e,t,n,i,r){try{var o=t.clientX,s=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&wa(t);var a=e.display,l=a.lineDiv.getBoundingClientRect();if(s>l.bottom||!_o(e,n))return vo(t);s-=l.top-a.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=a.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=o){var h=Jr(e.doc,s),d=e.options.gutters[c];return r(e,n,e,h,d,t),vo(t)}}}function Qn(e,t){return Kn(e,t,"gutterClick",!0,wo)}function Jn(e){var t=this;if(!ko(t,e)&&!qn(t.display,e)){wa(e),fs&&(Hs=+new Date);var n=Un(t,e,!0),i=e.dataTransfer.files;if(n&&!Q(t))if(i&&i.length&&window.FileReader&&window.File)for(var r=i.length,o=Array(r),s=0,a=function(e,i){var a=new FileReader;a.onload=An(t,function(){if(o[i]=a.result,++s==r){n=gt(t.doc,n);var e={from:n,to:n,text:Va(o.join("\n")),origin:"paste"};ki(t.doc,e),St(t.doc,ft(n,Vs(e)))}}),a.readAsText(e)},l=0;r>l;++l)a(i[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(_s?e.altKey:e.ctrlKey))var c=t.listSelections();if(Lt(t.doc,ft(n,n)),c)for(var l=0;l<c.length;++l)Ei(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Zn(e,t){if(fs&&(!e.state.draggingText||+new Date-Hs<100))return void ka(t);if(!ko(e,t)&&!qn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!bs)){var n=Fo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ys&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ys&&n.parentNode.removeChild(n)}}function ei(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,us||A(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),us&&A(e),Rt(e,100))}function ti(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,x(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function ni(e,t){var n=Ws(t),i=n.x,r=n.y,o=e.display,s=o.scroller;if(i&&s.scrollWidth>s.clientWidth||r&&s.scrollHeight>s.clientHeight){if(r&&_s&&gs)e:for(var a=t.target,l=o.view;a!=s;a=a.parentNode)for(var c=0;c<l.length;c++)if(l[c].node==a){e.display.currentWheelTarget=a;break e}if(i&&!us&&!ys&&null!=zs)return r&&ei(e,Math.max(0,Math.min(s.scrollTop+r*zs,s.scrollHeight-s.clientHeight))),ti(e,Math.max(0,Math.min(s.scrollLeft+i*zs,s.scrollWidth-s.clientWidth))),wa(t),void(o.wheelStartX=null);if(r&&null!=zs){var u=r*zs,h=e.doc.scrollTop,d=h+o.wrapper.clientHeight;0>u?h=Math.max(0,h+u-50):d=Math.min(e.doc.height,d+u+50),A(e,{top:h,bottom:d})}20>Bs&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(zs=(zs*Bs+n)/(Bs+1),++Bs)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function ii(e,t,n){if("string"==typeof t&&(t=ia[t],!t))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{Q(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=Ea}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}function ri(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=oa(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&oa(t,e.options.extraKeys,n,e)||oa(t,e.options.keyMap,n,e)}function oi(e,t,n,i){var r=e.state.keySeq;if(r){if(sa(t))return"handled";qs.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=ri(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&wo(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(wa(n),Dt(e)),r&&!o&&/\'$/.test(t)?(wa(n),!0):!!o}function si(e,t){var n=aa(t,!0);return n?t.shiftKey&&!e.state.keySeq?oi(e,"Shift-"+n,t,function(t){return ii(e,t,!0)})||oi(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?ii(e,t):void 0}):oi(e,n,t,function(t){return ii(e,t)}):!1}function ai(e,t,n){return oi(e,"'"+n+"'",t,function(t){return ii(e,t,!0)})}function li(e){var t=this;if(t.curOp.focus=zo(),!ko(t,e)){fs&&11>ps&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=si(t,e);ys&&(Us=i?n:null,!i&&88==n&&!Ya&&(_s?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ci(t)}}function ci(e){function t(e){18!=e.keyCode&&e.altKey||(za(n,"CodeMirror-crosshair"),_a(document,"keyup",t),_a(document,"mouseover",t))}var n=e.display.lineDiv;Wa(n,"CodeMirror-crosshair"),Ca(document,"keyup",t),Ca(document,"mouseover",t)}function ui(e){16==e.keyCode&&(this.doc.sel.shift=!1),ko(this,e)}function hi(e){var t=this;if(!(qn(t.display,e)||ko(t,e)||e.ctrlKey&&!e.altKey||_s&&e.metaKey)){var n=e.keyCode,i=e.charCode;if(ys&&n==Us)return Us=null,void wa(e);if(!ys||e.which&&!(e.which<10)||!si(t,e)){var r=String.fromCharCode(null==i?n:i);ai(t,e,r)||t.display.input.onKeyPress(e)}}}function di(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,pi(e))},100)}function fi(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Sa(e,"focus",e),e.state.focused=!0,Wa(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),gs&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Dt(e))}function pi(e){e.state.delayingBlurEvent||(e.state.focused&&(Sa(e,"blur",e),e.state.focused=!1,za(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function gi(e,t){qn(e.display,t)||mi(e,t)||e.display.input.onContextMenu(t)}function mi(e,t){return _o(e,"gutterContextMenu")?Kn(e,t,"gutterContextMenu",!1,Sa):!1}function vi(e,t){if(js(e,t.from)<0)return e;if(js(e,t.to)<=0)return Vs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Vs(t).ch-t.to.ch),Ps(n,i)}function yi(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new ht(vi(r.anchor,t),vi(r.head,t)))}return dt(n,e.sel.primIndex)}function bi(e,t,n){return e.line==t.line?Ps(n.line,e.ch-t.ch+n.ch):Ps(n.line+(e.line-t.line),e.ch)}function wi(e,t,n){for(var i=[],r=Ps(e.first,0),o=r,s=0;s<t.length;s++){var a=t[s],l=bi(a.from,r,o),c=bi(Vs(a),r,o);if(r=a.to,o=c,"around"==n){var u=e.sel.ranges[s],h=js(u.head,u.anchor)<0;i[s]=new ht(h?c:l,h?l:c)}else i[s]=new ht(l,l)}return new ut(i,e.sel.primIndex)}function xi(e,t,n){var i={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0
}};return n&&(i.update=function(t,n,i,r){t&&(this.from=gt(e,t)),n&&(this.to=gt(e,n)),i&&(this.text=i),void 0!==r&&(this.origin=r)}),Sa(e,"beforeChange",e,i),e.cm&&Sa(e.cm,"beforeChange",e.cm,i),i.canceled?null:{from:i.from,to:i.to,text:i.text,origin:i.origin}}function ki(e,t,n){if(e.cm){if(!e.cm.curOp)return An(e.cm,ki)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(_o(e,"beforeChange")||e.cm&&_o(e.cm,"beforeChange"))||(t=xi(e,t,!0))){var i=As&&!n&&rr(e,t.from,t.to);if(i)for(var r=i.length-1;r>=0;--r)Ci(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Ci(e,t)}}function Ci(e,t){if(1!=t.text.length||""!=t.text[0]||0!=js(t.from,t.to)){var n=yi(e,t);oo(e,t,n,e.cm?e.cm.curOp.id:0/0),Ti(e,t,n,tr(e,t));var i=[];Ur(e,function(e,n){n||-1!=Mo(i,e.history)||(mo(e.history,t),i.push(e.history)),Ti(e,t,null,tr(e,t))})}}function _i(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var i,r=e.history,o=e.sel,s="undo"==t?r.done:r.undone,a="undo"==t?r.undone:r.done,l=0;l<s.length&&(i=s[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=s.length){for(r.lastOrigin=r.lastSelOrigin=null;i=s.pop(),i.ranges;){if(lo(i,a),n&&!i.equals(e.sel))return void Tt(e,i,{clearRedo:!1});o=i}var c=[];lo(o,a),a.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;for(var u=_o(e,"beforeChange")||e.cm&&_o(e.cm,"beforeChange"),l=i.changes.length-1;l>=0;--l){var h=i.changes[l];if(h.origin=t,u&&!xi(e,h,!1))return void(s.length=0);c.push(no(e,h));var d=l?yi(e,h):Ao(s);Ti(e,h,d,ir(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:Vs(h)});var f=[];Ur(e,function(e,t){t||-1!=Mo(f,e.history)||(mo(e.history,h),f.push(e.history)),Ti(e,h,null,ir(e,h))})}}}}function Si(e,t){if(0!=t&&(e.first+=t,e.sel=new ut(Po(e.sel.ranges,function(e){return new ht(Ps(e.anchor.line+t,e.anchor.ch),Ps(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){On(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)In(e.cm,i,"gutter")}}function Ti(e,t,n,i){if(e.cm&&!e.cm.curOp)return An(e.cm,Ti)(e,t,n,i);if(t.to.line<e.first)return void Si(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Si(e,r),t={from:Ps(e.first,0),to:Ps(t.to.line+r,t.to.ch),text:[Ao(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Ps(o,Gr(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Yr(e,t.from,t.to),n||(n=yi(e,t)),e.cm?Li(e.cm,t,i):zr(e,t,i),Lt(e,n,Aa)}}function Li(e,t,n){var i=e.doc,r=e.display,s=t.from,a=t.to,l=!1,c=s.line;e.options.lineWrapping||(c=Qr(pr(Gr(i,s.line))),i.iter(c,a.line+1,function(e){return e==r.maxLine?(l=!0,!0):void 0})),i.sel.contains(t.from,t.to)>-1&&Co(e),zr(i,t,n,o(e)),e.options.lineWrapping||(i.iter(c,s.line+t.text.length,function(e){var t=h(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),i.frontier=Math.min(i.frontier,s.line),Rt(e,400);var u=t.text.length-(a.line-s.line)-1;t.full?On(e):s.line!=a.line||1!=t.text.length||Br(e.doc,t)?On(e,s.line,a.line+1,u):In(e,s.line,"text");var d=_o(e,"changes"),f=_o(e,"change");if(f||d){var p={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};f&&wo(e,"change",e,p),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function Ei(e,t,n,i,r){if(i||(i=n),js(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=Va(t)),ki(e,{from:n,to:i,text:t,origin:r})}function Ai(e,t){if(!ko(e,"scrollCursorIntoView")){var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;if(t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!xs){var o=Fo("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-Bt(e.display))+"px; height: "+(t.bottom-t.top+qt(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}}function Mi(e,t,n,i){null==i&&(i=0);for(var r=0;5>r;r++){var o=!1,s=dn(e,t),a=n&&n!=t?dn(e,n):s,l=ji(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-i,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(ei(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(o=!0)),null!=l.scrollLeft&&(ti(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(o=!0)),!o)break}return s}function Pi(e,t,n,i,r){var o=ji(e,t,n,i,r);null!=o.scrollTop&&ei(e,o.scrollTop),null!=o.scrollLeft&&ti(e,o.scrollLeft)}function ji(e,t,n,i,r){var o=e.display,s=vn(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Vt(e),c={};r-n>l&&(r=n+l);var u=e.doc.height+zt(o),h=s>n,d=r>u-s;if(a>n)c.scrollTop=h?0:n;else if(r>a+l){var f=Math.min(n,(d?u:r)-l);f!=a&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=Ut(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=i-t>g;return m&&(i=t+g),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(m?0:10)):i>g+p-3&&(c.scrollLeft=i+(m?0:10)-g),c}function Ni(e,t,n){(null!=t||null!=n)&&Ii(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Oi(e){Ii(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?Ps(t.line,t.ch-1):t,i=Ps(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Ii(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=fn(e,t.from),i=fn(e,t.to),r=ji(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Di(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=Ht(e,t):n="prev");var s=e.options.tabSize,a=Gr(o,t),l=ja(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var c,u=a.text.match(/^\s*/)[0];if(i||/\S/.test(a.text)){if("smart"==n&&(c=o.mode.indent(r,a.text.slice(u.length),a.text),c==Ea||c>150)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?ja(Gr(o,t-1).text,null,s):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/s);f;--f)d+=s,h+="	";if(c>d&&(h+=Eo(c-d)),h!=u)return Ei(o,h,Ps(t,0),Ps(t,u.length),"+input"),a.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var p=o.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var d=Ps(t,u.length);kt(o,f,new ht(d,d));break}}}function Ri(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=Gr(e,pt(e,t)):r=Qr(t),null==r?null:(i(o,r)&&e.cm&&In(e.cm,r,n),o)}function $i(e,t){for(var n=e.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=t(n[r]);i.length&&js(o.from,Ao(i).to)<=0;){var s=i.pop();if(js(s.from,o.from)<0){o.from=s.from;break}}i.push(o)}En(e,function(){for(var t=i.length-1;t>=0;t--)Ei(e.doc,"",i[t].from,i[t].to,"+delete");Oi(e)})}function Fi(e,t,n,i,r){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?h=!1:(a=t,u=Gr(e,t))}function s(e){var t=(r?ls:cs)(u,l,n,!0);if(null==t){if(e||!o())return h=!1;l=r?(0>n?ts:es)(u):0>n?u.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,c=n,u=Gr(e,a),h=!0;if("char"==i)s();else if("column"==i)s(!0);else if("word"==i||"group"==i)for(var d=null,f="group"==i,p=e.cm&&e.cm.getHelper(t,"wordChars"),g=!0;!(0>n)||s(!g);g=!1){var m=u.text.charAt(l)||"\n",v=Do(m,p)?"w":f&&"\n"==m?"n":!f||/\s/.test(m)?null:"p";if(!f||g||v||(v="s"),d&&d!=v){0>n&&(n=1,s());break}if(v&&(d=v),n>0&&!s(!g))break}var y=Pt(e,Ps(a,l),c,!0);return h||(y.hitSide=!0),y}function Hi(e,t,n,i){var r,o=e.doc,s=t.left;if("page"==i){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);r=t.top+n*(a-(0>n?1.5:.5)*vn(e.display))}else"line"==i&&(r=n>0?t.bottom+3:t.top-3);for(;;){var l=gn(e,s,r);if(!l.outside)break;if(0>n?0>=r:r>=o.height){l.hitSide=!0;break}r+=5*n}return l}function Bi(t,n,i,r){e.defaults[t]=n,i&&(Ys[t]=r?function(e,t,n){n!=Xs&&i(e,t,n)}:i)}function zi(e){for(var t,n,i,r,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Wi(e){return"string"==typeof e?ra[e]:e}function qi(e,t,n,i,r){if(i&&i.shared)return Ui(e,t,n,i,r);if(e.cm&&!e.cm.curOp)return An(e.cm,qi)(e,t,n,i,r);var o=new ua(e,r),s=js(t,n);if(i&&Oo(i,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Fo("span",[o.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(fr(e,t.line,t,n,o)||t.line!=n.line&&fr(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ms=!0}o.addToHistory&&oo(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&pr(e)==c.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&Kr(e,0),Ji(e,new Xi(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){yr(e,t)&&Kr(t,0)}),o.clearOnEnter&&Ca(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(As=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ca,o.atomic=!0),c){if(a&&(c.curOp.updateMaxLine=!0),o.collapsed)On(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=t.line;u<=n.line;u++)In(c,u,"text");o.atomic&&At(c.doc),wo(c,"markerAdded",c,o)}return o}function Ui(e,t,n,i,r){i=Oo(i),i.shared=!1;var o=[qi(e,t,n,i,r)],s=o[0],a=i.widgetNode;return Ur(e,function(e){a&&(i.widgetNode=a.cloneNode(!0)),o.push(qi(e,gt(e,t),gt(e,n),i,r));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=Ao(o)}),new ha(o,s)}function Vi(e){return e.findMarks(Ps(e.first,0),e.clipPos(Ps(e.lastLine())),function(e){return e.parent})}function Gi(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),s=e.clipPos(r.to);if(js(o,s)){var a=qi(e,o,s,i.primary,i.primary.type);i.markers.push(a),a.parent=i}}}function Yi(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];Ur(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==Mo(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function Xi(e,t,n){this.marker=e,this.from=t,this.to=n}function Ki(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Qi(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Ji(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Zi(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new Xi(s,o.from,l?null:o.to))}}return i}function er(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new Xi(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return i}function tr(e,t){if(t.full)return null;var n=vt(e,t.from.line)&&Gr(e,t.from.line).markedSpans,i=vt(e,t.to.line)&&Gr(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,s=0==js(t.from,t.to),a=Zi(n,r,s),l=er(i,o,s),c=1==t.text.length,u=Ao(t.text).length+(c?r:0);if(a)for(var h=0;h<a.length;++h){var d=a[h];if(null==d.to){var f=Ki(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=r}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var f=Ki(a,d.marker);f||(d.from=u,c&&(a||(a=[])).push(d))}else d.from+=u,c&&(a||(a=[])).push(d)}a&&(a=nr(a)),l&&l!=a&&(l=nr(l));var p=[a];if(!c){var g,m=t.text.length-2;if(m>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(g||(g=[])).push(new Xi(a[h].marker,null,null));for(var h=0;m>h;++h)p.push(g);p.push(l)}return p}function nr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ir(e,t){var n=ho(e,t),i=tr(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],s=i[r];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else s&&(n[r]=s)}return n}function rr(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=Mo(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var s=i[o],a=s.find(0),l=0;l<r.length;++l){var c=r[l];if(!(js(c.to,a.from)<0||js(c.from,a.to)>0)){var u=[l,1],h=js(c.from,a.from),d=js(c.to,a.to);(0>h||!s.inclusiveLeft&&!h)&&u.push({from:c.from,to:a.from}),(d>0||!s.inclusiveRight&&!d)&&u.push({from:a.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}function or(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function sr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ar(e){return e.inclusiveLeft?-1:0}function lr(e){return e.inclusiveRight?1:0}function cr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=js(i.from,r.from)||ar(e)-ar(t);if(o)return-o;var s=js(i.to,r.to)||lr(e)-lr(t);return s?s:t.id-e.id}function ur(e,t){var n,i=Ms&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)r=i[o],r.marker.collapsed&&null==(t?r.from:r.to)&&(!n||cr(n,r.marker)<0)&&(n=r.marker);return n}function hr(e){return ur(e,!0)}function dr(e){return ur(e,!1)}function fr(e,t,n,i,r){var o=Gr(e,t),s=Ms&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var c=l.marker.find(0),u=js(c.from,n)||ar(l.marker)-ar(r),h=js(c.to,i)||lr(l.marker)-lr(r);if(!(u>=0&&0>=h||0>=u&&h>=0)&&(0>=u&&(js(c.to,n)>0||l.marker.inclusiveRight&&r.inclusiveLeft)||u>=0&&(js(c.from,i)<0||l.marker.inclusiveLeft&&r.inclusiveRight)))return!0}}}function pr(e){for(var t;t=hr(e);)e=t.find(-1,!0).line;return e}function gr(e){for(var t,n;t=dr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function mr(e,t){var n=Gr(e,t),i=pr(n);return n==i?t:Qr(i)}function vr(e,t){if(t>e.lastLine())return t;var n,i=Gr(e,t);if(!yr(e,i))return t;for(;n=dr(i);)i=n.find(1,!0).line;return Qr(i)+1}function yr(e,t){var n=Ms&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if(i=n[r],i.marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&br(e,t,i))return!0}}function br(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return br(e,i.line,Ki(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if(r=t.markedSpans[o],r.marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&br(e,t,r))return!0}function wr(e,t,n){Zr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ni(e,null,n)}function xr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Fa(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Bo(t.display.measure,Fo("div",[e.node],null,n))}return e.height=e.node.offsetHeight}function kr(e,t,n,i){var r=new da(e,n,i),o=e.cm;return o&&r.noHScroll&&(o.display.alignWidgets=!0),Ri(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=t,o&&!yr(e,t)){var i=Zr(t)<e.scrollTop;Kr(t,t.height+xr(r)),i&&Ni(o,null,r.height),o.curOp.forceUpdate=!0}return!0}),r}function Cr(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),or(e),sr(e,n);var r=i?i(e):1;r!=e.height&&Kr(e,r)}function _r(e){e.parent=null,or(e)}function Sr(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Tr(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var i=e.innerMode(t,n);return i.mode.blankLine?i.mode.blankLine(i.state):void 0}}function Lr(t,n,i,r){for(var o=0;10>o;o++){r&&(r[0]=e.innerMode(t,i).mode);var s=t.token(n,i);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Er(e,t,n,i){function r(e){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:e?ta(s.mode,u):u}}var o,s=e.doc,a=s.mode;t=gt(s,t);var l,c=Gr(s,t.line),u=Ht(e,t.line,n),h=new la(c.text,e.options.tabSize);for(i&&(l=[]);(i||h.pos<t.ch)&&!h.eol();)h.start=h.pos,o=Lr(a,h,u),i&&l.push(r(!0));return i?l:r()}function Ar(e,t,n,i,r,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,c=0,u=null,h=new la(t,e.options.tabSize),d=e.options.addModeClass&&[null];for(""==t&&Sr(Tr(n,i),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(a=!1,s&&jr(e,t,i,h.pos),h.pos=t.length,l=null):l=Sr(Lr(n,h,i,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||u!=l){for(;c<h.start;)c=Math.min(h.start,c+5e4),r(c,u);u=l}h.start=h.pos}for(;c<h.pos;){var p=Math.min(h.pos,c+5e4);r(p,u),c=p}}function Mr(e,t,n,i){var r=[e.state.modeGen],o={};Ar(e,t.text,e.doc.mode,n,function(e,t){r.push(e,t)},o,i);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,c=0;Ar(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>c;){var i=r[l];i>e&&r.splice(l,1,e,r[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(a.opaque)r.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=r[n+1];r[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:r,classes:o.bgClass||o.textClass?o:null}}function Pr(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=Mr(e,t,t.stateAfter=Ht(e,Qr(t)));t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function jr(e,t,n,i){var r=e.doc.mode,o=new la(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Tr(r,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)Lr(r,o,n),o.start=o.pos}function Nr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ga:pa;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Or(e,t){var n=Fo("span",null,null,gs?"padding-right: .1px":null),i={pre:Fo("pre",[n]),content:n,col:0,pos:0,cm:e,splitSpaces:(fs||gs)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,s=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=Dr,Xo(e.display.measure)&&(o=eo(s))&&(i.addToken=$r(i.addToken,o)),i.map=[];var a=t!=e.display.externalMeasured&&Qr(s);Hr(s,i,Pr(e,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(i.bgClass=qo(s.styleClasses.bgClass,i.bgClass||"")),s.styleClasses.textClass&&(i.textClass=qo(s.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Yo(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return gs&&/\bcm-tab\b/.test(i.content.lastChild.className)&&(i.content.className="cm-tab-wrap-hack"),Sa(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=qo(i.pre.className,i.textClass||"")),i}function Ir(e){var t=Fo("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Dr(e,t,n,i,r,o,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Rr):t,l=e.cm.state.specialChars,c=!1;if(l.test(t))for(var u=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var d=l.exec(t),f=d?d.index-h:t.length-h;if(f){var p=document.createTextNode(a.slice(h,h+f));u.appendChild(fs&&9>ps?Fo("span",[p]):p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!d)break;if(h+=f+1,"	"==d[0]){var g=e.cm.options.tabSize,m=g-e.col%g,p=u.appendChild(Fo("span",Eo(m),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","	"),e.col+=m}else{var p=e.cm.options.specialCharPlaceholder(d[0]);p.setAttribute("cm-text",d[0]),u.appendChild(fs&&9>ps?Fo("span",[p]):p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}else{e.col+=t.length;var u=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,u),fs&&9>ps&&(c=!0),e.pos+=t.length}if(n||i||r||c||s){var v=n||"";i&&(v+=i),r&&(v+=r);var y=Fo("span",[u],v,s);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(u)}}function Rr(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+=" "}function $r(e,t){return function(n,i,r,o,s,a,l){r=r?r+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+i.length;;){for(var h=0;h<t.length;h++){var d=t[h];if(d.to>c&&d.from<=c)break}if(d.to>=u)return e(n,i,r,o,s,a,l);e(n,i.slice(0,d.to-c),r,o,null,a,l),o=null,i=i.slice(d.to-c),c=d.to}}}function Fr(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t}function Hr(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var s,a,l,c,u,h,d,f=r.length,p=0,g=1,m="",v=0;;){if(v==p){l=c=u=h=a="",d=null,v=1/0;for(var y=[],b=0;b<i.length;++b){var w=i[b],x=w.marker;"bookmark"==x.type&&w.from==p&&x.widgetNode?y.push(x):w.from<=p&&(null==w.to||w.to>p||x.collapsed&&w.to==p&&w.from==p)?(null!=w.to&&w.to!=p&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(a=x.css),x.startStyle&&w.from==p&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(c+=" "+x.endStyle),x.title&&!h&&(h=x.title),x.collapsed&&(!d||cr(d.marker,x)<0)&&(d=w)):w.from>p&&v>w.from&&(v=w.from)}if(d&&(d.from||0)==p){if(Fr(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}if(!d&&y.length)for(var b=0;b<y.length;++b)Fr(t,0,y[b])}if(p>=f)break;for(var k=Math.min(f,v);;){if(m){var C=p+m.length;if(!d){var _=C>k?m.slice(0,k-p):m;t.addToken(t,_,s?s+l:l,u,p+_.length==v?c:"",h,a)}if(C>=k){m=m.slice(k-p),p=k;break}p=C,u=""}m=r.slice(o,o=n[g++]),s=Nr(n[g++],t.cm.options)}}else for(var g=1;g<n.length;g+=2)t.addToken(t,r.slice(o,o=n[g]),Nr(n[g+1],t.cm.options))}function Br(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Ao(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function zr(e,t,n,i){function r(e){return n?n[e]:null}function o(e,n,r){Cr(e,n,r,i),wo(e,"change",e,t)}function s(e,t){for(var n=e,o=[];t>n;++n)o.push(new fa(c[n],r(n),i));return o}var a=t.from,l=t.to,c=t.text,u=Gr(e,a.line),h=Gr(e,l.line),d=Ao(c),f=r(c.length-1),p=l.line-a.line;if(t.full)e.insert(0,s(0,c.length)),e.remove(c.length,e.size-c.length);else if(Br(e,t)){var g=s(0,c.length-1);o(h,h.text,f),p&&e.remove(a.line,p),g.length&&e.insert(a.line,g)}else if(u==h)if(1==c.length)o(u,u.text.slice(0,a.ch)+d+u.text.slice(l.ch),f);else{var g=s(1,c.length-1);g.push(new fa(d+u.text.slice(l.ch),f,i)),o(u,u.text.slice(0,a.ch)+c[0],r(0)),e.insert(a.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,a.ch)+c[0]+h.text.slice(l.ch),r(0)),e.remove(a.line+1,p);else{o(u,u.text.slice(0,a.ch)+c[0],r(0)),o(h,d+h.text.slice(l.ch),f);var g=s(1,c.length-1);p>1&&e.remove(a.line+1,p-1),e.insert(a.line+1,g)}wo(e,"change",e,t)}function Wr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function qr(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}function Ur(e,t,n){function i(e,r,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=r){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),i(a.doc,e,l))}}}i(e,null,!0)}function Vr(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,On(e)}function Gr(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(o>t){n=r;break}t-=o}return n.lines[t]}function Yr(e,t,n){var i=[],r=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;r==n.line&&(o=o.slice(0,n.ch)),r==t.line&&(o=o.slice(t.ch)),i.push(o),++r}),i}function Xr(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function Kr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function Qr(e){if(null==e.parent)return null;for(var t=e.parent,n=Mo(t.lines,e),i=t.parent;i;t=i,i=i.parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function Jr(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(o>t){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i],a=s.height;if(a>t)break;t-=a}return n+i}function Zr(e){e=pr(e);for(var t=0,n=e.parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;n=o,o=n.parent)for(var i=0;i<o.children.length;++i){var s=o.children[i];if(s==n)break;t+=s.height}return t}function eo(e){var t=e.order;return null==t&&(t=e.order=Ja(e.text)),t}function to(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function no(e,t){var n={from:G(t.from),to:Vs(t),text:Yr(e,t.from,t.to)};return co(e,n,t.from.line,t.to.line+1),Ur(e,function(e){co(e,n,t.from.line,t.to.line+1)},!0),n}function io(e){for(;e.length;){var t=Ao(e);if(!t.ranges)break;e.pop()}}function ro(e,t){return t?(io(e.done),Ao(e.done)):e.done.length&&!Ao(e.done).ranges?Ao(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Ao(e.done)):void 0}function oo(e,t,n,i){var r=e.history;r.undone.length=0;var o,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=ro(r,r.lastOp==i))){var a=Ao(o.changes);0==js(t.from,t.to)&&0==js(t.from,a.to)?a.to=Vs(t):o.changes.push(no(e,t))}else{var l=Ao(r.done);for(l&&l.ranges||lo(e.sel,r.done),o={changes:[no(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,a||Sa(e,"historyAdded")}function so(e,t,n,i){var r=t.charAt(0);return"*"==r||"+"==r&&n.ranges.length==i.ranges.length&&n.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ao(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||so(e,o,Ao(r.done),t))?r.done[r.done.length-1]=t:lo(t,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&i.clearRedo!==!1&&io(r.undone)}function lo(e,t){var n=Ao(t);n&&n.ranges&&n.equals(e)||t.push(e)}function co(e,t,n,i){var r=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,i),function(n){n.markedSpans&&((r||(r=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function uo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function ho(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(uo(n[i]));return r}function fo(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?ut.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];r.push({changes:a});for(var l=0;l<s.length;++l){var c,u=s[l];if(a.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&Mo(t,Number(c[1]))>-1&&(Ao(a)[h]=u[h],delete u[h])}}}return r}function po(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function go(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],s=!0;if(o.ranges){o.copied||(o=e[r]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)po(o.ranges[a].anchor,t,n,i),po(o.ranges[a].head,t,n,i)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Ps(l.from.line+i,l.from.ch),l.to=Ps(l.to.line+i,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,r+1),r=0)}}}function mo(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;go(e.done,n,i,r),go(e.undone,n,i,r)}function vo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function yo(e){return e.target||e.srcElement}function bo(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_s&&e.ctrlKey&&1==t&&(t=3),t}function wo(e,t){function n(e){return function(){e.apply(null,o)}}var i=e._handlers&&e._handlers[t];if(i){var r,o=Array.prototype.slice.call(arguments,2);$s?r=$s.delayedCallbacks:Ta?r=Ta:(r=Ta=[],setTimeout(xo,0));for(var s=0;s<i.length;++s)r.push(n(i[s]))}}function xo(){var e=Ta;Ta=null;for(var t=0;t<e.length;++t)e[t]()}function ko(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Sa(e,n||t.type,e,t),vo(t)||t.codemirrorIgnore}function Co(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==Mo(n,t[i])&&n.push(t[i])}function _o(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function So(e){e.prototype.on=function(e,t){Ca(this,e,t)},e.prototype.off=function(e,t){_a(this,e,t)}}function To(){this.id=null}function Lo(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("	",i);-1==o&&(o=e.length);var s=o-i;if(o==e.length||r+s>=t)return i+Math.min(s,t-r);if(r+=o-i,r+=n-r%n,i=o+1,r>=t)return i}}function Eo(e){for(;Na.length<=e;)Na.push(Ao(Na)+" ");return Na[e]}function Ao(e){return e[e.length-1]}function Mo(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Po(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function jo(){}function No(e,t){var n;return Object.create?n=Object.create(e):(jo.prototype=e,n=new jo),t&&Oo(t,n),n}function Oo(e,t,n){t||(t={});for(var i in e)!e.hasOwnProperty(i)||n===!1&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function Io(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function Do(e,t){return t?t.source.indexOf("\\w")>-1&&Ra(e)?!0:t.test(e):Ra(e)}function Ro(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function $o(e){return e.charCodeAt(0)>=768&&$a.test(e)}function Fo(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Ho(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Bo(e,t){return Ho(e).appendChild(t)}function zo(){return document.activeElement}function Wo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function qo(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Wo(n[i]).test(t)&&(t+=" "+n[i]);return t}function Uo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}function Vo(){qa||(Go(),qa=!0)}function Go(){var e;Ca(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Uo(Wn)},100))}),Ca(window,"blur",function(){Uo(pi)})}function Yo(e){if(null==Ha){var t=Fo("span","\u200b");Bo(e,Fo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ha=t.offsetWidth<=1&&t.offsetHeight>2&&!(fs&&8>ps))}var n=Ha?Fo("span","\u200b"):Fo("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Xo(e){if(null!=Ba)return Ba;var t=Bo(e,document.createTextNode("A\u062eA")),n=Ia(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var i=Ia(t,1,2).getBoundingClientRect();return Ba=i.right-n.right<3}function Ko(e){if(null!=Xa)return Xa;
var t=Bo(e,Fo("span","x")),n=t.getBoundingClientRect(),i=Ia(t,0,1).getBoundingClientRect();return Xa=Math.abs(n.left-i.left)>1}function Qo(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(i(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}function Jo(e){return e.level%2?e.to:e.from}function Zo(e){return e.level%2?e.from:e.to}function es(e){var t=eo(e);return t?Jo(t[0]):0}function ts(e){var t=eo(e);return t?Zo(Ao(t)):e.text.length}function ns(e,t){var n=Gr(e.doc,t),i=pr(n);i!=n&&(t=Qr(i));var r=eo(i),o=r?r[0].level%2?ts(i):es(i):0;return Ps(t,o)}function is(e,t){for(var n,i=Gr(e.doc,t);n=dr(i);)i=n.find(1,!0).line,t=null;var r=eo(i),o=r?r[0].level%2?es(i):ts(i):i.text.length;return Ps(null==t?Qr(i):t,o)}function rs(e,t){var n=ns(e,t.line),i=Gr(e.doc,n.line),r=eo(i);if(!r||0==r[0].level){var o=Math.max(0,i.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return Ps(n.line,s?0:o)}return n}function os(e,t,n){var i=e[0].level;return t==i?!0:n==i?!1:n>t}function ss(e,t){Qa=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return os(e,r.level,e[n].level)?(r.from!=r.to&&(Qa=n),i):(r.from!=r.to&&(Qa=i),n);n=i}}return n}function as(e,t,n,i){if(!i)return t+n;do t+=n;while(t>0&&$o(e.text.charAt(t)));return t}function ls(e,t,n,i){var r=eo(e);if(!r)return cs(e,t,n,i);for(var o=ss(r,t),s=r[o],a=as(e,t,s.level%2?-n:n,i);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return ss(r,a)==o?a:(s=r[o+=n],n>0==s.level%2?s.to:s.from);if(s=r[o+=n],!s)return null;a=n>0==s.level%2?as(e,s.to,-1,i):as(e,s.from,1,i)}}function cs(e,t,n,i){var r=t+n;if(i)for(;r>0&&$o(e.text.charAt(r));)r+=n;return 0>r||r>e.text.length?null:r}var us=/gecko\/\d/i.test(navigator.userAgent),hs=/MSIE \d/.test(navigator.userAgent),ds=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),fs=hs||ds,ps=fs&&(hs?document.documentMode||6:ds[1]),gs=/WebKit\//.test(navigator.userAgent),ms=gs&&/Qt\/\d+\.\d+/.test(navigator.userAgent),vs=/Chrome\//.test(navigator.userAgent),ys=/Opera\//.test(navigator.userAgent),bs=/Apple Computer/.test(navigator.vendor),ws=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),xs=/PhantomJS/.test(navigator.userAgent),ks=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Cs=ks||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),_s=ks||/Mac/.test(navigator.platform),Ss=/win/i.test(navigator.platform),Ts=ys&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);Ts&&(Ts=Number(Ts[1])),Ts&&Ts>=15&&(ys=!1,gs=!0);var Ls=_s&&(ms||ys&&(null==Ts||12.11>Ts)),Es=us||fs&&ps>=9,As=!1,Ms=!1;g.prototype=Oo({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&e.clientHeight>0&&(0==i&&this.overlayHack(),this.checkedOverlay=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e)},overlayHack:function(){var e=_s&&!ws?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=e;var t=this,n=function(e){yo(e)!=t.vert&&yo(e)!=t.horiz&&An(t.cm,Vn)(e)};Ca(this.vert,"mousedown",n),Ca(this.horiz,"mousedown",n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},g.prototype),m.prototype=Oo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),e.scrollbarModel={"native":g,"null":m},S.prototype.signal=function(e,t){_o(e,t)&&this.events.push(arguments)},S.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Sa.apply(null,this.events[e])};var Ps=e.Pos=function(e,t){return this instanceof Ps?(this.line=e,void(this.ch=t)):new Ps(e,t)},js=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},Ns=null;nt.prototype=Oo({init:function(e){function t(e){if(i.somethingSelected())Ns=i.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Ns.join("\n"),Oa(o));else{if(!i.options.lineWiseCopyCut)return;var t=et(i);Ns=t.text,"cut"==e.type?i.setSelections(t.ranges,null,Aa):(n.prevInput="",o.value=t.text.join("\n"),Oa(o))}"cut"==e.type&&(i.state.cutIncoming=!0)}var n=this,i=this.cm,r=this.wrapper=it(),o=this.textarea=r.firstChild;e.wrapper.insertBefore(r,e.wrapper.firstChild),ks&&(o.style.width="0px"),Ca(o,"input",function(){fs&&ps>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Ca(o,"paste",function(){if(gs&&!i.state.fakedLastChar&&!(new Date-i.state.lastMiddleDown<200)){var e=o.selectionStart,t=o.selectionEnd;o.value+="$",o.selectionEnd=t,o.selectionStart=e,i.state.fakedLastChar=!0}i.state.pasteIncoming=!0,n.fastPoll()}),Ca(o,"cut",t),Ca(o,"copy",t),Ca(e.scroller,"paste",function(t){qn(e,t)||(i.state.pasteIncoming=!0,n.focus())}),Ca(e.lineSpace,"selectstart",function(t){qn(e,t)||wa(t)}),Ca(o,"compositionstart",function(){var e=i.getCursor("from");n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Ca(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=Nt(e);if(e.options.moveInputWithCursor){var r=dn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+s.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+s.left-o.left))}return i},showSelection:function(e){var t=this.cm,n=t.display;Bo(n.cursorDiv,e.cursors),Bo(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary();t=Ya&&(o.to().line-o.from().line>100||(n=i.getSelection()).length>1e3);var s=t?"-":n||i.getSelection();this.textarea.value=s,i.state.focused&&Oa(this.textarea),fs&&ps>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",fs&&ps>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Cs||zo()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var i=n.poll();i||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(!e.state.focused||Ga(t)&&!n||Q(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(fs&&ps>=9&&this.hasSelection===i||_s&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="\u200b"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,i.length);s>o&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var a=this;return En(e,function(){J(e,i.slice(o),n.length-o,null,a.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=i,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){fs&&ps>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=r.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,i.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=r.doc.sel}}function n(){if(i.contextMenuPending=!1,i.wrapper.style.position="relative",s.style.cssText=u,fs&&9>ps&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!fs||fs&&9>ps)&&t();var e=0,n=function(){o.selForContextMenu==r.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==i.prevInput?An(r,ia.selectAll)(r):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var i=this,r=i.cm,o=r.display,s=i.textarea,a=Un(r,e),l=o.scroller.scrollTop;if(a&&!ys){var c=r.options.resetSelectionOnContextMenu;c&&-1==r.doc.sel.contains(a)&&An(r,Tt)(r.doc,ft(a),Aa);var u=s.style.cssText;if(i.wrapper.style.position="absolute",s.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(fs?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",gs)var h=window.scrollY;if(o.input.focus(),gs&&window.scrollTo(null,h),o.input.reset(),r.somethingSelected()||(s.value=i.prevInput=" "),i.contextMenuPending=!0,o.selForContextMenu=r.doc.sel,clearTimeout(o.detectingSelectAll),fs&&ps>=9&&t(),Es){ka(e);var d=function(){_a(window,"mouseup",d),setTimeout(n,20)};Ca(window,"mouseup",d)}else setTimeout(n,50)}},setUneditable:jo,needsContentAttribute:!1},nt.prototype),rt.prototype=Oo({init:function(e){function t(e){if(i.somethingSelected())Ns=i.getSelections(),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=et(i);Ns=t.text,"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,Aa),i.replaceSelection("",null,"cut")})}if(e.clipboardData&&!ks)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",Ns.join("\n"));else{var n=it(),r=n.firstChild;i.display.lineSpace.insertBefore(n,i.display.lineSpace.firstChild),r.value=Ns.join("\n");var o=document.activeElement;Oa(r),setTimeout(function(){i.display.lineSpace.removeChild(n),o.focus()},50)}}var n=this,i=n.cm,r=n.div=e.lineDiv;r.contentEditable="true",tt(r),Ca(r,"paste",function(e){var t=e.clipboardData&&e.clipboardData.getData("text/plain");t&&(e.preventDefault(),i.replaceSelection(t,null,"paste"))}),Ca(r,"compositionstart",function(e){var t=e.data;if(n.composing={sel:i.doc.sel,data:t,startData:t},t){var r=i.doc.sel.primary(),o=i.getLine(r.head.line),s=o.indexOf(t,Math.max(0,r.head.ch-t.length));s>-1&&s<=r.head.ch&&(n.composing.sel=ft(Ps(r.head.line,s),Ps(r.head.line,s+t.length)))}}),Ca(r,"compositionupdate",function(e){n.composing.data=e.data}),Ca(r,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Ca(r,"touchstart",function(){n.forceCompositionEnd()}),Ca(r,"input",function(){n.composing||n.pollContent()||En(n.cm,function(){On(i)})}),Ca(r,"copy",t),Ca(r,"cut",t)},prepareSelection:function(){var e=Nt(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=at(this.cm,e.anchorNode,e.anchorOffset),i=at(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=js(X(n,i),t.from())||0!=js(Y(n,i),t.to())){var r=ot(this.cm,t.from()),o=ot(this.cm,t.to());if(r||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=s[s.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:s[0].measure.map[2],offset:0};try{var u=Ia(r.node,r.offset,o.offset,o.node)}catch(h){}u&&(e.removeAllRanges(),e.addRange(u),a&&null==e.anchorNode?e.addRange(a):us&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Bo(this.cm.display.cursorDiv,e.cursors),Bo(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Fa(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():En(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=at(t,e.anchorNode,e.anchorOffset),i=at(t,e.focusNode,e.focusOffset);n&&i&&En(t,function(){Tt(t.doc,ft(n,i),Aa),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),i=n.from(),r=n.to();if(i.line<t.viewFrom||r.line>t.viewTo-1)return!1;var o;if(i.line==t.viewFrom||0==(o=Rn(e,i.line)))var s=Qr(t.view[0].line),a=t.view[0].node;else var s=Qr(t.view[o].line),a=t.view[o-1].node.nextSibling;var l=Rn(e,r.line);if(l==t.view.length-1)var c=t.viewTo-1,u=t.view[l].node;else var c=Qr(t.view[l+1].line)-1,u=t.view[l+1].node.previousSibling;for(var h=Va(ct(e,a,u,s,c)),d=Yr(e.doc,Ps(s,0),Ps(c,Gr(e.doc,c).text.length));h.length>1&&d.length>1;)if(Ao(h)==Ao(d))h.pop(),d.pop(),c--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),s++}for(var f=0,p=0,g=h[0],m=d[0],v=Math.min(g.length,m.length);v>f&&g.charCodeAt(f)==m.charCodeAt(f);)++f;for(var y=Ao(h),b=Ao(d),w=Math.min(y.length-(1==h.length?f:0),b.length-(1==d.length?f:0));w>p&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;h[h.length-1]=y.slice(0,y.length-p),h[0]=h[0].slice(f);var x=Ps(s,f),k=Ps(c,d.length?Ao(d).length-p:0);return h.length>1||h[0]||js(x,k)?(Ei(e.doc,h,x,k,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){e.data&&e.data!=e.startData&&An(this.cm,J)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.setAttribute("contenteditable","false")},onKeyPress:function(e){e.preventDefault(),An(this.cm,J)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},onContextMenu:jo,resetPosition:jo,needsContentAttribute:!0},rt.prototype),e.inputStyles={textarea:nt,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=js(n.anchor,i.anchor)||0!=js(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ht(G(this.ranges[t].anchor),G(this.ranges[t].head));return new ut(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(js(t,i.from())>=0&&js(e,i.to())<=0)return n}return-1}},ht.prototype={from:function(){return X(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Os,Is,Ds,Rs={left:0,right:0,top:0,bottom:0},$s=null,Fs=0,Hs=0,Bs=0,zs=null;fs?zs=-.53:us?zs=15:vs?zs=-.7:bs&&(zs=-1/3);var Ws=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Ws(e);return t.x*=zs,t.y*=zs,t};var qs=new To,Us=null,Vs=e.changeEnd=function(e){return e.text?Ps(e.from.line+e.text.length-1,Ao(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Ys.hasOwnProperty(e)&&An(this,Ys[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Wi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Mn(function(t,n){var i=t.token?t:e.getMode(this.options,t);if(i.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:i,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,On(this)}),removeOverlay:Mn(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void On(this)}}),indentLine:Mn(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),vt(this.doc,e)&&Di(this,e,t,n)}),indentSelection:Mn(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Di(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Oi(this));else{var o=r.from(),s=r.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)Di(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[i].from().ch>0&&kt(this.doc,i,new ht(o,c[i].to()),Aa)}}}),getTokenAt:function(e,t){return Er(this,e,t)},getLineTokens:function(e,t){return Er(this,Ps(e),t,!0)},getTokenTypeAt:function(e){e=gt(this.doc,e);var t,n=Pr(this,Gr(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=i+r>>1;if((s?n[2*s-1]:0)>=o)r=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}i=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!ea.hasOwnProperty(t))return n;var i=ea[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var s=i[r[t][o]];s&&n.push(s)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(var o=0;o<i._global.length;o++){var a=i._global[o];a.pred(r,this)&&-1==Mo(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=pt(n,null==e?n.first+n.size-1:e),Ht(this,e+1,t)},cursorCoords:function(e,t){var n,i=this.doc.sel.primary();return n=null==e?i.head:"object"==typeof e?gt(this.doc,e):e?i.from():i.to(),dn(this,n,t||"page")},charCoords:function(e,t){return hn(this,gt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=un(this,e,t||"page"),gn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=un(this,{top:e,left:0},t||"page").top,Jr(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,i=!0),n=Gr(this.doc,e)}else n=e;return cn(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-Zr(n):0)},defaultTextHeight:function(){return vn(this.display)},defaultCharWidth:function(){return yn(this.display)},setGutterMarker:Mn(function(e,t,n){return Ri(this.doc,e,"gutter",function(e){var i=e.gutterMarkers||(e.gutterMarkers={});return i[t]=n,!n&&Ro(i)&&(e.gutterMarkers=null),!0})}),clearGutter:Mn(function(e){var t=this,n=t.doc,i=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,In(t,i,"gutter"),Ro(n.gutterMarkers)&&(n.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!vt(this.doc,e))return null;var t=e;if(e=Gr(this.doc,e),!e)return null}else{var t=Qr(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o=this.display;e=dn(this,gt(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==i)s=e.top;else if("above"==i||"near"==i){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>c&&(a=c-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==r?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?a=0:"middle"==r&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Pi(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:Mn(li),triggerOnKeyPress:Mn(hi),triggerOnKeyUp:ui,execCommand:function(e){return ia.hasOwnProperty(e)?ia[e](this):void 0},triggerElectric:Mn(function(e){Z(this,e)}),findPosH:function(e,t,n,i){var r=1;0>t&&(r=-1,t=-t);for(var o=0,s=gt(this.doc,e);t>o&&(s=Fi(this.doc,s,r,n,i),!s.hitSide);++o);return s},moveH:Mn(function(e,t){var n=this;n.extendSelectionsBy(function(i){return n.display.shift||n.doc.extend||i.empty()?Fi(n.doc,i.head,e,t,n.options.rtlMoveVisually):0>e?i.from():i.to()},Pa)}),deleteH:Mn(function(e,t){var n=this.doc.sel,i=this.doc;n.somethingSelected()?i.replaceSelection("",null,"+delete"):$i(this,function(n){var r=Fi(i,n.head,e,t,!1);return 0>e?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(e,t,n,i){var r=1,o=i;0>t&&(r=-1,t=-t);for(var s=0,a=gt(this.doc,e);t>s;++s){var l=dn(this,a,"div");if(null==o?o=l.left:l.left=o,a=Hi(this,l,r,n),a.hitSide)break}return a},moveV:Mn(function(e,t){var n=this,i=this.doc,r=[],o=!n.display.shift&&!i.extend&&i.sel.somethingSelected();if(i.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=dn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),r.push(a.left);var l=Hi(n,a,e,t);return"page"==t&&s==i.sel.primary()&&Ni(n,null,hn(n,l,"div").top-a.top),l},Pa),r.length)for(var s=0;s<i.sel.ranges.length;s++)i.sel.ranges[s].goalColumn=r[s]}),findWordAt:function(e){var t=this.doc,n=Gr(t,e.line).text,i=e.ch,r=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||r==n.length)&&i?--i:++r;for(var s=n.charAt(i),a=Do(s,o)?function(e){return Do(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!Do(e)};i>0&&a(n.charAt(i-1));)--i;for(;r<n.length&&a(n.charAt(r));)++r}return new ht(Ps(e.line,i),Ps(e.line,r))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Wa(this.display.cursorDiv,"CodeMirror-overwrite"):za(this.display.cursorDiv,"CodeMirror-overwrite"),Sa(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==zo()},scrollTo:Mn(function(e,t){(null!=e||null!=t)&&Ii(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-qt(this)-this.display.barHeight,width:e.scrollWidth-qt(this)-this.display.barWidth,clientHeight:Vt(this),clientWidth:Ut(this)}},scrollIntoView:Mn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Ps(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Ii(this),this.curOp.scrollToPos=e;else{var n=ji(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Mn(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var i=this;null!=e&&(i.display.wrapper.style.width=n(e)),null!=t&&(i.display.wrapper.style.height=n(t)),i.options.lineWrapping&&on(this);var r=i.display.viewFrom;i.doc.iter(r,i.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){In(i,r,"widget");break}++r}),i.curOp.forceUpdate=!0,Sa(i,"refresh",this)}),operation:function(e){return En(this,e)},refresh:Mn(function(){var e=this.display.cachedTextHeight;On(this),this.curOp.forceUpdate=!0,sn(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-vn(this.display))>.5)&&s(this),Sa(this,"refresh",this)}),swapDoc:Mn(function(e){var t=this.doc;return t.cm=null,Vr(this,e),sn(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wo(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},So(e);var Gs=e.defaults={},Ys=e.optionHandlers={},Xs=e.Init={toString:function(){return"CodeMirror.Init"}};Bi("value","",function(e,t){e.setValue(t)},!0),Bi("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Bi("indentUnit",2,n,!0),Bi("indentWithTabs",!1),Bi("smartIndent",!0),Bi("tabSize",4,function(e){i(e),sn(e),On(e)},!0),Bi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,i){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),i!=e.Init&&t.refresh()}),Bi("specialCharPlaceholder",Ir,function(e){e.refresh()},!0),Bi("electricChars",!0),Bi("inputStyle",Cs?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Bi("rtlMoveVisually",!Ss),Bi("wholeLineUpdateBefore",!0),Bi("theme","default",function(e){a(e),l(e)},!0),Bi("keyMap","default",function(t,n,i){var r=Wi(n),o=i!=e.Init&&Wi(i);o&&o.detach&&o.detach(t,r),r.attach&&r.attach(t,o||null)}),Bi("extraKeys",null),Bi("lineWrapping",!1,r,!0),Bi("gutters",[],function(e){f(e.options),l(e)},!0),Bi("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?_(e.display)+"px":"0",e.refresh()},!0),Bi("coverGutterNextToScrollbar",!1,function(e){y(e)},!0),Bi("scrollbarStyle","native",function(e){v(e),y(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Bi("lineNumbers",!1,function(e){f(e.options),l(e)},!0),Bi("firstLineNumber",1,l,!0),Bi("lineNumberFormatter",function(e){return e},l,!0),Bi("showCursorWhenSelecting",!1,jt,!0),Bi("resetSelectionOnContextMenu",!0),Bi("lineWiseCopyCut",!0),Bi("readOnly",!1,function(e,t){"nocursor"==t?(pi(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||e.display.input.reset())}),Bi("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Bi("dragDrop",!0,zn),Bi("cursorBlinkRate",530),Bi("cursorScrollMargin",0),Bi("cursorHeight",1,jt,!0),Bi("singleCursorHeightPerLine",!0,jt,!0),Bi("workTime",100),Bi("workDelay",100),Bi("flattenSpans",!0,i,!0),Bi("addModeClass",!1,i,!0),Bi("pollInterval",100),Bi("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Bi("historyEventDelay",1250),Bi("viewportMargin",10,function(e){e.refresh()},!0),Bi("maxHighlightLength",1e4,i,!0),Bi("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Bi("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Bi("autofocus",null);var Ks=e.modes={},Qs=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Ks[t]=n},e.defineMIME=function(e,t){Qs[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Qs.hasOwnProperty(t))t=Qs[t];else if(t&&"string"==typeof t.name&&Qs.hasOwnProperty(t.name)){var n=Qs[t.name];"string"==typeof n&&(n={name:n}),t=No(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),i=Ks[n.name];if(!i)return e.getMode(t,"text/plain");var r=i(t,n);if(Js.hasOwnProperty(n.name)){var o=Js[n.name];for(var s in o)o.hasOwnProperty(s)&&(r.hasOwnProperty(s)&&(r["_"+s]=r[s]),r[s]=o[s])}if(r.name=n.name,n.helperType&&(r.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)r[s]=n.modeProps[s];return r},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Js=e.modeExtensions={};e.extendMode=function(e,t){var n=Js.hasOwnProperty(e)?Js[e]:Js[e]={};Oo(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){va.prototype[e]=t},e.defineOption=Bi;var Zs=[];e.defineInitHook=function(e){Zs.push(e)};var ea=e.helpers={};e.registerHelper=function(t,n,i){ea.hasOwnProperty(t)||(ea[t]=e[t]={_global:[]}),ea[t][n]=i},e.registerGlobalHelper=function(t,n,i,r){e.registerHelper(t,n,r),ea[t]._global.push({pred:i,val:r})};var ta=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},na=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ia=e.commands={selectAll:function(e){e.setSelection(Ps(e.firstLine(),0),Ps(e.lastLine()),Aa)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),Aa)},killLine:function(e){$i(e,function(t){if(t.empty()){var n=Gr(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Ps(t.head.line+1,0)}:{from:t.head,to:Ps(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){$i(e,function(t){return{from:Ps(t.from().line,0),to:gt(e.doc,Ps(t.to().line+1,0))}})},delLineLeft:function(e){$i(e,function(e){return{from:Ps(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){$i(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return{from:i,to:t.from()}})},delWrappedLineRight:function(e){$i(e,function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:i}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Ps(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Ps(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ns(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return rs(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return is(e,t.head.line)
},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Pa)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Pa)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,i=e.coordsChar({left:0,top:n},"div");return i.ch<e.getLine(i.line).search(/\S/)?rs(e,t.head):i},Pa)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),s=ja(e.getLine(o.line),o.ch,i);t.push(new Array(i-s%i+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){En(e,function(){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=Gr(e.doc,r.line).text;if(o)if(r.ch==o.length&&(r=new Ps(r.line,r.ch-1)),r.ch>0)r=new Ps(r.line,r.ch+1),e.replaceRange(o.charAt(r.ch-1)+o.charAt(r.ch-2),Ps(r.line,r.ch-2),r,"+transpose");else if(r.line>e.doc.first){var s=Gr(e.doc,r.line-1).text;s&&e.replaceRange(o.charAt(0)+"\n"+s.charAt(s.length-1),Ps(r.line-1,s.length-1),Ps(r.line,1),"+transpose")}n.push(new ht(r,r))}e.setSelections(n)})},newlineAndIndent:function(e){En(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var i=e.listSelections()[n];e.replaceRange("\n",i.anchor,i.head,"+input"),e.indentLine(i.from().line+1,null,!0),Oi(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},ra=e.keyMap={};ra.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ra.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ra.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},ra.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ra["default"]=_s?ra.macDefault:ra.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=Po(n.split(" "),zi),o=0;o<r.length;o++){var s,a;o==r.length-1?(a=r.join(" "),s=i):(a=r.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var c in t)e[c]=t[c];return e};var oa=e.lookupKey=function(e,t,n,i){t=Wi(t);var r=t.call?t.call(e,i):t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return oa(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var s=oa(e,t.fallthrough[o],n,i);if(s)return s}}},sa=e.isModifierKey=function(e){var t="string"==typeof e?e:Ka[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},aa=e.keyName=function(e,t){if(ys&&34==e.keyCode&&e["char"])return!1;var n=Ka[e.keyCode],i=n;return null==i||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(Ls?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(Ls?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};e.fromTextArea=function(t,n){function i(){t.value=c.getValue()}if(n=n?Oo(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var r=zo();n.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}if(t.form&&(Ca(t.form,"submit",i),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){i(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}n.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(_a(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c};var la=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};la.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ja(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ja(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ja(this.string,null,this.tabSize)-(this.lineStart?ja(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&t!==!1&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return r(o)==r(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ca=0,ua=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ca};So(ua),ua.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&bn(e),_o(this,"clear")){var n=this.find();n&&wo(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=Ki(s.markedSpans,this);e&&!this.collapsed?In(e,Qr(s),"text"):e&&(null!=a.to&&(r=Qr(s)),null!=a.from&&(i=Qr(s))),s.markedSpans=Qi(s.markedSpans,a),null==a.from&&this.collapsed&&!yr(this.doc,s)&&e&&Kr(s,vn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=pr(this.lines[o]),c=h(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&On(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&At(e.doc)),e&&wo(e,"markerCleared",e,this),t&&xn(e),this.parent&&this.parent.clear()}},ua.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,i,r=0;r<this.lines.length;++r){var o=this.lines[r],s=Ki(o.markedSpans,this);if(null!=s.from&&(n=Ps(t?o:Qr(o),s.from),-1==e))return n;if(null!=s.to&&(i=Ps(t?o:Qr(o),s.to),1==e))return i}return n&&{from:n,to:i}},ua.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&En(n,function(){var i=e.line,r=Qr(e.line),o=Qt(n,r);if(o&&(rn(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!yr(t.doc,i)&&null!=t.height){var s=t.height;t.height=null;var a=xr(t)-s;a&&Kr(i,i.height+a)}})},ua.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Mo(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ua.prototype.detachLine=function(e){if(this.lines.splice(Mo(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var ca=0,ha=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};So(ha),ha.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wo(this,"clear")}},ha.prototype.find=function(e,t){return this.primary.find(e,t)};var da=e.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};So(da),da.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=Qr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=xr(this);Kr(n,Math.max(0,n.height-o)),e&&En(e,function(){wr(e,n,-o),In(e,i,"widget")})}},da.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=xr(this)-e;i&&(Kr(n,n.height+i),t&&En(t,function(){t.curOp.forceUpdate=!0,wr(t,n,i)}))};var fa=e.Line=function(e,t,n){this.text=e,sr(this,t),this.height=n?n(this):1};So(fa),fa.prototype.lineNo=function(){return Qr(this)};var pa={},ga={};Wr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;i>n;++n){var r=this.lines[n];this.height-=r.height,_r(r),wo(r,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;i>e;++e)if(n(this.lines[e]))return!0}},qr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(r>e){var o=Math.min(t,r-e),s=i.height;if(i.removeInner(e,o),this.height-=s-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Wr))){var a=[];this.collapse(a),this.children=[new Wr(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>=e){if(r.insertInner(e,t,n),r.lines&&r.lines.length>50){for(;r.lines.length>50;){var s=r.lines.splice(r.lines.length-25,25),a=new Wr(s);r.height-=a.height,this.children.splice(i+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new qr(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Mo(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new qr(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(o>e){var s=Math.min(t,o-e);if(r.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var ma=0,va=e.Doc=function(e,t,n){if(!(this instanceof va))return new va(e,t,n);null==n&&(n=0),qr.call(this,[new Wr([new fa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Ps(n,0);this.sel=ft(i),this.history=new to(null),this.id=++ma,this.modeOption=t,"string"==typeof e&&(e=Va(e)),zr(this,{from:i,to:i,text:e}),Tt(this,ft(i),Aa)};va.prototype=No(qr.prototype,{constructor:va,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Xr(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:Pn(function(e){var t=Ps(this.first,0),n=this.first+this.size-1;ki(this,{from:t,to:Ps(n,Gr(this,n).text.length),text:Va(e),origin:"setValue",full:!0},!0),Tt(this,ft(t))}),replaceRange:function(e,t,n,i){t=gt(this,t),n=n?gt(this,n):t,Ei(this,e,t,n,i)},getRange:function(e,t,n){var i=Yr(this,gt(this,e),gt(this,t));return n===!1?i:i.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return vt(this,e)?Gr(this,e):void 0},getLineNumber:function(e){return Qr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Gr(this,e)),pr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return gt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Pn(function(e,t,n){Ct(this,gt(this,"number"==typeof e?Ps(e,t||0):e),null,n)}),setSelection:Pn(function(e,t,n){Ct(this,gt(this,e),gt(this,t||e),n)}),extendSelection:Pn(function(e,t,n){wt(this,gt(this,e),t&&gt(this,t),n)}),extendSelections:Pn(function(e,t){xt(this,yt(this,e,t))}),extendSelectionsBy:Pn(function(e,t){xt(this,Po(this.sel.ranges,e),t)}),setSelections:Pn(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new ht(gt(this,e[i].anchor),gt(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Tt(this,dt(r,t),n)}}),addSelection:Pn(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new ht(gt(this,e),gt(this,t||e))),Tt(this,dt(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=Yr(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=Yr(this,n[i].from(),n[i].to());e!==!1&&(r=r.join(e||"\n")),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Pn(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var s=r.ranges[o];i[o]={from:s.from(),to:s.to(),text:Va(e[o]),origin:n}}for(var a=t&&"end"!=t&&wi(this,i,t),o=i.length-1;o>=0;o--)ki(this,i[o]);a?St(this,a):this.cm&&Oi(this.cm)}),undo:Pn(function(){_i(this,"undo")}),redo:Pn(function(){_i(this,"redo")}),undoSelection:Pn(function(){_i(this,"undo",!0)}),redoSelection:Pn(function(){_i(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new to(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:fo(this.history.done),undone:fo(this.history.undone)}},setHistory:function(e){var t=this.history=new to(this.history.maxGeneration);t.done=fo(e.done.slice(0),null,!0),t.undone=fo(e.undone.slice(0),null,!0)},addLineClass:Pn(function(e,t,n){return Ri(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[i]){if(Wo(n).test(e[i]))return!1;e[i]+=" "+n}else e[i]=n;return!0})}),removeLineClass:Pn(function(e,t,n){return Ri(this,e,"gutter"==t?"gutter":"class",function(e){var i="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",r=e[i];if(!r)return!1;if(null==n)e[i]=null;else{var o=r.match(Wo(n));if(!o)return!1;var s=o.index+o[0].length;e[i]=r.slice(0,o.index)+(o.index&&s!=r.length?" ":"")+r.slice(s)||null}return!0})}),addLineWidget:Pn(function(e,t,n){return kr(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return qi(this,gt(this,e),gt(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=gt(this,e),qi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=gt(this,e);var t=[],n=Gr(this,e.line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(e,t,n){e=gt(this,e),t=gt(this,t);var i=[],r=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];r==e.line&&e.ch>l.to||null==l.from&&r!=e.line||r==t.line&&l.from>t.ch||n&&!n(l.marker)||i.push(l.marker.parent||l.marker)}++r}),i},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var i=0;i<n.length;++i)null!=n[i].from&&e.push(n[i].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(i){var r=i.text.length+1;return r>e?(t=e,!0):(e-=r,void++n)}),gt(this,Ps(n,t))},indexFromPos:function(e){e=gt(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new va(Xr(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new va(Xr(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Gi(i,Vi(this)),i},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var i=this.linked[n];if(i.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Yi(Vi(this));break}}if(t.history==this.history){var r=[t.id];Ur(t,function(e){r.push(e.id)},!0),t.history=new to(null),t.history.done=fo(this.history.done,r),t.history.undone=fo(this.history.undone,r)}},iterLinkedDocs:function(e){Ur(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),va.prototype.eachLine=va.prototype.iter;var ya="iter insert remove copy getEditor".split(" ");for(var ba in va.prototype)va.prototype.hasOwnProperty(ba)&&Mo(ya,ba)<0&&(e.prototype[ba]=function(e){return function(){return e.apply(this.doc,arguments)}}(va.prototype[ba]));So(va);var wa=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},xa=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ka=e.e_stop=function(e){wa(e),xa(e)},Ca=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={}),r=i[t]||(i[t]=[]);r.push(n)}},_a=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var i=e._handlers&&e._handlers[t];if(!i)return;for(var r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}}},Sa=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Ta=null,La=30,Ea=e.Pass={toString:function(){return"CodeMirror.Pass"}},Aa={scroll:!1},Ma={origin:"*mouse"},Pa={origin:"+move"};To.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ja=e.countColumn=function(e,t,n,i,r){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=i||0,s=r||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},Na=[""],Oa=function(e){e.select()};ks?Oa=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:fs&&(Oa=function(e){try{e.select()}catch(t){}});var Ia,Da=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ra=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Da.test(e))},$a=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ia=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(r){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var Fa=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};fs&&11>ps&&(zo=function(){try{return document.activeElement}catch(e){return document.body}});var Ha,Ba,za=e.rmClass=function(e,t){var n=e.className,i=Wo(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Wa=e.addClass=function(e,t){var n=e.className;Wo(t).test(n)||(e.className+=(n?" ":"")+t)},qa=!1,Ua=function(){if(fs&&9>ps)return!1;var e=Fo("div");return"draggable"in e||"dragDrop"in e}(),Va=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;i>=t;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ga=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Ya=function(){var e=Fo("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Xa=null,Ka={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Ka,function(){for(var e=0;10>e;e++)Ka[e+48]=Ka[e+96]=String(e);for(var e=65;90>=e;e++)Ka[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Ka[e+111]=Ka[e+63235]="F"+e}();var Qa,Ja=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?i.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",i="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!r.test(n))return!1;for(var i,u=n.length,h=[],d=0;u>d;++d)h.push(i=e(n.charCodeAt(d)));for(var d=0,f=c;u>d;++d){var i=h[d];"m"==i?h[d]=f:f=i}for(var d=0,p=c;u>d;++d){var i=h[d];"1"==i&&"r"==p?h[d]="n":s.test(i)&&(p=i,"r"==i&&(h[d]="R"))}for(var d=1,f=h[0];u-1>d;++d){var i=h[d];"+"==i&&"1"==f&&"1"==h[d+1]?h[d]="1":","!=i||f!=h[d+1]||"1"!=f&&"n"!=f||(h[d]=f),f=i}for(var d=0;u>d;++d){var i=h[d];if(","==i)h[d]="N";else if("%"==i){for(var g=d+1;u>g&&"%"==h[g];++g);for(var m=d&&"!"==h[d-1]||u>g&&"1"==h[g]?"1":"N",v=d;g>v;++v)h[v]=m;d=g-1}}for(var d=0,p=c;u>d;++d){var i=h[d];"L"==p&&"1"==i?h[d]="L":s.test(i)&&(p=i)}for(var d=0;u>d;++d)if(o.test(h[d])){for(var g=d+1;u>g&&o.test(h[g]);++g);for(var y="L"==(d?h[d-1]:c),b="L"==(u>g?h[g]:c),m=y||b?"L":"R",v=d;g>v;++v)h[v]=m;d=g-1}for(var w,x=[],d=0;u>d;)if(a.test(h[d])){var k=d;for(++d;u>d&&a.test(h[d]);++d);x.push(new t(0,k,d))}else{var C=d,_=x.length;for(++d;u>d&&"L"!=h[d];++d);for(var v=C;d>v;)if(l.test(h[v])){v>C&&x.splice(_,0,new t(1,C,v));var S=v;for(++v;d>v&&l.test(h[v]);++v);x.splice(_,0,new t(2,S,v)),C=v}else++v;d>C&&x.splice(_,0,new t(1,C,d))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==Ao(x).level&&(w=n.match(/\s+$/))&&(Ao(x).to-=w[0].length,x.push(new t(0,u-w[0].length,u))),2==x[0].level&&x.unshift(new t(1,x[0].to,x[0].to)),x[0].level!=Ao(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="5.3.0",e})},{}],76:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e,t){function n(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function i(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var i=e.indentation();return i>n&&"coffee"==t.scope.type?"indent":n>i?"dedent":null}n>0&&a(e,t)}if(e.eatSpace())return null;var s=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=o,t.tokenize(e,t);if("#"===s)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var l=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(l=!0),e.match(/^-?\d+\.\d*/)&&(l=!0),e.match(/^-?\.\d+/)&&(l=!0),l)return"."==e.peek()&&e.backUp(1),"number";var g=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(g=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(g=!0),e.match(/^-?0(?![\dx])/i)&&(g=!0),g)return"number"}if(e.match(y))return t.tokenize=r(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(b)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=r(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(u)||e.match(p)?"operator":e.match(h)?"punctuation":e.match(x)?"atom":e.match(v)?"keyword":e.match(d)?"variable":e.match(f)?"property":(e.next(),c)}function r(e,n,r){return function(o,s){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),n&&o.eol())return r}else{if(o.match(e))return s.tokenize=i,r;o.eat(/['"\/]/)}return n&&(t.singleLineStringErrors?r=c:s.tokenize=i),r}}function o(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=i;break}e.eatWhile("#")}return"comment"}function s(t,n,i){i=i||"coffee";for(var r=0,o=!1,s=null,a=n.scope;a;a=a.prev)if("coffee"===a.type||"}"==a.type){r=a.offset+e.indentUnit;break}"coffee"!==i?(o=null,s=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:r,type:i,prev:n.scope,align:o,alignOffset:s}}function a(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),i=!1,r=t.scope;r;r=r.prev)if(n===r.offset){i=!0;break}if(!i)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function l(e,t){var n=t.tokenize(e,t),i=e.current();if("."===i)return n=t.tokenize(e,t),i=e.current(),/^\.[\w$]+$/.test(i)?"variable":c;"return"===i&&(t.dedent=!0),("->"!==i&&"=>"!==i||t.lambda||e.peek())&&"indent"!==n||s(e,t);var r="[({".indexOf(i);if(-1!==r&&s(e,t,"])}".slice(r,r+1)),g.exec(i)&&s(e,t),"then"==i&&a(e,t),"dedent"===n&&a(e,t))return c;if(r="])}".indexOf(i),-1!==r){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==i&&(t.scope=t.scope.prev)}return t.dedent&&e.eol()&&("coffee"==t.scope.type&&t.scope.prev&&(t.scope=t.scope.prev),t.dedent=!1),n}var c="error",u=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,h=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,d=/^[_A-Za-z$][_A-Za-z$0-9]*/,f=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,p=n(["and","or","not","is","isnt","in","instanceof","typeof"]),g=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],m=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],v=n(g.concat(m));
g=n(g);var y=/^('{3}|\"{3}|['\"])/,b=/^(\/{3}|\/)/,w=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],x=n(w),k={startState:function(e){return{tokenize:i,scope:{offset:e||0,type:"coffee",prev:null,align:!1},lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var i=l(e,t);return n&&i&&"comment"!=i&&(n.align=!0),t.lastToken={style:i,content:e.current()},e.eol()&&e.lambda&&(t.lambda=!1),i},indent:function(e,t){if(e.tokenize!=i)return 0;var n=e.scope,r=t&&"])}".indexOf(t.charAt(0))>-1;if(r)for(;"coffee"==n.type&&n.prev;)n=n.prev;var o=r&&n.type===t.charAt(0);return n.align?n.alignOffset-(o?1:0):(o?n.prev:n).offset},lineComment:"#",fold:"indent"};return k}),e.defineMIME("text/x-coffeescript","coffeescript")})},{"../../lib/codemirror":75}],77:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function i(e,t){return f=t,e}function r(e,t){var n=e.next();if(m[n]){var r=m[n](e,t);if(r!==!1)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),i("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?i(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),i("atom","hash")):"!"==n?(e.match(/^\s*\w*/),i("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),i("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?i(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?i("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?i(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,i("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),i("property","word")):i(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),i("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?i("variable-2","variable-definition"):i("variable-2","variable")):e.match(/^\w+-/)?i("meta","meta"):void 0}function o(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),i("string","string")}}function s(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),i(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new a(n,t.indentation()+g,e.context),n}function c(e){return e.context=e.context.prev,e.context.type}function u(e,t,n){return L[n.context.type](e,t,n)}function h(e,t,n,i){for(var r=i||1;r>0;r--)n.context=n.context.prev;return u(e,t,n)}function d(e){var t=e.current().toLowerCase();p=S.hasOwnProperty(t)?"atom":_.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var f,p,g=t.indentUnit,m=n.tokenHooks,v=n.documentTypes||{},y=n.mediaTypes||{},b=n.mediaFeatures||{},w=n.propertyKeywords||{},x=n.nonStandardPropertyKeywords||{},k=n.fontProperties||{},C=n.counterDescriptors||{},_=n.colorKeywords||{},S=n.valueKeywords||{},T=n.allowNested,L={};return L.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if(/@(media|supports|(-moz-)?document)/.test(e))return l(n,t,"atBlock");if(/@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)p="builtin";else if("word"==e)p="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(T&&"("==e)return l(n,t,"parens")}return n.context.type},L.block=function(e,t,n){if("word"==e){var i=t.current().toLowerCase();return w.hasOwnProperty(i)?(p="property","maybeprop"):x.hasOwnProperty(i)?(p="string-2","maybeprop"):T?(p=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(p+=" error","maybeprop")}return"meta"==e?"block":T||"hash"!=e&&"qualifier"!=e?L.top(e,t,n):(p="error","block")},L.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},L.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&T)return l(n,t,"propBlock");if("}"==e||"{"==e)return h(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(n,t,"interpolation")}else p+=" error";return"prop"},L.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(p="property","maybeprop"):n.context.type},L.parens=function(e,t,n){return"{"==e||"}"==e?h(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&d(t),"parens")},L.pseudo=function(e,t,n){return"word"==e?(p="variable-3",n.context.type):u(e,t,n)},L.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e)return h(e,t,n);if("{"==e)return c(n)&&l(n,t,T?"block":"top");if("word"==e){var i=t.current().toLowerCase();p="only"==i||"not"==i||"and"==i||"or"==i?"keyword":v.hasOwnProperty(i)?"tag":y.hasOwnProperty(i)?"attribute":b.hasOwnProperty(i)?"property":w.hasOwnProperty(i)?"property":x.hasOwnProperty(i)?"string-2":S.hasOwnProperty(i)?"atom":"error"}return n.context.type},L.atBlock_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?h(e,t,n,2):L.atBlock(e,t,n)},L.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(p="variable","restricted_atBlock_before"):u(e,t,n)},L.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,c(n)):"word"==e?(p="@font-face"==n.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!C.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},L.keyframes=function(e,t,n){return"word"==e?(p="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},L.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?h(e,t,n):("word"==e?p="tag":"hash"==e&&(p="builtin"),"at")},L.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?h(e,t,n):("word"==e?p="variable":"variable"!=e&&"("!=e&&")"!=e&&(p="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",stateArg:null,context:new a("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||r)(e,t);return n&&"object"==typeof n&&(f=n[1],n=n[0]),p=n,t.state=L[t.state](f,e,t),p},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),!n.prev||("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type)&&(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=n.indent-g,n=n.prev),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["domain","regexp","url","url-prefix"],r=t(i),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],l=t(a),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=t(c),h=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=t(h),f=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],p=t(f),g=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],m=t(g),v=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],y=t(v),b=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scale","scale3d","scaleX","scaleY","scaleZ","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","x-large","x-small","xor","xx-large","xx-small"],w=t(b),x=i.concat(o).concat(a).concat(c).concat(h).concat(v).concat(b);e.registerHelper("hintWords","css",x),e.defineMIME("text/css",{documentTypes:r,mediaTypes:s,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:d,fontProperties:p,counterDescriptors:m,colorKeywords:y,valueKeywords:w,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:d,colorKeywords:y,valueKeywords:w,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,propertyKeywords:u,nonStandardPropertyKeywords:d,colorKeywords:y,valueKeywords:w,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})})},{"../../lib/codemirror":75}],78:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../htmlmixed/htmlmixed"),e("../../addon/mode/multiplex")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("htmlembedded",function(t,n){return e.multiplexingMode(e.getMode(t,"htmlmixed"),{open:n.open||n.scriptStartRegex||"<%",close:n.close||n.scriptEndRegex||"%>",mode:e.getMode(t,n.scriptingModeSpec)})},"htmlmixed"),e.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),e.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),e.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),e.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})})},{"../../addon/mode/multiplex":74,"../../lib/codemirror":75,"../htmlmixed/htmlmixed":79}],79:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror"),e("../xml/xml"),e("../javascript/javascript"),e("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function i(e,t){var n=t.htmlState.tagName;n&&(n=n.toLowerCase());var i=a.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(i)&&">"==e.current()){var r=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);r=r?r[1]:"",r&&/[\"\']/.test(r.charAt(0))&&(r=r.slice(1,r.length-1));for(var u=0;u<c.length;++u){var h=c[u];if("string"==typeof h.matches?r==h.matches:h.matches.test(r)){h.mode&&(t.token=o,t.localMode=h.mode,t.localState=h.mode.startState&&h.mode.startState(a.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(i)&&">"==e.current()&&(t.token=s,t.localMode=l,t.localState=l.startState(a.indent(t.htmlState,"")));return i}function r(e,t,n){var i=e.current(),r=i.search(t);return r>-1?e.backUp(i.length-r):i.match(/<\/?$/)&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function o(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=i,t.localState=t.localMode=null,null):r(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function s(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=i,t.localState=t.localMode=null,null):r(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var a=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),c=[],u=n&&n.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),u)for(var h=0;h<u.length;++h){var d=u[h];c.push({matches:d.matches,mode:d.mode&&e.getMode(t,d.mode)})}return c.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=a.startState();return{token:i,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?a.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},{"../../lib/codemirror":75,"../css/css":77,"../javascript/javascript":80,"../xml/xml":85}],80:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function i(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}function r(e,t,n){return mt=e,vt=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=s(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return r("number","number");if("."==n&&e.match(".."))return r("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return r(n);if("="==n&&e.eat(">"))return r("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),r("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),r("number","number");if("/"==n)return e.eat("*")?(t.tokenize=a,a(e,t)):e.eat("/")?(e.skipToEnd(),r("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(i(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),r("regexp","string-2")):(e.eatWhile(St),r("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),r("error","error");if(St.test(n))return e.eatWhile(St),r("operator","operator",e.current());if(Ct.test(n)){e.eatWhile(Ct);var o=e.current(),c=_t.propertyIsEnumerable(o)&&_t[o];return c&&"."!=t.lastType?r(c.type,c.style,o):r("variable","variable",o)}}function s(e){return function(t,n){var i,s=!1;if(wt&&"@"==t.peek()&&t.match(Tt))return n.tokenize=o,r("jsonld-keyword","meta");for(;null!=(i=t.next())&&(i!=e||s);)s=!s&&"\\"==i;return s||(n.tokenize=o),r("string","string")}}function a(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=o;break}i="*"==n}return r("comment","comment")}function l(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}i=!i&&"\\"==n}return r("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var i=0,r=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=Lt.indexOf(s);if(a>=0&&3>a){if(!i){++o;break}if(0==--i)break}else if(a>=3&&6>a)++i;else if(Ct.test(s))r=!0;else{if(/["'\/]/.test(s))return;if(r&&!i){++o;break}}}r&&!i&&(t.fatArrowAt=o)}}function u(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(var n=i.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,i,r){var o=e.cc;for(At.state=e,At.stream=r,At.marked=null,At.cc=o,At.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():xt?k:x;if(s(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return At.marked?At.marked:"variable"==n&&h(e,i)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)At.cc.push(arguments[e])}function p(){return f.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var i=At.state;if(i.context){if(At.marked="def",t(i.localVars))return;i.localVars={name:e,next:i.localVars}}else{if(t(i.globalVars))return;n.globalVars&&(i.globalVars={name:e,next:i.globalVars})}}function m(){At.state.context={prev:At.state.context,vars:At.state.localVars},At.state.localVars=Mt}function v(){At.state.localVars=At.state.context.vars,At.state.context=At.state.context.prev}function y(e,t){var n=function(){var n=At.state,i=n.indented;if("stat"==n.lexical.type)i=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)i=r.indented;n.lexical=new u(i,At.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=At.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?p():";"==e?f():p(t)}return t}function x(e,t){return"var"==e?p(y("vardef",t.length),W,w(";"),b):"keyword a"==e?p(y("form"),k,x,b):"keyword b"==e?p(y("form"),x,b):"{"==e?p(y("}"),H,b):";"==e?p():"if"==e?("else"==At.state.lexical.info&&At.state.cc[At.state.cc.length-1]==b&&At.state.cc.pop()(),p(y("form"),k,x,b,Y)):"function"==e?p(et):"for"==e?p(y("form"),X,x,b):"variable"==e?p(y("stat"),N):"switch"==e?p(y("form"),k,y("}","switch"),w("{"),H,b,b):"case"==e?p(k,w(":")):"default"==e?p(w(":")):"catch"==e?p(y("form"),m,w("("),tt,w(")"),x,b,v):"module"==e?p(y("form"),m,st,v,b):"class"==e?p(y("form"),nt,b):"export"==e?p(y("form"),at,b):"import"==e?p(y("form"),lt,b):f(y("stat"),k,w(";"),b)}function k(e){return _(e,!1)}function C(e){return _(e,!0)}function _(e,t){if(At.state.fatArrowAt==At.stream.start){var n=t?j:P;if("("==e)return p(m,y(")"),$(q,")"),b,w("=>"),n,v);if("variable"==e)return f(m,q,w("=>"),n,v)}var i=t?E:L;return Et.hasOwnProperty(e)?p(i):"function"==e?p(et,i):"keyword c"==e?p(t?T:S):"("==e?p(y(")"),S,pt,w(")"),b,i):"operator"==e||"spread"==e?p(t?C:k):"["==e?p(y("]"),dt,b,i):"{"==e?F(I,"}",null,i):"quasi"==e?f(A,i):p()}function S(e){return e.match(/[;\}\)\],]/)?f():f(k)}function T(e){return e.match(/[;\}\)\],]/)?f():f(C)}function L(e,t){return","==e?p(k):E(e,t,!1)}function E(e,t,n){var i=0==n?L:E,r=0==n?k:C;return"=>"==e?p(m,n?j:P,v):"operator"==e?/\+\+|--/.test(t)?p(i):"?"==t?p(k,w(":"),r):p(r):"quasi"==e?f(A,i):";"!=e?"("==e?F(C,")","call",i):"."==e?p(O,i):"["==e?p(y("]"),S,w("]"),b,i):void 0:void 0
}function A(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?p(A):p(k,M)}function M(e){return"}"==e?(At.marked="string-2",At.state.tokenize=l,p(A)):void 0}function P(e){return c(At.stream,At.state),f("{"==e?x:k)}function j(e){return c(At.stream,At.state),f("{"==e?x:C)}function N(e){return":"==e?p(b,x):f(L,w(";"),b)}function O(e){return"variable"==e?(At.marked="property",p()):void 0}function I(e,t){return"variable"==e||"keyword"==At.style?(At.marked="property",p("get"==t||"set"==t?D:R)):"number"==e||"string"==e?(At.marked=wt?"property":At.style+" property",p(R)):"jsonld-keyword"==e?p(R):"["==e?p(k,w("]"),R):void 0}function D(e){return"variable"!=e?f(R):(At.marked="property",p(et))}function R(e){return":"==e?p(C):"("==e?f(et):void 0}function $(e,t){function n(i){if(","==i){var r=At.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),p(e,n)}return i==t?p():p(w(t))}return function(i){return i==t?p():f(e,n)}}function F(e,t,n){for(var i=3;i<arguments.length;i++)At.cc.push(arguments[i]);return p(y(t,n),$(e,t),b)}function H(e){return"}"==e?p():f(x,H)}function B(e){return kt&&":"==e?p(z):void 0}function z(e){return"variable"==e?(At.marked="variable-3",p()):void 0}function W(){return f(q,B,V,G)}function q(e,t){return"variable"==e?(g(t),p()):"["==e?F(q,"]"):"{"==e?F(U,"}"):void 0}function U(e,t){return"variable"!=e||At.stream.match(/^\s*:/,!1)?("variable"==e&&(At.marked="property"),p(w(":"),q,V)):(g(t),p(V))}function V(e,t){return"="==t?p(C):void 0}function G(e){return","==e?p(W):void 0}function Y(e,t){return"keyword b"==e&&"else"==t?p(y("form","else"),x,b):void 0}function X(e){return"("==e?p(y(")"),K,w(")"),b):void 0}function K(e){return"var"==e?p(W,w(";"),J):";"==e?p(J):"variable"==e?p(Q):f(k,w(";"),J)}function Q(e,t){return"in"==t||"of"==t?(At.marked="keyword",p(k)):p(L,J)}function J(e,t){return";"==e?p(Z):"in"==t||"of"==t?(At.marked="keyword",p(k)):f(k,w(";"),Z)}function Z(e){")"!=e&&p(k)}function et(e,t){return"*"==t?(At.marked="keyword",p(et)):"variable"==e?(g(t),p(et)):"("==e?p(m,y(")"),$(tt,")"),b,x,v):void 0}function tt(e){return"spread"==e?p(tt):f(q,B)}function nt(e,t){return"variable"==e?(g(t),p(it)):void 0}function it(e,t){return"extends"==t?p(k,it):"{"==e?p(y("}"),rt,b):void 0}function rt(e,t){return"variable"==e||"keyword"==At.style?"static"==t?(At.marked="keyword",p(rt)):(At.marked="property","get"==t||"set"==t?p(ot,et,rt):p(et,rt)):"*"==t?(At.marked="keyword",p(rt)):";"==e?p(rt):"}"==e?p():void 0}function ot(e){return"variable"!=e?f():(At.marked="property",p())}function st(e,t){return"string"==e?p(x):"variable"==e?(g(t),p(ht)):void 0}function at(e,t){return"*"==t?(At.marked="keyword",p(ht,w(";"))):"default"==t?(At.marked="keyword",p(k,w(";"))):f(x)}function lt(e){return"string"==e?p():f(ct,ht)}function ct(e,t){return"{"==e?F(ct,"}"):("variable"==e&&g(t),"*"==t&&(At.marked="keyword"),p(ut))}function ut(e,t){return"as"==t?(At.marked="keyword",p(ct)):void 0}function ht(e,t){return"from"==t?(At.marked="keyword",p(k)):void 0}function dt(e){return"]"==e?p():f(C,ft)}function ft(e){return"for"==e?f(pt,w("]")):","==e?p($(T,"]")):f($(C,"]"))}function pt(e){return"for"==e?p(X,pt):"if"==e?p(k,pt):void 0}function gt(e,t){return"operator"==e.lastType||","==e.lastType||St.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var mt,vt,yt=t.indentUnit,bt=n.statementIndent,wt=n.jsonld,xt=n.json||wt,kt=n.typescript,Ct=n.wordCharacters||/[\w$\xa1-\uffff]/,_t=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":i,"break":i,"continue":i,"new":i,"delete":i,"throw":i,"debugger":i,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":r,"typeof":r,"instanceof":r,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":i,"export":e("export"),"import":e("import"),"extends":i};if(kt){var a={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:a,number:a,bool:a,any:a};for(var c in l)s[c]=l[c]}return s}(),St=/[+\-*&%=<>!?|~^]/,Tt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Lt="([{}])",Et={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},At={state:null,column:null,marked:null,cc:null},Mt={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new u((e||0)-yt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=a&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==mt?n:(t.lastType="operator"!=mt||"++"!=vt&&"--"!=vt?mt:"incdec",d(t,n,mt,vt,e))},indent:function(t,i){if(t.tokenize==a)return e.Pass;if(t.tokenize!=o)return 0;var r=i&&i.charAt(0),s=t.lexical;if(!/^\s*else\b/.test(i))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==b)s=s.prev;else if(c!=Y)break}"stat"==s.type&&"}"==r&&(s=s.prev),bt&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var u=s.type,h=r==u;return"vardef"==u?s.indented+("operator"==t.lastType||","==t.lastType?s.info+1:0):"form"==u&&"{"==r?s.indented:"form"==u?s.indented+yt:"stat"==u?s.indented+(gt(t,i)?bt||yt:0):"switch"!=s.info||h||0==n.doubleIndentSwitch?s.align?s.column+(h?0:1):s.indented+(h?0:yt):s.indented+(/^(?:case|default)\b/.test(i)?yt:2*yt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:xt?null:"/*",blockCommentEnd:xt?null:"*/",lineComment:xt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:xt?"json":"javascript",jsonldMode:wt,jsonMode:xt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},{"../../lib/codemirror":75}],81:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e){return e.scopes[e.scopes.length-1]}var i=t(["and","or","not","is"]),r=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],o=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"],s={builtins:["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"],keywords:["exec","print"]},a={builtins:["ascii","bytes","exec","print"],keywords:["nonlocal","False","True","None"]};e.registerHelper("hintWords","python",r.concat(o)),e.defineMode("python",function(l,c){function u(e,t){if(e.sol()&&"py"==n(t).type){var i=n(t).offset;if(e.eatSpace()){var r=e.indentation();return r>i?f(e,t,"py"):i>r&&p(e,t)&&(t.errorToken=!0),null}var o=h(e,t);return i>0&&p(e,t)&&(o+=" "+m),o}return h(e,t)}function h(e,t){if(e.eatSpace())return null;var n=e.peek();if("#"==n)return e.skipToEnd(),"comment";if(e.match(/^[0-9\.]/,!1)){var r=!1;if(e.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(r=!0),e.match(/^\d+\.\d*/)&&(r=!0),e.match(/^\.\d+/)&&(r=!0),r)return e.eat(/J/i),"number";var o=!1;if(e.match(/^0x[0-9a-f]+/i)&&(o=!0),e.match(/^0b[01]+/i)&&(o=!0),e.match(/^0o[0-7]+/i)&&(o=!0),e.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(e.eat(/J/i),o=!0),e.match(/^0(?![\dx])/i)&&(o=!0),o)return e.eat(/L/i),"number"}return e.match(T)?(t.tokenize=d(e.current()),t.tokenize(e,t)):e.match(w)||e.match(b)?null:e.match(y)||e.match(x)?"operator":e.match(v)?null:e.match(L)||e.match(i)?"keyword":e.match(E)?"builtin":e.match(/^(self|cls)\b/)?"variable-2":e.match(k)?"def"==t.lastToken||"class"==t.lastToken?"def":"variable":(e.next(),m)}function d(e){function t(t,r){for(;!t.eol();)if(t.eatWhile(/[^'"\\]/),t.eat("\\")){if(t.next(),n&&t.eol())return i}else{if(t.match(e))return r.tokenize=u,i;t.eat(/['"]/)}if(n){if(c.singleLineStringErrors)return m;r.tokenize=u}return i}for(;"rub".indexOf(e.charAt(0).toLowerCase())>=0;)e=e.substr(1);var n=1==e.length,i="string";return t.isString=!0,t}function f(e,t,i){var r=0,o=null;if("py"==i)for(;"py"!=n(t).type;)t.scopes.pop();r=n(t).offset+("py"==i?l.indentUnit:C),"py"==i||e.match(/^(\s|#.*)*$/,!1)||(o=e.column()+1),t.scopes.push({offset:r,type:i,align:o})}function p(e,t){for(var i=e.indentation();n(t).offset>i;){if("py"!=n(t).type)return!0;t.scopes.pop()}return n(t).offset!=i}function g(e,t){var i=t.tokenize(e,t),r=e.current();if("."==r)return i=e.match(k,!1)?null:m,null==i&&"meta"==t.lastStyle&&(i="meta"),i;if("@"==r)return c.version&&3==parseInt(c.version,10)?e.match(k,!1)?"meta":"operator":e.match(k,!1)?"meta":m;"variable"!=i&&"builtin"!=i||"meta"!=t.lastStyle||(i="meta"),("pass"==r||"return"==r)&&(t.dedent+=1),"lambda"==r&&(t.lambda=!0),":"!=r||t.lambda||"py"!=n(t).type||f(e,t,"py");var o=1==r.length?"[({".indexOf(r):-1;if(-1!=o&&f(e,t,"])}".slice(o,o+1)),o="])}".indexOf(r),-1!=o){if(n(t).type!=r)return m;t.scopes.pop()}return t.dedent>0&&e.eol()&&"py"==n(t).type&&(t.scopes.length>1&&t.scopes.pop(),t.dedent-=1),i}var m="error",v=c.singleDelimiters||new RegExp("^[\\(\\)\\[\\]\\{\\}@,:`=;\\.]"),y=c.doubleOperators||new RegExp("^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(//)|(\\*\\*))"),b=c.doubleDelimiters||new RegExp("^((\\+=)|(\\-=)|(\\*=)|(%=)|(/=)|(&=)|(\\|=)|(\\^=))"),w=c.tripleDelimiters||new RegExp("^((//=)|(>>=)|(<<=)|(\\*\\*=))");if(c.version&&3==parseInt(c.version,10))var x=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!@]"),k=c.identifiers||new RegExp("^[_A-Za-z\xa1-\uffff][_A-Za-z0-9\xa1-\uffff]*");else var x=c.singleOperators||new RegExp("^[\\+\\-\\*/%&|\\^~<>!]"),k=c.identifiers||new RegExp("^[_A-Za-z][_A-Za-z0-9]*");var C=c.hangingIndent||l.indentUnit,_=r,S=o;if(void 0!=c.extra_keywords&&(_=_.concat(c.extra_keywords)),void 0!=c.extra_builtins&&(S=S.concat(c.extra_builtins)),c.version&&3==parseInt(c.version,10)){_=_.concat(a.keywords),S=S.concat(a.builtins);var T=new RegExp("^(([rb]|(br))?('{3}|\"{3}|['\"]))","i")}else{_=_.concat(s.keywords),S=S.concat(s.builtins);var T=new RegExp("^(([rub]|(ur)|(br))?('{3}|\"{3}|['\"]))","i")}var L=t(_),E=t(S),A={startState:function(e){return{tokenize:u,scopes:[{offset:e||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=t.errorToken;n&&(t.errorToken=!1);var i=g(e,t);t.lastStyle=i;var r=e.current();return r&&i&&(t.lastToken=r),e.eol()&&t.lambda&&(t.lambda=!1),n?i+" "+m:i},indent:function(t,i){if(t.tokenize!=u)return t.tokenize.isString?e.Pass:0;var r=n(t),o=i&&i.charAt(0)==r.type;return null!=r.align?r.align-(o?1:0):o&&t.scopes.length>1?t.scopes[t.scopes.length-2].offset:r.offset},closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"};return A}),e.defineMIME("text/x-python","python");var l=function(e){return e.split(" ")};e.defineMIME("text/x-cython",{name:"python",extra_keywords:l("by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE")})})},{"../../lib/codemirror":75}],82:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("ruby",function(e){function t(e){for(var t={},n=0,i=e.length;i>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function i(e,t){if(c=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(l),"comment";if(e.eatSpace())return null;var i,r=e.next();if("`"==r||"'"==r||'"'==r)return n(s(r,"string",'"'==r||"`"==r),e,t);if("/"==r){var o=e.current().length;if(e.skipTo("/")){var u=e.current().length;e.backUp(e.current().length-o);for(var h=0;e.current().length<u;){var d=e.next();if("("==d?h+=1:")"==d&&(h-=1),0>h)break}if(e.backUp(e.current().length-o),0==h)return n(s(r,"string-2",!0),e,t)}return"operator"}if("%"==r){var p="string",g=!0;e.eat("s")?p="atom":e.eat(/[WQ]/)?p="string":e.eat(/[r]/)?p="string-2":e.eat(/[wxq]/)&&(p="string",g=!1);var m=e.eat(/[^\w\s=]/);return m?(f.propertyIsEnumerable(m)&&(m=f[m]),n(s(m,p,g,!0),e,t)):"operator"}if("#"==r)return e.skipToEnd(),"comment";if("<"==r&&(i=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(a(i[1]),e,t);if("0"==r)return e.eatWhile(e.eat("x")?/[\da-fA-F]/:e.eat("b")?/[01]/:/[0-7]/),"number";if(/\d/.test(r))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==r){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==r)return e.eat("'")?n(s("'","atom",!1),e,t):e.eat('"')?n(s('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==r&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==r)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(r))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=r||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(r))return c=r,null;if("-"==r&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(r)){var v=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=r||v||(c="."),"operator"}return null}return c="|",null}function r(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=r(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=r(e+1));return i(t,n)}}function o(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,i(t,n))}}function s(e,t,n,i){return function(s,a){var l,c=!1;for("read-quoted-paused"===a.context.type&&(a.context=a.context.prev,s.eat("}"));null!=(l=s.next());){if(l==e&&(i||!c)){a.tokenize.pop();break}if(n&&"#"==l&&!c){if(s.eat("{")){"}"==e&&(a.context={prev:a.context,type:"read-quoted-paused"}),a.tokenize.push(r());break}if(/[@\$]/.test(s.peek())){a.tokenize.push(o());break}}c=!c&&"\\"==l}return t}}function a(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function l(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var c,u=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),h=t(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),d=t(["end","until"]),f={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[i],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var n,i=t.tokenize[t.tokenize.length-1](e,t),r=c;if("ident"==i){var o=e.current();i="."==t.lastTok?"property":u.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(o)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable","keyword"==i&&(r=o,h.propertyIsEnumerable(o)?n="indent":d.propertyIsEnumerable(o)?n="dedent":"if"!=o&&"unless"!=o||e.column()!=e.indentation()?"do"==o&&t.context.indented<t.indented&&(n="indent"):n="indent")}return(c||i&&"comment"!=i)&&(t.lastTok=r),"|"==c&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(c)?t.context={prev:t.context,type:c||i,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(c))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==c||"operator"==i),i},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=i)return 0;var r=n&&n.charAt(0),o=t.context,s=o.type==f[r]||"keyword"==o.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return o.indented+(s?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),e.defineMIME("text/x-ruby","ruby")})},{"../../lib/codemirror":75}],83:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("sass",function(e){function t(e){return new RegExp("^"+e.join("|"))}function n(e,t){var n=e.peek();return")"===n?(e.next(),t.tokenizer=l,"operator"):"("===n?(e.next(),e.eatSpace(),"operator"):"'"===n||'"'===n?(t.tokenizer=r(e.next()),"string"):(t.tokenizer=r(")",!1),"string")}function i(e,t){return function(n,i){return n.sol()&&n.indentation()<=e?(i.tokenizer=l,l(n,i)):(t&&n.skipTo("*/")?(n.next(),n.next(),i.tokenizer=l):n.skipToEnd(),"comment")}}function r(e,t){function n(i,r){var s=i.next(),a=i.peek(),c=i.string.charAt(i.pos-2),u="\\"!==s&&a===e||s===e&&"\\"!==c;return u?(s!==e&&t&&i.next(),r.tokenizer=l,"string"):"#"===s&&"{"===a?(r.tokenizer=o(n),i.next(),"operator"):"string"}return null==t&&(t=!0),n}function o(e){return function(t,n){return"}"===t.peek()?(t.next(),n.tokenizer=e,"operator"):l(t,n)}}function s(t){if(0==t.indentCount){t.indentCount++;var n=t.scopes[0].offset,i=n+e.indentUnit;t.scopes.unshift({offset:i})}}function a(e){1!=e.scopes.length&&e.scopes.shift()}function l(e,t){var c=e.peek();if(e.match("/*"))return t.tokenizer=i(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=i(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=o(l),"operator";if('"'===c||"'"===c)return e.next(),t.tokenizer=r(c),"string";if(t.cursorHalf){if("#"===c&&(e.next(),e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)))return e.peek()||(t.cursorHalf=0),"number";if(e.match(/^-?[0-9\.]+/))return e.peek()||(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return e.peek()||(t.cursorHalf=0),"unit";if(e.match(h))return e.peek()||(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=n,e.peek()||(t.cursorHalf=0),"atom";if("$"===c)return e.next(),e.eatWhile(/[\w-]/),e.peek()||(t.cursorHalf=0),"variable-3";if("!"===c)return e.next(),e.peek()||(t.cursorHalf=0),e.match(/^[\w]+/)?"keyword":"operator";if(e.match(f))return e.peek()||(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return e.peek()||(t.cursorHalf=0),"attribute";if(!e.peek())return t.cursorHalf=0,null}else{if("."===c){if(e.next(),e.match(/^[\w-]+/))return s(t),"atom";if("#"===e.peek())return s(t),"atom"}if("#"===c){if(e.next(),e.match(/^[\w-]+/))return s(t),"atom";if("#"===e.peek())return s(t),"atom"}if("$"===c)return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(h))return"keyword";if(e.match(/^url/)&&"("===e.peek())return t.tokenizer=n,"atom";if("="===c&&e.match(/^=[\w-]+/))return s(t),"meta";if("+"===c&&e.match(/^\+[\w-]+/))return"variable-3";if("@"===c&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||a(t)),e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return s(t),"meta";if("@"===c)return e.next(),e.eatWhile(/[\w-]/),"meta";if(e.eatWhile(/[\w-]/))return e.match(/ *: *[\w-\+\$#!\("']/,!1)?"property":e.match(/ *:/,!1)?(s(t),t.cursorHalf=1,"atom"):e.match(/ *,/,!1)?"atom":(s(t),"atom");if(":"===c)return e.match(p)?"keyword":(e.next(),t.cursorHalf=1,"operator")}return e.match(f)?"operator":(e.next(),null)}function c(t,n){t.sol()&&(n.indentCount=0);var i=n.tokenizer(t,n),r=t.current();if(("@return"===r||"}"===r)&&a(n),null!==i){for(var o=t.pos-r.length,s=o+e.indentUnit*n.indentCount,l=[],c=0;c<n.scopes.length;c++){var u=n.scopes[c];u.offset<=s&&l.push(u)}n.scopes=l}return i}var u=["true","false","null","auto"],h=new RegExp("^"+u.join("|")),d=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],f=t(d),p=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:l,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=c(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),e.defineMIME("text/x-sass","sass")})},{"../../lib/codemirror":75}],84:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("sql",function(t,n){function i(e,t){var n=e.next();if(p[n]){var i=p[n](e,t);if(i!==!1)return i}if(1==f.hexNumber&&("0"==n&&e.match(/^[xX][0-9a-fA-F]+/)||("x"==n||"X"==n)&&e.match(/^'[0-9a-fA-F]+'/)))return"number";if(1==f.binaryNumber&&(("b"==n||"B"==n)&&e.match(/^'[01]+'/)||"0"==n&&e.match(/^b[01]+/)))return"number";if(n.charCodeAt(0)>47&&n.charCodeAt(0)<58)return e.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),1==f.decimallessFloat&&e.eat("."),"number";if("?"==n&&(e.eatSpace()||e.eol()||e.eat(";")))return"variable-3";if("'"==n||'"'==n&&f.doubleQuote)return t.tokenize=r(n),t.tokenize(e,t);if((1==f.nCharCast&&("n"==n||"N"==n)||1==f.charsetCast&&"_"==n&&e.match(/[a-z][a-z0-9]*/i))&&("'"==e.peek()||'"'==e.peek()))return"keyword";if(/^[\(\),\;\[\]]/.test(n))return null;if(f.commentSlashSlash&&"/"==n&&e.eat("/"))return e.skipToEnd(),"comment";if(f.commentHash&&"#"==n||"-"==n&&e.eat("-")&&(!f.commentSpaceRequired||e.eat(" ")))return e.skipToEnd(),"comment";if("/"==n&&e.eat("*"))return t.tokenize=o,t.tokenize(e,t);if("."!=n){if(d.test(n))return e.eatWhile(d),null;if("{"==n&&(e.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||e.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";e.eatWhile(/^[_\w\d]/);var s=e.current().toLowerCase();return g.hasOwnProperty(s)&&(e.match(/^( )+'[^']*'/)||e.match(/^( )+"[^"]*"/))?"number":c.hasOwnProperty(s)?"atom":u.hasOwnProperty(s)?"builtin":h.hasOwnProperty(s)?"keyword":l.hasOwnProperty(s)?"string-2":null}return 1==f.zerolessFloat&&e.match(/^(?:\d+(?:e[+-]?\d+)?)/i)?"number":1==f.ODBCdotTable&&e.match(/^[a-zA-Z_]+/)?"variable-2":void 0}function r(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){n.tokenize=i;break}o=!o&&"\\"==r}return"string"}}function o(e,t){for(;;){if(!e.skipTo("*")){e.skipToEnd();break}if(e.next(),e.eat("/")){t.tokenize=i;break}}return"comment"}function s(e,t,n){t.context={prev:t.context,indent:e.indentation(),col:e.column(),type:n}}function a(e){e.indent=e.context.indent,e.context=e.context.prev}var l=n.client||{},c=n.atoms||{"false":!0,"true":!0,"null":!0},u=n.builtin||{},h=n.keywords||{},d=n.operatorChars||/^[*+\-%<>!=&|~^]/,f=n.support||{},p=n.hooks||{},g=n.dateSQL||{date:!0,time:!0,timestamp:!0};return{startState:function(){return{tokenize:i,context:null}},token:function(e,t){if(e.sol()&&t.context&&null==t.context.align&&(t.context.align=!1),e.eatSpace())return null;var n=t.tokenize(e,t);if("comment"==n)return n;t.context&&null==t.context.align&&(t.context.align=!0);var i=e.current();return"("==i?s(e,t,")"):"["==i?s(e,t,"]"):t.context&&t.context.type==i&&a(t),n},indent:function(n,i){var r=n.context;if(!r)return e.Pass;var o=i.charAt(0)==r.type;return r.align?r.col+(o?0:1):r.indent+(o?0:t.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:f.commentSlashSlash?"//":f.commentHash?"#":null}}),function(){function t(e){for(var t;null!=(t=e.next());)if("`"==t&&!e.eat("`"))return"variable-2";return e.backUp(e.current().length-1),e.eatWhile(/\w/)?"variable-2":null}function n(e){return e.eat("@")&&(e.match(/^session\./),e.match(/^local\./),e.match(/^global\./)),e.eat("'")?(e.match(/^.*'/),"variable-2"):e.eat('"')?(e.match(/^.*"/),"variable-2"):e.eat("`")?(e.match(/^.*`/),"variable-2"):e.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function i(e){return e.eat("N")?"atom":e.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function r(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}var o="alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where ";e.defineMIME("text/x-sql",{name:"sql",keywords:r(o+"begin"),builtin:r("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable doubleQuote binaryNumber hexNumber")}),e.defineMIME("text/x-mssql",{name:"sql",client:r("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:r(o+"begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare"),builtin:r("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:r("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":n}}),e.defineMIME("text/x-mysql",{name:"sql",client:r("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:r(o+"accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:r("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":i}}),e.defineMIME("text/x-mariadb",{name:"sql",client:r("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:r(o+"accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),builtin:r("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:r("date time timestamp"),support:r("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),hooks:{"@":n,"`":t,"\\":i}}),e.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:r("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),builtin:r("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:r("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:r("commentSlashSlash decimallessFloat"),hooks:{}}),e.defineMIME("text/x-plsql",{name:"sql",client:r("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),keywords:r("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),builtin:r("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),operatorChars:/^[*+\-%<>!=~]/,dateSQL:r("date time timestamp"),support:r("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")}),e.defineMIME("text/x-hive",{name:"sql",keywords:r("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),builtin:r("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:r("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:r("date timestamp"),support:r("ODBCdotTable doubleQuote binaryNumber hexNumber")})
}()})},{"../../lib/codemirror":75}],85:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function i(e,t){function n(n){return t.tokenize=n,n(e,t)}var i=e.next();if("<"==i)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(s("atom","]]>")):null:e.match("--")?n(s("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(a(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=s("meta","?>"),"meta"):(C=e.eat("/")?"closeTag":"openTag",t.tokenize=r,"tag bracket");if("&"==i){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function r(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=i,C=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return C="equals",null;if("<"==n){t.tokenize=i,t.state=h,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=r;break}return"string"};return t.isInAttribute=!0,t}function s(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=i;break}n.next()}return e}}function a(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=a(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=i;break}return n.tokenize=a(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(S.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!S.contextGrabbers.hasOwnProperty(n)||!S.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function h(e,t,n){return"openTag"==e?(n.tagStart=t.column(),d):"closeTag"==e?f:h}function d(e,t,n){return"word"==e?(n.tagName=t.current(),_="tag",m):(_="error",d)}function f(e,t,n){if("word"==e){var i=t.current();return n.context&&n.context.tagName!=i&&S.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==i?(_="tag",p):(_="tag error",g)}return _="error",g}function p(e,t,n){return"endTag"!=e?(_="error",p):(c(n),h)}function g(e,t,n){return _="error",p(e,t,n)}function m(e,t,n){if("word"==e)return _="attribute",v;if("endTag"==e||"selfcloseTag"==e){var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||S.autoSelfClosers.hasOwnProperty(i)?u(n,i):(u(n,i),n.context=new l(n,i,r==n.indented)),h}return _="error",m}function v(e,t,n){return"equals"==e?y:(S.allowMissing||(_="error"),m(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&S.allowUnquoted?(_="string",m):(_="error",m(e,t,n))}function b(e,t,n){return"string"==e?b:m(e,t,n)}var w=t.indentUnit,x=n.multilineTagIndentFactor||1,k=n.multilineTagIndentPastTag;null==k&&(k=!0);var C,_,S=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return{startState:function(){return{tokenize:i,state:h,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;C=null;var n=t.tokenize(e,t);return(n||C)&&"comment"!=n&&(_=null,t.state=t.state(C||n,e,t),_&&(n="error"==_?n+" error":_)),n},indent:function(t,n,o){var s=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(s&&s.noIndent)return e.Pass;if(t.tokenize!=r&&t.tokenize!=i)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return k?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if(T&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;s;){if(s.tagName==a[2]){s=s.prev;break}if(!S.implicitlyClosed.hasOwnProperty(s.tagName))break;s=s.prev}else if(a)for(;s;){var l=S.contextGrabbers[s.tagName];if(!l||!l.hasOwnProperty(a[2]))break;s=s.prev}for(;s&&!s.startOfLine;)s=s.prev;return s?s.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":75}],86:[function(e,t,n){!function(i){"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var i=e.peek(),r=n.escaped;if(n.escaped=!1,"#"==i&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==i?n.inlinePairs++:"}"==i?n.inlinePairs--:"["==i?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!r&&","==i)return e.next(),"meta";if(n.inlinePairs>0&&!r&&","==i)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==i,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml")})},{"../../lib/codemirror":75}],87:[function(e,t){!function(e,n){"object"==typeof t&&t.exports?t.exports=n():"function"==typeof define&&define.amd?define(n):e.Spinner=n()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,s=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[r]||(u.insertRule("@"+l+"keyframes "+r+"{0%{opacity:"+s+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",u.cssRules.length),d[r]=1),r}function i(e,t){var n,i,r=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==r[t])return t;for(i=0;i<h.length;i++)if(n=h[i]+t,void 0!==r[n])return n}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=o(e||{},a.defaults,f)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}u.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function o(){return r(n("group",{coordsize:u+" "+u,coordorigin:-c+" "+-c}),{width:u,height:u})}function a(e,a,l){t(d,t(r(o(),{rotation:360/i.lines*e+"deg",left:~~a}),t(r(n("roundrect",{arcsize:i.corners}),{width:c,height:i.scale*i.width,left:i.scale*i.radius,top:-i.scale*i.width>>1,filter:l}),n("fill",{color:s(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var l,c=i.scale*(i.length+i.width),u=2*i.scale*c,h=-(i.width+i.length)*i.scale*2+"px",d=r(o(),{position:"absolute",top:h,left:h});if(i.shadow)for(l=1;l<=i.lines;l++)a(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=i.lines;l++)a(l);return t(e,d)},a.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var c,u,h=["webkit","Moz","ms","O"],d={},f={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,o=n.el=e(null,{className:i.className});if(r(o,{position:i.position,width:0,zIndex:i.zIndex,left:i.left,top:i.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute("role","progressbar"),n.lines(o,n.opts),!c){var s,a=0,l=(i.lines-1)*(1-i.direction)/2,u=i.fps,h=u/i.speed,d=(1-i.opacity)/(h*i.trail/100),f=h/i.lines;!function p(){a++;for(var e=0;e<i.lines;e++)s=Math.max(1-(a+(i.lines-e)*f)%h*d,i.opacity),n.opacity(o,e*i.direction+l,s,i);n.timeout=n.el&&setTimeout(p,~~(1e3/u))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,o){function a(t,n){return r(e(),{position:"absolute",width:o.scale*(o.length+o.width)+"px",height:o.scale*o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*u+o.rotate)+"deg) translate("+o.scale*o.radius+"px,0)",borderRadius:(o.corners*o.scale*o.width>>1)+"px"})}for(var l,u=0,h=(o.lines-1)*(1-o.direction)/2;u<o.lines;u++)l=r(e(),{position:"absolute",top:1+~(o.scale*o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,h+u*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(l,r(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(l,a(s(o.color,u),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){u=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}();var p=r(e("group"),{behavior:"url(#default#VML)"});!i(p,"transform")&&p.adj?l():c=i(p,"animation")}return a})},{}],88:[function(e,t,n){(function(e){!function(t,i){"undefined"!=typeof define&&define.amd?define(["exports","backbone","underscore"],i):"undefined"!=typeof n?i(n,"undefined"!=typeof window?window.Backbone:"undefined"!=typeof e?e.Backbone:null,"undefined"!=typeof window?window._:"undefined"!=typeof e?e._:null):i(t.Supermodel={},t.Backbone,t._)}(this,function(e,t,n){e.VERSION="0.0.4";var i=function(e,t){this.required(t,"name"),n.extend(this,n.pick(t,"name","where","source","store")),n.defaults(this,{source:this.name,store:"_"+this.name});var i=e;do if(i.associations()[this.name])throw new Error("Association already exists: "+this.name);while(i=i.parent);e.associations()[this.name]=this,this.initialize&&e.all().on("initialize",this.initialize,this),this.change&&e.all().on("change",this.change,this),this.parse&&e.all().on("parse",this.parse,this),this.destroy&&e.all().on("destroy",this.destroy,this),this.create&&e.all().on("add",this.create,this)};n.extend(i.prototype,{associate:function(e,t){this.inverse&&e.trigger("associate:"+this.inverse,e,t)},dissociate:function(e,t){this.inverse&&e.trigger("dissociate:"+this.inverse,e,t)},required:function(e){for(var t,n=1;n<arguments.length;n++)if(!e[t=arguments[n]])throw new Error("Option required: "+t)},andThis:function(e){var t=this;return function(){return e.apply(t,[this].concat(n.toArray(arguments)))}}});var r=function(e,t){this.required(t,"inverse","model"),i.apply(this,arguments),n.extend(this,n.pick(t,"inverse","model","id")),n.defaults(this,{id:this.name+"_id"}),e.all().on("associate:"+this.name,this.replace,this).on("dissociate:"+this.name,this.remove,this)};n.extend(r.prototype,i.prototype,{create:function(e){e[this.name]=n.bind(this.access,this,e)},access:function(e,t){return arguments.length<2?e[this.store]:void this.replace(e,t)},initialize:function(e){this.parse(e,e.attributes);var t=e.get(this.id);null!=t&&this.replace(e,t)},parse:function(e,t){if(t&&n.has(t,this.source)){var i=t[this.source];delete t[this.source],this.replace(e,i)}},change:function(e){e.hasChanged(this.id)&&this.replace(e,e.get(this.id))},remove:function(e){this.replace(e,null)},destroy:function(e){var t=e[this.store];t&&(this.remove(e),this.dissociate(t,e))},replace:function(e,t){var i,r;e&&(r=e[this.store],null==t||n.isObject(t)||(i=t,(t={})[this.model.prototype.idAttribute]=i),!t||t instanceof l||(t=this.model.create(t)),r!==t&&(t||e.unset(this.id),r&&(delete e[this.store],this.dissociate(r,e)),t&&(e.set(this.id,t.id),e[this.store]=t,this.associate(t,e))))}});var o=function(e,t){this.required(t,"inverse","collection"),i.apply(this,arguments),n.extend(this,n.pick(t,"collection","inverse","id")),e.all().on("associate:"+this.name,this._associate,this).on("dissociate:"+this.name,this._dissociate,this)};n.extend(o.prototype,i.prototype,{create:function(e){e[this.name]||(e[this.name]=n.bind(this.get,this,e))},get:function(e){var t=e[this.store];return t?t:(t=e[this.store]=(new this.collection).on("add",this.add,this).on("remove",this.remove,this).on("reset",this.reset,this),t.owner=e,t)},parse:function(e,t){if(t){var i=t[this.source];if(i){delete t[this.source];var r=this.get(e);return i=r.parse(i),this.where?void r.reset(n.filter(n.map(i,function(e){return new r.model(e)}),this.where)):void r.reset(i)}}},initialize:function(e){this.parse(e,e.attributes)},add:function(e,t){e&&t&&this.associate(e,t.owner)},remove:function(e,t){e&&t&&this.dissociate(e,t.owner)},reset:function(e){e&&e.each(function(t){this.associate(t,e.owner)},this)},destroy:function(e){var t;e&&(t=e[this.store])&&t.each(function(t){this.dissociate(t,e)},this)},_associate:function(e,t){e&&t&&(!this.where||this.where(t))&&this.get(e).add(t)},_dissociate:function(e,t){e&&t&&e[this.store]&&e[this.store].remove(t)}});var s=function(e,t){this.required(t,"collection","through","source"),i.apply(this,arguments),n.extend(this,n.pick(t,"collection","through")),this._associate=this.andThis(this._associate),this._dissociate=this.andThis(this._dissociate)};n.extend(s.prototype,i.prototype,{create:function(e){e[this.name]||(e[this.name]=n.bind(this.get,this,e))},get:function(e){var t=e[this.store];return t?t:(t=new this.collection,t.owner=e,e[this.store]=t,this.reset(e[this.through]().on("add",this.add,this).on("remove",this.remove,this).on("reset",this.reset,this).on("associate:"+this.source,this._associate).on("dissociate:"+this.source,this._dissociate)),t)},add:function(e,t){e&&t&&(e=e[this.source]())&&(!this.where||this.where(e))&&t.owner[this.name]().add(e)},remove:function(e,t){if(e&&t&&(e=e[this.source]())){var n=t.any(function(t){return t[this.source]()===e},this);n||t.owner[this.name]().remove(e)}},reset:function(e){if(e){var t=n.compact(n.uniq(n.invoke(e.models,this.source)));this.where&&(t=n.filter(t,this.where)),e.owner[this.name]().reset(t)}},_associate:function(e,t,n){e&&t&&n&&(!this.where||this.where(n))&&e.owner[this.name]().add(n)},_dissociate:function(e,t,n){if(e&&t&&n){var i=e.any(function(e){return e[this.source]()===n},this);i||e.owner[this.name]().remove(n)}}});var a=function(e){this.model=e};n.extend(a.prototype,{one:function(e,t){return t.name=e,new r(this.model,t),this},many:function(e,t){t.name=e;var n=t.through?s:o;return new n(this.model,t),this}});var l=e.Model=t.Model.extend({cidAttribute:"cid",initialize:function(){this.set(this.cidAttribute,this.cid);var e=this.constructor;do e.all().add(this);while(e=e.parent);this.trigger("initialize",this)},toJSON:function(){var e=t.Model.prototype.toJSON.apply(this,arguments);return delete e[this.cidAttribute],e},parse:function(e){return this.trigger("parse",this,e),e}},{create:function(e,t){var i=e&&e[this.prototype.idAttribute],r=this.find(e);if(t||(t={}),r&&e===r.attributes)return r;if(i&&r)return r.set(r.parse(e),n.extend(t,{silent:!1})),r;for(var o=this;o=o.parent;)if(o.all().get(i))throw new Error('Model with id "'+i+'" already exists.');return t.parse=!0,new this(e,t)},find:function(e){if(!e)return!1;var t=e[this.prototype.cidAttribute],n=e[this.prototype.idAttribute];return(t||n)&&this.all().get(t||n)||!1},has:function(){return new a(this)},all:function(){return this._all||(this._all=new t.Collection)},associations:function(){return this._associations||(this._associations={})},reset:function(){this._all=null,this._associations={}}})})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(e,t){!function(e){"use strict";e(function(e){var t=e("./makePromise"),n=e("./Scheduler"),i=e("./env").asap;return t({scheduler:new n(i)})})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./Scheduler":90,"./env":102,"./makePromise":104}],90:[function(e,t){!function(e){"use strict";e(function(){function e(e){this._async=e,this._running=!1,this._queue=this,this._queueLen=0,this._afterQueue={},this._afterQueueLen=0;var t=this;this.drain=function(){t._drain()}}return e.prototype.enqueue=function(e){this._queue[this._queueLen++]=e,this.run()},e.prototype.afterQueue=function(e){this._afterQueue[this._afterQueueLen++]=e,this.run()},e.prototype.run=function(){this._running||(this._running=!0,this._async(this.drain))},e.prototype._drain=function(){for(var e=0;e<this._queueLen;++e)this._queue[e].run(),this._queue[e]=void 0;for(this._queueLen=0,this._running=!1,e=0;e<this._afterQueueLen;++e)this._afterQueue[e].run(),this._afterQueue[e]=void 0;this._afterQueueLen=0},e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],91:[function(e,t){!function(e){"use strict";e(function(){function e(t){Error.call(this),this.message=t,this.name=e.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],92:[function(e,t){!function(e){"use strict";e(function(){function e(e,n){function i(t,i,o){var s=e._defer(),a=o.length,l=new Array(a);return r({f:t,thisArg:i,args:o,params:l,i:a-1,call:n},s._handler),s}function r(t,i){if(t.i<0)return n(t.f,t.thisArg,t.params,i);var r=e._handler(t.args[t.i]);r.fold(o,t,void 0,i)}function o(e,t,n){e.params[e.i]=t,e.i-=1,r(e,n)}return arguments.length<2&&(n=t),i}function t(e,t,n,i){try{i.resolve(e.apply(t,n))}catch(r){i.reject(r)}}return e.tryCatchResolve=t,e})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],93:[function(e,t){!function(e){"use strict";e(function(e){var t=e("../state"),n=e("../apply");return function(e){function i(t){function n(e){u=null,this.resolve(e)}function i(e){this.resolved||(u.push(e),0===--c&&this.reject(u))}for(var r,o,s=e._defer(),a=s._handler,l=t.length>>>0,c=l,u=[],h=0;l>h;++h)if(o=t[h],void 0!==o||h in t){if(r=e._handler(o),r.state()>0){a.become(r),e._visitRemaining(t,h,r);break}r.visit(a,n,i)}else--c;return 0===c&&a.reject(new RangeError("any(): array must not be empty")),s}function r(t,n){function i(e){this.resolved||(u.push(e),0===--f&&(h=null,this.resolve(u)))}function r(e){this.resolved||(h.push(e),0===--o&&(u=null,this.reject(h)))}var o,s,a,l=e._defer(),c=l._handler,u=[],h=[],d=t.length>>>0,f=0;for(a=0;d>a;++a)s=t[a],(void 0!==s||a in t)&&++f;for(n=Math.max(n,0),o=f-n+1,f=Math.min(n,f),n>f?c.reject(new RangeError("some(): array must contain at least "+n+" item(s), but had "+f)):0===f&&c.resolve(u),a=0;d>a;++a)s=t[a],(void 0!==s||a in t)&&e._handler(s).visit(c,i,r,c.notify);return l}function o(t,n){return e._traverse(n,t)}function s(t,n){var i=y.call(t);return e._traverse(n,i).then(function(e){return a(i,e)})}function a(t,n){for(var i=n.length,r=new Array(i),o=0,s=0;i>o;++o)n[o]&&(r[s++]=e._handler(t[o]).value);return r.length=s,r}function l(e){return g(e.map(c))}function c(n){var i=e._handler(n);return 0===i.state()?p(n).then(t.fulfilled,t.rejected):(i._unreport(),t.inspect(i))}function u(e,t){return arguments.length>2?m.call(e,d(t),arguments[2]):m.call(e,d(t))}function h(e,t){return arguments.length>2?v.call(e,d(t),arguments[2]):v.call(e,d(t))}function d(e){return function(t,n,i){return f(e,void 0,[t,n,i])}}var f=n(e),p=e.resolve,g=e.all,m=Array.prototype.reduce,v=Array.prototype.reduceRight,y=Array.prototype.slice;return e.any=i,e.some=r,e.settle=l,e.map=o,e.filter=s,e.reduce=u,e.reduceRight=h,e.prototype.spread=function(e){return this.then(g).then(function(t){return e.apply(this,t)})},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../apply":92,"../state":105}],94:[function(e,t){!function(e){"use strict";e(function(){function e(){throw new TypeError("catch predicate must be a function")}function t(e,t){return n(t)?e instanceof t:t(e)}function n(e){return e===Error||null!=e&&e.prototype instanceof Error}function i(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function r(e){return e}return function(n){function o(e,n){return function(i){return t(i,n)?e.call(this,i):c(i)}}function s(e,t,n,r){var o=e.call(t);return i(o)?a(o,n,r):n(r)}function a(e,t,n){return l(e).then(function(){return t(n)})}var l=n.resolve,c=n.reject,u=n.prototype["catch"];return n.prototype.done=function(e,t){this._handler.visit(this._handler.receiver,e,t)},n.prototype["catch"]=n.prototype.otherwise=function(t){return arguments.length<2?u.call(this,t):"function"!=typeof t?this.ensure(e):u.call(this,o(arguments[1],t))},n.prototype["finally"]=n.prototype.ensure=function(e){return"function"!=typeof e?this:this.then(function(t){return s(e,this,r,t)},function(t){return s(e,this,c,t)})},n.prototype["else"]=n.prototype.orElse=function(e){return this.then(void 0,function(){return e})},n.prototype["yield"]=function(e){return this.then(function(){return e})},n.prototype.tap=function(e){return this.then(e)["yield"](this)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],95:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.fold=function(t,n){var i=this._beget();return this._handler.fold(function(n,i,r){e._handler(n).fold(function(e,n,i){i.resolve(t.call(this,n,e))},i,this,r)},n,i._handler.receiver,i._handler),i},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],96:[function(e,t){!function(e){"use strict";e(function(e){var t=e("../state").inspect;return function(e){return e.prototype.inspect=function(){return t(e._handler(this))},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../state":105}],97:[function(e,t){!function(e){"use strict";e(function(){return function(e){function t(e,t,i,r){return n(function(t){return[t,e(t)]},t,i,r)}function n(e,t,r,o){function s(o,s){return i(r(o)).then(function(){return n(e,t,r,s)})}return i(o).then(function(n){return i(t(n)).then(function(t){return t?n:i(e(n)).spread(s)})})}var i=e.resolve;return e.iterate=t,e.unfold=n,e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],98:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype.progress=function(e){return this.then(void 0,void 0,e)},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],99:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,i,r){return n.setTimer(function(){e(i,r,t)},t)}var n=e("../env"),i=e("../TimeoutError");return function(e){function r(e,n,i){t(o,e,n,i)}function o(e,t){t.resolve(e)}function s(e,t,n){var r="undefined"==typeof e?new i("timed out after "+n+"ms"):e;t.reject(r)}return e.prototype.delay=function(e){var t=this._beget();return this._handler.fold(r,e,void 0,t._handler),t},e.prototype.timeout=function(e,i){var r=this._beget(),o=r._handler,a=t(s,e,i,r._handler);return this._handler.visit(o,function(e){n.clearTimer(a),this.resolve(e)},function(e){n.clearTimer(a),this.reject(e)},o.notify),r},e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../TimeoutError":91,"../env":102}],100:[function(e,t){!function(e){"use strict";e(function(e){function t(e){throw e}function n(){}var i=e("../env").setTimer,r=e("../format");return function(e){function o(e){e.handled||(f.push(e),u("Potentially unhandled rejection ["+e.id+"] "+r.formatError(e.value)))}function s(e){var t=f.indexOf(e);t>=0&&(f.splice(t,1),h("Handled previous rejection ["+e.id+"] "+r.formatObject(e.value)))}function a(e,t){d.push(e,t),null===p&&(p=i(l,0))}function l(){for(p=null;d.length>0;)d.shift()(d.shift())}var c,u=n,h=n;"undefined"!=typeof console&&(c=console,u="undefined"!=typeof c.error?function(e){c.error(e)}:function(e){c.log(e)},h="undefined"!=typeof c.info?function(e){c.info(e)}:function(e){c.log(e)}),e.onPotentiallyUnhandledRejection=function(e){a(o,e)},e.onPotentiallyUnhandledRejectionHandled=function(e){a(s,e)},e.onFatalRejection=function(e){a(t,e.value)};var d=[],f=[],p=null;return e}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"../env":102,"../format":103}],101:[function(e,t){!function(e){"use strict";e(function(){return function(e){return e.prototype["with"]=e.prototype.withThis=function(e){var t=this._beget(),n=t._handler;return n.receiver=e,this._handler.chain(n,e),t},e}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],102:[function(e,t){(function(n){!function(e){"use strict";e(function(e){function t(){return"undefined"!=typeof n&&"[object process]"===Object.prototype.toString.call(n)}function i(){return"function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver}function r(e){function t(){var e=n;n=void 0,e()}var n,i=document.createTextNode(""),r=new e(t);r.observe(i,{characterData:!0});var o=0;return function(e){n=e,i.data=o^=1}}var o,s="undefined"!=typeof setTimeout&&setTimeout,a=function(e,t){return setTimeout(e,t)},l=function(e){return clearTimeout(e)},c=function(e){return s(e,0)};if(t())c=function(e){return n.nextTick(e)};else if(o=i())c=r(o);else if(!s){var u=e,h=u("vertx");a=function(e,t){return h.setTimer(t,e)},l=h.cancelTimer,c=h.runOnLoop||h.runOnContext}return{setTimer:a,clearTimer:l,asap:c}})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})}).call(this,e("_process"))},{_process:111}],103:[function(e,t){!function(e){"use strict";e(function(){function e(e){var n="object"==typeof e&&null!==e&&e.stack?e.stack:t(e);return e instanceof Error?n:n+" (WARNING: non-Error used)"}function t(e){var t=String(e);return"[object Object]"===t&&"undefined"!=typeof JSON&&(t=n(e,t)),t}function n(e,t){try{return JSON.stringify(e)}catch(n){return t}}return{formatError:e,formatObject:t,tryStringify:n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],104:[function(e,t){(function(e){!function(t){"use strict";t(function(){return function(t){function n(e,t){this._handler=e===w?t:i(e)}function i(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}function i(e){r.notify(e)}var r=new k;try{e(t,n,i)}catch(o){n(o)}return r}function r(e){return I(e)?e:new n(w,new C(v(e)))}function o(e){return new n(w,new C(new T(e)))}function s(){return et}function a(){return new n(w,new k)}function l(e,t){var n=new k(e.receiver,e.join().context);return new t(w,n)}function c(e){return h(U,null,e)}function u(e,t){return h(H,e,t)}function h(e,t,i){function r(n,r,s){s.resolved||d(i,o,n,e(t,r,n),s)}function o(e,t,n){u[e]=t,0===--c&&n.become(new S(u))}for(var s,a="function"==typeof t?r:o,l=new k,c=i.length>>>0,u=new Array(c),h=0;h<i.length&&!l.resolved;++h)s=i[h],void 0!==s||h in i?d(i,a,h,s,l):--c;return 0===c&&l.become(new S(u)),new n(w,l)}function d(e,t,n,i,r){if(D(i)){var o=y(i),s=o.state();0===s?o.fold(t,n,void 0,r):s>0?t(n,o.value,r):(r.become(o),f(e,n+1,o))}else t(n,i,r)}function f(e,t,n){for(var i=t;i<e.length;++i)p(v(e[i]),n)}function p(e,t){if(e!==t){var n=e.state();0===n?e.visit(e,void 0,e._unreport):0>n&&e._unreport()}}function g(e){return"object"!=typeof e||null===e?o(new TypeError("non-iterable passed to race()")):0===e.length?s():1===e.length?r(e[0]):m(e)}function m(e){var t,i,r,o=new k;for(t=0;t<e.length;++t)if(i=e[t],void 0!==i||t in e){if(r=v(i),0!==r.state()){o.become(r),f(e,t+1,r);break}r.visit(o,o.resolve,o.reject)}return new n(w,o)}function v(e){return I(e)?e._handler.join():D(e)?b(e):new S(e)}function y(e){return I(e)?e._handler.join():b(e)}function b(e){try{var t=e.then;return"function"==typeof t?new _(t,e):new S(e)}catch(n){return new T(n)}}function w(){}function x(){}function k(e,t){n.createContext(this,t),this.consumers=void 0,this.receiver=e,this.handler=void 0,this.resolved=!1}function C(e){this.handler=e}function _(e,t){k.call(this),Y.enqueue(new j(e,t,this))}function S(e){n.createContext(this),this.value=e}function T(e){n.createContext(this),this.id=++J,this.value=e,this.handled=!1,this.reported=!1,this._report()}function L(e,t){this.rejection=e,this.context=t}function E(e){this.rejection=e}function A(){return new T(new TypeError("Promise cycle"))}function M(e,t){this.continuation=e,this.handler=t}function P(e,t){this.handler=t,this.value=e}function j(e,t,n){this._then=e,this.thenable=t,this.resolver=n}function N(e,t,n,i,r){try{e.call(t,n,i,r)}catch(o){i(o)}}function O(e,t,n,i){this.f=e,this.z=t,this.c=n,this.to=i,this.resolver=Q,this.receiver=this}function I(e){return e instanceof n}function D(e){return("object"==typeof e||"function"==typeof e)&&null!==e}function R(e,t,i,r){return"function"!=typeof e?r.become(t):(n.enterContext(t),B(e,t.value,i,r),void n.exitContext())}function $(e,t,i,r,o){return"function"!=typeof e?o.become(i):(n.enterContext(i),z(e,t,i.value,r,o),void n.exitContext())}function F(e,t,i,r,o){return"function"!=typeof e?o.notify(t):(n.enterContext(i),W(e,t,r,o),void n.exitContext())}function H(e,t,n){try{return e(t,n)}catch(i){return o(i)}}function B(e,t,n,i){try{i.become(v(e.call(n,t)))}catch(r){i.become(new T(r))}}function z(e,t,n,i,r){try{e.call(i,t,n,r)}catch(o){r.become(new T(o))}}function W(e,t,n,i){try{i.notify(e.call(n,t))}catch(r){i.notify(r)}}function q(e,t){t.prototype=K(e.prototype),t.prototype.constructor=t}function U(e,t){return t}function V(){}function G(){return"undefined"!=typeof e&&null!==e&&"function"==typeof e.emit?function(t,n){return"unhandledRejection"===t?e.emit(t,n.value,n):e.emit(t,n)}:"undefined"!=typeof self&&"function"==typeof CustomEvent?function(e,t,n){var i=!1;try{var r=new n("unhandledRejection");i=r instanceof n}catch(o){}return i?function(e,i){var r=new n(e,{detail:{reason:i.value,key:i},bubbles:!1,cancelable:!0});return!t.dispatchEvent(r)}:e}(V,self,CustomEvent):V}var Y=t.scheduler,X=G(),K=Object.create||function(e){function t(){}return t.prototype=e,new t};n.resolve=r,n.reject=o,n.never=s,n._defer=a,n._handler=v,n.prototype.then=function(e,t,n){var i=this._handler,r=i.join().state();if("function"!=typeof e&&r>0||"function"!=typeof t&&0>r)return new this.constructor(w,i);var o=this._beget(),s=o._handler;return i.chain(s,i.receiver,e,t,n),o},n.prototype["catch"]=function(e){return this.then(void 0,e)},n.prototype._beget=function(){return l(this._handler,this.constructor)},n.all=c,n.race=g,n._traverse=u,n._visitRemaining=f,w.prototype.when=w.prototype.become=w.prototype.notify=w.prototype.fail=w.prototype._unreport=w.prototype._report=V,w.prototype._state=0,w.prototype.state=function(){return this._state
},w.prototype.join=function(){for(var e=this;void 0!==e.handler;)e=e.handler;return e},w.prototype.chain=function(e,t,n,i,r){this.when({resolver:e,receiver:t,fulfilled:n,rejected:i,progress:r})},w.prototype.visit=function(e,t,n,i){this.chain(Q,e,t,n,i)},w.prototype.fold=function(e,t,n,i){this.when(new O(e,t,n,i))},q(w,x),x.prototype.become=function(e){e.fail()};var Q=new x;q(w,k),k.prototype._state=0,k.prototype.resolve=function(e){this.become(v(e))},k.prototype.reject=function(e){this.resolved||this.become(new T(e))},k.prototype.join=function(){if(!this.resolved)return this;for(var e=this;void 0!==e.handler;)if(e=e.handler,e===this)return this.handler=A();return e},k.prototype.run=function(){var e=this.consumers,t=this.handler;this.handler=this.handler.join(),this.consumers=void 0;for(var n=0;n<e.length;++n)t.when(e[n])},k.prototype.become=function(e){this.resolved||(this.resolved=!0,this.handler=e,void 0!==this.consumers&&Y.enqueue(this),void 0!==this.context&&e._report(this.context))},k.prototype.when=function(e){this.resolved?Y.enqueue(new M(e,this.handler)):void 0===this.consumers?this.consumers=[e]:this.consumers.push(e)},k.prototype.notify=function(e){this.resolved||Y.enqueue(new P(e,this))},k.prototype.fail=function(e){var t="undefined"==typeof e?this.context:e;this.resolved&&this.handler.join().fail(t)},k.prototype._report=function(e){this.resolved&&this.handler.join()._report(e)},k.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},q(w,C),C.prototype.when=function(e){Y.enqueue(new M(e,this))},C.prototype._report=function(e){this.join()._report(e)},C.prototype._unreport=function(){this.join()._unreport()},q(k,_),q(w,S),S.prototype._state=1,S.prototype.fold=function(e,t,n,i){$(e,t,this,n,i)},S.prototype.when=function(e){R(e.fulfilled,this,e.receiver,e.resolver)};var J=0;q(w,T),T.prototype._state=-1,T.prototype.fold=function(e,t,n,i){i.become(this)},T.prototype.when=function(e){"function"==typeof e.rejected&&this._unreport(),R(e.rejected,this,e.receiver,e.resolver)},T.prototype._report=function(e){Y.afterQueue(new L(this,e))},T.prototype._unreport=function(){this.handled||(this.handled=!0,Y.afterQueue(new E(this)))},T.prototype.fail=function(e){this.reported=!0,X("unhandledRejection",this),n.onFatalRejection(this,void 0===e?this.context:e)},L.prototype.run=function(){this.rejection.handled||this.rejection.reported||(this.rejection.reported=!0,X("unhandledRejection",this.rejection)||n.onPotentiallyUnhandledRejection(this.rejection,this.context))},E.prototype.run=function(){this.rejection.reported&&(X("rejectionHandled",this.rejection)||n.onPotentiallyUnhandledRejectionHandled(this.rejection))},n.createContext=n.enterContext=n.exitContext=n.onPotentiallyUnhandledRejection=n.onPotentiallyUnhandledRejectionHandled=n.onFatalRejection=V;var Z=new w,et=new n(w,Z);return M.prototype.run=function(){this.handler.join().when(this.continuation)},P.prototype.run=function(){var e=this.handler.consumers;if(void 0!==e)for(var t,n=0;n<e.length;++n)t=e[n],F(t.progress,this.value,this.handler,t.receiver,t.resolver)},j.prototype.run=function(){function e(e){i.resolve(e)}function t(e){i.reject(e)}function n(e){i.notify(e)}var i=this.resolver;N(this._then,this.thenable,e,t,n)},O.prototype.fulfilled=function(e){this.f.call(this.c,this.z,e,this.to)},O.prototype.rejected=function(e){this.to.reject(e)},O.prototype.progress=function(e){this.to.notify(e)},n}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})}).call(this,e("_process"))},{_process:111}],105:[function(e,t){!function(e){"use strict";e(function(){function e(){return{state:"pending"}}function t(e){return{state:"rejected",reason:e}}function n(e){return{state:"fulfilled",value:e}}function i(i){var r=i.state();return 0===r?e():r>0?n(i.value):t(i.value)}return{pending:e,fulfilled:n,rejected:t,inspect:i}})}("function"==typeof define&&define.amd?define:function(e){t.exports=e()})},{}],106:[function(e,t){!function(e){"use strict";e(function(e){function t(e,t,n,i){var r=C.resolve(e);return arguments.length<2?r:r.then(t,n,i)}function n(e){return new C(e)}function i(e){return function(){for(var t=0,n=arguments.length,i=new Array(n);n>t;++t)i[t]=arguments[t];return _(e,this,i)}}function r(e){for(var t=0,n=arguments.length-1,i=new Array(n);n>t;++t)i[t]=arguments[t+1];return _(e,this,i)}function o(){return new s}function s(){function e(e){i._handler.resolve(e)}function t(e){i._handler.reject(e)}function n(e){i._handler.notify(e)}var i=C._defer();this.promise=i,this.resolve=e,this.reject=t,this.notify=n,this.resolver={resolve:e,reject:t,notify:n}}function a(e){return e&&"function"==typeof e.then}function l(){return C.all(arguments)}function c(e){return t(e,C.all)}function u(e){return t(e,C.settle)}function h(e,n){return t(e,function(e){return C.map(e,n)})}function d(e,n){return t(e,function(e){return C.filter(e,n)})}var f=e("./lib/decorators/timed"),p=e("./lib/decorators/array"),g=e("./lib/decorators/flow"),m=e("./lib/decorators/fold"),v=e("./lib/decorators/inspect"),y=e("./lib/decorators/iterate"),b=e("./lib/decorators/progress"),w=e("./lib/decorators/with"),x=e("./lib/decorators/unhandledRejection"),k=e("./lib/TimeoutError"),C=[p,g,m,y,b,v,w,f,x].reduce(function(e,t){return t(e)},e("./lib/Promise")),_=e("./lib/apply")(C);return t.promise=n,t.resolve=C.resolve,t.reject=C.reject,t.lift=i,t["try"]=r,t.attempt=r,t.iterate=C.iterate,t.unfold=C.unfold,t.join=l,t.all=c,t.settle=u,t.any=i(C.any),t.some=i(C.some),t.race=i(C.race),t.map=h,t.filter=d,t.reduce=i(C.reduce),t.reduceRight=i(C.reduceRight),t.isPromiseLike=a,t.Promise=C,t.defer=o,t.TimeoutError=k,t})}("function"==typeof define&&define.amd?define:function(n){t.exports=n(e)})},{"./lib/Promise":89,"./lib/TimeoutError":91,"./lib/apply":92,"./lib/decorators/array":93,"./lib/decorators/flow":94,"./lib/decorators/fold":95,"./lib/decorators/inspect":96,"./lib/decorators/iterate":97,"./lib/decorators/progress":98,"./lib/decorators/timed":99,"./lib/decorators/unhandledRejection":100,"./lib/decorators/with":101}],107:[function(e,t,n){function i(e){return this instanceof i?(this.length=0,this.parent=void 0,"number"==typeof e?r(this,e):"string"==typeof e?o(this,e,arguments.length>1?arguments[1]:"utf8"):s(this,e)):arguments.length>1?new i(e,arguments[1]):new i(e)}function r(e,t){if(e=d(e,0>t?0:0|f(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;t>n;n++)e[n]=0;return e}function o(e,t,n){("string"!=typeof n||""===n)&&(n="utf8");var i=0|g(t,n);return e=d(e,i),e.write(t,n),e}function s(e,t){if(i.isBuffer(t))return a(e,t);if(V(t))return l(e,t);if(null==t)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer?c(e,t):t.length?u(e,t):h(e,t)}function a(e,t){var n=0|f(t.length);return e=d(e,n),t.copy(e,0,0,n),e}function l(e,t){var n=0|f(t.length);e=d(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function c(e,t){var n=0|f(t.length);e=d(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function u(e,t){var n=0|f(t.length);e=d(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function h(e,t){var n,i=0;"Buffer"===t.type&&V(t.data)&&(n=t.data,i=0|f(n.length)),e=d(e,i);for(var r=0;i>r;r+=1)e[r]=255&n[r];return e}function d(e,t){i.TYPED_ARRAY_SUPPORT?e=i._augment(new Uint8Array(t)):(e.length=t,e._isBuffer=!0);var n=0!==t&&t<=i.poolSize>>>1;return n&&(e.parent=Y),e}function f(e){if(e>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|e}function p(e,t){if(!(this instanceof p))return new p(e,t);var n=new i(e,t);return delete n.parent,n}function g(e,t){if("string"!=typeof e&&(e=String(e)),0===e.length)return 0;switch(t||"utf8"){case"ascii":case"binary":case"raw":return e.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e.length;case"hex":return e.length>>>1;case"utf8":case"utf-8":return $(e).length;case"base64":return B(e).length;default:return e.length}}function m(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function v(e,t,n,i){return z($(t,e.length-n),e,n,i)}function y(e,t,n,i){return z(F(t),e,n,i)}function b(e,t,n,i){return y(e,t,n,i)}function w(e,t,n,i){return z(B(t),e,n,i)}function x(e,t,n,i){return z(H(t,e.length-n),e,n,i)}function k(e,t,n){return q.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function C(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(i+=W(r)+String.fromCharCode(e[o]),r=""):r+="%"+e[o].toString(16);return i+W(r)}function _(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(127&e[r]);return i}function S(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function T(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=R(e[o]);return r}function L(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function E(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||s>t)throw new RangeError("value is out of bounds");if(n+r>e.length)throw new RangeError("index out of range")}function M(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function P(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function j(e,t,n,i,r,o){if(t>r||o>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function N(e,t,n,i,r){return r||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),U.write(e,t,n,i,23,4),n+4}function O(e,t,n,i,r){return r||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),U.write(e,t,n,i,52,8),n+8}function I(e){if(e=D(e).replace(K,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function D(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function R(e){return 16>e?"0"+e.toString(16):e.toString(16)}function $(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;i>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&((t-=3)>-1&&o.push(239,191,189),r=null);if(128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function F(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function H(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function B(e){return q.toByteArray(I(e))}function z(e,t,n,i){for(var r=0;i>r&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}function W(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var q=e("base64-js"),U=e("ieee754"),V=e("is-array");n.Buffer=i,n.SlowBuffer=p,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var G=1073741823,Y={};i.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);s>o&&e[o]===t[o];)++o;return o!==s&&(n=e[o],r=t[o]),r>n?-1:n>r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!V(e))throw new TypeError("list argument must be an Array of Buffers.");if(0===e.length)return new i(0);if(1===e.length)return e[0];var n;if(void 0===t)for(t=0,n=0;n<e.length;n++)t+=e[n].length;var r=new i(t),o=0;for(n=0;n<e.length;n++){var s=e[n];s.copy(r,o),o+=s.length}return r},i.byteLength=g,i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(e,t,n){var i=!1;if(t=0|t,n=void 0===n||1/0===n?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return _(this,t,n);case"binary":return S(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?0:i.compare(this,e)},i.prototype.indexOf=function(e,t){function n(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}if(t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e)return 0===e.length?-1:String.prototype.indexOf.call(this,e,t);if(i.isBuffer(e))return n(this,e,t);if("number"==typeof e)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):n(this,[e],t);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=t,t=0|n,n=r}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return y(this,e,t,n);case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),e>t&&(t=e);var r;if(i.TYPED_ARRAY_SUPPORT)r=i._augment(this.subarray(e,t));else{var o=t-e;r=new i(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+e]}return r.length&&(r.parent=this.parent||this),r},i.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||E(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},i.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||E(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},i.prototype.readUInt8=function(e,t){return t||E(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||E(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||E(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||E(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||E(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||E(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},i.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||E(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return t||E(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||E(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||E(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||E(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||E(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||E(e,4,this.length),U.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||E(e,4,this.length),U.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||E(e,8,this.length),U.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||E(e,8,this.length),U.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||A(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||A(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):M(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):P(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):P(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=0,s=1,a=0>e?1:0;for(this[t]=255&e;++o<n&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);A(this,e,t,n,r-1,-r)}var o=n-1,s=1,a=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):M(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t=0|t,n||A(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):P(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&n>r&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(1e3>o||!i.TYPED_ARRAY_SUPPORT)for(var s=0;o>s;s++)e[s+t]=this[s+n];else e._set(this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=$(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;n>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var X=i.prototype;i._augment=function(e){return e.constructor=i,e._isBuffer=!0,e._set=e.set,e.get=X.get,e.set=X.set,e.write=X.write,e.toString=X.toString,e.toLocaleString=X.toString,e.toJSON=X.toJSON,e.equals=X.equals,e.compare=X.compare,e.indexOf=X.indexOf,e.copy=X.copy,e.slice=X.slice,e.readUIntLE=X.readUIntLE,e.readUIntBE=X.readUIntBE,e.readUInt8=X.readUInt8,e.readUInt16LE=X.readUInt16LE,e.readUInt16BE=X.readUInt16BE,e.readUInt32LE=X.readUInt32LE,e.readUInt32BE=X.readUInt32BE,e.readIntLE=X.readIntLE,e.readIntBE=X.readIntBE,e.readInt8=X.readInt8,e.readInt16LE=X.readInt16LE,e.readInt16BE=X.readInt16BE,e.readInt32LE=X.readInt32LE,e.readInt32BE=X.readInt32BE,e.readFloatLE=X.readFloatLE,e.readFloatBE=X.readFloatBE,e.readDoubleLE=X.readDoubleLE,e.readDoubleBE=X.readDoubleBE,e.writeUInt8=X.writeUInt8,e.writeUIntLE=X.writeUIntLE,e.writeUIntBE=X.writeUIntBE,e.writeUInt16LE=X.writeUInt16LE,e.writeUInt16BE=X.writeUInt16BE,e.writeUInt32LE=X.writeUInt32LE,e.writeUInt32BE=X.writeUInt32BE,e.writeIntLE=X.writeIntLE,e.writeIntBE=X.writeIntBE,e.writeInt8=X.writeInt8,e.writeInt16LE=X.writeInt16LE,e.writeInt16BE=X.writeInt16BE,e.writeInt32LE=X.writeInt32LE,e.writeInt32BE=X.writeInt32BE,e.writeFloatLE=X.writeFloatLE,e.writeFloatBE=X.writeFloatBE,e.writeDoubleLE=X.writeDoubleLE,e.writeDoubleBE=X.writeDoubleBE,e.fill=X.fill,e.inspect=X.inspect,e.toArrayBuffer=X.toArrayBuffer,e};var K=/[^+\/0-9A-z\-]/g},{"base64-js":108,ieee754:109,"is-array":110}],108:[function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===h?62:t===a||t===d?63:l>t?-1:l+10>t?t-l+26+26:u+26>t?t-u:c+26>t?t-c+26:void 0}function n(e){function n(e){c[h++]=e}var i,r,s,a,l,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=e.length;l="="===e.charAt(u-2)?2:"="===e.charAt(u-1)?1:0,c=new o(3*e.length/4-l),s=l>0?e.length-4:e.length;var h=0;for(i=0,r=0;s>i;i+=4,r+=3)a=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===l?(a=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&a)):1===l&&(a=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(a>>8&255),n(255&a)),c}function r(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,s,a=e.length%3,l="";for(r=0,s=e.length-a;s>r;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],l+=n(o);switch(a){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0),h="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}("undefined"==typeof n?this.base64js={}:n)},{}],109:[function(e,t,n){n.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=d,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=i;u>0;s=256*s+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return s?0/0:1/0*(f?-1:1);s+=Math.pow(2,i),o-=c}return(f?-1:1)*s*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var s,a,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+f]=255&a,f+=p,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[n+f]=255&s,f+=p,s/=256,c-=8);e[n+f-p]|=128*g}},{}],110:[function(e,t){var n=Array.isArray,i=Object.prototype.toString;t.exports=n||function(e){return!!e&&"[object Array]"==i.call(e)}},{}],111:[function(e,t){function n(){c=!1,s.length?l=s.concat(l):u=-1,l.length&&i()}function i(){if(!c){var e=setTimeout(n);c=!0;for(var t=l.length;t;){for(s=l,l=[];++u<t;)s[u].run();u=-1,t=l.length}s=null,c=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var s,a=t.exports={},l=[],c=!1,u=-1;a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new r(e,t)),1!==l.length||c||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}]},{},[1]);