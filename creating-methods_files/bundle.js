!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="https://s3.amazonaws.com/flatironschool-static/help-chat/",t(0)}(function(e){for(var t in e)switch(typeof e[t]){case"number":e[t]=e[e[t]];break;case"object":e[t]=function(t){var n=t.slice(1),i=e[t[0]];return function(e,t,r){i.apply(null,[e,t,r].concat(n))}}(e[t])}return e}([function(e,t,n){var i=window.FIChat&&window.FIChat._configuration,r=!(!window.FIChat||!window.FIChat._started),o=window.FIChat&&window.FIChat._selected,s=window.FIChat&&window.FIChat._open_opts;n(7),window.FIChat=n(2),i&&window.FIChat.configure.apply(window.FIChat,i),r&&window.FIChat.start(function(){o&&window.FIChat.showQuestion(o),s&&window.FIChat.open(s)})},,function(e,t,n){localStorage&&(localStorage.andlogKey="fichatDebug",localStorage.fichatDebug||window.console&&"function"==typeof window.console.log&&console.log("Enable fichat logs by calling FIChat.enableLogs()"));var i=n(28),r=n(9),o=n(29),s=n(30),a=n(10),c=n(11),u=n(12),l=n(13),h=n(14),f=n(15),d=n(16),p=n(17),m=n(18),g=n(19),v=n(24),b=n(20),y=n(31)("Boot");i.extend({init:function(){if(this.me=new c,this.lessonRooms=new l,this.questionRooms=new u,this.messages=new h,this.peers=new f,this.client=new b,this.flatironUsers=new d,this.windowVisibility=new p,this.windowVisibility.bindToApp(this),v(this),localStorage.wantsToShareScreen){var e=parseInt(localStorage.wantsToShareScreen,10);(new Date).getTime()-e<6e4?localStorage.openQuestionOnLoad&&(e=localStorage.openQuestionOnLoad,delete localStorage.openQuestionOnLoad,this.me.currentQuestion=a(e,{domain:r.xmpp.muc})):(y.log("screensharing request too old, ignoring"),delete localStorage.wantsToShareScreen)}},configure:function(e){y.log("Configuring with options",e),this.me.parseSet(e),e.button&&(this.button=e.button,this.mainView&&!this.attachedToButton&&this.attachToButton())},start:function(e){var t=this,n=this.me;if(!n.jid)throw new Error("Need jid or client to start");if(this.me.started)return void y.log("Already started");y.log("Starting"),this.me.started=!0;var i=o(r.xmpp,{jid:n.jid,password:n.userToken});t.client.connect(i,function(){t.lessonRooms.bindToXmpp(),y.log("Rendering main view"),t._render(function(){y.log("Rendered main view"),e&&e()})})},_render:function(e){var t=this;this.mainView=new m({model:this.me}),this.listenTo(this.mainView,"change:panelState",function(e){this.trigger("change:isOpen",e.isOpen())}.bind(this)),s(function(){t.mainView.appendTo(i.me.target),t.button&&t.attachToButton(),e&&e()})},open:function(e){var t=this;e||(e={}),"undefined"==typeof this.mainView?setTimeout(function(){t.open(e)},200):(this.mainView.isOpen()||(this.me.showChatOnly?(this.mainView.fullOpen(),this.mainView.focusOnChatInput()):this.mainView.halfOpen()),this.mainView.set(e),this.trigger("activity",{type:"panel-open"}),e.focusInput===!0&&this.focusOnQuestionInput(),e.collapsedQuestionInput===!0&&this.collapseNewQuestion())},close:function(){this.mainView.close()},isOpen:function(){return this.mainView.isOpen()},isPreview:function(){return this.mainView.previewMode},hover:function(){this.mainView.isOpen()?this.mainView.hovering=!0:(this.open({previewMode:!0,hovering:!0}),this.trigger("activity",{type:"panel-hover"}))},hoverEnd:function(){this.mainView.hovering=!1},attachToButton:function(){if(!this.attachedToButton){var e=this.button;if(!e)throw new Error("Cannot attach to undefined element");"string"==typeof e&&(e=document.querySelector(e)),e.jquery&&(e=e[0]),this.buttonView=new g({el:e,mainView:this.mainView,collection:this.questionRooms.unresolved}),this.buttonView.render(),this.attachedToButton=!0}},focusOnQuestionInput:function(){this.mainView&&this.mainView.focusOnQuestionInput()},focusOnChatInput:function(){this.mainView&&this.mainView.focusOnChatInput()},collapseNewQuestion:function(){this.mainView&&this.mainView.collapseNewQuestion()},enableLogs:function(){localStorage.fichatDebug=!0,console.log("Now restart to see logs")},disableLogs:function(){delete localStorage.fichatDebug,console.log("Now restart to hide logs")},showQuestion:function(e){var t=this;"undefined"==typeof this.mainView?setTimeout(function(){t.showQuestion(e)},200):(e=a(e,{domain:r.xmpp.muc}),this.client.joinAndShowQuestionRoom(e,{deepLinked:!0}))}}),i.init(),e.exports=i},,,,,function(e,t,n){var i=n(8);"string"==typeof i&&(i=[[e.id,i,""]]);n(21)(i,{})},function(e,t,n){t=e.exports=n(46)(),t.push([e.id,'@-webkit-keyframes pulse{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:.4;-webkit-transform:scale(.9);transform:scale(.9)}}@keyframes pulse{0%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:.4;-webkit-transform:scale(.9);transform:scale(.9)}}.fichat *,.fichat *:before,.fichat *:after{box-sizing:border-box}.fichat{font-family:\'nimbus-sans\',Helvetica,Arial,sans-serif}.fichat .cf:before,.fichat .cf:after{content:" ";display:table}.fichat .cf:after{clear:both}.fichat-btn{display:inline-block;color:#fff;border:none;text-align:center;line-height:1;outline:none}.fichat-btn:hover{color:#fff;text-decoration:none}.fichat-btn-primary{padding:12px 20px 10px;background:#15bdde;font-family:"bebasneue",Helvetica,Arial,sans-serif;font-size:20px;text-transform:uppercase}.fichat-btn-primary.fichat-btn-white{background:#fff;color:#707076;border:1px solid #dedede}.fichat-btn-primary.fichat-btn-white:hover{background:#efefef}.fichat-btn-primary.fichat-btn-short{padding:6px 15px 4px}.fichat-btn-secondary{padding:10px 15px 8px;background:#ccc;border-radius:3px;font-size:14px}.fichat-btn-secondary:hover{background:#aaa}.fichat-btn-tertiary{padding:15px 20px 12px;background:#444;font-size:14px}.fichat-btn-tertiary:hover{background:#000}.fichat-btn-small{padding:5px 15px 3px;background:#15bdde;border-radius:3px;font-size:11px}.fichat-btn-small:hover{background:#444}.fichat-btn-textonly{padding:5px;border:none;background:0 0;color:inherit}.fichat-btn-textonly:focus{outline:none}.fichat-btn-textonly:hover{text-decoration:underline}.fichat-btn-show-resolved,.fichat-btn-hide-resolved{color:#666;font-size:12px}.fichat-btn-show-resolved:hover,.fichat-btn-hide-resolved:hover{background:0 0;color:#15bdde;text-decoration:none}.fichat-avatar{width:30px;height:30px;display:block;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.14)}@media screen and (max-width:740px){.fichat-panel,.fichat-docked-questions-list{display:none}}.fichat-panel{overflow:hidden;position:fixed;top:84px;right:0;z-index:10000}.fichat-panel-inner{width:calc(18vw + 27vw);min-width:calc(284px + 420px);height:100%;position:absolute;top:0;left:25px}.fichat-panel-closed{opacity:0;height:0;-webkit-transition:height 300ms linear 300ms,opacity 300ms linear 300ms,width 300ms linear,min-width 300ms linear;transition:height 300ms linear 300ms,opacity 300ms linear 300ms,width 300ms linear,min-width 300ms linear}.fichat-panel-closed,.fichat-panel-halfopen{width:calc(25px + 18vw);min-width:calc(25px + 284px)}.fichat-panel-halfopen{opacity:1;height:calc(100vh - 84px);-webkit-transition:height 300ms linear;transition:height 300ms linear}.fichat-panel-fullopen{height:calc(100vh - 84px);width:calc(18vw + 27vw + 25px);min-width:calc(284px + 420px + 25px)}.fichat-panel-fullopen,.fichat-panel-fullopen .fichat-panel-inner,.fichat-panel-fullopen .fichat-panel-chat,.fichat-panel-expanded{-webkit-transition:width 300ms linear,min-width 300ms linear;transition:width 300ms linear,min-width 300ms linear}.fichat-panel-expanded{height:calc(100vh - 84px);width:calc(18vw + 40.5vw + 25px);min-width:calc(284px + 630px + 25px)}.fichat-panel-expanded .fichat-panel-inner{width:calc(18vw + 40.5vw);min-width:calc(284px + 630px)}.fichat-panel-expanded .fichat-panel-inner,.fichat-panel-expanded .fichat-panel-chat{-webkit-transition:width 300ms linear,min-width 300ms linear;transition:width 300ms linear,min-width 300ms linear}.fichat-panel-expanded .fichat-panel-chat{width:40.5vw;min-width:630px}.fichat-panel-questions{height:100%;position:absolute}.fichat-panel-chat{position:absolute}.fichat-panel-questions{width:18vw;min-width:284px;top:0;left:0}.fichat-see-all-btn{width:100%;box-shadow:0 3px 4px #8f8f8f}.fichat-panel-chat{width:27vw;min-width:420px;top:0;right:0}.fichat-panel-preview-triangle{z-index:10000;position:fixed;right:calc(18vw - 50px);top:calc(84px - 10px);border-bottom:10px solid #ef2572;border-left:12px solid transparent;border-right:12px solid transparent;opacity:0}.fichat-panel-preview-triangle.closing{opacity:0;-webkit-transition:opacity 300ms linear 300ms;transition:opacity 300ms linear 300ms}.fichat-panel-preview-triangle.closed{opacity:0}.fichat-panel-preview-triangle.previewing{opacity:1}.fichat-panel-close{width:25px;height:25px;position:absolute;top:0;left:0;padding:0;border:none;background-color:#707076;background-image:url('+n(167)+");background-repeat:no-repeat;background-size:12px 12px;background-position:center center;border-right:1px solid #fff;-webkit-transition:left 300ms linear;transition:left 300ms linear;opacity:1}.fichat-panel-close:hover{background-color:#444}.fichat-panel-close:focus{outline:none;background-color:#15bdde}.fichat-panel-closed .fichat-panel-close{opacity:0;-webkit-transition:opacity 300ms linear;transition:opacity 300ms linear}.fichat-docked-questions-wrapper{position:fixed;width:18vw;min-width:284px;z-index:10010;bottom:0;right:0;-webkit-transition:width 300ms linear,min-width 300ms linear;transition:width 300ms linear,min-width 300ms linear}.fichat-docked-questions-list{position:absolute;bottom:0;left:0;width:18vw;min-width:284px}.fichat-docked-questions-wrapper.fichat-docked-fullopen{width:calc(18vw + 27vw);min-width:calc(284px + 420px);-webkit-transition:width 300ms linear,min-width 300ms linear;transition:width 300ms linear,min-width 300ms linear}.fichat-docked-questions-wrapper.fichat-docked-expanded{width:calc(18vw + 40.5vw);min-width:calc(284px + 630px);-webkit-transition:width 300ms linear,min-width 300ms linear;transition:width 300ms linear,min-width 300ms linear}.fichat-new-question{background:#444;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fichat-new-question-collapsed .fichat-new-question-form-wrapper{max-height:0;overflow:hidden;-webkit-transition:max-height linear 300ms;transition:max-height linear 300ms}.fichat-new-question-expanded .fichat-new-question-form-wrapper{max-height:300px;overflow:hidden;-webkit-transition:max-height linear 300ms 200ms;transition:max-height linear 300ms 200ms}.fichat-new-question-form{padding:7px 8px 2px;border-top:1px solid #dedede}.fichat-new-question-form textarea{width:100%;padding:5px 15px;resize:none;border:1px solid #dedede;color:#444;font-size:15px;line-height:1.4em}.fichat-new-question-form textarea:focus{outline:none;border:2px #f9ab22 solid;border-bottom:none;margin-top:-1px}.fichat-new-question-form textarea::-webkit-input-placeholder{color:#444}.fichat-new-question-form textarea{border-radius:3px 3px 0 0;border-bottom:none}.fichat-new-question-form textarea:focus+.fichat-lesson-title{border:2px solid #f9ab22;border-top:1px solid #dedede;margin-bottom:9px}.fichat-new-question-form .fichat-lesson-title{width:100%;min-height:23px;margin-top:-6px;margin-bottom:10px;padding:6px 10px 4px 24px;display:block;position:relative;background:#fff;border-radius:0 0 3px 3px;border:1px solid #dedede;font-size:11px;line-height:1}.fichat-new-question-form .fichat-lesson-title:before{width:7px;height:7px;position:absolute;top:50%;left:10px;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);content:'';background:#f9ab22;border-radius:50%}.fichat-new-question-form button{width:125px;display:block;margin:5px auto 12px;border:2px solid rgba(0,0,0,0)}.fichat-new-question-form button:disabled{color:gray;background:#535353}.fichat-new-question-form button:focus{border:2px solid #f9ab22;box-shadow:0 0 2px #f9ab22}.fichat-panel-questions{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.fichat-panel-fullopen .fichat-panel-questions,.fichat-panel-expanded .fichat-panel-questions{overflow-x:hidden}.fichat-questions-header,.fichat-new-question{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0}.fichat-questions-list{-webkit-box-flex:1;-webkit-flex:1 100%;-ms-flex:1 100%;flex:1 100%;width:calc(100% + 50px);overflow-y:scroll;padding-bottom:50vh}.fichat-questions-list-inner{width:18vw;min-width:284px}.fichat-panel-questions{background:#efefef;border-left:1px solid #dedede}.fichat-panel-fullopen .fichat-panel-questions{box-shadow:-4px 0 4px rgba(0,0,0,.1)}.fichat-panel-fullopen .fichat-panel-close{box-shadow:-4px 4px 4px rgba(0,0,0,.1)}.fichat-questions-header{position:relative}.fichat-questions-header h4{margin:0;padding:8px;position:relative;background:#ef2572;color:#fff;text-align:center}.fichat-questions-settings{width:20px;height:28px;position:absolute;right:10px;bottom:0;background:url("+n(168)+") no-repeat center top;background-size:15px 15px;cursor:pointer}.fichat-questions-settings-panel{width:200px;padding:20px;position:absolute;right:-4px;top:24px;z-index:1000;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.25);font-size:15px;text-align:center;cursor:auto}.fichat-questions-settings-panel *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fichat-questions-settings-panel label,.fichat-questions-settings-panel span[data-for],.fichat-questions-settings-panel checkbox{cursor:pointer}.fichat-questions-settings-panel:before{content:'';position:absolute;right:7px;top:-7px;border-bottom:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent}.fichat-questions-settings-panel h5{margin-top:0;text-align:center}.fichat-question-setting{height:40px;position:relative;border-bottom:1px solid #dedede}.fichat-question-setting:last-child{border-bottom:none}.fichat-question-setting>span{color:#707076;position:absolute;left:50px;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.fichat-question-setting input[type=\"checkbox\"]{display:none}.fichat-question-setting input[type=\"checkbox\"]+label{width:36px;height:19px;position:absolute;left:5px;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);border-radius:50px;border:1px solid #aaa}.fichat-question-setting input[type=\"checkbox\"]+label span{width:15px;height:15px;position:absolute;left:1px;top:1px;display:block;background:#aaa;border-radius:50px;cursor:pointer;-webkit-transition:all .2s ease;transition:all .2s ease}.fichat-question-setting:not(.disabled) input[type=checkbox]:checked+label{border-color:#55bf9b}.fichat-question-setting:not(.disabled) input[type=checkbox]:checked+label span{background:#55bf9b;left:18px}.fichat-question-setting.disabled input[type=checkbox]:checked+label span{left:18px}.fichat-question-setting.disabled{opacity:.5}.fichat-question-setting.disabled *{cursor:default}.fichat-questions-list{box-shadow:inset -51px 0 0 #dedede}.fichat-question{padding:8px;position:relative;cursor:pointer;border-bottom:1px solid #dedede}.fichat-question.is-selected{background:#f9f9f9}.fichat-question .fichat-question-docked-controls{display:none}.fichat-question-container{padding:6px 6px 0 45px;position:relative}.fichat-question-container .fichat-avatar{position:absolute;top:5px;left:5px}.fichat-question-name{margin-right:5px;font-size:10px;font-weight:700}.fichat-question-time{font-size:9px;color:#707076}.fichat-question-text{margin-top:6px;margin-bottom:0;font-size:14px;word-wrap:break-word}.fichat-question-lab-activity{margin-top:10px}.fichat-question-lab{margin-right:5px;margin-bottom:10px;position:relative;font-size:9px;color:#707076}.fichat-question-lab:before{width:7px;height:7px;position:absolute;top:1px;left:-12px;content:'';background:#f9ab22;border:1px solid #fff;border-radius:50%}.fichat-question-activity{display:none}.has-unread-activity .fichat-question-activity{display:block}.fichat-question-activity li{width:7px;height:7px;margin-top:3px;margin-left:1px;float:left;background:#15bdde}.fichat-question-activity li:nth-child(1){-webkit-animation:pulse .5s -.5s linear infinite;animation:pulse .5s -.5s linear infinite}.fichat-question-activity li:nth-child(2){-webkit-animation:pulse .5s -.375s linear infinite;animation:pulse .5s -.375s linear infinite}.fichat-question-activity li:nth-child(3){-webkit-animation:pulse .5s -.25s linear infinite;animation:pulse .5s -.25s linear infinite}.fichat-question-activity li:nth-child(4){-webkit-animation:pulse .5s -.125s linear infinite;animation:pulse .5s -.125s linear infinite}.fichat-question-resolve{margin-top:-7px;position:relative}.fichat-question-resolve :first-child{margin-top:0}.fichat-question-resolve p{font-size:16px}.fichat-question-resolve-alert{width:210px;padding:20px 40px 15px;position:absolute;right:5%;top:100%;z-index:100;background:#fdffff;border:1px solid #dedede;box-shadow:0 0 10px rgba(0,0,0,.2);text-align:center}.fichat-question-resolve-alert :first-child{margin-top:0}.is-selected .fichat-question-resolve{display:block}.fichat-resolved-control{padding:20px;text-align:center}.fichat-panel-preview .fichat-question-container{padding-bottom:15px}.fichat-panel-preview .fichat-panel-questions{background:0 0;border-left:none}.fichat-panel-preview .fichat-questions-list-inner{background:#efefef}.fichat-panel-preview .fichat-question-lab-activity{display:none}.fichat-panel-preview .fichat-question-text{margin-bottom:0}.fichat-docked-questions-list{border-top:1px solid #dedede;border-bottom:1px solid #dedede}.fichat-docked-questions-list .fichat-question-name-date,.fichat-docked-questions-list .fichat-question-lab-activity{display:none}.fichat-docked-questions-list .fichat-question{min-height:38px;padding:0;position:relative;background:#444;color:#efefef}.fichat-docked-questions-list .fichat-question.has-unread-activity .fichat-question-text:after{width:9px;height:9px;position:relative;top:1px;left:5px;content:'';background:#15bdde;border-radius:50%;display:inline-block}.fichat-docked-questions-list .fichat-question.is-selected{background:#f9f9f9;color:#707076;border-right:1px solid #dedede}.fichat-docked-questions-list .fichat-question.is-selected p.fichat-question-text{width:180px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;height:1.12em}.fichat-docked-questions-list .fichat-question:last-child{border-bottom:none}.fichat-docked-questions-list .fichat-question:hover .fichat-question-remove{display:block}.fichat-docked-questions-list .fichat-question-container{padding:10px 25px 10px 50px}.fichat-docked-questions-list .fichat-avatar{width:25px;height:25px;top:7px;left:15px}.fichat-docked-questions-list .fichat-question-text{margin:3px 0 0;font-size:13px}.fichat-docked-questions-list .fichat-question-docked-controls{display:block;position:absolute;right:7px;top:7px}.fichat-docked-questions-list .fichat-question-docked-controls .fichat-question-select{width:10px;height:10px;display:block;background:url("+n(169)+") no-repeat center center;background-size:10px 10px}.fichat-docked-questions-list .fichat-question-docked-controls .fichat-question-remove{width:10px;height:10px;margin-top:5px;display:none;background:url("+n(167)+") no-repeat center center;background-size:10px 10px;opacity:.5}.fichat-docked-questions-list .fichat-question-docked-controls .fichat-question-remove:hover{opacity:1}.fichat-docked-questions-list .is-selected .fichat-question-docked-controls .fichat-question-select,.fichat-docked-questions-list .is-selected .fichat-question-docked-controls .fichat-question-remove{display:none}.fichat-questions-list-unresolved .fichat-question-container{border-top:0 #ef2572 solid;background:rgba(255,255,255,0);-webkit-transition:all 250ms linear;transition:all 250ms linear}.fichat-questions-list-unresolved .fichat-question-is-new{border-bottom-color:transparent}.fichat-questions-list-unresolved .fichat-question-is-new .fichat-question-container{border-top:5px solid #ef2572;background:#fff;-webkit-transition:all 500ms linear;transition:all 500ms linear}.fichat-questions-list-unresolved .fichat-question-is-new .fichat-question-time{color:#ef2572}.fichat-questions-list-unresolved .fichat-question-new-transition{opacity:0;max-height:0;-webkit-transition:all 250ms linear;transition:all 250ms linear}.fichat-questions-list-unresolved .fichat-question-new-transition.fichat-question-new-transition-active{opacity:1;max-height:800px}.fichat-questions-list-unresolved .fichat-question-remove-transition{opacity:1;max-height:800px;-webkit-transition:all 250ms linear;transition:all 250ms linear}.fichat-questions-list-unresolved .fichat-question-remove-transition.fichat-question-remove-transition-active{opacity:0;max-height:0;padding-top:0;padding-bottom:0;overflow:hidden}.fichat-questions-list-unresolved.fichat-questions-list-preview .fichat-question-new-transition,.fichat-questions-list-unresolved.fichat-questions-list-preview .fichat-question-new-transition-active,.fichat-questions-list-unresolved.fichat-questions-list-preview .fichat-question-remove-transition,.fichat-questions-list-unresolved.fichat-questions-list-preview .fichat-question-remove-transition-active{-webkit-transition-duration:0;transition-duration:0;-webkit-transition:none;transition:none}.fichat-expand-new-question-wrapper{position:absolute;left:0;bottom:0;right:0;height:100%;max-height:0;-webkit-transition:max-height linear 300ms;transition:max-height linear 300ms;overflow:hidden}.fichat-expand-new-question-wrapper button{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%);padding:3px 13px}.fichat-expand-new-question-wrapper button:hover{opacity:.8}.fichat-new-question-expanded .fichat-expand-new-question-wrapper{overflow:hidden;max-height:0;-webkit-transition:max-height linear 300ms;transition:max-height linear 300ms}.fichat-new-question-expanded .fichat-questions-header h4{background:$chat-grey-pink;-webkit-transition:background linear 300ms;transition:background linear 300ms}.fichat-new-question-collapsed .fichat-questions-header h4{background:#444;-webkit-transition:background linear 300ms 200ms,color linear 300ms 200ms;transition:background linear 300ms 200ms,color linear 300ms 200ms;color:transparent}.fichat-new-question-collapsed .fichat-expand-new-question-wrapper{max-height:50px;-webkit-transition:max-height linear 300ms 200ms;transition:max-height linear 300ms 200ms}.fichat-panel-chat,.fichat-panel-chat>div{height:100%}.fichat-chat{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;overflow-x:hidden}.fichat-chats-list{-webkit-box-flex:1;-webkit-flex:1 100%;-ms-flex:1 100%;flex:1 100%;padding:20px 50px 20px 0;width:calc(100% + 50px);position:relative;overflow-y:scroll}.fichat-chats-inner{padding:0 15px}.fichat-new-chat{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0}.fichat-panel-chat{background:#f9f9f9}.fichat-chats-resolved-header{text-align:center}.fichat-chats-resolved-header .fichat-chats-subject-header h3{margin-top:0;margin-bottom:8px}.fichat-chats-resolved-header .fichat-chats-subject{margin-bottom:25px}.fichat-chats-empty{max-width:280px;margin:40px auto 0;padding-top:100px;background:no-repeat center 0;text-align:center}.fichat-chats-empty.question-mine{background-image:url("+n(170)+")}.fichat-chats-empty.question-other{background-image:url("+n(171)+")}.fichat-chats-empty h3{margin:0 0 2px;color:#ef2572;font-size:34px}.fichat-chats-empty h4{margin:0;font-size:22px}.fichat-chats-empty .fichat-message{margin-top:35px;padding:0;text-align:left}.fichat-chats-empty .fichat-message-text{padding:15px 20px;font-size:13px}.fichat-message{padding:0 35px;position:relative;z-index:0}.fichat-message .fichat-avatar{width:25px;height:25px}.fichat-message .fichat-avatar-wrapper{width:25px;height:25px;position:absolute;top:18px}.fichat-message.has-codeblock .fichat-message-text{width:100%}.fichat-message-text{margin-bottom:20px;padding:10px 12px;display:inline-block;position:relative;border:1px solid #dedede;background:#fff;font-size:14px;word-wrap:break-word}.fichat-message-text:before,.fichat-message-text:after{position:absolute;border-style:solid;content:''}.fichat-message-text:before{top:-1px;border-color:#dedede transparent}.fichat-message-text:after{top:0;border-color:#fff transparent}.fichat-message-name{margin-bottom:3px;display:block;font-size:9px}.fichat-message:not(.fichat-message-is-mine) .fichat-message-text:before,.fichat-message:not(.fichat-message-is-mine) .fichat-message-text:after{border-width:9px 0 0 8px}.fichat-message:not(.fichat-message-is-mine) .fichat-message-text:before{left:-9px}.fichat-message:not(.fichat-message-is-mine) .fichat-message-text:after{left:-7px}.fichat-message:not(.fichat-message-is-mine) .fichat-avatar-wrapper{left:0}.fichat-message.fichat-message-is-mine{text-align:right}.fichat-message.fichat-message-is-mine .fichat-message-text{text-align:left}.fichat-message.fichat-message-is-mine .fichat-message-text:before,.fichat-message.fichat-message-is-mine .fichat-message-text:after{border-width:9px 8px 0 0}.fichat-message.fichat-message-is-mine .fichat-message-text:before{right:-9px}.fichat-message.fichat-message-is-mine .fichat-message-text:after{right:-7px}.fichat-message.fichat-message-is-mine .fichat-avatar-wrapper{right:0}.fichat-message.fichat-message-is-mine.fichat-message-is-pending{opacity:.5}.fichat-composers{height:20px;margin-top:40px;padding:0 15px}.fichat-chat-list-activity .fichat-avatar{width:20px;height:20px;display:block;margin-right:5px;border-width:1px}.fichat-chat-activity li{width:10px;height:10px;margin-top:6px;margin-left:4px;float:left;background:#15bdde}.fichat-chat-activity li:nth-child(1){-webkit-animation:pulse .5s -.5s linear infinite;animation:pulse .5s -.5s linear infinite}.fichat-chat-activity li:nth-child(2){-webkit-animation:pulse .5s -.33s linear infinite;animation:pulse .5s -.33s linear infinite}.fichat-chat-activity li:nth-child(3){-webkit-animation:pulse .5s -.17s linear infinite;animation:pulse .5s -.17s linear infinite}.fichat-message-text :first-child,.fichat-markdown-preview :first-child{margin-top:0}.fichat-message-text ul,.fichat-markdown-preview ul{margin-left:15px;list-style:disc}.fichat-message-text ol,.fichat-markdown-preview ol{margin-left:15px;list-style:decimal}.fichat-message-text p code,.fichat-markdown-preview p code{padding:2px 5px}.fichat-message-text blockquote,.fichat-markdown-preview blockquote{font-size:16px}.fichat-message-text pre,.fichat-markdown-preview pre,.fichat-message-text code,.fichat-markdown-preview code{font-size:14px}.fichat-message-text pre,.fichat-markdown-preview pre{width:100%;padding:15px;background:#f9f9f9;border:1px solid #dedede;border-radius:0;overflow-x:auto}.fichat-message-text pre code,.fichat-markdown-preview pre code{word-wrap:normal;white-space:pre}.fichat-message-text .fichat-embed span,.fichat-markdown-preview .fichat-embed span{display:none}.fichat-message-text .fichat-embed img,.fichat-markdown-preview .fichat-embed img{width:100px;margin-top:10px}.fichat-message-text .fichat-embed.expanded img,.fichat-markdown-preview .fichat-embed.expanded img{width:100%}.fichat-message-text p>a[href*=chat-upload][href*=flatironschool],.fichat-markdown-preview p>a[href*=chat-upload][href*=flatironschool]{display:none}.fichat-message-text .fichat-message-code,.fichat-markdown-preview .fichat-message-code{padding-left:15px;position:relative}.fichat-message-text .fichat-message-code pre,.fichat-markdown-preview .fichat-message-code pre,.fichat-message-text .fichat-message-code img,.fichat-markdown-preview .fichat-message-code img{display:block;-webkit-transition:width 300ms linear;transition:width 300ms linear}.fichat-message-text .fichat-message-code .fichat-message-code-expand,.fichat-markdown-preview .fichat-message-code .fichat-message-code-expand,.fichat-message-text .fichat-message-code .fichat-message-image-expand,.fichat-markdown-preview .fichat-message-code .fichat-message-image-expand{width:15px;height:16px;position:absolute;top:10px;left:0;background:#444 no-repeat center center;background-size:8px 8px;border-radius:4px 0 0 4px;border:none}.fichat-message-text .fichat-message-code .fichat-message-code-expand.message-expand,.fichat-markdown-preview .fichat-message-code .fichat-message-code-expand.message-expand,.fichat-message-text .fichat-message-code .fichat-message-image-expand.message-expand,.fichat-markdown-preview .fichat-message-code .fichat-message-image-expand.message-expand{background-image:url("+n(172)+")}.fichat-message-text .fichat-message-code .fichat-message-code-expand.message-compress,.fichat-markdown-preview .fichat-message-code .fichat-message-code-expand.message-compress,.fichat-message-text .fichat-message-code .fichat-message-image-expand.message-compress,.fichat-markdown-preview .fichat-message-code .fichat-message-image-expand.message-compress{background-image:url("+n(173)+")}.fichat-message-text .fichat-message-code .fichat-message-code-expand:hover,.fichat-markdown-preview .fichat-message-code .fichat-message-code-expand:hover,.fichat-message-text .fichat-message-code .fichat-message-image-expand:hover,.fichat-markdown-preview .fichat-message-code .fichat-message-image-expand:hover{opacity:.8}.fichat-message-text .fichat-message-code .fichat-message-code-expand:focus,.fichat-markdown-preview .fichat-message-code .fichat-message-code-expand:focus,.fichat-message-text .fichat-message-code .fichat-message-image-expand:focus,.fichat-markdown-preview .fichat-message-code .fichat-message-image-expand:focus{outline:none}.fichat-panel-expanded .fichat-message-code-expand,.fichat-panel-expanded .fichat-message-image-expand{background-image:url("+n(173)+") !important}.fichat-panel-expanded .fichat-message-code{width:100%}.fichat-panel-fullopen .fichat-message-code-expand,.fichat-panel-fullopen .fichat-message-image-expand{background-image:url("+n(172)+") !important}.fichat-markdown-preview{margin-top:5px;margin-bottom:5px;padding:10px;border:1px solid #dedede;background:#fff;font-size:14px;word-wrap:break-word;overflow-y:scroll}.fichat-actions-bar{background-color:#efefef;position:relative}.fichat-actions-bar .fichat-action{padding:8px 3px 10px 35px;display:block;float:right;background:#efefef no-repeat 15px 7px;background-size:auto 14px;border:none;font-size:12px;font-weight:700;text-align:left}.fichat-actions-bar .fichat-action:nth-child(2){border-left:1px solid #f9f9f9;border-right:1px solid #f9f9f9}.fichat-actions-bar .fichat-action:focus{outline:none}.fichat-actions-bar .fichat-action:hover{background-color:#e3e3e3}.fichat-actions-bar .fichat-action+.fichat-action{border-right:1px #fff solid}.fichat-actions-bar .fichat-action-github{width:33.3%;background-image:url("+n(174)+");background-position:22px 7px;padding-left:42px}.fichat-actions-bar .fichat-action-resolve{width:33.3%;background-image:url("+n(175)+");background-color:#47c86a;color:#fff;background-position:17px 7px;padding-left:36px}.fichat-actions-bar .fichat-action-resolve:hover{background-color:#38bc5c}.fichat-actions-bar .fichat-action-screenshare{width:33.3%;background-color:#15bdde;background-image:url("+n(176)+");background-size:auto 13px;color:#fff;background-position:22px 7px;padding-left:42px}.fichat-actions-bar .fichat-action-screenshare:hover{background-color:#444}.fichat-actions-bar .fichat-action-screenshare .share{display:inline-block}.fichat-actions-bar .fichat-action-screenshare .sharing,.fichat-actions-bar .fichat-action-screenshare .join{display:none}.fichat-actions-bar .fichat-action-screenshare:disabled{background-color:#dedede}.fichat-actions-bar .fichat-action-screenshare:disabled .sharing{display:inline-block}.fichat-actions-bar .fichat-action-screenshare:disabled .share,.fichat-actions-bar .fichat-action-screenshare:disabled .join{display:none}.fichat-actions-bar .fichat-action-screenshare.is-active:not(:disabled) .join{display:inline-block}.fichat-actions-bar .fichat-action-screenshare.is-active:not(:disabled) .sharing,.fichat-actions-bar .fichat-action-screenshare.is-active:not(:disabled) .share{display:none}.fichat-actions-bar .fichat-question-resolve-alert{bottom:calc(100% + 10px);right:auto;top:auto;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%)}.fichat-new-chat{min-height:37px;position:relative;border-top:1px solid #dedede;background:#fff}.fichat-new-chat textarea{width:100%;display:block;padding:9px 45px;border:none;background:0 0;resize:none;line-height:1.2;font-size:15px;max-height:calc((100vh - 100px)* .5)}.fichat-new-chat textarea:focus{outline:none;box-shadow:1px 1px 0 #f9ab22 inset,-1px -1px 0 #f9ab22 inset,1px 1px 1px #f9ab22 inset,-1px -1px 1px #f9ab22 inset}.fichat-new-chat textarea:disabled{background:#eee}.fichat-new-upload,.fichat-new-upload-input{width:22px;height:22px;position:absolute;top:7px;left:10px}.fichat-new-upload{border:none;background:url("+n(177)+") no-repeat center center;background-size:}.fichat-new-upload-input{opacity:0;cursor:pointer;overflow:hidden}.fichat-new-upload-input input[type=file]{opacity:0;position:relative;left:-9999px}.fichat-new-controls{width:18px;height:34px;padding:0;position:absolute;right:13px;top:0;background:#fff;text-align:center}.fichat-new-controls a{display:inline-block;opacity:.2}.fichat-new-controls a.is-active{opacity:1}.fichat-new-controls a:hover{cursor:pointer}.fichat-new-controls .control-text,.fichat-new-controls .control-markdown{width:18px;height:50%;position:absolute;background-size:contain;background-position:50% 50%;background-repeat:no-repeat}.fichat-new-controls .control-text{left:0;top:0;background-image:url("+n(178)+")}.fichat-new-controls .control-markdown{left:0;bottom:0;background-image:url("+n(179)+")}.fichat-progress{position:absolute;top:0;left:0;height:5px;width:100%}.fichat-progress .fichat-progress-bar{height:100%;background:#15bdde}.fichat-chat-hover-msg{display:none;position:absolute;top:0;left:0;right:0;bottom:0;background:#f9f9f9}.fichat-chat-hover-msg>span{position:absolute;left:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);width:100%;text-align:center;line-height:1}.fichat-drag-hover .fichat-chat-hover-msg{display:block}.fichat-helper-text{position:relative;border-top:1px solid #dedede;font-size:12px}.fichat-helper-text p{margin:0;padding:5px 20px 8px;text-align:right;color:#aaa}.fichat-helper-text .fichat-screenshare-status{width:100%;height:100%;padding:5px 10px 8px;position:absolute;left:0;top:0;background:#444;color:#fff;text-align:center;text-transform:uppercase}.fichat-chat.fichat-chat-resolved .fichat-new-chat,.fichat-chat.fichat-chat-resolved .fichat-new-screenshare,.fichat-chat.fichat-chat-resolved .fichat-composers,.fichat-chat.fichat-chat-resolved .fichat-actions-bar,.fichat-chat.fichat-chat-resolved .fichat-helper-text{display:none}.fichat-chat-modal-container .fichat-chat-modal{position:absolute;top:0;left:0;right:0;bottom:0;z-index:10;background:#fff;text-align:center;padding:20px}.fichat-chat-modal-container .fichat-chat-modal p{font-size:16px}.fichat-chat-modal-container .fichat-chat-modal img{display:block;width:33%;margin:30px auto}.fichat-chat-modal-container .fichat-chat-modal .fichat-btn{margin:5px auto;display:block}.fichat-chat-modal-container .fichat-chat-modal .fichat-btn-secondary{background:0 0;border:none;color:#707076}.fichat-chat-modal-container .fichat-chat-modal .fichat-btn-secondary:hover{text-decoration:underline}.fichat-chat-modal-container .fichat-chat-modal .fichat-question-activity{display:block;margin:10px auto;width:45px;overflow:hidden}.fichat-chat-modal-container .fichat-chat-modal .fichat-question-activity li{width:10px;height:10px}.fichat-chats-resolved-message{display:none}.fichat-chat-resolved .fichat-chats-resolved-message{display:block;font-size:14px;text-align:center}.fichat-editor-code{width:calc(100% - 10px);position:absolute;right:5px;bottom:5px;top:5px;z-index:1;background:#fff;box-shadow:0 0 10px rgba(0,0,0,.25)}.fichat-editor-body{height:calc(100% - 45px - 59px)}.fichat-editor-body .CodeMirror{height:100%}.fichat-editor-header{padding:14px 30px 12px;position:relative;background:#444;font-size:16px;color:#fff}.fichat-editor-header .fichat-editor-close{width:12px;height:12px;position:absolute;right:15px;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);background:url("+n(167)+") no-repeat center center;background-size:12px 12px}.fichat-editor-header .fichat-editor-close:hover{opacity:.7;cursor:pointer}.fichat-editor-footer{padding:7px;border-top:1px solid #dedede;text-align:right}.fichat-editor-footer .fichat-btn-primary:not(.fichat-btn-white):hover{background:#444}.fichat-notification{z-index:10000;position:absolute;cursor:pointer}@media screen and (max-width:740px){.fichat-notification{display:none}}.fichat-notification-title,.fichat-notification-question{width:230px;background:#000;color:#fff;overflow:hidden}.fichat-notification-question{position:relative}.fichat-notification-title{padding:10px 35px 10px 65px;height:50px;position:relative;font-size:14px}.fichat-notification-title p{margin:0;padding:0 35px 0 0}.fichat-notification-title p,.fichat-notification-title .fichat-notification-close{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.fichat-notification-title .fichat-notification-close{width:10px;height:10px;right:15px;background:url("+n(167)+") no-repeat center center;background-size:10px 10px}.fichat-notification-title .fichat-notification-close:hover{opacity:.7;cursor:pointer}.fichat-notification-avatar{position:absolute;top:0;left:0;height:50px;width:50px}.fichat-notification-question{margin-top:2px;padding:10px 20px;opacity:0;font-size:15px}.fichat-notification-question a{margin-top:10px;display:block;color:#15bdde}.fichat-notification-enter{position:fixed;top:10px;right:-230px}.fichat-notification-enter-active{right:10px;-webkit-transition:right linear 300ms,top linear 300ms;transition:right linear 300ms,top linear 300ms}.fichat-notification-enter-active .fichat-notification-question{opacity:1;-webkit-transition:opacity linear 500ms 500ms;transition:opacity linear 500ms 500ms}.fichat-notification-leave{opacity:1}.fichat-notification-leave-active{opacity:0;-webkit-transition:opacity linear 500ms;transition:opacity linear 500ms}.fichat-notification-bubble{font-family:\"bebasneue\",Helvetica,Arial,sans-serif;content:attr(data-count);position:absolute;top:-11px;right:-11px;background:#ef2572;border-radius:20px;border:3px solid #fff;color:#fff;height:28px;width:28px;line-height:23px;text-align:center;font-size:15px;display:block}@media screen and (max-width:740px){.fichat-notification-bubble{display:none}}.fichat-notification-bubble[data-count='0']{background:#55bf9b}.fichat-notification-bubble[data-count^='1']{padding-right:1px}.fichat-screenshare-notification{width:100%;position:absolute;left:0;bottom:100%}.fichat-screenshare-notification-content{margin:10px;padding:40px 15px 10px;background:#000;text-align:center;color:#fff}.fichat-screenshare-notification-content .fichat-avatar{width:75px;height:75px;position:absolute;top:-35px;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);border-width:4px;box-shadow:0 0 13px rgba(0,0,0,.2)}.fichat-screenshare-notification-content .fichat-screenshare-accept{margin:12px 0 5px}.fichat-screenshare-notification-content .fichat-screenshare-decline{color:#aaa;font-size:14px}.fichat-screenshare-notification-content .fichat-screenshare-decline button:hover{color:#fff}.fichat-screenshare-notification-text{max-width:250px;margin:0 auto;font-family:\"bebasneue\",Helvetica,Arial,sans-serif;font-size:24px;text-transform:uppercase;line-height:1}.fichat-autocomplete-list{width:80%;bottom:calc(100% + 5px);position:absolute;left:50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);margin:0;padding:0;background:#efefef;color:#444;border-radius:3px;border:1px #a5a5a5 solid;box-shadow:0 0 5px rgba(0,0,0,.25)}.fichat-autocomplete-title{padding:5px 10px;font-size:14px}.fichat-autocomplete-item{width:100%;padding:5px 10px;cursor:pointer}.fichat-autocomplete-item .fichat-avatar{display:inline-block}.fichat-autocomplete-item .fichat-username,.fichat-autocomplete-item .fichat-name{display:inline-block;margin-left:5px}.fichat-autocomplete-item.selected{color:#efefef;background:#444}.fichat-autocomplete-item.selected:last-child{border-radius:0 0 2px 2px}.fichat-autocomplete-item .fichat-online-status{display:inline-block;opacity:.5;width:5px;height:5px;background:#ccc;border-radius:5px;margin-right:5px}.fichat-autocomplete-item .fichat-online-status.online{background:#38c762;opacity:1}span.emoji{font-size:1.3em;font-family:AdelleSans,'Helvetica Neue',Helvetica,Arial,sans-serif;line-height:12px}span.emoji img{width:25px;height:25px}.dropdown-menu.fichat-dropdown-menu{z-index:10000!important;padding:0;cursor:pointer}.dropdown-menu.fichat-dropdown-menu span.emoji-autocomplete-preview{padding-right:5px}.dropdown-menu.fichat-dropdown-menu span.emoji-autocomplete-preview img{width:20px;height:20px}.dropdown-menu.fichat-dropdown-menu span.emoji-autocomplete-value{font-family:nimbus-sans,Helvetica,Arial,sans-serif;font-size:14px}.dropdown-menu.fichat-dropdown-menu li{border-bottom:1px solid #ddd}.dropdown-menu.fichat-dropdown-menu li:last-child{border-bottom:none}.dropdown-menu.fichat-dropdown-menu li:last-child a{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.dropdown-menu.fichat-dropdown-menu li:first-child{padding-top:3px;border-top-right-radius:3px;border-top-left-radius:3px}.dropdown-menu.fichat-dropdown-menu li:first-child.active{background-color:#4183c4}.dropdown-menu.fichat-dropdown-menu li:first-child a{border-top-right-radius:3px;border-top-left-radius:3px}.dropdown-menu.fichat-dropdown-menu li.active a{background-color:#4183c4}.dropdown-menu.fichat-dropdown-menu li.active a:hover{background-color:#4183c4}.dropdown-menu.fichat-dropdown-menu li:only-child{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.fichat-user-profile-card{position:absolute;top:0;left:0;z-index:25000;background:#efefef;border:1px solid #c8c8c8;box-shadow:0 0 5px rgba(0,0,0,.25);border-radius:3px;padding:5px 10px 5px 40px;max-width:250px;font-size:14px;line-height:30px;min-height:43px}.fichat-user-profile-card .fichat-avatar{position:absolute;top:5px;left:5px}.fichat-user-profile-card .fichat-name{font-weight:700}.fichat-user-profile-card .fichat-username{white-space:nowrap}.fichat-user-profile-card a.no-decoration{color:#444;text-decoration:none}",""]);

},function(e){e.exports={isDev:!1,xmpp:{domain:"talk.flatironschool.com",password:"none",muc:"questions.talk.flatironschool.com",pubsub:"questions.talk.flatironschool.com",wsURL:"wss://talk.flatironschool.com:5281/xmpp-websocket",transport:"websocket"},screenshare:{url:window.location.origin+"/s",chromeExtension:"knjjajjdgomcjajbncbjlgkmgmocaikl"},embedly:{key:"dc7d15a9144042d3bcca10d107d48673"},ironboard:{apiUrl:"/api/v1"},uploads:{signUrl:"https://upload.flatironschool.com/sign-s3"}}},function(e){e.exports=function(e,t){var n=t&&t.prefix||"",i=t&&t.domain;return e.match(/@/)?e:n+e+"@"+i}},function(e,t,n){function i(e){return e+""}var r=n(56),o=n(28),s=n(57),a=n(31)("AppState"),c=n(9),u=n(10),l=n(32);e.exports=r.extend({initialize:function(){this.logPropertyChanges(["jid","currentQuestion","showPrevLessons","showNextLessons","showAllLessons"]),this.on("change:currentQuestion",this.handleCurrentQuestionChanged,this),this.bindScreenshareState()},parseSet:function(e){if(e.userToken){var t=s(e.userToken);a.log("decoded token",t),e.userId=t.userId+""}e.currentLesson&&(e.currentLesson=i(e.currentLesson)),e.userId&&(e.userId=i(e.userId)),e.userTrack&&(e.userTrack=i(e.userTrack)),e.userBatch&&(e.userBatch=i(e.userBatch),o.autocompleteEngine=new l({batchId:e.userBatch})),e.allLessons&&(e.allLessons=this.coerceArrayToStrings(e.allLessons)),this.set(e)},props:{target:{type:"any","default":"body"},userId:{type:"string","default":""},showChatOnly:{type:"boolean","default":!1}},session:{userToken:{type:"string"},isConnected:{type:"boolean","default":!1},hasStream:{type:"boolean","default":!1},started:{type:"boolean","default":!1},currentLesson:{type:"string","default":""},userTrack:{type:"string","default":""},userBatch:{type:"string","default":""},allLessons:{type:"object","default":function(){return[]}},admin:{type:"boolean","default":!1},currentQuestion:{type:"string"},showPrevLessons:{type:"boolean","default":!0},showNextLessons:{type:"boolean","default":!0},showAllLessons:{type:"boolean","default":!0},showAllPrevLessons:{type:"boolean","default":!0},isScreenshareWindow:{type:"boolean","default":!1},isInScreenshare:{type:"boolean","default":!1},button:"any",buttonTriangleOffset:{type:"number","default":0},currentLessonModel:"state"},derived:{jid:{deps:["userId"],fn:function(){return u(this.userId,{prefix:"u-",domain:c.xmpp.domain})}}},logPropertyChanges:function(e){var t=this;e.forEach(function(){t.on("change:"+name,function(){a.log("configured "+name+" as: ",t[name])})})},bindScreenshareState:function(){if(window.localStorage){var e,t,n=this,i=function(){n.isScreenshareWindow&&(n.isInScreenshare=!0,setInterval(function(){localStorage.setItem("fichat-in-screenshare",Date.now())},1e3))};this.isScreenshareWindow?i():this.once("change:isScreenshareWindow",i),this.isScreenshareWindow||(t=function(t){"string"==typeof t&&(t=parseInt(t,10)),clearTimeout(e),Date.now()-5e3<t?(n.isInScreenshare=!0,e=setTimeout(function(){n.isInScreenshare=!1},2500)):n.isInScreenshare=!1},t(localStorage.getItem("fichat-in-screenshare")),window.addEventListener("storage",function(e){"fichat-in-screenshare"===e.key&&t(e.newValue)}))}},coerceArrayToStrings:function(e){return e.map(function(e){return e.toString()})},handleCurrentQuestionChanged:function(){o.client.joinAndShowQuestionRoom(this.currentQuestion)}})},function(e,t,n){var i=n(28),r=n(9),o=n(51),s=n(58),a=n(59),c=n(33),u=n(60),l=n(61),h=n(31)("QuestionRoomTracker");e.exports=a.extend({model:c,initialize:function(){this.setupSubcollections(),this.bindAppEvents()},setupSubcollections:function(){this.resolved=new u(this,{where:{visible:!0,resolved:!0},comparator:function(e){return-e.created}}),this.unresolved=new u(this,{where:{visible:!0,resolved:!1},comparator:function(e){return e.isNew?-e.created:e.created}}),this.preview=new l(new u(this,{where:{visible:!0,resolved:!1},comparator:function(e){return-e.created}}),{limit:2}),this.bookmarked=new l(new u(this,{where:{bookmarked:!0,resolved:!1},comparator:function(e){return e.lastActivity&&-e.lastActivity||-e.created}}),{limit:5})},selectQuestion:function(e){this.forEach(function(t){t.selected=e===t}),this.trigger("selected",e)},deselectAll:function(){this.forEach(function(e){e.selected=!1})},createNewQuestion:function(e){if(!(e.subject&&e.track&&e.batch&&e.lesson))throw new Error("Questions need subject, track, batch and lesson keys");var t="q-"+s.v4()+"@"+r.xmpp.muc;e.jid=t,e.isMine=!0,e.created=new Date,e.creator=i.client.connection.jid,e.isNew=!0;var n=this.add(e);return n.createRoom(),n},addExistingQuestion:function(e,t,n,r){var s=n.fields,a={jid:t,screenshareActive:!1};if(s.forEach(function(e){switch(e.name){case"muc#roomconfig_roomdesc":a.subject=e.value;break;case"question_creator":a.creator=e.value;break;case"question_created":a.created=e.value;break;case"question_resolved":a.resolved=!!e.value;break;case"question_lesson":a.lesson=e.value;break;case"question_track":a.track=e.value;break;case"question_batch":a.batch=e.value;break;case"question_screenshare_active":a.screenshareActive=e.value||!1;break;case"question_screenshare_creator":a.screenshareCreator=e.value}}),a.isNew=!!r,!a.track||!a.batch)return void h.warn("Skipping old bookmark",a);if(!i.me.isScreenshareWindow&&(a.track!==i.me.userTrack||a.batch!==i.me.userBatch))return void h.warn("Skipping bookmark for incorrect track/batch",a);o.equalBare(a.creator,e)&&(a.isMine=!0),a.screenshareCreator?a.amScreenshareCreator=o.equalBare(e,a.screenshareCreator):a.screenshareCreator&&a.screenshareActive||(a.amScreenshareCreator=!1);var c=this.add(a,{merge:!0});return a.screenshareActive||(c.unset("screenshareCreator"),c.amScreenshareCreator=!1),c},bindAppEvents:function(){this.on("add",function(e){e.isNew&&!e.isMine&&e.visible&&(e.fullyFetched?i.trigger("question:received",e):e.once("change:fullyFetched",function(e){i.trigger("question:received",e)}))}),this.on("change:resolved",function(e,t){t&&(e.fullyFetched?i.trigger("question:resolved",e):e.once("change:fullyFetched",function(e){i.trigger("question:resolved",e)}))}),this.on("change:screenshareActiveReady",function(e,t){e.bookmarked&&(t?i.trigger("question:screenshare:started",e):i.trigger("question:screenshare:ended",e))});var e=Date.now();this.on("change:lastActivity",function(t){(t.bookmarked||t.selected)&&t.lastActivity>e&&i.trigger("question:new-activity",t)})}})},function(e,t,n){var i=n(62),r=n(63),o=n(28),s=n(51),a=n(34),c=n(9),u=n(35),l=n(31)("LessonRoomTracker");e.exports=i.extend({model:u,url:function(){return c.ironboard.apiUrl+"/tracks/"+o.me.userTrack+"/batches/"+o.me.userBatch+"/lessons"},initialize:function(){this.listenForReconfigure(),this.fetch=a(this.fetch.bind(this),100)},listenForReconfigure:function(){var e=["change:currentLesson","change:allLessons","change:admin","change:showNextLessons","change:showPrevLessons","change:showAllLessons","change:showAllPrevLessons"];this.listenTo(o.me,e.join(" "),this.reconfigureLessons.bind(this))},parse:function(e){return e.lessons},current:function(){return this.filter(function(e){return"current"===e.position})[0]},getOrAddById:function(e){var t=this.get(e);return t||(t=this.add({id:e,position:"other"})),t},reconfigureLessons:function(){l.log("Reconfiguring lessons",{showLessons:{prev:o.me.showPrevLessons,next:o.me.showNextLessons,all:o.me.showAllLessons},lessons:{current:o.me.currentLesson,all:o.me.allLessons}});var e,t,n;e=t=n=o.me.allLessons.indexOf(o.me.currentLesson),t=o.me.admin&&o.me.showAllLessons||o.me.showAllPrevLessons?0:o.me.showPrevLessons?e-3:e,n=o.me.showAllLessons&&o.me.admin?o.me.allLessons.length-1:o.me.showNextLessons?e+3:e,l.log("Showing lessons between",t,n),this.set(o.me.allLessons.map(function(e,i){return{id:e,visible:i>=t&&n>=i}})),o.me.currentLessonModel=this.get(o.me.currentLesson),this.fetch({add:!1,merge:!0,remove:!1})},bindToXmpp:function(){if(!o.me.isScreenshareWindow){if(!o.client.connection.sessionStarted)return void o.client.connection.once("session:started",this.bindToXmpp.bind(this));this.fetch(),this.subscribeAndFetchUnresolved()}},subscribeAndFetchUnresolved:function(e){e=e||function(){};var t=this,n="track-"+o.me.userTrack+"-batch-"+o.me.userBatch;return this.subscribedToUnresolved?e():(this.subscribedToUnresolved=!0,void r.series([function(e){o.client.subscribeToNode(n,e)},function(e){o.client.subscribeToNode(n+"-activity",e)},function(e){o.client.fetchPubsubNodeItems(n,function(n,i){return n?e(n):(t._createQuestionsFromPubsubItems(i),void e())})}],function(t){t&&l.error(t),e(t)}))},subscribeAndFetchResolved:function(e){e=e||function(){};var t=this,n="track-"+o.me.userTrack+"-batch-"+o.me.userBatch+"-resolved";return this.subscribedToResolved?e():(this.subscribedToResolved=!0,void r.series([function(e){o.client.subscribeToNode(n,e)},function(e){o.client.fetchPubsubNodeItems(n,function(n,i){return n?e(n):(t._createQuestionsFromPubsubItems(i),void e())})}],function(t){t&&l.error(t),e(t)}))},_createQuestionsFromPubsubItems:function(e){e.forEach(function(e){var t=s.create(e.id).bare;o.questionRooms.addExistingQuestion(o.client.connection.jid,t,e.form)})}})},function(e,t,n){var i=n(59),r=n(36);e.exports=i.extend({model:r,comparator:"comparator",initialize:function(){this.bindIndexEvents()},bindIndexEvents:function(){var e=this;e.MSG_INDEX={},e.on("add",function(t){e.indexMessage(t,t.mid)}),e.on("remove",function(t){var n=e.MSG_INDEX[t.from.bare],i=e.MSG_INDEX[t.from.full];n&&delete n[t.mid],i&&delete i[t.mid]}),e.on("change:mid",function(t){e.indexMessage(t,t.mid)})},find:function(e,t){"string"!=typeof e&&(e=e.toString());var n=this.MSG_INDEX[e]||(this.MSG_INDEX[e]={});return n[t]},indexMessage:function(e,t){var n=this.MSG_INDEX[e.from.bare]||(this.MSG_INDEX[e.from.bare]={}),i=this.MSG_INDEX[e.from.full]||(this.MSG_INDEX[e.from.full]={});n[t]=e,i[t]=e}})},function(e,t,n){var i=n(59),r=n(37);e.exports=i.extend({model:r,initialize:function(){var e=this;this.bind("change:offline",function(t){t.offline&&!t.isPersistent&&e.remove(t)})},getOrAddByJid:function(e){var t=this.get(e);return t?t:this.add({jid:e})}})},function(e,t,n){var i=n(62),r=n(9),o=n(38),s=n(31)("FlatironUsers"),a=n(34);e.exports=i.extend({model:o,getOrAddById:function(e){e=e.toString();var t=this.get(e);return t||(t=this.add({id:e})),t},url:function(){var e=this.filter(function(e){return!e.fetched}).map(function(e){return parseInt(e.id,10)}),t=r.ironboard.apiUrl+"/users?ids="+JSON.stringify(e);return s.log("Fetching user data:",t),t},parse:function(e){return e.users},initialize:function(){this.fetch=a(this.fetch.bind(this),100),this.on("add",function(){this.fetch({add:!1,merge:!0,remove:!1})})}})},function(e,t,n){var i=n(56),r=i.extend({session:{visible:["boolean",!0,!0]},initialize:function(){this._handleVisibilityChange(),window.addEventListener("focus",this._handleVisibilityChange.bind(this)),window.addEventListener("blur",this._handleVisibilityChange.bind(this))},_handleVisibilityChange:function(){this.visible=document.hasFocus()},bindToApp:function(e){return this.on("change:visible",function(t,n){n?e.trigger("window:visible",!0):e.trigger("window:hidden",!0)}),this}});e.exports=r},function(e,t,n){var i=n(64),r=n(65),o=n(28),s=n(39),a=n(34),c=n(40),u=n(41),l=n(42),h=n(43),f=n(66),d=0;e.exports=i.extend({template:f,props:{panelState:{type:"string","default":"closed",values:["closed","halfopen","fullopen","expanded"]},previewMode:{type:"boolean","default":!1},hovering:{type:"boolean","default":!1}},derived:{panelStateClass:{deps:["panelState"],fn:function(){return"fichat-panel-"+this.panelState}},previewTriangleStateClass:{deps:["panelState","previewMode"],fn:function(){return"closed"===this.panelState?this.previewMode?"closing":"closed":this.previewMode?"previewing":"closed"}},dockedQuestionsClass:{deps:["panelState"],fn:function(){return"fichat-docked-"+this.panelState}}},bindings:{"model.showChatOnly":{hook:"panel",type:"booleanClass",name:"fichat-panel-chat-only"},panelStateClass:{hook:"panel",type:"class"},previewTriangleStateClass:{hook:"preview-triangle",type:"class"},dockedQuestionsClass:{hook:"docked-questions-wrapper",type:"class"},previewMode:[{type:"booleanClass",hook:"panel",name:"fichat-panel-preview"},{type:"toggle",yes:"[data-hook~=show-in-preview]",no:"[data-hook~=hide-in-preview]"},{hook:"preview-triangle",type:function(e){var t=this;setTimeout(function(){var n,i,r,o=100,s=document.body.offsetWidth;n="string"==typeof t.model.button?document.querySelector(t.model.button):t.model.button,n&&(o=s-n.getBoundingClientRect().left-t.model.buttonTriangleOffset),i=t.queryByHook("preview-triangle").offsetWidth,r=s-t.query(".fichat-panel-inner").getBoundingClientRect().left-i/2,o>r&&(o=r),e.style.right=o-i/2+"px"},0)}}]},events:{"click [data-hook~=close-panel]":"handleCloseClick",mouseenter:"handleMouseEnter",mouseleave:"handleMouseLeave",click:"handleAnyClick",keyup:"handleAnyKey"},initialize:function(){this.on("change:panelState",function(){"closed"===this.panelState&&o.questionRooms.deselectAll()}.bind(this)),this.on("change:hovering",this.handleHoveringChange,this)},render:function(){return this.renderWithTemplate(),this.model.showChatOnly||(this.questionPanel=new c({parent:this}),this.renderSubview(this.questionPanel,this.queryByHook("question-panel")),this.renderCollection(o.questionRooms.bookmarked,l,this.queryByHook("docked-questions"))),this.setupUserProfileCardView(),this.setupSelectedChatView(),s.blockScroll(this.el),this},setupUserProfileCardView:function(){var e=this;this.userProfileCardView=new h,this.renderSubview(this.userProfileCardView,this.queryByHook("user-profile-card")),o.on("user-profile-card:show",function(t,n){e.userProfileCardView.set({model:t,targetElement:n}).show()}),o.on("user-profile-card:hide",function(){e.userProfileCardView.hide()}),this.on("change:panelState",function(){e.userProfileCardView.hide()})},setupSelectedChatView:function(){var e=this;this.chatSwitcher=new r(this.queryByHook("chat-switcher")),this.listenTo(o.questionRooms,"selected",function(t){e.showChat(t),e.model.showChatOnly||(e.fullOpen(),e.previewMode=!1),e.focusOnChatInput()})},showChat:function(e){this.chatSwitcher.set(new u({model:e}))},close:function(){var e=this;this.panelState="closed",this.previewMode&&setTimeout(function(){"closed"===e.panelState&&e.previewMode&&(e.previewMode=!1)},d+600)},halfOpen:function(){this.panelState="halfopen"},fullOpen:function(){this.panelState="fullopen"},isOpen:function(){return"closed"===this.panelState?!1:this.panelState},appendTo:function(e){this.rendered||this.render();var t;if(t="string"==typeof e?document.querySelector(e):e,!t)throw new Error("Could not find element by selector: "+e);t.appendChild(this.el)},handleAnyClick:function(){this.previewMode=!1,o.trigger("activity",{type:"click"})},handleAnyKey:a(function(){o.trigger("activity",{type:"key"})},200,{leading:!0}),handleMouseEnter:function(){this.hovering=!0},handleMouseLeave:function(){this.hovering=!1},handleHoveringChange:function(){this.previewMode&&(this.hovering?(this.timer&&clearTimeout(this.timer),this.panelState="halfopen"):this.timer=setTimeout(function(){this.previewMode&&this.close()}.bind(this),d))},handleCloseClick:function(e){e.preventDefault(),this.close()},collapseNewQuestion:function(){this.questionPanel&&this.questionPanel.collapseNewQuestion()},focusOnQuestionInput:function(){var e=this.query("[name=question]");e&&setTimeout(function(){e.focus()},0)},focusOnChatInput:function(){var e=this.query("[data-hook~=new-message]");e&&setTimeout(function(){e.focus()},0)}})},function(e,t,n){var i=n(64),r=n(52),o=n(28),s=n(31)("Button"),a='<span class="fichat-notification-bubble" data-hook="count"></span>';e.exports=i.extend({template:a,session:{rendered:["boolean",!0,!1],questionCount:["number",!0,0],mainView:"state"},derived:{renderedQuestionCount:{deps:["questionCount"],fn:function(){return this.questionCount>=100?"99+":this.questionCount.toString()}},buttonClass:{deps:["mainView.previewMode","mainView.panelState"],fn:function(){return this.mainView.previewMode?"fichat-hover":"closed"===this.mainView.panelState?"fichat-closed":"fichat-open"}}},bindings:{renderedQuestionCount:[{type:"text",hook:"count"},{type:"attribute",name:"data-count",hook:"count"}],buttonClass:{type:"class"}},events:{click:"onClick","mouseover [data-hook~=count]":"onBubbleEnter","mouseout [data-hook~=count]":"onBubbleLeave"},initialize:function(){var e=this;this.listenToAndRun(this.collection,"add remove reset",function(){e.questionCount=e.collection.length})},render:function(){return this.rendered?void 0:(this.el.appendChild(r(this.template)),this._applyBindingsForKey(),this.rendered=!0,this)},onClick:function(e){s.log("Opening chat"),e.preventDefault(),e.stopPropagation(),o.isOpen()&&!o.isPreview()?o.close():(o.open({previewMode:!1}),e.target!==this.queryByHook("count")&&o.focusOnQuestionInput())},onBubbleEnter:function(){this.questionCount>0&&o.hover()},onBubbleLeave:function(){o.hoverEnd()}})},function(e,t,n){var i=n(53),r=n(28),o=n(47),s=n(31)("XMPPController"),a=n(9),c=e.exports=function(){this.connection=i.createClient(),this.connection.use(o),this.connection.on("session:started",this.onSessionStarted.bind(this))};c.prototype.connect=function(e,t){s.log("Connecting to xmpp with",e),this.config=e,this.connection.enableKeepAlive({interval:15,timeout:5}),this.connection.connect(e),this.connection.sessionStarted?t(null):this.connection.once("session:started",function(){t(null)})},c.prototype.onSessionStarted=function(){this.connection.sendPresence(),r.me.currentQuestion&&this.joinAndShowQuestionRoom(r.me.currentQuestion),r.me.showChatOnly||this.fetchBookmarkedQuestions(),this.fetchConfig(),r.me.on("change:showPrevLessons change:showNextLessons change:showAllLessons change:showAllPrevLessons",this.saveConfig.bind(this))},c.prototype.fetchConfig=function(){this.connection.getFlatironConfig(function(e,t){if(!e&&t.privateStorage&&t.privateStorage.flatironConfig){var n=t.privateStorage.flatironConfig;s.log("Retrieved user settings",n);var i={showAllPrevLessons:!n.disableAllPrevLessons,showPrevLessons:!n.disablePrevLessons,showNextLessons:!n.disableNextLessons,showAllLessons:!n.disableAllLessons};r.me.set(i)}})},c.prototype.saveConfig=function(){var e={disableAllPrevLessons:!r.me.showAllPrevLessons,disablePrevLessons:!r.me.showPrevLessons,disableNextLessons:!r.me.showNextLessons,disableAllLessons:!r.me.showAllLessons};s.log("Saving user settings",e),this.connection.setFlatironConfig(e)},c.prototype.joinQuestionRoom=function(e,t){s.log("Joining question room",e);var n=this;t=t||function(){};var i=r.questionRooms.get(e);return i?(s.log(e+" found already, joining"),i.joinRoom(),t(null,i)):(s.log("Fetching disco for ",e),void this.connection.getDiscoInfo(e,"",function(i,o){if(i)return t(i);o.discoInfo.extensions||s.error("No extensions for",e);var a=o.discoInfo.extensions[0],c=r.questionRooms.addExistingQuestion(n.connection.jid,e,a);return c?t(null,c):void 0}))},c.prototype.joinAndShowQuestionRoom=function(e,t,n){n||"function"!=typeof t||(n=t,t={}),n=n||function(){},this.joinQuestionRoom(e,function(e,i){return e?(s.error(e),n(e)):(i.resolved&&t.deepLinked&&(i.deepLinked=!0),r.questionRooms.selectQuestion(i),n(),void 0)})},c.prototype.fetchBookmarkedQuestions=function(){var e=this;this.connection.getBookmarks(function(t,n){if(t)return s.error(t);var i=n&&n.privateStorage&&n.privateStorage.bookmarks&&n.privateStorage.bookmarks.conferences;s.log("Found bookmarks: ",i),i&&i.forEach(function(t){e.joinQuestionRoom(t.jid,function(e,t){e?console.error(e):t.resolved?(s.log("Leaving previously resolved room"),t.leaveRoom()):t.bookmarked=!0})})})},c.prototype.fetchPubsubNodeItems=function(e,t){this.connection.getItems(a.xmpp.pubsub,e,{},function(e,n){if(e)return s.error(e),t(e);var i=n.pubsub&&n.pubsub.retrieve&&n.pubsub.retrieve.items;t(null,i||[])})},c.prototype.subscribeToNode=function(e,t){s.log("Subscribing to node",e),this.connection.subscribeToNode(a.xmpp.pubsub,{node:e},function(e){e&&s.error(e),t(e)})},c.prototype.unsubscribeFromNode=function(e,t){s.log("Unsubscribing from node",e),r.client.connection.unsubscribeFromNode(a.xmpp.pubsub,{node:e,jid:r.client.connection.jid},function(n){n&&s.error("Unsubscribed error",e,n),t()})}},function(e){function t(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=c[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(r(i.parts[s],t))}else{for(var a=[],s=0;s<i.parts.length;s++)a.push(r(i.parts[s],t));c[i.id]={id:i.id,refs:1,parts:a}}}}function n(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],s=r[1],a=r[2],c=r[3],u={css:s,media:a,sourceMap:c};n[o]?n[o].parts.push(u):t.push(n[o]={id:o,parts:[u]})}return t}function i(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function r(e,t){var n,r,o;if(t.singleton){var c=d++;n=f||(f=i()),r=s.bind(null,n,c,!1),o=s.bind(null,n,c,!0)}else n=i(),r=a.bind(null,n),o=function(){n.parentNode.removeChild(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function o(e,t,n){var i=["/** >>"+t+" **/","/** "+t+"<< **/"],r=e.lastIndexOf(i[0]),o=n?i[0]+n+i[1]:"";if(e.lastIndexOf(i[0])>=0){var s=e.lastIndexOf(i[1])+i[1].length;return e.slice(0,r)+o+e.slice(s)}return e+o}function s(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=o(e.styleSheet.cssText,t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function a(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(r&&"function"==typeof btoa)try{n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(JSON.stringify(r))+" */",n='@import url("data:text/css;base64,'+btoa(n)+'")'}catch(o){}if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c={},u=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},l=u(function(){return/msie 9\b/.test(window.navigator.userAgent.toLowerCase())}),h=u(function(){return document.head||document.getElementsByTagName("head")[0]}),f=null,d=0;e.exports=function(e,i){i=i||{},"undefined"==typeof i.singleton&&(i.singleton=l());var r=n(e);return t(r,i),function(e){for(var o=[],s=0;s<r.length;s++){var a=r[s],u=c[a.id];u.refs--,o.push(u)}if(e){var l=n(e);t(l,i)}for(var s=0;s<o.length;s++){var u=o[s];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete c[u.id]}}}}},,,function(e,t,n){e.exports=function(e){n(48)(e),n(49)(e),n(50)(e)}},,function(e){function t(){if(!o){o=!0;for(var e,t=r.length;t;){e=r,r=[];for(var n=-1;++n<t;)e[n]();t=r.length}o=!1}}function n(){}var i=e.exports={},r=[],o=!1;i.nextTick=function(e){r.push(e),o||setTimeout(t,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=n,i.addListener=n,i.once=n,i.off=n,i.removeListener=n,i.removeAllListeners=n,i.emit=n,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,n){var i=n(96),r=n(98),o=n(99),s={extend:function(){var e=r(arguments);return e.unshift(this),o.apply(null,e)},reset:function(){this.off();for(var e in this)"extend"!==e&&"reset"!==e&&delete this[e];i.createEmitter(this)}};i.createEmitter(s),e.exports=s},function(e,t,n){var i=n(54),r=n(55),o=r(i);e.exports=o},function(e){/*!
	  * domready (c) Dustin Diaz 2014 - License MIT
	  */
!function(t,n){e.exports=n()}("domready",function(){var e,t=[],n=document,i=n.documentElement.doScroll,r="DOMContentLoaded",o=(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener(r,e=function(){for(n.removeEventListener(r,e),o=1;e=t.shift();)e()}),function(e){o?e():t.push(e)}})},function(e,t,n){(function(){function t(){var e,t=!!window.chrome,n=/firefox/i.test(navigator.userAgent);if(n){var i=navigator.userAgent.match(/Firefox\/(\d+\.\d+)/);i&&i[1]&&Number(i[1])&&(e=Number(i[1]))}return t||e>=31}var i=function(){var e=.618033988749895;return l+=e,l%=1,360*l},r="undefined"==typeof window,o=!r&&window.localStorage,s=o.andlogKey||"debug",a=o[s],c=n(110),u=Function.prototype.bind,l=0,h=15,f=function(){},d=o.debugColors||t(),p=null,m=null,g=!1;moduleColorsMap={},a&&"!"===a[0]&&"/"===a[1]&&(g=!0,a=a.slice(1)),m=a&&"/"===a[0]&&new RegExp(a.substring(1,a.length-1));for(var v=["log","debug","warn","error","info"],b=0,y=v.length;y>b;b++)f[v[b]]=f;p=function(e){var t,n,r;if(t=e.slice(0,h),t+=Array(h+3-t.length).join(" ")+"|",m){var o=e.match(m);if(!g&&!o||g&&o)return f}if(!u)return f;var s=[c];if(d){moduleColorsMap[e]||(moduleColorsMap[e]=i());var a=moduleColorsMap[e];t="%c"+t,n="color: hsl("+a+",99%,40%); font-weight: bold",s.push(t,n)}else s.push(t);if(arguments.length>1){var l=Array.prototype.slice.call(arguments,1);s=s.concat(l)}return r=u.apply(c.log,s),v.forEach(function(e){r[e]=u.apply(c[e]||r,s)}),r},p.config=function(e){e.padLength&&(h=e.padLength)},e.exports=p}).call()},function(e,t,n){function i(e){var t=e.batchId,n=a.ironboard.apiUrl+"/batches/"+t+"/users/suggestions?q=%QUERY";this.engine=new r({name:"users",local:[],remote:{rateLimitBy:"throttle",rateLimitWait:300,url:n,filter:function(e){var t=e.users;return t.filter(function(e){return e.id.toString()!==c.me.userId.toString()})}},datumTokenizer:function(e){return[e.github_username,e.first_name,e.last_name]},queryTokenizer:r.tokenizers.whitespace});var i=this.engine.initialize(),o=this;o.ready=!1,i.done(function(){o.ready=!0}).fail(function(){o.ready=!1})}var r=n(68).Bloodhound,o=n(29),s=n(96),a=n(9),c=n(28);o(i.prototype,s,{get:function(e,t){this.engine.get(e,function(n){n&&t({search:e,results:n})})}}),e.exports=i},function(e,t,n){var i=n(56),r=n(60),o=n(91),s=n(69),a=n(9),c=n(28),u=n(31)("QuestionRoomModel");e.exports=i.extend({dataTypes:o.dataTypes},{props:{jid:"jid",creator:"jid",creatorPeer:"state",created:"date",lesson:"string",track:"string",batch:"string",subject:"string",isMine:["boolean",!0,!1],joined:["boolean",!0,!1],selfPeer:"state",messages:"collection",occupants:"collection",composers:"collection",typing:"boolean",resolved:["boolean",!0,!1],bookmarked:["boolean",!0,!1],lastActivity:"date",isNew:["boolean",!0,!1],screenshareActive:["boolean",!0,!1],screenshareCreator:"jid",screenshareCreatorPeer:"state",amScreenshareCreator:["boolean",!0,!1],screenshareFailed:["boolean",!0,!1],screenshareAck:["boolean",!0,!1],lessonModel:"state"},session:{selected:["boolean",!0,!1],hasUnreadActivity:["boolean",!0,!1],hasMessages:["boolean",!0,!1],deepLinked:["boolean",!0,!1]},derived:{visible:{deps:["lessonModel.visible"],fn:function(){return this.lessonModel.visible}},creatorDisplayName:{deps:["isMine","creatorPeer.flatironUser.displayName"],fn:function(){return this.isMine?"You":this.creatorPeer&&this.creatorPeer.flatironUser?this.creatorPeer.flatironUser.displayName||"":""}},screenshareActiveReady:{deps:["screenshareActive","screenshareCreatorPeer"],fn:function(){return this.screenshareActive&&!!this.screenshareCreatorPeer}},fullyFetched:{deps:["creatorPeer.flatironUser.fetched","lessonModel.fetched"],fn:function(){return this.creatorPeer&&this.creatorPeer.flatironUser&&this.lessonModel?this.creatorPeer.flatironUser&&this.creatorPeer.flatironUser.fetched&&this.lessonModel&&this.lessonModel.fetched:!1}}},initialize:function(e){this.id=this.generateId(e),this.setupSelfPeer(),this.setupCreatorPeer(),this.setupScreenshareCreatorPeer(),this.setupScreenshareAck(),this.setupMessages(),this.setupOccupants(),this.setupComposers(),this.setupLesson(),this.setupUnreadActivity()},generateId:function(e){return"string"==typeof e.jid?e.jid:e.jid.bare},setupSelfPeer:function(){var e=this;c.peers.on("add change:isSelf",function(t){t.jid.bare===e.jid.bare&&t.isSelf&&(e.selfPeer=t)})},setupCreatorPeer:function(){var e=this,t=function(){e.creatorPeer=e.creator?c.peers.getOrAddByJid(e.creator):void 0};t(),this.on("change:creator",t)},setupScreenshareCreatorPeer:function(){var e=this,t=function(){e.screenshareCreatorPeer=e.screenshareCreator&&e.screenshareActive?c.peers.getOrAddByJid(e.screenshareCreator):void 0};t(),this.on("change:screenshareCreator change:screenshareActive",t)},setupScreenshareAck:function(){var e=this;this.on("change:screenshareActive",function(){e.screenshareActive||(e.screenshareAck=!1)})},setupMessages:function(){var e=this;this.messages=new r(c.messages,{filter:function(t){return t.from.bare===e.jid.bare&&"groupchat"===t.type}}),this.messages.on("add remove reset",function(){e.hasMessages=e.messages.length>0})},setupOccupants:function(){var e=this;this.occupants=new r(c.peers,{filter:function(t){var n=t.jid.full!==e.jid.full,i=t.jid.bare===e.jid.bare,r=!t.isSelf,o=t.online;return n&&i&&r&&o}})},setupComposers:function(){var e=this;this.composers=new r(this.occupants,{where:{chatState:"composing"}}),this.composers.on("add remove",function(){e.typing=e.composers.length>0})},setupLesson:function(){var e=this,t=function(){e.lessonModel=e.lesson?c.lessonRooms.getOrAddById(e.lesson.toString()):void 0};t(),this.on("change:lesson",t)},setupUnreadActivity:function(){var e=this,t=Date.now();this.on("change:lastActivity",function(){!e.selected&&e.lastActivity>t&&(e.hasUnreadActivity=!0)}),this.on("change:selected",function(){e.selected&&(e.hasUnreadActivity=!1)})},joinRoom:function(){this.joined||(this.joined=!0,c.client.connection.joinRoom(this.jid,c.client.connection.jid.local))},leaveRoom:function(){this.joined=!1,c.client.connection.leaveRoom(this.jid,c.client.connection.jid.local),this.unbookmarkRoom(),this.selected=!1},bookmarkRoom:function(){this.bookmarked=!0,c.client.connection.addBookmark({jid:this.jid})},unbookmarkRoom:function(){return this.isMine&&!this.resolved?void u.warn("Cannot unbookmark own room"):(this.bookmarked=!1,void c.client.connection.removeBookmark(this.jid))},createRoom:function(e){e=e||function(){},this.joinRoom(),c.client.connection.configureRoom(this.jid,{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#roomconfig"},{name:"question_lesson",type:"text-single",value:this.lesson},{name:"question_batch",type:"text-single",value:this.batch},{name:"question_track",type:"text-single",value:this.track},{name:"muc#roomconfig_roomdesc",type:"text-single",value:this.subject.replace(/(?:\r\n|\r|\n)/g,"<br/>")}]}),this.bookmarkRoom()},markResolved:function(e,t){t=t||function(){};var n=this;c.client.connection.configureRoom(this.jid,{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#roomconfig"},{name:"question_resolved",type:"boolean",value:e?"1":"0"}]},function(i){return i?t(i):(n.resolved=e,e&&n.unbookmarkRoom(),void t())})},sendChat:function(e,t){var n={type:"groupchat",to:this.jid.bare,chatState:"active",from:c.client.connection.jid.bare};n.body=e,t&&(n.replace=t),c.client.connection.sendMessage(n),this.bookmarked||this.bookmarkRoom()},sendChatState:function(e){c.client.connection.sendMessage({type:"groupchat",to:this.jid.bare,chatState:e,from:c.client.connection.jid.bare})},loadAdditionalHistory:function(e){var t={to:this.jid,max:20};this.messages.length&&(t.before=this.messages.models[0].createdTime),c.client.connection.searchHistory(t,function(t,n){return t?e(t):(n.mamResult.items.forEach(function(e){var t=e.forwarded.message;t.delay=e.forwarded.delay,c.client.connection.emit("groupchat",t)}),void e(null))})},joinScreenshare:function(e){e=e||function(){};var t=this;this.screenshareAck=!0,this.screenshareFailed=!1;var n=a.screenshare.url+"/"+this.jid.local;if(this.screenshareActive){var i=["status=no,toolbar=no,location=yes,menubar=no,resizable,scrollbars=no","width="+window.screen.availWidth||800,"height="+window.screen.availHeight||600].join(",");return window.open(n,null,i)}return s.isAvailable()?void(s.isExtensionInstalled()?s.openPopup({url:n+"#present",width:800,height:600}):s.installExtension(a.screenshare.chromeExtension,function(n,i){return n?(u.error(n),e(n)):(localStorage.openQuestionOnLoad=t.jid.local,localStorage.wantsToShareScreen=(new Date).getTime(),void e(null,i))})):void(this.screenshareFailed=!0)},triggerOnReloadScreenshareIfRequired:function(){if(localStorage.wantsToShareScreen){var e=parseInt(localStorage.wantsToShareScreen,10);delete localStorage.wantsToShareScreen,Date.now()-6e4<e&&this.joinScreenshare()}}})},function(e,t,n){function i(e,t,n){function i(){g&&clearTimeout(g),f&&clearTimeout(f),f=g=v=void 0}function c(){var n=t-(o()-p);if(0>=n||n>t){f&&clearTimeout(f);var i=v;f=g=v=void 0,i&&(b=o(),d=e.apply(m,h),g||f||(h=m=null))}else g=setTimeout(c,n)}function u(){g&&clearTimeout(g),f=g=v=void 0,(w||y!==t)&&(b=o(),d=e.apply(m,h),g||f||(h=m=null))}function l(){if(h=arguments,p=o(),m=this,v=w&&(g||!x),y===!1)var n=x&&!g;else{f||x||(b=p);var i=y-(p-b),r=0>=i||i>y;r?(f&&(f=clearTimeout(f)),b=p,d=e.apply(m,h)):f||(f=setTimeout(u,i))}return r&&g?g=clearTimeout(g):g||t===y||(g=setTimeout(c,t)),n&&(r=!0,d=e.apply(m,h)),!r||g||f||(h=m=null),d}var h,f,d,p,m,g,v,b=0,y=!1,w=!0;if("function"!=typeof e)throw new TypeError(s);if(t=0>t?0:+t||0,n===!0){var x=!0;w=!1}else r(n)&&(x=n.leading,y="maxWait"in n&&a(+n.maxWait||0,t),w="trailing"in n?n.trailing:w);return l.cancel=i,l}var r=n(70),o=n(71),s="Expected a function",a=Math.max;e.exports=i},function(e,t,n){var i=n(107),r=n(9);e.exports=i.extend({urlRoot:r.ironboard.apiUrl+"/lessons",props:{id:"string",title:"string",position:"string",githubIssueLink:"string",wiselinksTarget:"string"},session:{subscribed:["boolean",!0,!1],visible:["boolean",!0,!1]},derived:{fetched:{deps:["title"],fn:function(){return!!this.title}},wiselinksUrl:{deps:["id"],fn:function(){return"/lessons/"+this.id}}},parse:function(e){return e.id&&(e.id=e.id.toString()),e.wiselinks_target&&(e.wiselinksTarget=e.wiselinks_target,delete e.wiselinks_target),e.github_issue_link&&(e.githubIssueLink=e.github_issue_link,delete e.github_issue_link),e}})},function(e,t,n){var i=n(92),r=n(28);e.exports=i.extend({props:{fromPeer:"state"},initialize:function(){i.prototype.initialize.apply(this,arguments),this.setupFromPeer()},setupFromPeer:function(){var e=this,t=function(){e.fromPeer=e.from?r.peers.getOrAddByJid(e.from):void 0};t(),this.on("change:from",t)}})},function(e,t,n){var i=n(93),r=n(28);e.exports=i.extend({props:{flatironUser:"state"},derived:{flatironId:{deps:["jid"],fn:function(){var e=/^u-(\d+)-?.*$/,t=this.jid.local.match(e)||this.jid.resource.match(e);return t&&t[1]}},fullyFetched:{deps:["flatironUser","flatironUser.fetched"],fn:function(){return!(!this.flatironUser||!this.flatironUser.fetched)}}},initialize:function(){this.setupFlatironUser()},setupFlatironUser:function(){var e=this,t=function(){e.flatironUser=e.flatironId?r.flatironUsers.getOrAddById(e.flatironId.toString()):void 0};t(),this.on("change:flatironId",t)}})},function(e,t,n){var i=n(107),r=n(9);e.exports=i.extend({urlRoot:r.ironboard.apiUrl+"/users",props:{id:"string",name:"string",firstName:"string",githubAvatar:"string",githubUsername:"string",admin:["boolean",!0,!1]},derived:{fetched:{deps:["name"],fn:function(){return!!this.name}},displayName:{deps:["firstName","name","githubUsername"],fn:function(){return this.firstName||this.name||this.githubUsername}}},parse:function(e){return{id:e.id&&e.id.toString(),name:e.full_name||e.name||e.github_username,firstName:e.first_name||"",githubAvatar:e.github_gravatar||"",githubUsername:e.github_username||"",admin:!!e.admin,online:!!e.online}}})},function(e){var t,n,i=!1;i||document.addEventListener("wheel",function(e){if(t||n){if(n&&!t)return e.preventDefault(),void e.stopPropagation();var i=t.clientHeight,r=t.scrollHeight,o=r-i-1,s=t.scrollTop,a=e.deltaY;(a>0&&s>=o||0>a&&0>=s)&&(a>0&&(t.scrollTop=s+5),e.preventDefault(),e.stopPropagation())}},!1),e.exports=function(e,n){n=n||{};var i=function(){t=e},r=function(){t===e&&(t=null)};e.addEventListener("mouseenter",i,!1),e.addEventListener("mouseleave",r,!1)},e.exports.blockScroll=function(e){var t=function(){n=e},i=function(){n===e&&(n=null)};e.addEventListener("mouseenter",t,!1),e.addEventListener("mouseleave",i,!1)}},function(e,t,n){var i=n(64),r=n(108),o=n(31)("QuestionPanel"),s=n(28),a=n(39),c=n(72),u=n(73),l=n(74),h=n(75);e.exports=i.extend({template:h,session:{showResolved:["boolean",!0,!1],previewMode:{type:"boolean","default":!1},newQuestionExpanded:["boolean",!0,!0],fetchedResolved:["boolean",!0,!1]},derived:{showResolvedButtonVisible:{deps:["showResolved"],fn:function(){return!this.showResolved}},resolvedListVisible:{deps:["showResolved"],fn:function(){return this.showResolved}}},bindings:{resolvedListVisible:[{type:"toggle",hook:"resolved-questions"},{type:"toggle",hook:"hide-resolved-control"}],showResolvedButtonVisible:{type:"toggle",hook:"show-resolved-control"},previewMode:[{type:"toggle",yes:"[data-hook~=show-in-preview]",no:"[data-hook~=hide-in-preview]"}],newQuestionExpanded:[{type:"booleanClass",yes:"fichat-new-question-expanded",no:"fichat-new-question-collapsed",selector:""},{type:function(e){e&&this.newQuestionView&&this.newQuestionView.focus()}}]},events:{"click [data-hook~=show-resolved]":"showResolvedQuestions","click [data-hook~=hide-resolved]":"hideResolvedQuestions","click [data-hook~=expand-new-question]":"expandNewQuestion","click .fichat-question.is-selected":"collapseNewQuestion"},initialize:function(){var e=this;this.listenToQuestions(),s.on("question-panel:show-resolved",function(){e.showResolved=!0})},render:function(){return this.renderWithTemplate(),this.newQuestionView=this.renderSubview(new c({parent:this}),this.queryByHook("new-question")),this.questionSettingsView=this.renderSubview(new l({model:s.me}),this.queryByHook("question-settings-panel")),this.unresolvedQuestionsList=this.renderCollection(s.questionRooms.unresolved,u,this.queryByHook("unresolved-questions")),this.previewQuestionsList=this.renderCollection(s.questionRooms.preview,u,this.queryByHook("preview-questions")),this.resolvedQuestionsList=this.renderCollection(s.questionRooms.resolved,u,this.queryByHook("resolved-questions")),this.scrolledElement=this.queryByHook("scroll-container"),this.scrolledElement.style.position="relative",a(this.scrolledElement),this.addScrollPadding(),this.listenTo(this.parent,"change:panelState",function(e,t){var n=e.previousAttributes().panelState;"fullopen"===t&&"expanded"!==n&&(this.newQuestionExpanded=!1),"halfopen"===t&&(this.newQuestionExpanded=!0)}.bind(this)),this},addScrollPadding:function(){var e=this,t=this.queryByHook("show-resolved-control");setInterval(function(){var n=e.showResolved?e.resolvedQuestionsList:e.unresolvedQuestionsList,i=n.views[n.views.length-1];if(!i)return void(e.scrolledElement.style.paddingBottom=0);var r=e.scrolledElement.offsetHeight-i.el.offsetHeight;e.showResolved||(r-=t.offsetHeight),e.scrolledElement.style.paddingBottom=r+"px"},100)},listenToQuestions:function(){var e=this;this.listenTo(s.questionRooms,"selected",function(t){o.log("Selected",t),e.rendered&&(e.newQuestionExpanded=!1,e.scrollToQuestion(t))}.bind(this))},scrollToQuestion:function(e){var t=this,n=this.resolvedQuestionsList._getViewByModel(e)||this.unresolvedQuestionsList._getViewByModel(e);n&&n.el&&(this.hoverMode=!1,setTimeout(function(){t.scrollToEl(n.el)},50))},scrollToEl:function(e){r(e,"scroll",{container:this.scrolledElement,offset:-33})},collapseNewQuestion:function(){this.newQuestionExpanded=!1},expandNewQuestion:function(){this.newQuestionExpanded=!0},showResolvedQuestions:function(e){var t=this;t.fetchedResolved||(this.fetchedResolved=!0,s.lessonRooms.subscribeAndFetchResolved(function(e){e&&o.error(e),t.scrollToEl(t.queryByHook("hide-resolved"))})),e.preventDefault(),this.showResolved=!0},hideResolvedQuestions:function(e){e.preventDefault(),this.showResolved=!1}})},function(e,t,n){var i=n(28),r=n(64),o=n(94),s=n(69),a=n(76),c=n(77),u=n(78),l=n(79),h=n(80),f=n(81),d=n(39),p=n(82);e.exports=r.extend({template:p,events:{"click [data-hook~=expand-toggle]":"onExpandToggleClick","dragover [data-hook~=dropzone]":"onDragOver","dragend [data-hook~=dropzone]":"onDragEnd","dragleave [data-hook~=dropzone]":"onDragLeave","drop [data-hook~=dropzone]":"onDrop","click [data-hook~=start-screenshare-install]":"startScreenshareInstall","click [data-hook~=cancel-screenshare-install]":"cancelScreenshareInstall"},session:{me:"state",dragover:["boolean",!0,!1],screenshareInstallState:{type:"string",values:["none","preinstall","reloading"],"default":"none",required:!0},noMessageDelay:["number",!0,1e3],noMessageDelayExpired:{type:"boolean","default":!1}},derived:{showNoMessageDialog:{deps:["noMessageDelayExpired","model.hasMessages","model.resolved"],fn:function(){return!this.noMessageDelayExpired||this.model.resolved?!1:!this.model.hasMessages}}},bindings:{dragover:{type:"booleanClass",name:"fichat-drag-hover"},"model.resolved":{type:"booleanClass",name:"fichat-chat-resolved"},"model.deepLinked":{type:"toggle",yes:"[data-hook~=resolved-and-linked]"},screenshareInstallState:{type:"switch",cases:{preinstall:"[data-hook~=screenshare-preinstall-modal]",reloading:"[data-hook~=screenshare-reload-modal]"}},showNoMessageDialog:{type:"toggle",hook:"has-no-messages"},"model.isMine":{type:"toggle",yes:"[data-hook~=is-mine]",no:"[data-hook~=is-not-mine]"},"model.subject":{type:"text",hook:"subject"}},initialize:function(){var e=this;this.me=i.me,this.model.joinRoom(),this.model.triggerOnReloadScreenshareIfRequired(),this.hasMessages=!0,this.model.isNew&&this.model.isMine?e.noMessageDelayExpired=!0:setTimeout(function(){e.noMessageDelayExpired=!0},this.noMessageDelay)},render:function(){return this.renderWithTemplate(),this.renderCollection(this.model.messages,c,this.queryByHook("messages")),this.chatInputView=this.renderSubview(new a({model:this.model,parent:this,me:i.me}),this.queryByHook("chat-input")),this.snippetEditorView=this.renderSubview(new f({}),this.queryByHook("snippet-editor")),this.renderSubview(new u({model:this.model}),this.queryByHook("composers")),this.renderSubview(new l({model:this.model,parent:this}),this.queryByHook("action-buttons")),this.renderSubview(new h({model:this.model}),this.queryByHook("chat-footer")),this.bindSnippetEditorToChatInput(),this.staydown=new o({target:this.queryByHook("staydown-container"),interval:100}),d(this.queryByHook("staydown-container")),this.model.deepLinked?this.scrollToTop():this.scrollToBottom(),this},bindSnippetEditorToChatInput:function(){var e=this;this.snippetEditorView.on("submit",function(t){""!==t.trim()&&(e.chatInputView.appendCode(t),e.chatInputView.sendChat()),e.chatInputView.focus()}),this.snippetEditorView.on("close",function(){e.chatInputView.focus()}),this.chatInputView.on("open-snippet-editor",function(t){e.snippetEditorView.show(t.trim()||""),e.snippetEditorView.focus()})},scrollToBottom:function(){var e=this,t=this.queryByHook("staydown-container");setTimeout(function(){t.scrollTop=t.scrollHeight,e.chatInputView.resetAutosize()},20)},scrollToTop:function(){var e=this,t=this.queryByHook("staydown-container");setTimeout(function(){t.scrollTop=0,e.chatInputView.resetAutosize()},500)},onExpandToggleClick:function(){i.mainView.panelState="fullopen"==i.mainView.panelState?"expanded":"fullopen"},attemptScreenshare:function(){"none"===this.screenshareInstallState&&(this.model.screenshareActive||s.isExtensionInstalled()?this.model.joinScreenshare():this.screenshareInstallState="preinstall")},startScreenshareInstall:function(){var e=this;this.model.joinScreenshare(function(t){return e.screenshareInstallState="none",t?console.error("Failed to install"):(e.screenshareInstallState="reloading",void window.location.reload())})},cancelScreenshareInstall:function(){this.screenshareInstallState="none"},dragLeaveTimeout:null,clearDragTimer:function(){this.dragLeaveTimeout&&(clearTimeout(this.dragLeaveTimeout),this.dragLeaveTimeout=null)},onDragOver:function(e){e.stopPropagation(),e.preventDefault(),this.clearDragTimer(),this.dragover=!0},onDragLeave:function(e){e.stopPropagation(),e.preventDefault(),this.clearDragTimer(),this.dragLeaveTimeout=setTimeout(function(){this.dragover=!1}.bind(this),50)},onDragEnd:function(e){e.stopPropagation(),e.preventDefault(),this.dragover=!1},onDrop:function(e){e.stopPropagation(),e.preventDefault(),this.dragover=!1,this.chatInputView.fileUpload({target:{files:e.dataTransfer.files}})}})},function(e,t,n){var i=n(64),r=n(73),o=n(29);e.exports=r.extend({truncateSubjectLength:30,unreadActivityTimeout:!1,events:o({},r.prototype.events,{"click [data-hook~=undock]":"undockQuestion","click [data-hook~=select]":"selectQuestion"}),bindings:o({},r.prototype.bindings,{"model.isMine":{type:"toggle",no:"[data-hook~=undock]"}}),remove:function(){i.prototype.remove.call(this)},undockQuestion:function(e){e.preventDefault(),e.stopPropagation(),this.model.unbookmarkRoom()},showUserProfileCard:function(){},hideUserProfileCard:function(){}})},function(e,t,n){var i=n(64),r=n(83);e.exports=i.extend({template:r,props:{targetElement:"element",isVisible:"boolean",isHovered:"boolean"},derived:{showCard:{deps:["isVisible","isHovered"],fn:function(){return this.isVisible||this.isHovered}},userProfileLink:{deps:["model"],fn:function(){return this.model?window.location.origin+"/"+this.model.githubUsername:window.location.origin}},location:{deps:["targetElement"],fn:function(){if(!this.targetElement)return{top:0,left:0};var e={width:272,height:80},t={},n={width:window.innerWidth,height:window.innerHeight},i=this.targetElement.getBoundingClientRect(),r={top:i.top+i.height/2,left:i.left+i.width/2,bottom:n.height-i.bottom+i.height/2,right:n.width-i.right+i.width/2};t.left=r.left;var o=t.left+e.width-n.width;return o>0&&(t.left-=o),r.top+e.height<=n.height?t.top=r.top:t.bottom=r.bottom,t}}},bindings:{showCard:{type:"toggle"},"model.name":"[data-hook~=name]","model.githubUsername":"[data-hook~=username]",userProfileLink:{type:"attribute",name:"href",hook:"profile-link"},"model.githubAvatar":{type:"attribute",name:"src",hook:"avatar"},location:{type:function(e,t){e.style.top=t.top?t.top+"px":"auto",e.style.bottom=t.bottom?t.bottom+"px":"auto",e.style.left=t.left?t.left+"px":"auto",e.style.right=t.right?t.right+"px":"auto"}}},events:{mouseover:"onMouseover",mouseout:"onMouseout"},onMouseover:function(){this.isHovered=!0},onMouseout:function(){this.isHovered=!1},show:function(){var e=this.targetElement;this.targetElement=void 0,this.targetElement=e,this.isVisible=!0},hide:function(){this.isVisible=!1}})},,,function(e){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];e.push(n[2]?"@media "+n[2]+"{"+n[1]+"}":n[1])}return e.join("")},e}},function(e,t,n){var i=n(31)("XMPP"),r=n(9);e.exports=function(e){e.use(n(84)),e.use(n(85)),e.use(n(86)),e.use(n(87)),e.use(n(88)),window.localStorage&&window.localStorage.fichatDebug&&e.on("*",function(){i.log(arguments)});var t=!1;e.on("connected",function(){t=!0}),e.on("disconnected",function(){return r.isDev&&!t?void window.prompt("Staging certs are self signed and need to be accepted, temporarily.\n\nOpen the page below, and accept the cert, then refresh this page","https://"+r.xmpp.domain+":5281/xmpp-websocket"):(i.log("Lost XMPP connection. Attempting to reconnect..."),void setTimeout(function(){e.connect()},5e3))})}},function(e,t,n){function i(e){e.remove(function(){l.log("Removed notification"),f=a(f,e)})}function r(e){l.log("Adding notification"),f.unshift(e),f.forEach(function(e,t){e.el&&(e.el.style.top=10+110*t+"px")}),e.appendTo(document.body),setTimeout(function(){i(e)},h)}function o(e,t,n){l.log("Pinging server with notification");var i=u.ironboard.apiUrl+"/notifications/create";c({uri:i,method:"POST",json:{user_id:parseInt(e.me.userId),subject:t.subject,question_jid:t.jid,question_asker_id:parseInt(n.id)}},function(e,t,n){l.log("Response Body"),l.log(n)})}var s=n(89),a=n(90),c=n(97),u=n(9),l=n(31)("AppNotifications"),h=5e3,f=[];e.exports=function(e){e.on("question:received",function(t){var n,a=t.creatorPeer&&t.creatorPeer.flatironUser;n=a&&"undefined"==typeof a.displayName?(a.firstName||a.name||a.githubUsername)+" asked":a.displayName+" asked";var c=new s({avatar:a&&a.githubAvatar,title:n,body:t.subject,action:function(){e.questionRooms.selectQuestion(t),i(c)}});r(c),o(e,t,a)}),e.on("question:screenshare:started",function t(e){if(!e.selected){var n=e.screenshareCreatorPeer,o=n&&n.flatironUser;if(!n.fullyFetched)return n.once("change:fullyFetched",function(){t(e)});var a=new s({avatar:o.githubAvatar,title:o.displayName+" is sharing their screen",linkText:"Join now",action:function(){e.joinScreenshare(),i(a)}});r(a)}}),e.on("mention:received",function(t){if(!t.room.selected){var n=t.mentionedBy&&t.mentionedBy.flatironUser,o=new s({avatar:n&&n.githubAvatar,title:(n&&n.displayName)+" mentioned you in a chat",body:t.body,action:function(){e.questionRooms.selectQuestion(t.room),i(o)}});r(o)}})}},function(e,t,n){var i=n(135),r=new i;r.loadFile(n(136),"new-activity"),e.exports=function(e){e.on("question:new-activity",function(t){e.windowVisibility.visible&&t.selected||r.play("new-activity")}),e.on("question:received",function(){r.play("new-activity")}),e.on("question:screenshare:started",function(e){e.amScreenshareCreator||r.play("new-activity")}),e.on("mention:received",function(e){e.room.selected||r.play("new-activity")})}},function(e,t,n){var i=n(56),r=i.extend({props:{notificationCount:["number",!0,0],notificationRooms:["object",!0,function(){return{}}],mostRecentTitle:"string",defaultTitle:["string",!0,document.title],chatCount:["number",!0,0]},initialize:function(){this.on("change",this.managePageTitle.bind(this))},reset:function(){this.timeout=clearTimeout(this.timeout),document.title=this.defaultTitle,this.chatCount=0,this.notificationCount=0},managePageTitle:function(){var e=this;if(0===this.notificationCount)this.reset();else{var t=!0;clearTimeout(this.timeout);var n=function(){document.title=t?"("+e.notificationCount+") "+e.defaultTitle:e.mostRecentTitle,t=!t,e.timeout=setTimeout(n,2500)};n()}}});e.exports=function(e){var t=new r;e.on("activity",function(){t.notificationCount=0,t.mostRecentTitle="",t.notificationRooms={}}),e.on("question:received",function(n){if(!e.windowVisibility.visible){var i=function(){t.notificationCount++,t.mostRecentTitle=n.creatorDisplayName+" asked a question",t.notificationRooms[n.jid]=1};n.fullyFetched?i():n.once("change:fullyFetched",i)}}),e.on("question:resolved",function(n){if(!e.windowVisibility.visible&&t.notificationRooms[n.jid]){var i=t.notificationRooms[n.jid];t.notificationCount-=i,t.notificationRooms[n.jid]=null}}),e.on("question:screenshare:started",function(n){e.windowVisibility.visible||n.amScreenshareCreator||(t.notificationCount++,t.mostRecentTitle=n.screenshareCreatorPeer.flatironUser.displayName+" wants to screenshare",t.notificationRooms[n.jid]?t.notificationRooms[n.jid]+=1:t.notificationRooms[n.jid]=1)}),e.on("question:screenshare:ended",function(n){e.windowVisibility.visible||n.amScreenshareCreator||t.notificationRooms[n.jid]&&(t.notificationCount--,t.notificationRooms[n.jid]-=1)}),e.on("question:new-activity",function(n){e.windowVisibility.visible||(t.notificationCount++,t.chatCount++,t.notificationRooms[n.jid]?t.notificationRooms[n.jid]+=1:t.notificationRooms[n.jid]=1,t.mostRecentTitle=1===t.chatCount?"New message received":"New messages received")}),e.on("mention:received",function(n){if(!e.windowVisibility.visible){t.notificationCount++;var i=n.fromPeer&&n.fromPeer.flatironUser&&n.fromPeer.flatironUser.displayName;t.mostRecentTitle=(i||"Someone")+" mentioned you"}})}},function(e,t,n){"use strict";function i(e,t){return e?e+"@"+t:t}function r(e,t,n){return n?i(e,t)+"/"+n:i(e,t)}var o=n(106);t.prep=function(e){var n=e.local,s=e.domain,a=e.resource,c=n;return n&&(n=o.nodeprep(n),c=t.unescape(n)),a&&(a=o.resourceprep(a)),"."===s[s.length-1]&&(s=s.slice(0,s.length-1)),s=o.nameprep(s.split(".").map(o.toUnicode).join(".")),{prepped:e.prepped||o.available,local:n,domain:s,resource:a,bare:i(n,s),full:r(n,s,a),unescapedLocal:c,unescapedBare:i(c,s),unescapedFull:r(c,s,a)}},t.parse=function(e,n){var i="",r="",o="";n=/^[\x00-\x7F]*$/.test(e);var s=e.indexOf("/");s>0&&(o=e.slice(s+1),e=e.slice(0,s));var a=e.indexOf("@");a>0&&(i=e.slice(0,a),e=e.slice(a+1)),r=e;var c=t.prep({local:i,domain:r,resource:o});return c.prepped=c.prepped||n,c},t.equal=function(e,n,i){return e=new t.JID(e),n=new t.JID(n),2===arguments.length&&(i=!0),e.local===n.local&&e.domain===n.domain&&e.resource===n.resource&&(i?e.prepped&&n.prepped:!0)},t.equalBare=function(e,n,i){return e=new t.JID(e),n=new t.JID(n),2===arguments.length&&(i=!0),e.local===n.local&&e.domain===n.domain&&(i?e.prepped&&n.prepped:!0)},t.escape=function(e){return e.replace(/^\s+|\s+$/g,"").replace(/\\5c/g,"\\5c5c").replace(/\\20/g,"\\5c20").replace(/\\22/g,"\\5c22").replace(/\\26/g,"\\5c26").replace(/\\27/g,"\\5c27").replace(/\\2f/g,"\\5c2f").replace(/\\3a/g,"\\5c3a").replace(/\\3c/g,"\\5c3c").replace(/\\3e/g,"\\5c3e").replace(/\\40/g,"\\5c40").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},t.unescape=function(e){return e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},t.create=function(e,n,i){return new t.JID(e,n,i)},t.JID=function(e,n,i){var r={};if(!e||n||i)r=n?t.prep({local:t.escape(e),domain:n,resource:i}):{};else if("string"==typeof e)r=t.parse(e);else{if(!(e._isJID||e instanceof t.JID))throw new Error("Invalid argument type");r=e}this._isJID=!0,this.local=r.local||"",this.domain=r.domain||"",this.resource=r.resource||"",this.bare=r.bare||"",this.full=r.full||"",this.unescapedLocal=r.unescapedLocal||"",this.unescapedBare=r.unescapedBare||"",this.unescapedFull=r.unescapedFull||"",this.prepped=r.prepped},t.JID.prototype.toString=function(){return this.full},t.JID.prototype.toJSON=function(){return this.full}},function(e){function t(e,t){if("string"!=typeof e)throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if("body"==i){var o=t.createElement("html");return o.innerHTML=e,o.removeChild(o.lastChild)}var s=r[i]||r._default,a=s[0],c=s[1],u=s[2],o=t.createElement("div");for(o.innerHTML=c+e+u;a--;)o=o.lastChild;if(o.firstChild==o.lastChild)return o.removeChild(o.firstChild);for(var l=t.createDocumentFragment();o.firstChild;)l.appendChild(o.removeChild(o.firstChild));return l}e.exports=t;var n=document.createElement("div");n.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>';var i=!n.getElementsByTagName("link").length;n=void 0;var r={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:i?[1,"X<div>","</div>"]:[0,"",""]};r.td=r.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],r.option=r.optgroup=[1,'<select multiple="multiple">',"</select>"],r.thead=r.tbody=r.colgroup=r.caption=r.tfoot=[1,"<table>","</table>"],r.polyline=r.ellipse=r.polygon=r.circle=r.text=r.line=r.path=r.rect=r.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},function(e,t,n){"use strict";t.VERSION="__STANZAIO_VERSION__",t.JID=n(51).JID,t.Client=n(95),t.createClient=function(e){var i=new t.Client(e);return i.use(n(109)),
i}},function(e,t,n){function i(e,t,n){var i=o(t);if(!n)return r(t,e,i);for(var s=-1,a=i.length;++s<a;){var c=i[s],u=e[c],l=n(u,t[c],c,e,t);(l===l?l===u:u!==u)&&("undefined"!=typeof u||c in e)||(e[c]=l)}return e}var r=n(100),o=n(101);e.exports=i},function(e,t,n){function i(e){return function(){var t=arguments,n=t.length,i=t[0];if(2>n||null==i)return i;var s=t[n-2],a=t[n-1],c=t[3];n>3&&"function"==typeof s?(s=r(s,a,5),n-=2):(s=n>2&&"function"==typeof a?a:null,n-=s?1:0),c&&o(t[1],t[2],c)&&(s=3==n?null:s,n=2);for(var u=0;++u<n;){var l=t[u];l&&e(i,l,s)}return i}}var r=n(102),o=n(103);e.exports=i},function(e,t,n){function i(e,t){t||(t={}),this.cid||(this.cid=a.uniqueId("state")),this._events={},this._values={},this._definition=Object.create(this._definition),t.parse&&(e=this.parse(e,t)),this.parent=t.parent,this.collection=t.collection,this._keyTree=new u,this._initCollections(),this._initChildren(),this._cache={},this._previousAttributes={},e&&this.set(e,a.extend({silent:!0,initial:!0},t)),this._changed={},this._derived&&this._initDerived(),t.init!==!1&&this.initialize.apply(this,arguments)}function r(e,t,n,i){var r,o,s=e._definition[t]={};if(a.isString(n))r=e._ensureValidType(n),r&&(s.type=r);else{if(a.isArray(n)&&(o=n,n={type:o[0],required:o[1],"default":o[2]}),r=e._ensureValidType(n.type),r&&(s.type=r),n.required&&(s.required=!0),n["default"]&&"object"==typeof n["default"])throw new TypeError("The default value for "+t+" cannot be an object/array, must be a value or a function which returns a value/object/array");s["default"]=n["default"],s.allowNull=n.allowNull?n.allowNull:!1,n.setOnce&&(s.setOnce=!0),s.required&&a.isUndefined(s["default"])&&!s.setOnce&&(s["default"]=e._getDefaultForType(r)),s.test=n.test,s.values=n.values}return i&&(s.session=!0),Object.defineProperty(e,t,{set:function(e){this.set(t,e)},get:function(){var e=this._values[t],n=this._dataTypes[s.type];return"undefined"!=typeof e?(n&&n.get&&(e=n.get(e)),e):(e=a.result(s,"default"),this._values[t]=e,e)}}),s}function o(e,t,n){var i=e._derived[t]={fn:a.isFunction(n)?n:n.fn,cache:n.cache!==!1,depList:n.deps||[]};a.each(i.depList,function(n){e._deps[n]=a(e._deps[n]||[]).union([t])}),Object.defineProperty(e,t,{get:function(){return this._getDerivedProperty(t)},set:function(){throw new TypeError('"'+t+"\" is a derived property, it can't be set directly.")}})}function s(e){var t,n=this,i=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},a.extend(t,n);var s=function(){this.constructor=t};s.prototype=n.prototype,t.prototype=new s,t.prototype._derived=a.extend({},n.prototype._derived),t.prototype._deps=a.extend({},n.prototype._deps),t.prototype._definition=a.extend({},n.prototype._definition),t.prototype._collections=a.extend({},n.prototype._collections),t.prototype._children=a.extend({},n.prototype._children),t.prototype._dataTypes=a.extend({},n.prototype._dataTypes||f),e&&i.forEach(function(e){var n=["dataTypes","props","session","derived","collections","children"];e.dataTypes&&a.each(e.dataTypes,function(e,n){t.prototype._dataTypes[n]=e}),e.props&&a.each(e.props,function(e,n){r(t.prototype,n,e)}),e.session&&a.each(e.session,function(e,n){r(t.prototype,n,e,!0)}),e.derived&&a.each(e.derived,function(e,n){o(t.prototype,n,e)}),e.collections&&a.each(e.collections,function(e,n){t.prototype._collections[n]=e}),e.children&&a.each(e.children,function(e,n){t.prototype._children[n]=e}),a.extend(t.prototype,a.omit(e,n))});Object.prototype.toString;return t.__super__=n.prototype,t}var a=n(186),c=n(142),u=n(187),l=n(188),h=/^change:/;a.extend(i.prototype,c,{extraProperties:"ignore",idAttribute:"id",namespaceAttribute:"namespace",typeAttribute:"modelType",initialize:function(){return this},getId:function(){return this[this.idAttribute]},getNamespace:function(){return this[this.namespaceAttribute]},getType:function(){return this[this.typeAttribute]},isNew:function(){return null==this.getId()},escape:function(e){return a.escape(this.get(e))},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},parse:function(e){return e},serialize:function(){var e=this.getAttributes({props:!0},!0);return a.each(this._children,function(t,n){e[n]=this[n].serialize()},this),a.each(this._collections,function(t,n){e[n]=this[n].serialize()},this),e},set:function(e,t,n){var i,r,o,s,c,u,l,h,f,d,p,m,g,v,b,y,w=this,x=this.extraProperties;if(a.isObject(e)||null===e?(f=e,n=t):(f={},f[e]=t),n=n||{},!this._validate(f,n))return!1;m=n.unset,p=n.silent,v=n.initial,r=[],i=this._changing,this._changing=!0,i||(this._previousAttributes=this.attributes,this._changed={});for(h in f){if(s=f[h],o=typeof s,g=this._values[h],c=this._definition[h],!c){if(this._children[h]||this._collections[h]){this[h].set(s,n);continue}if("ignore"===x)continue;if("reject"===x)throw new TypeError('No "'+h+'" property defined on '+(this.type||"this")+' model and extraProperties not set to "ignore" or "allow"');if("allow"===x)c=this._createPropertyDefinition(h,"any");else if(x)throw new TypeError('Invalid value for extraProperties: "'+x+'"')}if(y=this._getCompareForType(c.type),d=this._dataTypes[c.type],d&&d.set&&(u=d.set(s),s=u.val,o=u.type),c.test&&(l=c.test.call(this,s,o)))throw new TypeError("Property '"+h+"' failed validation with error: "+l);if(a.isUndefined(s)&&c.required)throw new TypeError("Required property '"+h+"' must be of type "+c.type+". Tried to set "+s);if(a.isNull(s)&&c.required&&!c.allowNull)throw new TypeError("Property '"+h+"' must be of type "+c.type+" (cannot be null). Tried to set "+s);if(c.type&&"any"!==c.type&&c.type!==o&&!a.isNull(s)&&!a.isUndefined(s))throw new TypeError("Property '"+h+"' must be of type "+c.type+". Tried to set "+s);if(c.values&&!a.contains(c.values,s))throw new TypeError("Property '"+h+"' must be one of values: "+c.values.join(", ")+". Tried to set "+s);if(b=!y(g,s,h),c.setOnce&&void 0!==g&&b&&!v)throw new TypeError("Property '"+h+"' can only be set once.");b?(r.push({prev:g,val:s,key:h}),w._changed[h]=s):delete w._changed[h]}if(a.each(r,function(e){w._previousAttributes[e.key]=e.prev,m?delete w._values[e.key]:w._values[e.key]=e.val}),!p&&r.length&&(w._pending=!0),p||a.each(r,function(e){w.trigger("change:"+e.key,w,e.val,n)}),i)return this;if(!p)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},get:function(e){return this[e]},toggle:function(e){var t=this._definition[e];if("boolean"===t.type)this[e]=!this[e];else{if(!t||!t.values)throw new TypeError("Can only toggle properties that are type `boolean` or have `values` array.");this[e]=l(t.values,this[e])}return this},previousAttributes:function(){return a.clone(this._previousAttributes)},hasChanged:function(e){return null==e?!a.isEmpty(this._changed):a.has(this._changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this._changed):!1;var t,n,i,r=!1,o=this._changing?this._previousAttributes:this.attributes;for(var s in e)n=this._definition[s],n&&(i=this._getCompareForType(n.type),i(o[s],t=e[s])||((r||(r={}))[s]=t));return r},toJSON:function(){return this.serialize()},unset:function(e,t){{var n,i=this._definition[e];i.type}return i.required?(n=a.result(i,"default"),this.set(e,n,t)):this.set(e,n,a.extend({},t,{unset:!0}))},clear:function(e){var t=this;return a.each(a.keys(this.attributes),function(n){t.unset(n,e)}),this},previous:function(e){return null!=e&&Object.keys(this._previousAttributes).length?this._previousAttributes[e]:null},_getDefaultForType:function(e){var t=this._dataTypes[e];return t&&t["default"]},_getCompareForType:function(e){var t=this._dataTypes[e];return t&&t.compare?a.bind(t.compare,this):a.isEqual},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t||{},{validationError:n})),!1):!0},_createPropertyDefinition:function(e,t,n){return r(this,e,t,n)},_ensureValidType:function(e){return a.contains(["string","number","boolean","array","object","date","any"].concat(a.keys(this._dataTypes)),e)?e:void 0},getAttributes:function(e,t){e||(e={}),a.defaults(e,{session:!1,props:!1,derived:!1});var n,i,r,o={};for(i in this._definition)r=this._definition[i],(e.session&&r.session||e.props&&!r.session)&&(n=t?this._values[i]:this[i],"undefined"==typeof n&&(n=a.result(r,"default")),"undefined"!=typeof n&&(o[i]=n));if(e.derived)for(i in this._derived)o[i]=this[i];return o},_initDerived:function(){var e=this;a.each(this._derived,function(t,n){var i=e._derived[n];i.deps=i.depList;var r=function(t){t=t||{};var r=i.fn.call(e);e._cache[n]===r&&i.cache||(i.cache&&(e._previousAttributes[n]=e._cache[n]),e._cache[n]=r,e.trigger("change:"+n,e,e._cache[n]))};i.deps.forEach(function(t){e._keyTree.add(t,r)})}),this.on("all",function(t){h.test(t)&&e._keyTree.get(t.split(":")[1]).forEach(function(e){e()})},this)},_getDerivedProperty:function(e,t){return this._derived[e].cache?((t||!this._cache.hasOwnProperty(e))&&(this._cache[e]=this._derived[e].fn.apply(this)),this._cache[e]):this._derived[e].fn.apply(this)},_initCollections:function(){var e;if(this._collections)for(e in this._collections)this[e]=new this._collections[e](null,{parent:this})},_initChildren:function(){var e;if(this._children)for(e in this._children)this[e]=new this._children[e]({},{parent:this}),this.listenTo(this[e],"all",this._getEventBubblingHandler(e))},_getEventBubblingHandler:function(e){return a.bind(function(t,n,i){h.test(t)?this.trigger("change:"+e+"."+t.split(":")[1],n,i):"change"===t&&this.trigger("change",this)},this)},_verifyRequired:function(){var e=this.attributes;for(var t in this._definition)if(this._definition[t].required&&"undefined"==typeof e[t])return!1;return!0}}),Object.defineProperties(i.prototype,{attributes:{get:function(){return this.getAttributes({props:!0,session:!0})}},all:{get:function(){return this.getAttributes({session:!0,props:!0,derived:!0})}},isState:{get:function(){return!0},set:function(){}}});var f={string:{"default":function(){return""}},date:{set:function(e){var t;if(null==e)t="object";else if(a.isDate(e))t="date",e=e.valueOf();else try{var n=new Date(e).valueOf();if(isNaN(n)&&(n=new Date(parseInt(e,10)).valueOf(),isNaN(n)))throw TypeError;e=n,t="date"}catch(i){t=typeof e}return{val:e,type:t}},get:function(e){return null==e?e:new Date(e)},"default":function(){return new Date}},array:{set:function(e){return{val:e,type:a.isArray(e)?"array":typeof e}},"default":function(){return[]}},object:{set:function(e){var t=typeof e;return"object"!==t&&a.isUndefined(e)&&(e=null,t="object"),{val:e,type:t}},"default":function(){return{}}},state:{set:function(e){var t=e instanceof i||e&&e.isState;return t?{val:e,type:"state"}:{val:e,type:typeof e}},compare:function(e,t,n){var i=e===t;return i||(e&&this.stopListening(e),null!=t&&this.listenTo(t,"all",this._getEventBubblingHandler(n))),i}}};i.extend=s,e.exports=i},function(e,t,n){var i=n(104),r=n(105);e.exports=function(e){return r(i(e.split(".")[1]))}},function(e,t,n){var i;(function(){function r(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=g[e])});16>r;)t[i+r++]=0;return t}function o(e,t){var n=t||0,i=m;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function s(e,t,n){var i=t&&n||0,r=t||[];e=e||{};var s=null!=e.clockseq?e.clockseq:w,a=null!=e.msecs?e.msecs:(new Date).getTime(),c=null!=e.nsecs?e.nsecs:_+1,u=a-x+(c-_)/1e4;if(0>u&&null==e.clockseq&&(s=s+1&16383),(0>u||a>x)&&null==e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x=a,_=c,w=s,a+=122192928e5;var l=(1e4*(268435455&a)+c)%4294967296;r[i++]=l>>>24&255,r[i++]=l>>>16&255,r[i++]=l>>>8&255,r[i++]=255&l;var h=a/4294967296*1e4&268435455;r[i++]=h>>>8&255,r[i++]=255&h,r[i++]=h>>>24&15|16,r[i++]=h>>>16&255,r[i++]=s>>>8|128,r[i++]=255&s;for(var f=e.node||y,d=0;6>d;d++)r[i+d]=f[d];return t?t:o(r)}function a(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new p(16):null,e=null),e=e||{};var r=e.random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var s=0;16>s;s++)t[i+s]=r[s];return t||o(r)}var c,u=this;if("function"==typeof u.require)try{var l=u.require("crypto").randomBytes;c=l&&function(){return l(16)}}catch(h){}if(!c&&u.crypto&&crypto.getRandomValues){var f=new Uint8Array(16);c=function(){return crypto.getRandomValues(f),f}}if(!c){var d=new Array(16);c=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),d[t]=e>>>((3&t)<<3)&255;return d}}for(var p="function"==typeof u.Buffer?u.Buffer:Array,m=[],g={},v=0;256>v;v++)m[v]=(v+256).toString(16).substr(1),g[m[v]]=v;var b=c(),y=[1|b[0],b[1],b[2],b[3],b[4],b[5]],w=16383&(b[6]<<8|b[7]),x=0,_=0,k=a;if(k.v1=s,k.v4=a,k.parse=r,k.unparse=o,k.BufferClass=p,"undefined"!=typeof e&&e.exports)e.exports=k;else{i=function(){return k}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}}).call(this)},function(e,t,n){function i(e,t){if(t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),t.parent&&(this.parent=t.parent),!this.mainIndex){var n=this.model&&this.model.prototype&&this.model.prototype.idAttribute;this.mainIndex=n||"id"}this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,c({silent:!0},t))}var r=n(143),o=n(189),s=n(144),a=n(190),c=n(191),u=[].slice;c(i.prototype,r,{initialize:function(){},isModel:function(e){return this.model&&e instanceof this.model},add:function(e,t){return this.set(e,c({merge:!1,add:!0,remove:!1},t))},parse:function(e){return e},serialize:function(){return this.map(function(e){if(e.serialize)return e.serialize();var t={};return c(t,e),delete t.collection,t})},toJSON:function(){return this.serialize()},set:function(e,t){t=c({add:!0,remove:!0,merge:!0},t),t.parse&&(e=this.parse(e,t));var n=!s(e);e=n?e?[e]:[]:e.slice();var i,r,o,a,u,l,h,f=t.at,d=this.comparator&&null==f&&t.sort!==!1,p="string"==typeof this.comparator?this.comparator:null,m=[],g=[],v={},b=t.add,y=t.merge,w=t.remove,x=!d&&b&&w?[]:!1,_=this.model&&this.model.prototype||Object.prototype;for(l=0,h=e.length;h>l;l++){if(o=e[l]||{},i=this.isModel(o)?r=o:_.generateId?_.generateId(o):o[this.mainIndex],a=this.get(i))w&&(v[a.cid||a[this.mainIndex]]=!0),y&&(o=o===r?r.attributes:o,t.parse&&(o=a.parse(o,t)),a.set?(a.set(o,t),d&&!u&&a.hasChanged(p)&&(u=!0)):c(a,o)),e[l]=a;else if(b){if(r=e[l]=this._prepareModel(o,t),!r)continue;m.push(r),this._addReference(r,t)}r=a||r,r&&(x&&(r.isNew&&r.isNew()||!r[this.mainIndex]||!v[r.cid||r[this.mainIndex]])&&x.push(r),v[r[this.mainIndex]]=!0)}if(w){for(l=0,h=this.length;h>l;l++)r=this.models[l],v[r.cid||r[this.mainIndex]]||g.push(r);g.length&&this.remove(g,t)}if(m.length||x&&x.length)if(d&&(u=!0),null!=f)for(l=0,h=m.length;h>l;l++)this.models.splice(f+l,0,m[l]);else{var k=x||m;for(l=0,h=k.length;h>l;l++)this.models.push(k[l])}if(u&&this.sort({silent:!0}),!t.silent){for(l=0,h=m.length;h>l;l++)r=m[l],r.trigger?r.trigger("add",r,this,t):this.trigger("add",r,this,t);(u||x&&x.length)&&this.trigger("sort",this,t)}return n?e[0]:e},get:function(e,t){if(null!=e){var n=this._indexes[t||this.mainIndex];return n&&(n[e]||n[e[this.mainIndex]])||this._indexes.cid[e]||this._indexes.cid[e.cid]}},at:function(e){return this.models[e]},remove:function(e,t){var n,i,r,o,a=!s(e);for(e=a?[e]:u.call(e),t||(t={}),n=0,i=e.length;i>n;n++)r=e[n]=this.get(e[n]),r&&(this._deIndex(r),o=this.models.indexOf(r),this.models.splice(o,1),t.silent||(t.index=o,r.trigger?r.trigger("remove",r,this,t):this.trigger("remove",r,this,t)),this._removeReference(r,t));return a?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n],t);return t.previousModels=this.models,this._reset(),e=this.add(e,c({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},sort:function(e){var t=this;if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),this.models.sort("string"==typeof this.comparator?function(e,n){return e.get?(e=e.get(t.comparator),n=n.get(t.comparator)):(e=e[t.comparator],n=n[t.comparator]),e>n||void 0===e?1:n>e||void 0===n?-1:0}:1===this.comparator.length?function(e,n){return e=t.comparator(e),n=t.comparator(n),e>n||void 0===e?1:n>e||void 0===n?-1:0}:a(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},_reset:function(){var e=u.call(this.indexes||[]),t=0;e.push(this.mainIndex),e.push("cid");var n=e.length;for(this.models=[],this._indexes={};n>t;t++)this._indexes[e[t]]={}},_prepareModel:function(e,t){if(!this.model)return e;if(this.isModel(e))return e.collection||(e.collection=this),e;t=t?c({},t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_deIndex:function(e){for(var t in this._indexes)delete this._indexes[t][e.hasOwnProperty(t)?e[t]:e.get&&e.get(t)]},_index:function(e){for(var t in this._indexes){var n=e.hasOwnProperty(t)?e[t]:e.get&&e.get(t);null!=n&&(this._indexes[t][n]=e)}},_addReference:function(e){this._index(e),e.collection||(e.collection=this),e.on&&e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,this._deIndex(e),e.off&&e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+this.mainIndex&&(this._deIndex(t),this._index(t)),this.trigger.apply(this,arguments))}}),Object.defineProperties(i.prototype,{length:{get:function(){return this.models.length}},isCollection:{value:!0}});var l=["indexOf","lastIndexOf","every","some","forEach","map","filter","reduce","reduceRight"];l.forEach(function(e){i.prototype[e]=function(){return this.models[e].apply(this.models,arguments)}}),i.prototype.each=i.prototype.forEach,i.extend=o,e.exports=i},function(e,t,n){function i(e,t){this.collection=e,this.indexes=e.indexes||[],this._indexes={},this._resetIndexes(this._indexes),this.mainIndex=e.mainIndex,this.models=[],this.configure(t||{},!0),this.listenTo(this.collection,"all",this._onCollectionEvent)}var r=n(192),o=n(193),s=n(194),a=n(195),c=n(196),u=n(197),l=n(199),h=n(198),f=n(200),d=n(201),p=n(202),m=n(203),g=n(204),v=n(205),b=n(96),y=Array.prototype.slice;c(i.prototype,b,v,{addFilter:function(e){this.swapFilters([e],[])},removeFilter:function(e){this.swapFilters([],[e])},clearFilters:function(){this._resetFilters(),this._runFilters()},swapFilters:function(e,t){var n=this;t?u(t)||(t=[t]):t=this._filters,e?u(e)||(e=[e]):e=[],t.forEach(function(e){n._removeFilter(e)}),e.forEach(function(e){n._addFilter(e)}),this._runFilters()},configure:function(e,t){t&&this._resetFilters(t),this._parseSpec(e),t&&this._runFilters()},at:function(e){return this.models[e]},get:function(e,t){var n=this.collection.get(e,t);return n&&this.contains(n)?n:void 0},reset:function(){this.configure({},!0)},_indexedGet:function(e,t){if(e){var n=this._indexes[t||this.mainIndex];return n[e]||n[e[this.mainIndex]]||this._indexes.cid[e]||this._indexes.cid[e.cid]}},_parseSpec:function(e){e.watched&&this._watch(e.watched),e.comparator&&(this.comparator=e.comparator),e.where&&(s(e.where,function(e,t){this._addFilter(function(n){return(n.get?n.get(t):n[t])===e})},this),this._watch(h(e.where))),e.filter&&this._addFilter(e.filter),e.filters&&e.filters.forEach(this._addFilter,this)},_addFilter:function(e){this._filters.push(e)},_removeFilter:function(e){var t=this._filters.indexOf(e);-1!==t&&this._filters.splice(t,1)},_resetFilters:function(e){this._filters=[],this._watched=[],e&&(this.comparator=void 0)},_watch:function(e){this._watched=m(this._watched,e)},_unwatch:function(e){this._watched=o(this._watched,u(e)?e:[e])},_sortModels:function(e){var t=this.comparator||this.collection.comparator;return t?e=d(e,t):this._runFilters(),e},_addModel:function(e,t,n){var i=y.call(this.models),r=this.comparator||this.collection.comparator,o="add"===n&&this.collection.comparator&&null==t.at&&t.sort!==!1;o?(i.push(e),t.at&&(i=this._sortModels(i))):p(i,e,r),this.models=i,this._addIndex(this._indexes,e),this.comparator&&!o&&this.trigger("sort",this)},_removeModel:function(e){var t=y.call(this.models),n=t.indexOf(e);return n>-1?(t.splice(n,1),this.models=t,this._removeIndex(this._indexes,e),!0):!1},_testModel:function(e){return 0===this._filters.length?!0:a(this._filters,function(t){return t(e)})},_addIndex:function(e,t){for(var n in this._indexes){var i=t[n]||t.get&&t.get(n);i&&(e[n][i]=t)}},_removeIndex:function(e,t){for(var n in this._indexes)delete this._indexes[n][t[n]||t.get&&t.get(n)]},_resetIndexes:function(e){var t=y.call(this.indexes);t.push(this.mainIndex),t.push("cid");for(var n=0;n<t.length;n++)e[t[n]]={}},_runFilters:function(){var e,t,n,i=y.call(this.models),r=y.call(this.collection.models),a={};this._resetIndexes(a),e=this._filters.length?f(this._filters,function(e,t){return e.filter(t)},r):y.call(r),this.comparator&&(e=d(e,this.comparator)),e.forEach(function(e){this._addIndex(a,e)},this),r.length?(this._filtered=e,this._indexes=a):(this._filtered=[],this._resetIndexes(this._indexes)),t=o(e,i),n=o(i,e),this.models=e,s(n,function(e){this.trigger("remove",e,this)},this),s(t,function(e){this.trigger("add",e,this)},this),!l(i,e)&&this.comparator&&this.trigger("sort",this)},_onCollectionEvent:function(e,t,n,i){i||(i={});var o,s=e.split(":")[1],a=e,c=this._indexedGet(t),u=this.collection.comparator&&null==i.at&&i.sort!==!1,l=i.add,h=i.remove,f=!u&&l&&h;if(void 0!==s&&s===this.comparator||r(this._watched,s)?(o=this._testModel(t),a=!c&&o?"add":c&&!o?"remove":"ignore"):"add"===a&&(!this._testModel(t)||c)&&(a="ignore"),"reset"===a)return this._runFilters();if("add"===a)return void(0===this.models.length?this._runFilters():(this._addModel(t,i,e),this.trigger("add",t,this)));if("remove"===a)return void(this._removeModel(t)&&this.trigger("remove",t,this));if("ignore"!==a&&this.trigger.apply(this,arguments),"sort"===a||(s&&!u&&r([this.comparator,this.collection.comparator]),s)){if(f&&t.isNew)return;this.models=this._sortModels(this.models),this.comparator&&"sort"!==a&&this.trigger("sort",this)}}}),Object.defineProperty(i.prototype,"length",{get:function(){return this.models.length}}),Object.defineProperty(i.prototype,"isCollection",{get:function(){return!0}}),i.extend=g,e.exports=i},function(e,t,n){function i(e,t){this.collection=e,this.configure(t||{},!0),this.offset=0,this.listenTo(this.collection,"all",this._onCollectionEvent)}var r=n(96),o=n(206),s=n(207),a=n(208),c=Array.prototype.slice;a(i.prototype,r,o,{configure:function(e,t){(this._parseSpec(e)||t)&&this._reSlice()},at:function(e){return this.models[e]},_parseSpec:function(e){var t=!1;return e.hasOwnProperty("limit")&&this.limit!==e.limit&&(t=!0,this.limit=e.limit),e.hasOwnProperty("offset")&&this.offset!==e.offset&&(t=!0,this.offset=e.offset),t},_reSlice:function(){var e=c.call(this.collection.models),t=this.offset||0;(this.limit||this.offset)&&(e=e.slice(t,this.limit+t)),this.models=e,this.trigger("reset",this,{previousModels:this.collection.models})},_onCollectionEvent:function(e,t,n,i){i||(i={});var r=this.collection.comparator&&null==i.at&&i.sort!==!1,o=i.add,s=i.remove,a=!r&&o&&s;if("add"===e||"remove"===e){if(r)return;if(a&&(t.isNew||!t[this.collection.mainIndex]))return}e.match(/^change:/)||this._reSlice()}}),Object.defineProperty(i.prototype,"length",{get:function(){return this.models.length}}),Object.defineProperty(i.prototype,"isCollection",{get:function(){return!0}}),i.extend=s,e.exports=i},function(e,t,n){var i=n(59),r=n(209),o=n(210);e.exports=i.extend(r,o)},function(e,t,n){var i,r;(function(n,o){/*!
	 * async
	 * https://github.com/caolan/async
	 *
	 * Copyright 2010-2014 Caolan McMahon
	 * Released under the MIT license
	 */
!function(){function s(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(a,arguments)}}var a,c,u={};a=this,null!=a&&(c=a.async),u.noConflict=function(){return a.async=c,u};var l=Object.prototype.toString,h=Array.isArray||function(e){return"[object Array]"===l.call(e)},f=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},d=function(e,t){if(e.map)return e.map(t);var n=[];return f(e,function(e,i,r){n.push(t(e,i,r))}),n},p=function(e,t,n){return e.reduce?e.reduce(t,n):(f(e,function(e,i,r){n=t(n,e,i,r)}),n)},m=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof n&&n.nextTick?(u.nextTick=n.nextTick,u.setImmediate="undefined"!=typeof o?function(e){o(e)}:u.nextTick):"function"==typeof o?(u.nextTick=function(e){o(e)},u.setImmediate=u.nextTick):(u.nextTick=function(e){setTimeout(e,0)},u.setImmediate=u.nextTick),u.each=function(e,t,n){function i(t){t?(n(t),n=function(){}):(r+=1,r>=e.length&&n())}if(n=n||function(){},!e.length)return n();var r=0;f(e,function(e){t(e,s(i))})},u.forEach=u.each,u.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var i=0,r=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i>=e.length?n():r())})};r()},u.forEachSeries=u.eachSeries,u.eachLimit=function(e,t,n,i){var r=g(t);r.apply(null,[e,n,i])},u.forEachLimit=u.eachLimit;var g=function(e){return function(t,n,i){if(i=i||function(){},!t.length||0>=e)return i();var r=0,o=0,s=0;!function a(){if(r>=t.length)return i();for(;e>s&&o<t.length;)o+=1,s+=1,n(t[o-1],function(e){e?(i(e),i=function(){}):(r+=1,s-=1,r>=t.length?i():a())})}()}},v=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[u.each].concat(t))}},b=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[g(e)].concat(n))}},y=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[u.eachSeries].concat(t))}},w=function(e,t,n,i){if(t=d(t,function(e,t){return{index:t,value:e}}),i){var r=[];e(t,function(e,t){n(e.value,function(n,i){r[e.index]=i,t(n)})},function(e){i(e,r)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};u.map=v(w),u.mapSeries=y(w),u.mapLimit=function(e,t,n,i){return x(t)(e,n,i)};var x=function(e){return b(e,w)};u.reduce=function(e,t,n,i){u.eachSeries(e,function(e,i){n(t,e,function(e,n){t=n,i(e)})},function(e){i(e,t)})},u.inject=u.reduce,u.foldl=u.reduce,u.reduceRight=function(e,t,n,i){var r=d(e,function(e){return e}).reverse();u.reduce(r,t,n,i)},u.foldr=u.reduceRight;var _=function(e,t,n,i){var r=[];t=d(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&r.push(e),t()})},function(){i(d(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};u.filter=v(_),u.filterSeries=y(_),u.select=u.filter,u.selectSeries=u.filterSeries;var k=function(e,t,n,i){var r=[];t=d(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||r.push(e),t()})},function(){i(d(r.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};u.reject=v(k),u.rejectSeries=y(k);var S=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(){i()})};u.detect=v(S),u.detectSeries=y(S),u.some=function(e,t,n){u.each(e,function(e,i){t(e,function(e){e&&(n(!0),n=function(){}),i()})},function(){n(!1)})},u.any=u.some,u.every=function(e,t,n){u.each(e,function(e,i){t(e,function(e){e||(n(!1),n=function(){}),i()})},function(){n(!0)})},u.all=u.every,u.sortBy=function(e,t,n){u.map(e,function(e,n){t(e,function(t,i){t?n(t):n(null,{value:e,criteria:i})})},function(e,t){if(e)return n(e);var i=function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0};n(null,d(t.sort(i),function(e){return e.value}))})},u.auto=function(e,t){t=t||function(){};var n=m(e),i=n.length;if(!i)return t();var r={},o=[],s=function(e){o.unshift(e)},a=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)},c=function(){i--,f(o.slice(0),function(e){e()})};s(function(){if(!i){var e=t;t=function(){},e(null,r)}}),f(n,function(n){var i=h(e[n])?e[n]:[e[n]],o=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};f(m(r),function(e){o[e]=r[e]}),o[n]=i,t(e,o),t=function(){}}else r[n]=i,u.setImmediate(c)},l=i.slice(0,Math.abs(i.length-1))||[],d=function(){return p(l,function(e,t){return e&&r.hasOwnProperty(t)},!0)&&!r.hasOwnProperty(n)};if(d())i[i.length-1](o,r);else{var g=function(){d()&&(a(g),i[i.length-1](o,r))};s(g)}})},u.retry=function(e,t,n){var i=5,r=[];"function"==typeof e&&(n=t,t=e,e=i),e=parseInt(e,10)||i;var o=function(i,o){for(var s=function(e,t){return function(n){e(function(e,i){n(!e||t,{err:e,result:i})},o)}};e;)r.push(s(t,!(e-=1)));u.series(r,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})};return n?o():o},u.waterfall=function(e,t){if(t=t||function(){},!h(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=e.next();r.push(o?i(o):t),u.setImmediate(function(){e.apply(null,r)})}}};i(u.iterator(e))()};var A=function(e,t,n){if(n=n||function(){},h(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.each(m(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(e){n(e,i)})}};u.parallel=function(e,t){A({map:u.map,each:u.each},e,t)},u.parallelLimit=function(e,t,n){A({map:x(t),each:g(t)},e,n)},u.series=function(e,t){if(t=t||function(){},h(e))u.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};u.eachSeries(m(e),function(t,i){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[t]=r,i(e)})},function(e){t(e,n)})}},u.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},u.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var C=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]),t(e)})},function(e){i(e,r)})};u.concat=v(C),u.concatSeries=y(C),u.whilst=function(e,t,n){e()?t(function(i){return i?n(i):void u.whilst(e,t,n)}):n()},u.doWhilst=function(e,t,n){e(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);t.apply(null,r)?u.doWhilst(e,t,n):n()})},u.until=function(e,t,n){e()?n():t(function(i){return i?n(i):void u.until(e,t,n)})},u.doUntil=function(e,t,n){e(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);t.apply(null,r)?n():u.doUntil(e,t,n)})},u.queue=function(e,t){function n(e,t,n,i){return e.started||(e.started=!0),h(t)||(t=[t]),0==t.length?u.setImmediate(function(){e.drain&&e.drain()}):void f(t,function(t){var r={data:t,callback:"function"==typeof i?i:null};n?e.tasks.unshift(r):e.tasks.push(r),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),u.setImmediate(e.process)})}void 0===t&&(t=1);var i=0,r={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(r,e,!1,t)},kill:function(){r.drain=null,r.tasks=[]},unshift:function(e,t){n(r,e,!0,t)},process:function(){if(!r.paused&&i<r.concurrency&&r.tasks.length){var t=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),i+=1;var n=function(){i-=1,t.callback&&t.callback.apply(t,arguments),r.drain&&r.tasks.length+i===0&&r.drain(),r.process()},o=s(n);e(t.data,o)}},length:function(){return r.tasks.length},running:function(){return i},idle:function(){return r.tasks.length+i===0},pause:function(){r.paused!==!0&&(r.paused=!0,r.process())},resume:function(){r.paused!==!1&&(r.paused=!1,r.process())}};return r},u.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var i=-1,r=e.length-1;r>i;){var o=i+(r-i+1>>>1);n(t,e[o])>=0?i=o:r=o-1}return i}function r(e,t,r,o){return e.started||(e.started=!0),h(t)||(t=[t]),0==t.length?u.setImmediate(function(){e.drain&&e.drain()}):void f(t,function(t){var s={data:t,priority:r,callback:"function"==typeof o?o:null};e.tasks.splice(i(e.tasks,s,n)+1,0,s),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),u.setImmediate(e.process)})}var o=u.queue(e,t);return o.push=function(e,t,n){r(o,e,t,n)},delete o.unshift,o},u.cargo=function(e,t){var n=!1,i=[],r={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){h(e)||(e=[e]),f(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===t&&r.saturated()}),u.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var s="number"==typeof t?i.splice(0,t):i.splice(0,i.length),a=d(s,function(e){return e.data});r.empty&&r.empty(),n=!0,e(a,function(){n=!1;var e=arguments;f(s,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return i.length},running:function(){return n}};return r};var j=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&f(n,function(t){console[e](t)}))}]))}};u.log=j("log"),u.dir=j("dir"),u.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),s=t.apply(null,r);s in n?u.nextTick(function(){o.apply(null,n[s])}):s in i?i[s].push(o):(i[s]=[o],e.apply(null,r.concat([function(){n[s]=arguments;var e=i[s];delete i[s];for(var t=0,r=e.length;r>t;t++)e[t].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=e,r},u.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},u.times=function(e,t,n){for(var i=[],r=0;e>r;r++)i.push(r);return u.map(i,t,n)},u.timesSeries=function(e,t,n){for(var i=[],r=0;e>r;r++)i.push(r);return u.mapSeries(i,t,n)},u.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();u.reduce(e,n,function(e,n,i){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);i(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}},u.compose=function(){return u.seq.apply(null,Array.prototype.reverse.call(arguments))};var E=function(e,t){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return e(t,function(e,t){e.apply(n,i.concat([t]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};u.applyEach=v(E),u.applyEachSeries=y(E),u.forever=function(e,t){function n(i){if(i){if(t)return t(i);throw i}e(n)}n()},"undefined"!=typeof e&&e.exports?e.exports=u:(i=[],r=function(){return u}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()}).call(t,n(26),n(141).setImmediate)},function(e,t,n){function i(e){this.cid=a.uniqueId("view"),e||(e={});var t=e.parent;delete e.parent,f.call(this,e,{init:!1,parent:t}),this.on("change:el",this._handleElementChange,this),this._parsedBindings=l(this.bindings,this),this._initializeBindings(),e.el&&!this.autoRender&&this._handleElementChange(),this._initializeSubviews(),this.template=e.template||this.template,this.initialize.apply(this,arguments),this.set(a.pick(e,d)),this.autoRender&&this.template&&this.render()}var r=n(56),o=n(211),s=n(145),a=n(212),c=n(146),u=n(147),l=n(213),h=n(148),f=r.extend({dataTypes:{element:{set:function(e){return{val:e,type:e instanceof Element?"element":typeof e}},compare:function(e,t){return e===t}},collection:{set:function(e){return{val:e,type:e&&e.isCollection?"collection":typeof e}},compare:function(e,t){return e===t}}},props:{model:"state",el:"element",collection:"collection"},derived:{rendered:{deps:["el"],fn:function(){return!!this.el}},hasData:{deps:["model"],fn:function(){return!!this.model}}}}),d=["model","collection","el"];i.prototype=Object.create(f.prototype),a.extend(i.prototype,{query:function(e){return e?"string"==typeof e?u(this.el,e)?this.el:this.el.querySelector(e)||void 0:e:this.el},queryAll:function(e){var t=[];return this.el?""===e?[this.el]:(u(this.el,e)&&t.push(this.el),t.concat(Array.prototype.slice.call(this.el.querySelectorAll(e)))):t},queryByHook:function(e){return this.query('[data-hook~="'+e+'"]')},initialize:function(){},render:function(){return this.renderWithTemplate(this),this},remove:function(){var e=this._parsedBindings;return this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this._subviews&&a.chain(this._subviews).flatten().invoke("remove"),this.stopListening(),a.each(e,function(t,n){a.each(t,function(t,i){delete e[n][i]}),delete e[n]}),this.trigger("remove",this),this},_handleElementChange:function(){return this.eventManager&&this.eventManager.unbind(),this.eventManager=c(this.el,this),this.delegateEvents(),this._applyBindingsForKey(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e)this.eventManager.bind(t,e[t]);return this},undelegateEvents:function(){return this.eventManager.unbind(),this},registerSubview:function(e){return this._subviews||(this._subviews=[]),this._subviews.push(e),e.el&&(e.parent=this),e},renderSubview:function(e,t){return"string"==typeof t&&(t=this.query(t)),this.registerSubview(e),e.render(),(t||this.el).appendChild(e.el),e},_applyBindingsForKey:function(e){if(this.el){var t,n=this._parsedBindings.getGrouped(e);for(t in n)n[t].forEach(function(e){e(this.el,h(this,t),a.last(t.split(".")))},this)}},_initializeBindings:function(){this.bindings&&this.on("all",function(e){"change:"===e.slice(0,7)&&this._applyBindingsForKey(e.split(":")[1])},this)},_initializeSubviews:function(){if(this.subviews)for(var e in this.subviews)this._parseSubview(this.subviews[e],e)},_parseSubview:function(e,t){function n(){var e,i;this.el&&(e=this.query(r.selector))&&(!r.waitFor||h(this,r.waitFor))&&(i=this[t]=r.prepareView.call(this,e),i.render(),this.registerSubview(i),this.off("change",n))}var i=this,r={selector:e.container||'[data-hook="'+e.hook+'"]',waitFor:e.waitFor||"",prepareView:e.prepareView||function(t){return new e.constructor({el:t,parent:i})}};this.on("change",n,this)},renderWithTemplate:function(e,t){var n=t||this.template;if(!n)throw new Error("Template string or function needed.");var i=a.isString(n)?n:n.call(this,e||this);a.isString(i)&&(i=s(i));var r=this.el&&this.el.parentNode;if(r&&r.replaceChild(i,this.el),"#document-fragment"===i.nodeName)throw new Error("Views can only have one root element.");return this.el=i,this},cacheElements:function(e){for(var t in e)this[t]=this.query(e[t])},listenToAndRun:function(e,t,n){var i=a.bind(n,this);this.listenTo(e,t,i),i()},animateRemove:function(){this.remove()},renderCollection:function(e,t,n,i){var r="string"==typeof n?this.query(n):n,s=a.extend({collection:e,el:r||this.el,view:t,parent:this,viewOptions:{parent:this}},i),c=new o(s);return c.render(),this.registerSubview(c)}}),i.extend=f.extend,e.exports=i},function(e){function t(e,t){t||(t={}),this.el=e,this.config={hide:null,show:null,empty:null,waitForRemove:!1};for(var n in t)this.config.hasOwnProperty(n)&&(this.config[n]=t[n]);t.view?(this._setCurrent(t.view),this._render(t.view)):this._onViewRemove()}t.prototype.set=function(e){var t=this,n=this.previous=this.current;n!==e&&(this.config.waitForRemove?this._hide(n,function(){t._show(e)}):(this._hide(n),this._show(e)))},t.prototype._setCurrent=function(e){this.current=e,e&&this._registerRemoveListener(e);var t=this.config.empty;return t&&!this.current&&t(),e},t.prototype.clear=function(e){this._hide(this.current,e)},t.prototype.remove=function(){this.current&&this.current.remove()},t.prototype._show=function(e){var t=this.config.show;this._setCurrent(e),this._render(e),t&&t(e)},t.prototype._registerRemoveListener=function(e){e&&e.once("remove",this._onViewRemove,this)},t.prototype._onViewRemove=function(e){var t=this.config.empty;this.current===e&&(this.current=null),t&&!this.current&&t()},t.prototype._render=function(e){e.rendered||e.render({containerEl:this.el}),e.insertSelf||this.el.appendChild(e.el)},t.prototype._hide=function(e,t){var n=this.config.hide;return e?void(n?2===n.length?n(e,function(){e.remove(),t&&t()}):(n(e),e.remove(),t&&t()):(e.remove(),t&&t())):t&&t()},e.exports=t},function(e){e.exports='<div class=fichat><div class=fichat-panel-preview-triangle data-hook=preview-triangle></div><div data-hook=user-profile-card></div><div class=fichat-panel data-hook=panel><button class=fichat-panel-close data-hook="close-panel hide-in-preview"></button><div class=fichat-panel-inner><div data-hook=question-panel></div><div data-hook=chat-panel><div class=fichat-panel-chat><div data-hook=chat-switcher></div></div></div></div></div><div class=fichat-docked-questions-wrapper data-hook=docked-questions-wrapper><div class=fichat-docked-questions-list data-hook=docked-questions></div></div></div>'},function(e,t,n){(function(e,i){function r(e,n){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),m(n)?i.showHidden=n:n&&t._extend(i,n),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=o),c(i,e,i.depth)}function o(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function s(e){return e}function a(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function c(e,n,i){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,e);return y(r)||(r=c(e,r,i)),r}var o=u(e,n);if(o)return o;var s=Object.keys(n),m=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),A(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(n);if(0===s.length){if(C(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(A(n))return l(n)}var v="",b=!1,w=["{","}"];if(p(n)&&(b=!0,w=["[","]"]),C(n)){var x=n.name?": "+n.name:"";v=" [Function"+x+"]"}if(_(n)&&(v=" "+RegExp.prototype.toString.call(n)),S(n)&&(v=" "+Date.prototype.toUTCString.call(n)),A(n)&&(v=" "+l(n)),0===s.length&&(!b||0==n.length))return w[0]+v+w[1];if(0>i)return _(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var k;return k=b?h(e,n,i,m,s):s.map(function(t){return f(e,n,i,m,t,b)}),e.seen.pop(),d(k,v,w)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,i,r){for(var o=[],s=0,a=t.length;a>s;++s)o.push(L(t,String(s))?f(e,t,n,i,String(s),!0):"");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(e,t,n,i,r,!0))}),o}function f(e,t,n,i,r,o){var s,a,u;if(u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},u.get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),L(i,r)||(s="["+r+"]"),a||(e.seen.indexOf(u.value)<0?(a=g(n)?c(e,u.value,null):c(e,u.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n"))):a=e.stylize("[Circular]","special")),x(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e,t,n){var i=0,r=e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return k(e)&&"[object RegExp]"===E(e)}function k(e){return"object"==typeof e&&null!==e}function S(e){return k(e)&&"[object Date]"===E(e)}function A(e){return k(e)&&("[object Error]"===E(e)||e instanceof Error)}function C(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function E(e){return Object.prototype.toString.call(e)}function I(e){return 10>e?"0"+e.toString(10):e.toString(10)}function T(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),O[e.getMonth()],t].join(" ")}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var M=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(e).replace(M,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return e}}),a=i[n];o>n;a=i[++n])s+=g(a)||!k(a)?" "+a:" "+r(a);return s},t.deprecate=function(n,r){function o(){if(!s){if(i.throwDeprecation)throw new Error(r);i.traceDeprecation?console.trace(r):console.error(r),s=!0}return n.apply(this,arguments)}if(x(e.process))return function(){return t.deprecate(n,r).apply(this,arguments)};if(i.noDeprecation===!0)return n;var s=!1;return o};var D,R={};t.debuglog=function(e){if(x(D)&&(D=i.env.NODE_DEBUG||""),e=e.toUpperCase(),!R[e])if(new RegExp("\\b"+e+"\\b","i").test(D)){var n=i.pid;R[e]=function(){var i=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,i)}}else R[e]=function(){};return R[e]},t.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=b,t.isString=y,t.isSymbol=w,t.isUndefined=x,t.isRegExp=_,t.isObject=k,t.isDate=S,t.isError=A,t.isFunction=C,t.isPrimitive=j,t.isBuffer=n(140);var O=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",T(),t.format.apply(t,arguments))},t.inherits=n(257),t._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(t,function(){return this}(),n(26))},function(e){/*!
	 * typeahead.js 0.10.5
	 * https://github.com/twitter/typeahead.js
	 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
	 */
var t=window.jQuery;if(t){var n=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},toStr:function(e){return n.isUndefined(e)||null===e?"":e+""},bind:t.proxy,each:function(e,n){function i(e,t){return n(t,e)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,r){return(i=n.call(null,r,t,e))?!1:void 0}),!!i):i},mixin:t.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,r;return function(){var o,s,a=this,c=arguments;return o=function(){i=null,n||(r=e.apply(a,c))},s=n&&!i,clearTimeout(i),i=setTimeout(o,t),s&&(r=e.apply(a,c)),r}},throttle:function(e,t){var n,i,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=e.apply(n,i)},function(){var c=new Date,u=t-(c-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=c,o=e.apply(n,i)):r||(r=setTimeout(a,u)),o}},noop:function(){}}}(),i="0.10.5",r=function(){function e(e){return e=n.toStr(e),e?e.split(/\s+/):[]}function t(e){return e=n.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(){var t=[].slice.call(arguments,0);return function(i){var r=[];return n.each(t,function(t){r=r.concat(e(n.toStr(i[t])))}),r}}}return{nonword:t,whitespace:e,obj:{nonword:i(t),whitespace:i(e)}}}(),o=function(){function e(e){this.maxSize=n.isNumber(e)?e:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function r(e,t){this.key=e,this.val=t,this.prev=this.next=null}return n.mixin(e.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new r(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];return t?(this.list.moveToFront(t),t.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),n.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),e}(),s=function(){function e(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+n.escapeRegExChars(this.prefix))}function t(){return(new Date).getTime()}function i(e){return JSON.stringify(n.isUndefined(e)?null:e)}function r(e){return JSON.parse(e)}var o,s;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(a){o=null}return s=o&&window.JSON?{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(e){return this.isExpired(e)&&this.remove(e),r(o.getItem(this._prefix(e)))},set:function(e,r,s){return n.isNumber(s)?o.setItem(this._ttlKey(e),i(t()+s)):o.removeItem(this._ttlKey(e)),o.setItem(this._prefix(e),i(r))},remove:function(e){return o.removeItem(this._ttlKey(e)),o.removeItem(this._prefix(e)),this},clear:function(){var e,t,n=[],i=o.length;for(e=0;i>e;e++)(t=o.key(e)).match(this.keyMatcher)&&n.push(t.replace(this.keyMatcher,""));for(e=n.length;e--;)this.remove(n[e]);return this},isExpired:function(e){var i=r(o.getItem(this._ttlKey(e)));return n.isNumber(i)&&t()>i?!0:!1}}:{get:n.noop,set:n.noop,remove:n.noop,clear:n.noop,isExpired:n.noop},n.mixin(e.prototype,s),e}(),a=function(){function e(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?i(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=e.cache===!1?new o(0):c}function i(e){return function(i,r){function o(e){n.defer(function(){a.resolve(e)})}function s(e){n.defer(function(){a.reject(e)})}var a=t.Deferred();return e(i,r,o,s),a}}var r=0,s={},a=6,c=new o(10);return e.setMaxPendingRequests=function(e){a=e},e.resetCache=function(){c.reset()},n.mixin(e.prototype,{_get:function(e,t,n){function i(t){n&&n(null,t),l._cache.set(e,t)}function o(){n&&n(!0)}function c(){r--,delete s[e],l.onDeckRequestArgs&&(l._get.apply(l,l.onDeckRequestArgs),l.onDeckRequestArgs=null)}var u,l=this;this.cancelled||e!==this.lastUrl||((u=s[e])?u.done(i).fail(o):a>r?(r++,s[e]=this._send(e,t).done(i).fail(o).always(c)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(e,t,i){var r;return n.isFunction(t)&&(i=t,t={}),this.cancelled=!1,this.lastUrl=e,(r=this._cache.get(e))?n.defer(function(){i&&i(null,r)}):this._get(e,t,i),!!r},cancel:function(){this.cancelled=!0}}),e}(),c=function(){function e(e){e=e||{},e.datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function i(e){return e=n.filter(e,function(e){return!!e}),e=n.map(e,function(e){return e.toLowerCase()})}function r(){return{ids:[],children:{}}}function o(e){for(var t={},n=[],i=0,r=e.length;r>i;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function s(e,t){function n(e,t){return e-t}var i=0,r=0,o=[];e=e.sort(n),t=t.sort(n);for(var s=e.length,a=t.length;s>i&&a>r;)e[i]<t[r]?i++:e[i]>t[r]?r++:(o.push(e[i]),i++,r++);return o}return n.mixin(e.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var t=this;e=n.isArray(e)?e:[e],n.each(e,function(e){var o,s;o=t.datums.push(e)-1,s=i(t.datumTokenizer(e)),n.each(s,function(e){var n,i,s;for(n=t.trie,i=e.split("");s=i.shift();)n=n.children[s]||(n.children[s]=r()),n.ids.push(o)})})},get:function(e){var t,r,a=this;return t=i(this.queryTokenizer(e)),n.each(t,function(e){var t,n,i,o;if(r&&0===r.length)return!1;for(t=a.trie,n=e.split("");t&&(i=n.shift());)t=t.children[i];return t&&0===n.length?(o=t.ids.slice(0),void(r=r?s(r,o):o)):(r=[],!1)}),r?n.map(o(r),function(e){return a.datums[e]}):[]},reset:function(){this.datums=[],this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),e}(),u=function(){function e(e){return e.local||null}function r(e){var r,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(r=e.prefetch||null)&&(r=n.isString(r)?{url:r}:r,r=n.mixin(o,r),r.thumbprint=i+r.thumbprint,r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",!r.url&&t.error("prefetch requires url to be set")),r}function o(e){function t(e){return function(t){return n.debounce(t,e)}}function i(e){return function(t){return n.throttle(t,e)}}var r,o;if(o={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=e.remote||null)&&(r=n.isString(r)?{url:r}:r,r=n.mixin(o,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?i(r.rateLimitWait):t(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url)){var s=new Error("remote requires url to be set");throw s}return r}return{local:e,prefetch:r,remote:o}}();!function(e){function i(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=o(e.sorter),this.dupDetector=e.dupDetector||l,this.local=u.local(e),this.prefetch=u.prefetch(e),this.remote=u.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new c({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new s(this.cacheKey):null}function o(e){function t(t){return t.sort(e)}function i(e){return e}return n.isFunction(e)?t:i}function l(){return!1}var h,f;return h=e.Bloodhound,f={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.Bloodhound=i,i.noConflict=function(){return e.Bloodhound=h,i},i.tokenizers=r,n.mixin(i.prototype,{_loadPrefetch:function(e){function n(t){o.clear(),o.add(e.filter?e.filter(t):t),o._saveToStorage(o.index.serialize(),e.thumbprint,e.ttl)}var i,r,o=this;return(i=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(i),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(n),r},_getFromRemote:function(e,t){function n(e,n){t(e?[]:o.remote.filter?o.remote.filter(n):n)}var i,r,o=this;if(this.transport)return e=e||"",r=encodeURIComponent(e),i=this.remote.replace?this.remote.replace(this.remote.url,e):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(i,this.remote.ajax,n)},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(e,t,n){this.storage&&(this.storage.set(f.data,e,n),this.storage.set(f.protocol,location.protocol,n),this.storage.set(f.thumbprint,t,n))},_readFromStorage:function(e){var t,n={};return this.storage&&(n.data=this.storage.get(f.data),n.protocol=this.storage.get(f.protocol),n.thumbprint=this.storage.get(f.thumbprint)),t=n.thumbprint!==e||n.protocol!==location.protocol,n.data&&!t?n.data:null},_initialize:function(){function e(){r.add(n.isFunction(o)?o():o)}var i,r=this,o=this.local;return i=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),o&&i.done(e),this.transport=this.remote?new a(this.remote):null,this.initPromise=i.promise()},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e)},get:function(e,t){function i(e){var i=o.slice(0);n.each(e,function(e){var t;return t=n.some(i,function(t){return r.dupDetector(e,t)}),!t&&i.push(e),i.length<r.limit}),t&&t(r.sorter(i))}var r=this,o=[],s=!1;o=this.index.get(e),o=this.sorter(o).slice(0,this.limit),o.length<this.limit?s=this._getFromRemote(e,i):this._cancelLastRemoteRequest(),s||(o.length>0||!this.transport)&&t&&t(o)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&a.resetCache()},ttAdapter:function(){return n.bind(this.get,this)}}),i}(e.exports)}},function(e){function t(e){return"https://chrome.google.com/webstore/detail/"+e}var n={};e.exports=n,n.injectWebstoreLink=function(e){var n=document.querySelector('[rel="chrome-webstore-item"][href*="'+e+'"]');if(!n){var i=document.createElement("link");i.setAttribute("rel","chrome-webstore-item"),i.setAttribute("href",t(e)),document.head.appendChild(i)}},n.isExtensionInstalled=function(){var e=parseInt(localStorage.isChromeExtensionForDesktopSharingInstalled,10),t=Date.now()-window.performance.now();return e>t-15e3},n.isAvailable=function(){return window.chrome&&window.chrome.webstore&&-1===navigator.userAgent.indexOf(" OPR/")},n.installExtension=function(e,i){return n.isAvailable()?n.isExtensionInstalled()?i(null,!1):(this.injectWebstoreLink(e),void window.chrome.webstore.install(t(e),function(){i(null,!0)},function(e){i(e)})):i(new Error("Unsupported browser"))},n.openPopup=function(e){window.postMessage({type:"openPopup",url:e.url,width:e.width,height:e.height},"*")}},function(e){function t(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}e.exports=t},function(e,t,n){var i=n(111),r=i(r=Date.now)&&r,o=r||function(){return(new Date).getTime()};e.exports=o},function(e,t,n){var i=n(28),r=n(64),o=n(115),s=n(39),a=n(116),c=13;e.exports=r.extend({template:a,session:{inputValue:["string",!0,""],me:"state"},derived:{disableButton:{deps:["inputValue"],fn:function(){return""===o(this.inputValue)}}},events:{"keydown [name=question]":"onKeydown","input [name=question]":"onInput","submit form":"onFormSubmit"},bindings:{disableButton:{type:"booleanAttribute",name:"disabled",selector:"button"},"me.currentLessonModel.title":"[data-hook~=current-lesson-title]"},initialize:function(){this.me=i.me},render:function(){return this.renderWithTemplate(),s(this.query("textarea")),this.questionInput=this.query("[name=question]"),this},onKeydown:function(e){e.keyCode===c&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),e.stopPropagation(),this.submitQuestion())},onInput:function(){this.inputValue=o(this.questionInput.value)},onFormSubmit:function(e){e.preventDefault(),this.submitQuestion()},submitQuestion:function(){var e=o(this.questionInput.value),t=i.me.currentLessonModel&&i.me.currentLessonModel.id,n=i.me.userTrack,r=i.me.userBatch;if(!t||!n||!r)throw new Error("Current lesson is required to make a new question");if(e){var s=i.questionRooms.createNewQuestion({lesson:t,track:n,batch:r,subject:e});this.resetForm(),this.questionInput.blur(),i.questionRooms.selectQuestion(s),i.focusOnChatInput(),this.parent.newQuestionExpanded=!1}},resetForm:function(){this.questionInput.value="",this.inputValue=""},focus:function(){var e=this;setTimeout(function(){e.questionInput.focus()},0)}})},function(e,t,n){var i=n(64),r=n(112),o=n(113),s=n(28),a=n(114);e.exports=i.extend(r("createdRelative","model.created"),o,{template:a,truncateSubjectLength:50,unreadActivityTimeout:3e3,session:{me:"state",lastReadAt:"date",renderAsNew:["boolean",!0,!1],hasUnreadActivity:["boolean",!0,!1]},derived:{truncatedSubject:{deps:["model.subject","model.selected"],fn:function(){var e=this.truncateSubjectLength,t=/(.+?)<br\/>/;if(this.model.selected||this.model.subject.length<=e&&!t.exec(this.model.subject))return this.model.subject;var n=this.model.subject.slice(0,e);return t.exec(this.model.subject)?t.exec(this.model.subject)[1].slice(0,e)+"":n+""}}},bindings:{"model.creatorPeer.flatironUser.githubAvatar":{type:"attribute",name:"src",hook:"avatar"},"model.creatorDisplayName":"[data-hook~=name]",truncatedSubject:{type:"innerHTML",hook:"question"},"model.selected":[{type:"booleanClass",name:"is-selected"},{type:"toggle",yes:"[data-hook~=lesson-title-link]",no:"[data-hook~=lesson-title-nolink]"}],createdRelative:"[data-hook~=created-relative]",hasUnreadActivity:{type:"booleanClass",name:"has-unread-activity"},renderAsNew:{type:"booleanClass",name:"fichat-question-is-new"},"model.lessonModel.title":"[data-hook~=lesson-title]","model.lessonModel.wiselinksUrl":{type:"attribute",name:"href",hook:"lesson-title-link"},"model.lessonModel.wiselinksTarget":{type:"attribute",name:"data-target",hook:"lesson-title-link"}},events:{mousedown:"onClick","mouseover [data-hook~=avatar]":"showUserProfileCard","mouseout [data-hook~=avatar]":"hideUserProfileCard"},initialize:function(){this.me=s.me,this.bindActivityAnimation()},bindActivityAnimation:function(){var e,t=this;this.listenToAndRun(this,"change:model.hasUnreadActivity change:model.lastActivity",function(){return t.model.selected?void(t.hasUnreadActivity=!1):void(t.model.hasUnreadActivity?(t.hasUnreadActivity=!0,t.unreadActivityTimeout&&(e&&clearTimeout(e),e=setTimeout(function(){t.hasUnreadActivity=!1},t.unreadActivityTimeout))):t.hasUnreadActivity=!1)})},showUserProfileCard:function(e){s.trigger("user-profile-card:show",this.model.creatorPeer.flatironUser,e.target)},hideUserProfileCard:function(){s.trigger("user-profile-card:hide")},render:function(){return this.renderAsNew=this.model.isNew,this.renderWithTemplate(),this.lastReadAt||(this.lastReadAt=new Date),this.model.isNew&&(this.applyTransition("fichat-question-new-transition"),setTimeout(function(){this.renderAsNew=!1}.bind(this),5e3)),this},onClick:function(e){"BUTTON"!==e.target.tagName&&"A"!==e.target.tagName&&(this.model.selected||this.selectQuestion())},selectQuestion:function(e){e&&e.preventDefault(),this.model.collection.selectQuestion(this.model)},remove:function(){this.applyTransition("fichat-question-remove-transition",function(){i.prototype.remove.apply(this,arguments),this.trigger("remove")}.bind(this))}})},function(e,t,n){var i=n(64),r=n(117);e.exports=i.extend({template:r,session:{showPanel:["boolean",!0,!1]},derived:{showNextDisabled:{deps:["model.admin","model.showAllLessons"],fn:function(){return this.model.admin&&this.model.showAllLessons}},showPrevDisabled:{deps:["model.admin","model.showAllLessons","model.showAllPrevLessons"],fn:function(){return this.model.admin&&this.model.showAllLessons||this.model.showAllPrevLessons}},showAllPrevDisabled:{deps:["model.admin","model.showAllLessons"],fn:function(){return this.model.admin&&this.model.showAllLessons}},showAllDisabled:{deps:["model.admin"],fn:function(){return this.model.admin}}},events:{click:"stopClickPropagation","change input[type=checkbox]":"toggleConfig","click [data-hook~=toggle-settings-panel]":"togglePanel","click [data-for]":"clickFakeLabel"},bindings:{"model.showNextLessons":{type:"booleanAttribute",name:"checked",hook:"next"},"model.showPrevLessons":{type:"booleanAttribute",name:"checked",hook:"prev"},"model.showAllPrevLessons":{type:"booleanAttribute",name:"checked",hook:"all-prev"},"model.showAllLessons":{type:"booleanAttribute",name:"checked",hook:"all"},showPanel:{type:"toggle",hook:"settings-panel"},"model.admin":{type:"toggle",hook:"admin-only"},showNextDisabled:[{type:"booleanClass",name:"disabled",hook:"next-setting"},{type:"booleanAttribute",name:"disabled",hook:"next"}],showPrevDisabled:[{type:"booleanClass",name:"disabled",hook:"prev-setting"},{type:"booleanAttribute",name:"disabled",hook:"prev"}],showAllPrevDisabled:[{type:"booleanClass",name:"disabled",hook:"all-prev-setting"},{type:"booleanAttribute",name:"disabled",hook:"all-prev"}]},initialize:function(){this.hidePanel=this.hidePanel.bind(this)},stopClickPropagation:function(e){e.stopPropagation()},togglePanel:function(e){"toggle-settings-panel"===e.target.getAttribute("data-hook")&&(this.showPanel=!this.showPanel)},hidePanel:function(){this.showPanel=!1},clickFakeLabel:function(e){var t=e.target.getAttribute("data-for"),n=this.query("#"+t);n&&!n.disabled&&(n.checked=!n.checked,this.toggleConfig({target:n}))},toggleConfig:function(e){var t=e.target,n=!!t.checked,i=t.getAttribute("data-hook");switch(i){case"next":this.model.showNextLessons=n;break;case"prev":this.model.showPrevLessons=n;break;case"all-prev":this.model.showAllPrevLessons=n;break;case"all":this.model.showAllLessons=n}},render:function(){return this.renderWithTemplate(),document.addEventListener("click",this.hidePanel,!1),this},remove:function(){return i.prototype.remove.apply(this,arguments),document.removeEventListener("click",this.hidePanel,!1),this}})},function(e){e.exports='<div class=fichat-panel-questions><div class=fichat-questions-header><h4>Questions</h4><div class=fichat-expand-new-question-wrapper data-hook=hide-in-preview><button class="fichat-expand-new-question fichat-btn fichat-btn-primary" data-hook=expand-new-question>ASK NEW QUESTION</button></div><div data-hook="question-settings-panel hide-in-preview"></div></div><div class=fichat-new-question data-hook="new-question hide-in-preview"></div><div class=fichat-questions-list data-hook=scroll-container><div class=fichat-questions-list-inner><div data-hook=hide-in-preview><div class=fichat-questions-list-unresolved data-hook=unresolved-questions></div></div><div data-hook=show-in-preview><div class="fichat-questions-list-unresolved fichat-questions-list-preview" data-hook=preview-questions></div><button class="fichat-btn fichat-btn-tertiary fichat-see-all-btn">See all Questions</button></div><div data-hook=hide-in-preview><div class=fichat-resolved-control data-hook=show-resolved-control><button class="fichat-btn fichat-btn-secondary fichat-btn-textonly fichat-btn-show-resolved" data-hook=show-resolved>Show resolved questions </button></div><div class=fichat-resolved-control data-hook=hide-resolved-control><button class="fichat-btn fichat-btn-secondary fichat-btn-textonly fichat-btn-hide-resolved" data-hook=hide-resolved>Hide resolved questions </button></div><div class=fichat-questions-list-resolved data-hook=resolved-questions></div></div></div></div></div>'},function(e,t,n){var i=n(64),r=n(149),o=n(118),s=n(119),a=n(34),c=n(120),u=n(39),l=n(115),h=n(121),f=n(122),d=window.jQuery;n(123);var p=n(9),m=n(124),g=new s({signUrl:p.uploads.signUrl}),v=9,b=13,y=192,w=27,x={37:"left",38:"up",39:"right",40:"down"};e.exports=i.extend({template:m,props:{me:"state"},events:{"change [name=file]":"fileUpload","keydown [data-hook~=new-message]":"onKeydown","keyup [data-hook~=new-message]":"onKeyup","paste [data-hook~=new-message]":"onPaste","click [data-hook~=autocomplete-item]":"completeCurrentUsername"},session:{parent:"state",uploadProgress:["number",!0,0],typing:["boolean",!0,!1],paused:["boolean",!0,!1],emojiAutocompleteIsVisible:["boolean",!0,!1]},derived:{inputPlaceholder:{deps:["me.hasStream"],fn:function(){return this.me.hasStream?"Begin typing...":"You aren't connected to the server right now"}}},bindings:{uploadProgress:{hook:"progress-bar",type:function(e){e.style.width=this.uploadProgress+"%"}},"me.hasStream":{type:"booleanAttribute",no:"disabled",hook:"new-message"},inputPlaceholder:{type:"attribute",name:"placeholder",hook:"new-message"}},fileUpload:function(e){var t=this,n=e.target.files[0],i=g.upload(n);this.uploadProgress=1,i.on("progress",function(e){t.uploadProgress=e}),i.on("error",function(){t.uploadProgress=0}),i.on("complete",function(e){t.uploadProgress=100,setTimeout(function(){t.uploadProgress=0},500),t.model.sendChat(e)})},render:function(){return this.renderWithTemplate(),this.autocompleteView=this.renderSubview(new o,this.queryByHook("autocomplete")),this.parseEmoji(),u(this.queryByHook("new-message")),this},resetInput:function(){var e=this.queryByHook("new-message");e.value="",this.parent.scrollToBottom(),this.resetAutosize()},sendChat:function(){var e=this.queryByHook("new-message"),t=l(e.value);t&&(this.model.sendChat(t),this.resetInput())},onPaste:function(e){var t=e.clipboardData.getData("text");if(!t)return e.preventDefault();var n=t.split("\n");n.length>5&&(e.preventDefault(),this.trigger("open-snippet-editor",t))},onKeydown:function(e){e.keyCode!==b||e.shiftKey||this.autocompleteView.isOpen||this.emojiAutocompleteIsVisible?x[e.keyCode]||e.ctrlKey||e.metaKey||this.typing&&!this.paused||(this.typing=!0,this.paused=!1,this.model.sendChatState("composing")):(e.preventDefault(),this.sendChat()),this.autocompleteView.isOpen&&(b===e.keyCode||v===e.keyCode?(e.preventDefault(),this.completeCurrentUsername()):"up"===x[e.keyCode]?(e.preventDefault(),this.autocompleteView.selectPrev()):"down"===x[e.keyCode]&&(e.preventDefault(),this.autocompleteView.selectNext())),this.emojiAutocompleteIsVisible&&(b===e.keyCode||v===e.keyCode||w===e.keyCode)&&e.preventDefault();var t=e.target;if(y===e.keyCode&&"``"===h.charactersBefore(e.target,2)){var n=h.charactersBefore(t).slice(0,-2),i=h.charactersAfter(t);e.preventDefault(),t.value=n,this.trigger("open-snippet-editor",i)}},onKeyup:function(){var e=this.queryByHook("new-message");this.typing&&0===e.value.length?(this.typing=!1,this.model.sendChatState("active")):this.typing&&this.onPausedTyping(),this.parseAutocomplete()},onPausedTyping:a(function(){this.typing&&!this.paused&&(this.paused=!0,this.model.sendChatState("paused"))},3e3),parseAutocomplete:function(){var e=this.queryByHook("new-message"),t=h.charactersBefore(e),n=t.split(" "),i=n[n.length-1],r=h.charactersAfter(e,1);"@"===i[0]&&i.length>1&&'"'!==i[1]&&(!r||""===r.trim())?(this.autocompleteView.show(),this.autocompleteView.searchFor(i.slice(1))):this.autocompleteView.hide()},parseEmoji:function(){var e=d(this.queryByHook("new-message")),t=this;e.textcomplete([{match:/(^|\s):([\-+\w]*)$/,search:function(e,t){t(d.map(Object.keys(f),function(t){return 0===t.indexOf(e)?t:null}))},template:function(e){return'<span class="emoji-autocomplete-preview">'+f[e]+'</span><span class="emoji-autocomplete-value">'+e+"</span>"},replace:function(e){var n,i=d(t.queryByHook("new-message")).val();return n=/\s:/.test(i)?" :":":",n+e+": "},index:2}],{placement:"top",className:"fichat-dropdown-menu"}).on({"textComplete:show":function(){t.emojiAutocompleteIsVisible=!0},"textComplete:hide":function(){setTimeout(function(){t.emojiAutocompleteIsVisible=!1},0)}})},completeCurrentUsername:function(){if(this.autocompleteView.selectedUser){var e=this,t=this.autocompleteView.selectedUser.githubUsername,n=this.queryByHook("new-message"),i=n.value,r=h.position(n),o=h.charactersBefore(n).lastIndexOf("@"),s=[i.slice(0,o+1),t+" ",i.slice(r)];n.value=s.join(""),this.autocompleteView.reset(),this.autocompleteView.hide(),setTimeout(function(){var t=s[0].length+s[1].length;n.setSelectionRange(t,t),e.resetAutosize()},0)}},resetAutosize:function(){var e=this.queryByHook("new-message"),t=document.createEvent("Event");t.initEvent("autosize.destroy",!0,!1),e.dispatchEvent(t),c(e)},appendCode:function(e){var t=this,n=this.queryByHook("new-message");n.value+="\n```\n"+e+"\n```\n",r(function(){h.setPosition(n,-1),n.focus(),t.resetAutosize()})},focus:function(){var e=this;setTimeout(function(){e.queryByHook("new-message").focus()},0)},remove:function(){var e=d(this.queryByHook("new-message"));e&&e.textcomplete("destroy"),i.prototype.remove.apply(this,arguments)}})},function(e,t,n){var i=n(64),r=n(125),o=n(126),s=n(127),a=n(112),c=n(28);e.exports=i.extend(a("createdRelative","model.timestamp"),{template:r,session:{hasCodeBlock:["boolean",!0,!1],isPending:["boolean",!0,!1]},derived:{displayName:{deps:["model.fromPeer.flatironUser.displayName"],fn:function(){var e=this.model.fromPeer&&this.model.fromPeer.flatironUser;return e&&e.displayName}}},bindings:{"model.fromPeer.flatironUser.githubAvatar":{type:"attribute",name:"src",hook:"avatar"},"model.fromPeer.flatironUser.admin":{type:"booleanClass",name:"admin",hook:"avatar-wrapper"},displayName:"[data-hook=name]",createdRelative:"[data-hook=created-relative]","model.isMine":{type:"booleanClass",name:"fichat-message-is-mine"},isPending:{type:"booleanClass",name:"fichat-message-is-pending"},hasCodeBlock:{type:"booleanClass",name:"has-codeblock"}},events:{"mouseover [data-hook~=avatar]":"showUserProfileCard","mouseout [data-hook~=avatar]":"hideUserProfileCard","mouseout [data-hook~=mention]":"hideUserProfileCard","mouseover [data-hook~=mention]":"showMentionUserProfileCard"},initialize:function(){var e=this;this.listenToAndRun(this.model,"change:pendingAck",function(){e.setIsPending(e.model.pendingAck)})},render:function(){this.renderWithTemplate();var e=o.renderWithEmbeds(this.model.body);return this.queryByHook("body").innerHTML=e.html,this.hasCodeBlock=e.hasCodeBlock,Object.keys(e.embeds).forEach(function(t){var n=new s({link:e.embeds[t]});this.renderSubview(n,"#"+t)},this),this},setIsPending:function(e){var t=this;clearTimeout(this.pendingTimeout),e?this.pendingTimeout=setTimeout(function(){t.isPending=!0},500):this.isPending=!1},showUserProfileCard:function(e){c.trigger("user-profile-card:show",this.model.fromPeer.flatironUser,e.target)},hideUserProfileCard:function(){c.trigger("user-profile-card:hide")},showMentionUserProfileCard:function(e){var t=e.target,n=e.target.getAttribute("data-username"),i=c.flatironUsers.getOrAddByUsernameAndFetch(n,"githubUsername");c.trigger("user-profile-card:show",i,t)}})},function(e,t,n){var i=n(64),r=n(130),o=n(131),s=i.extend({template:o,bindings:{"model.flatironUser.githubAvatar":{type:"attribute",name:"src",hook:"avatar"},"model.flatironUser.name":{type:"attribute",name:"title",hook:"avatar"}}});e.exports=i.extend({template:r,bindings:{"model.typing":{type:"toggle"}},render:function(){return this.renderWithTemplate(),this.renderCollection(this.model.composers,s,this.queryByHook("avatars")),this}})},function(e,t,n){var i=n(64),r=n(28),o=n(128),s=n(129);e.exports=i.extend({template:s,props:{me:"state",attemptResolve:["boolean",!0,!1]},derived:{isResolvable:{deps:["model.resolved","model.isMine","me.admin"],fn:function(){return!this.model.resolved&&(this.model.isMine||this.me.admin)}},showResolveDialog:{deps:["attemptResolve","isResolvable"],fn:function(){return this.attemptResolve&&this.isResolvable}}},events:{"click [data-hook~=start-screenshare]":"startScreenshare","click [data-hook~=create-issue]":"createGithubIssue","click [data-hook~=open-resolve-modal]":"openResolveModal","click [data-hook~=resolve-confirm]":"confirmResolve","click [data-hook~=resolve-cancel]":"cancelResolve"},bindings:{"me.admin":{type:"toggle",hook:"create-issue"},"model.amScreenshareCreator":{type:"booleanAttribute",name:"disabled",hook:"start-screenshare"},"model.screenshareActive":{type:"booleanClass",name:"is-active",hook:"start-screenshare"},isResolvable:{type:"toggle",hook:"open-resolve-modal"},showResolveDialog:{type:"toggle",hook:"resolve-dialog"}},initialize:function(){this.me=r.me},startScreenshare:function(){this.parent.attemptScreenshare()},render:function(){return this.renderWithTemplate(),this.renderSubview(new o({model:this.model}),this.queryByHook("screenshare-notification")),this},createGithubIssue:function(){var e=this.model&&this.model.lessonModel&&this.model.lessonModel.githubIssueLink;window.open(e,"_blank")},openResolveModal:function(e){e.preventDefault(),e.stopPropagation(),this.attemptResolve=!0},confirmResolve:function(e){e.preventDefault(),e.stopPropagation();var t=r.questionRooms.unresolved.indexOf(this.model),n=r.questionRooms.unresolved.at(t+1);this.model.markResolved(!0),this.attemptResolve=!1,setTimeout(function(){n?r.questionRooms.selectQuestion(n):r.questionRooms.deselectAll()},400)},cancelResolve:function(e){e.preventDefault(),e.stopPropagation(),this.attemptResolve=!1}})},function(e,t,n){var i=n(64),r=n(134);e.exports=i.extend({template:r,derived:{screenshareMessage:{deps:["model.screenshareActive","model.amScreenshareCreator","model.screenshareCreatorPeer.flatironUser"],fn:function(){if(!this.model.screenshareActive)return"";if(this.model.amScreenshareCreator)return"You are sharing your screen";var e=this.model.screenshareCreatorPeer,t=e&&e.flatironUser&&e.flatironUser.displayName;return(t||"Someone")+" is sharing their screen"}},tipMessage:{fn:function(){var e=["Type ``` to activate code snippet"],t=e[Math.floor(Math.random()*e.length)];return"Tip: "+t}}},bindings:{"model.screenshareActive":{type:"toggle",hook:"screenshare-message"},screenshareMessage:{type:"text",hook:"screenshare-message"},tipMessage:{type:"text",hook:"tip-message"}}})},function(e,t,n){var i=n(64),r=n(149),o=n(132),s=n(133);e.exports=i.extend({template:s,session:{visible:["boolean",!0,!1]},events:{"click [data-hook~=cancel-code]":"close","click [data-hook~=submit-code]":"submit"},bindings:{visible:{type:"toggle"}},submit:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.trigger("submit",this.codeMirror.getValue()),this.reset()},close:function(e){e&&e.preventDefault(),this.reset(),this.trigger("close")},reset:function(){this.codeMirror.setValue(""),this.hide()},focus:function(){var e=this;setTimeout(function(){e.codeMirror?e.codeMirror.focus():e.queryByHook("snippet").focus()},0)},hide:function(){this.visible=!1},show:function(e){var t=this;if(this.codeMirrorRendered)this.codeMirror.setValue(e),this.jumpCursorToEnd(),setTimeout(function(){t.codeMirror.refresh()},1);else{this.codeMirrorRendered=!0;var n=this.queryByHook("snippet"),i="snippet-"+Math.floor(1e4*Math.random());n.setAttribute("data-uid",i),r(function s(){return document.querySelector("[data-uid="+i+"]")?(t.codeMirror=o.fromTextArea(t.queryByHook("snippet"),o.flatironDefaultOptions),e&&(t.codeMirror.setValue(e),t.jumpCursorToEnd()),void setTimeout(function(){t.codeMirror.refresh()},1)):r(s)})}this.visible=!0},jumpCursorToEnd:function(){this.codeMirror&&this.codeMirror.setCursor(this.codeMirror.lineCount(),0,{scroll:!0})}})},function(e,t,n){e.exports="<div class=fichat-chat data-hook=dropzone><div class=fichat-chat-modal-container><div class=fichat-chat-modal data-hook=screenshare-preinstall-modal><h3>Chrome will now ask you to enable the Screen&nbsp;Share extension</h3><p>The page will automatically reload after installation</p><img src="+n(180)+'> <button class="fichat-btn fichat-btn-primary" data-hook=start-screenshare-install>Got it</button> <button class="fichat-btn fichat-btn-secondary" data-hook=cancel-screenshare-install>Cancel</button></div><div class=fichat-chat-modal data-hook=screenshare-reload-modal><h3>This page will now reload</h3><p>Your screenshare session will start automatically</p><ul class=fichat-question-activity><li></li><li></li><li></li><li></li></ul></div></div><div data-hook=snippet-editor></div><div class=fichat-chats-list data-hook=staydown-container><div class=fichat-chats-resolved-header data-hook=resolved-and-linked><div class=fichat-chats-subject-header><h3>Question Asked</h3></div><div class=fichat-chats-subject data-hook=subject></div></div><div class=fichat-chats-inner data-hook=messages></div><div class=fichat-chats-resolved-message>~~ This question has been resolved ~~</div><div data-hook=has-no-messages><div class="fichat-chats-empty question-other" data-hook=is-not-mine><h3>Share the love.</h3><h4>Get karma for helping resolve other students issues.</h4></div><div class="fichat-chats-empty question-mine" data-hook=is-mine><h3>Sit tight.</h3><h4>Other students have been notified and will be here to help soon.</h4><p class=fichat-message><span class=fichat-message-text>Please provide some additional detail about your question so that people will have more context when they arrive.</span></p></div></div><div class=fichat-composers data-hook=composers></div></div><div class="fichat-actions-bar cf" data-hook=action-buttons></div><div class=fichat-new-chat data-hook=chat-input></div><div data-hook=chat-footer></div></div>';

},function(e){e.exports='<div class=fichat-user-profile-card><a target=_blank data-hook=profile-link><img src="" class=fichat-avatar data-hook=avatar></a> <a target=_blank data-hook=profile-link class=no-decoration><span class=fichat-name data-hook=name></span></a> <span class=fichat-username>@<span data-hook=username></span></span></div>'},function(e,t,n){var i=n(28),r=n(51);e.exports=function(e){e.on("pubsub:event",function(e){var t=e.event.updated;if(t){var n=t.node,o=t.published[0].form,s=r.create(t.published[0].id).bare;if(o)if(-1!==n.indexOf("-activity",n.length-9)){var a=i.questionRooms.get(s);a&&(a.lastActivity=o.fields[0].value)}else i.questionRooms.addExistingQuestion(i.client.connection.jid,s,o,!0)}})}},function(e,t,n){var i=n(92),r=n(28);e.exports=function(e){e.on("chat:state",function(e){var t=r.peers.get(e.from);t&&!t.isSelf&&(t.chatState=e.chatState)}),e.on("groupchat",function(e){if(!e.replace&&"error"!==e.type){var t=r.messages.find(e.from.bare,e.id);if(t)return t.body=e.body,t.ackReceived=!0,void(e.delay&&e.delay.stamp&&(t.delayedTime=e.delay.stamp));var n={mid:e.id,from:e.from,to:e.to,type:e.type,body:e.body,nick:e.nick,ackReceived:!0},i=r.peers.get(e.from);i&&i.isSelf?(n.isMine=!0,i.lastSentMessageID=e.id):n.ackReceived=!0,e.delay&&e.delay.stamp&&(n.delayedTime=e.delay.stamp),r.messages.add(n)}}),e.on("muc:subject",function(e){var t=r.questionRooms.get(e.from.bare);if(!t)throw new Error("Could not find room for: "+e.from.bare);t.subject=e.subject}),e.on("message:sent",function(e){if("groupchat"===e.type&&e.body){var t={mid:e.id,from:e.from,to:e.to,type:e.type,body:e.body,nick:e.nick,isMine:!0,ackReceived:!1,ackRequested:!0},n=r.peers.filter(function(t){return t.isSelf&&t.jid.bare===e.to.bare}),i=n[0];i&&i.isSelf&&(t.from=i.jid,i.lastSentMessageID=e.id),e.replace||r.messages.add(t)}}),e.on("replace",function(e){var t=r.messages.find(e.from.bare,e.replace);if(t){var n=new i;n.set({mid:e.id,to:e.to,from:e.from,type:e.type,body:e.body,nick:e.nick}),e.delay&&e.delay.stamp&&(n.delayedTime=e.delay.stamp),t.correct(n)}})}},function(e,t,n){var i=n(28),r=n(31)("XMPP Questions");e.exports=function(e){e.on("message",function(e){if("groupchat"===e.type&&e.muc&&e.muc.codes){var t=i.questionRooms.get(e.from.bare);t&&(e.muc.codes.indexOf("900")>=0&&(t.resolved=!0),e.muc.codes.indexOf("901")>=0&&(t.resolved=!1))}}),e.on("muc:available",function(e){var t=e.muc.codes&&e.muc.codes.indexOf("110")>=0,n={jid:e.from,isSelf:t,online:!0};i.peers.set([n],{remove:!1}),t&&i.questionRooms.set([{jid:e.from.bare,joined:!0}],{remove:!1})}),e.on("muc:unavailable",function(e){var t=e.muc.codes&&e.muc.codes.indexOf("110")>=0,n=i.peers.get(e.from);n.online=!1,t&&i.questionRooms.set([{jid:e.from.bare,joined:!1}],{remove:!1})}),e.on("message",function(t){t.muc&&t.muc.invite&&"MENTION"===t.muc.invite.reason&&e.emit("muc:mention",{from:t.muc.invite.from,room:t.from,reason:t.muc.invite.reason,thread:t.muc.invite.thread,body:t.body,delayed:!!t.delay,sentAt:t.delay&&t.delay.stamp})}),e.on("muc:mention",function(e){var t=i.questionRooms.get(e.room.bare),n=i.peers.getOrAddByJid(e.from.bare),o=function(t){var r=function(){i.trigger("mention:received",{from:n,room:t,mentionedBy:n,body:e.body,delayed:e.delayed,sentAt:e.sentAt})};n.fullyFetched?r():n.once("change:fullyFetched",r)};r.log("Received mention",e),t?(r.log("Was existing room",t,t.bookmarked,t.selected),t.bookmarked||t.bookmarkRoom(),t.selected||(t.hasUnreadActivity=!0),r.log("Updated the room",t,t.bookmarked,t.hasUnreadActivity),o(t)):(r.log("Was not existing room"),i.client.joinQuestionRoom(e.room.bare,function(e,n){return e?void r.error(e):(n.bookmarkRoom(),n.hasUnreadActivity=!0,r.log("Joined and updated the room",t,t.bookmarked,t.hasUnreadActivity),void o(n))}))})}},function(e){var t="http://flatironschool.com";e.exports=function(e,n){var i=n.utils,r=n.define({name:"flatironConfig",element:"config",namespace:t,fields:{disableCurrentLesson:i.boolSub(t,"current"),disableNextLessons:i.boolSub(t,"next"),disablePrevLessons:i.boolSub(t,"prev"),disableAllPrevLessons:i.boolSub(t,"all-prev"),disableAllLessons:i.boolSub(t,"all")}});n.withDefinition("query","jabber:iq:private",function(e){n.extend(e,r)}),e.getFlatironConfig=function(e){return this.getPrivateData({flatironConfig:!0},e)},e.setFlatironConfig=function(e,t){return this.setPrivateData({flatironConfig:e},t)}}},function(e,t,n){var i=n(28);e.exports=function(e){e.on("connected",function(){i.me.isConnected=!0}),e.on("stream:start",function(){i.me.hasStream=!0}),e.on("stream:error",function(){i.me.hasStream=!1}),e.on("disconnected",function(){i.me.isConnected=!1})}},function(e,t,n){var i=n(64),r=n(113),o=n(137),s=i.extend(r,{template:o,transitionGroup:"fichat-notification",props:{avatar:"string",title:"string",body:"string",linkText:["string",!0,"Go help"],action:"any"},bindings:{avatar:{type:"attribute",name:"src",hook:"avatar"},title:"[data-hook=title]",body:"[data-hook=body]",linkText:"[data-hook=action-link]"},events:{click:"onClick"},onClick:function(e){e.preventDefault(),"close"===e.target.getAttribute("data-hook")?(this.remove(),e.stopPropagation()):(e.preventDefault(),this.action&&this.action())}});e.exports=s},function(e,t,n){function i(e){return r(e,o(arguments,1))}var r=n(138),o=n(139);e.exports=i},function(e,t,n){var i=n(51);e.exports={dataTypes:{jid:{set:function(e){return{val:new i.JID(e),type:"jid"}},compare:function(e,t){return i.equal(e,t,!1)}}}}},function(e,t,n){var i=n(56),r=n(91);e.exports=i.extend({dataTypes:r.dataTypes},{initialize:function(){this.createdTime=new Date(Date.now())},props:{archivedID:"string",body:"string",errorCondition:"string",errorMessage:"string",isMine:"boolean",mid:"string",to:"jid",from:"jid",uris:"array",type:["string",!0,"normal"],ackReceived:"boolean",ackRequested:"boolean",createdTime:"date",delayedTime:"date",editedTime:"date",receiptReceived:"boolean",receiptRequested:"boolean",subject:"string",thread:"string",parentThread:"string",nick:"string"},derived:{fromFull:{deps:["from"],fn:function(){return this.from&&this.from.full}},fromBare:{deps:["from"],fn:function(){return this.from&&this.from.bare}},fromResource:{deps:["from"],fn:function(){return this.from&&this.from.resource}},toFull:{deps:["to"],fn:function(){return this.to&&this.to.full}},toBare:{deps:["to"],fn:function(){return this.to&&this.to.bare}},toResource:{deps:["to"],fn:function(){return this.to&&this.to.resource}},meAction:{deps:["body"],fn:function(){return 0===this.body.indexOf("/me")}},pendingAck:{deps:["isMine","ackRequested","ackReceived"],fn:function(){return this.isMine&&this.ackRequested&&!this.ackReceived}},pendingReceipt:{deps:["isMine","receiptRequested","receiptReceived"],fn:function(){return this.isMine&&this.receiptRequested&&!this.receiptReceived}},edited:{deps:["editedTime"],fn:function(){return this.editedTime&&!isNaN(this.editedTime.valueOf())}},delayed:{deps:["delayedTime"],fn:function(){return this.delayedTime&&!isNaN(this.delayedTime.valueOf())}},comparator:{deps:["createdTime","delayed"],fn:function(){return this.delayed?this.delayedTime:this.createdTime}},timestamp:{deps:["createdTime","edited","delayed"],fn:function(){return this.edited?this.editedTime:this.delayed?this.delayedTime:this.createdTime}},localeTimestamp:{deps:["timestamp"],fn:function(){var e=this.timestamp,t=new Date(Date.now()),n=t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate();return n?e.toLocaleTimeString():e.toLocaleDateString()+" "+e.toLocaleTimeString()}}},correct:function(e){this.fromFull===e.fromFull&&(this.set({mid:e.mid,subject:e.subject,body:e.body,uris:e.uris,editedTime:e.delayedTime||new Date(Date.now()),receiptReceived:!1}),e.delayedTime&&(this.delayedTime=e.delayedTime))}})},function(e,t,n){var i=n(91),r=n(56),o=n(59),s=n(92),a=n(277);e.exports=r.extend({dataTypes:i.dataTypes},{props:{jid:"jid",isSelf:"boolean",show:{type:"string",values:["dnd","xa","away","chat",""]},name:"string",nick:"string",status:"string",priority:["number",!0,0],avatarID:"string",online:"boolean",errorCondition:"string",errorMessage:"string",idleSince:"date",requestingAttention:"boolean",chatState:{type:"string",values:["composing","paused","active","inactive","gone",""]},lastSentMessageID:"string"},generateId:function(e){return e.jid.full||e.jid},derived:{id:{deps:["jid"],fn:function(){return this.jid.full}},offline:{deps:["online"],fn:function(){return!this.online}}},children:{caps:a},collections:{discoItems:o.extend({model:a}),messages:o.extend({model:s,comparator:"comparator"})}})},function(e,t,n){(function(e){function t(e){e=e||{},this.target=e.target,this.interval=e.interval,this.max=e.max||0,this.callback=e.callback,this.userScroll=!0,this.spinner=e.spinner,this.spin_img=new Image,this.spinner&&(this.spin_img.src=this.spinner);var t=this;this.intend_down=!0,this.emit("lock");var n="wheel";if(void 0!==document.onmousewheel&&(n="mousewheel"),window.addEventListener("resize",function(){t.emit("windowresize"),t.checkdown()}),this.target.addEventListener("scroll",function(){t.userScroll&&(t.intend_down&&!t.isdown()?(t.intend_down=!1,t.emit("release")):!t.indend_down&&t.isdown()&&(t.intend_down=!0,t.emit("lock"))),t.userScroll=!0}),window.MutationObserver)this.mo=new MutationObserver(function(e){var n,i,r,o,s,a,c,u,l;for(t.userScroll=!1,t.checkdown(),i=0;i<e.length;i++)for(n=e[i],r=0;r<n.addedNodes.length;r++)if(n.addedNodes[r].getElementsByTagName)for(o=n.addedNodes[r].getElementsByTagName("img"),a=0,c=o.length;c>a;a++)if(s=o[a],!s.complete){u=s.parentNode,t.spinner&&(l=t.spin_img.cloneNode(),u.replaceChild(l,s));var h=function(e){l&&u.replaceChild(s,l),t.emit("imageload"),t.checkdown(),e.target.removeEventListener("load",h)};s.addEventListener("load",h)}}),this.mo.observe(this.target,{attributes:!0,childList:!0,characterData:!0,subtree:!0});else{var i=function(){t.checkdown(),window.setTimeout(i,t.interval)};i()}}(function(){this.isdown=function(){return this.target.scrollTop+this.target.clientHeight==this.target.scrollHeight},this.append=function(e){for(this.emit("append"),this.target.appendChild(e),this.intend_down&&(this.target.scrollTop=this.target.scrollHeight,this.emit("scrolldown"));0!==this.max&&this.target.children.length>this.max;)this.target.removeChild(this.target.children[0]),this.emit("removechild")},this.emit=function(e,t){"function"==typeof this.callback&&this.callback(e,t)},this.checkdown=function(){this.intend_down&&this.target.scrollTop+this.target.clientHeight!=this.target.scrollHeight&&(this.target.scrollTop=this.target.scrollHeight,this.userScroll=!1,this.emit("scrolldown"))}}).call(t.prototype),e?e.exports=t:window.StayDown=t}).call(t,n(278)(e))},function(e,t,n){"use strict";function i(e){var t=this;c.call(this),e=e||{},this._initConfig(e),this.stanzas=a.getGlobalJXT(),this.jid=new f,this.stanzas=a.createRegistry(),this.stanzas.use(n(276)),this.stanzas.use(n(154)),this.stanzas.use(n(155)),this.stanzas.use(n(156)),this.stanzas.use(n(157)),this.stanzas.use(n(158)),this.use(n(159)),this.use(n(160)),this.use(n(161)),this.use(n(162)),this.use(n(163)),this.sm=new d(this),this.transports={},this.use(n(164)),this.use(n(165)),this.use(n(166)),this.on("stream:data",function(e){var n=e.toJSON();if("iq"===e._name&&(n._xmlChildCount=0,r(e.xml.childNodes,function(e){1===e.nodeType&&(n._xmlChildCount+=1)})),t.emit(e._eventname||e._name,n),"message"===e._name||"presence"===e._name||"iq"===e._name)t.sm.handle(n),t.emit("stanza",n);else{if("smAck"===e._name)return t.sm.process(n);if("smRequest"===e._name)return t.sm.ack()}n.id&&(t.emit("id:"+n.id,n),t.emit(e._name+":id:"+n.id,n))}),this.on("disconnected",function(){t.transport&&(t.transport.off("*"),delete t.transport),t.releaseGroup("connection")}),this.on("iq",function(e){var n=e.type,i=e._xmlChildCount;delete e._xmlChildCount;var r=Object.keys(e);if("get"===e.type||"set"===e.type){if(1!==i)return t.sendIq(e.errorReply({error:{type:"modify",condition:"bad-request"}}));if(!r.length)return t.sendIq(e.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}));var o="iq:"+n+":"+r[0];t.callbacks[o]?t.emit(o,e):t.sendIq(e.errorReply({error:{type:"cancel",condition:"feature-not-implemented"}}))}}),this.on("message",function(e){Object.keys(e.$body||{}).length&&("chat"===e.type||"normal"===e.type?t.emit("chat",e):"groupchat"===e.type&&t.emit("groupchat",e)),"error"===e.type&&t.emit("message:error",e)}),this.on("presence",function(e){var n=e.type||"available";"error"===n&&(n="presence:error"),t.emit(n,e)})}var r=n(150),o=n(151),s=n(152),a=n(272),c=n(283),u=n(67),l=n(294),h=n(284),f=n(51).JID,d=n(153),p=n(273),m=n(285),g={external:n(286),"scram-sha-1":n(274),"digest-md5":n(275),plain:n(287),anonymous:n(288)};u.inherits(i,c),Object.defineProperty(i.prototype,"stream",{get:function(){return this.transport?this.transport.stream:void 0}}),i.prototype._initConfig=function(e){var t=this,n=this.config||{};this.config=o({useStreamManagement:!0,transports:["websocket","bosh"],sasl:["external","scram-sha-1","digest-md5","plain","anonymous"]},n,e),s(this.config.sasl)||(this.config.sasl=[this.config.sasl]),this.SASLFactory=new m,this.config.sasl.forEach(function(e){if("string"==typeof e){var n=g[e.toLowerCase()];n&&t.SASLFactory.use(n)}else t.SASLFactory.use(e)}),this.config.jid=new f(this.config.jid),this.config.server||(this.config.server=this.config.jid.domain),this.config.password&&(this.config.credentials=this.config.credentials||{},this.config.credentials.password=this.config.password,delete this.config.password),this.config.transport&&(this.config.transports=[this.config.transport]),s(this.config.transports)||(this.config.transports=[this.config.transports])},i.prototype.use=function(e){e(this,this.stanzas,this.config)},i.prototype.nextId=function(){return h.v4()},i.prototype.discoverBindings=function(e,t){p(e,function(e,n){if(e)return t(e,[]);var i={websocket:[],bosh:[]},r=n.links||[];r.forEach(function(e){e.href&&"urn:xmpp:alt-connections:websocket"===e.rel&&i.websocket.push(e.href),e.href&&"urn:xmpp:altconnect:websocket"===e.rel&&i.websocket.push(e.href),e.href&&"urn:xmpp:alt-connections:xbosh"===e.rel&&i.bosh.push(e.href),e.href&&"urn:xmpp:altconnect:bosh"===e.rel&&i.bosh.push(e.href)}),t(!1,i)})},i.prototype.getCredentials=function(){var e=this.config.credentials||{},t=new f(this.config.jid),n=e.username||t.local,i=e.server||t.domain,r={username:n,password:this.config.password,server:i,host:i,realm:i,serviceType:"xmpp",serviceName:i},s=o(r,e);return s},i.prototype.connect=function(e,t){var n=this;if(this._initConfig(e),t&&t.name&&t.url){var i=n.transport=new n.transports[t.name](n.sm,n.stanzas);return i.on("*",function(e,t){n.emit(e,t)}),i.connect(n.config)}return!t&&1===n.config.transports.length&&(t={},t.name=n.config.transports[0],("websocket"===t.name||"old-websocket"===t.name)&&(t.url=n.config.wsURL),"bosh"===t.name&&(t.url=n.config.boshURL),t.name&&t.url)?n.connect(null,t):n.discoverBindings(n.config.server,function(e,t){if(e)return console.error("Could not find https://"+n.config.server+"/.well-known/host-meta file to discover connection endpoints for the requested transports."),n.disconnect();for(var i=0,r=n.config.transports.length;r>i;i++){var o=n.config.transports[i];console.log("Checking for %s endpoints",o);for(var s=0,a=(t[o]||[]).length;a>s;s++){var c=t[o][s];if(0===c.indexOf("wss://")||0===c.indexOf("https://"))return"websocket"===o?n.config.wsURL=c:n.config.boshURL=c,console.log("Using %s endpoint: %s",o,c),n.connect(null,{name:o,url:c});console.warn("Discovered unencrypted %s endpoint (%s). Ignoring",o,c)}}return console.error("No endpoints found for the requested transports."),n.disconnect()})},i.prototype.disconnect=function(){this.sessionStarted&&(this.releaseGroup("session"),this.sm.started||this.emit("session:end")),this.sessionStarted=!1,this.releaseGroup("connection"),this.transport?this.transport.disconnect():this.emit("disconnected")},i.prototype.send=function(e){this.sm.track(e),this.transport&&this.transport.send(e)},i.prototype.sendMessage=function(e){e=e||{},e.id||(e.id=this.nextId());var t=this.stanzas.getMessage(),n=new t(e);return this.emit("message:sent",n.toJSON()),this.send(n),e.id},i.prototype.sendPresence=function(e){e=e||{},e.id||(e.id=this.nextId());var t=this.stanzas.getPresence();return this.send(new t(e)),e.id},i.prototype.sendIq=function(e,t){var n,i,r,o,s=this;e=e||{},e.id||(e.id=this.nextId());var a=this.stanzas.getIq(),c=e.toJSON?e:new a(e);return"error"===e.type||"result"===e.type?void this.send(c):(o=new f(e.to),r={},r[""]=!0,r[o.full]=!0,r[o.bare]=!0,r[o.domain]=!0,r[s.jid.bare]=!0,r[s.jid.domain]=!0,i="iq:id:"+e.id,n=new l(function(e,t){var n=function(o){r[o.from.full]&&("result"===o.type||"error"===o.type)&&(s.off(i,n),o.error?t(o):e(o))};s.on(i,"session",n)}),this.send(c),n.timeout(1e3*s.config.timeout||15e3)["catch"](l.TimeoutError,function(){throw{id:e.id,type:"error",error:{condition:"timeout"}}}).nodeify(t))},i.prototype.sendStreamError=function(e){e=e||{};var t=this.stanzas.getStreamError(),n=new t(e);this.emit("stream:error",n.toJSON()),this.send(n),this.disconnect()},e.exports=i},function(e,t,n){var i=n(307),r=n(308),o=n(309),s=n(310),a=n(311),c=(n(312),n(313)),u=Array.prototype.slice,l=/\s+/,h={on:function(e,t,n){if(!f(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!f(this,"once",e,[t,n])||!t)return this;var r=this,o=i(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,n)},off:function(e,t,n){var i,r,s,a,c,u,l,h;if(!this._events||!f(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(a=e?[e]:o(this._events),c=0,u=a.length;u>c;c++)if(e=a[c],s=this._events[e]){if(this._events[e]=i=[],t||n)for(l=0,h=s.length;h>l;l++)r=s[l],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!f(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,n,this),(r||s(e._events))&&delete this._listeningTo[o];return this},createEmitter:function(e){return c(e||{},h)}},f=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};a(p,function(e,t){h[t]=function(t,n,i){var o=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=r("l"));return o[s]=t,i||"object"!=typeof n||(i=this),t[e](n,i,this),this}}),h.listenToAndRun=function(e,t,n){return h.listenTo.apply(this,arguments),n||"object"!=typeof t||(n=this),n.apply(this),this},e.exports=h},function(e,t,n){"use strict";function i(e,t){function n(){4===h.readyState&&o()}function i(){var e=void 0;if(h.response?e=h.response:"text"!==h.responseType&&h.responseType||(e=h.responseText||h.responseXML),y)try{e=JSON.parse(e)}catch(t){}return e}function r(e){clearTimeout(d),e instanceof Error||(e=new Error(""+(e||"unknown"))),e.statusCode=0,t(e,l)}function o(){clearTimeout(d);var e=1223===h.status?204:h.status,n=l,r=null;0!==e?(n={body:i(),statusCode:e,method:m,headers:{},url:p,rawRequest:h},h.getAllResponseHeaders&&(n.headers=a(h.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),t(r,n,n.body)}var l={body:void 0,headers:{},statusCode:0,method:m,url:p,rawRequest:h};if("string"==typeof e&&(e={uri:e}),e=e||{},"undefined"==typeof t)throw new Error("callback argument missing");t=s(t);var h=e.xhr||null;h||(h=e.cors||e.useXDR?new u:new c);var f,d,p=h.url=e.uri||e.url,m=h.method=e.method||"GET",g=e.body||e.data,v=h.headers=e.headers||{},b=!!e.sync,y=!1;if("json"in e&&(y=!0,v.Accept||(v.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(v["Content-Type"]="application/json",g=JSON.stringify(e.json))),h.onreadystatechange=n,h.onload=o,h.onerror=r,h.onprogress=function(){},h.ontimeout=r,h.open(m,p,!b),h.withCredentials=!!e.withCredentials,!b&&e.timeout>0&&(d=setTimeout(function(){h.abort("timeout")},e.timeout+2)),h.setRequestHeader)for(f in v)v.hasOwnProperty(f)&&h.setRequestHeader(f,v[f]);else if(e.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(h.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(h),h.send(g),h}function r(){}var o=n(306),s=n(315),a=n(316),c=o.XMLHttpRequest||r,u="withCredentials"in new c?c:o.XDomainRequest;e.exports=i},function(e,t,n){var i=n(318),r=n(319),o=n(320),s=Array.prototype.slice,a=function(e){return e};e.exports=function(e){return e?o(e)?s.call(e):e.length===+e.length?r(e,a):i(e):[]}},[741,317],function(e){function t(e,t,n){n||(n=t,t={});for(var i=-1,r=n.length;++i<r;){var o=n[i];t[o]=e[o]}return t}e.exports=t},function(e,t,n){var i=n(182),r=n(111),o=n(70),s=n(183),a=r(a=Object.keys)&&a,c=a?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&i(n)?s(e):o(e)?a(e):[]}:s;e.exports=c},function(e,t,n){function i(e,t,n){if("function"!=typeof e)return r;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,s){return e.call(t,n,i,r,o,s)}}return function(){return e.apply(t,arguments)}}var r=n(184);e.exports=i},function(e,t,n){function i(e,t,n){if(!s(n))return!1;var i=typeof t;if("number"==i)var a=n.length,c=o(a)&&r(t,a);else c="string"==i&&t in n;if(c){var u=n[t];return e===e?e===u:u!==u}return!1}var r=n(185),o=n(182),s=n(70);e.exports=i},function(e,t,n){var i=n(324);e.exports=function(e){var t=e.replace("-","+").replace("_","/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}var n=i.atob(t);try{return decodeURIComponent(escape(n))}catch(r){return n}}},function(module,exports,__webpack_require__){module.exports=function(str){return window.JSON?window.JSON.parse(str):eval("("+str+")")}},function(e,t,n){"use strict";var i=n(325);t.available=!1,t.toUnicode=i.toUnicode,t.nameprep=function(e){return e.toLowerCase()},t.nodeprep=function(e){return e.toLowerCase()},t.resourceprep=function(e){return e}},function(e,t,n){var i=n(56),r=n(326),o=n(327),s=i.extend({save:function(e,t,n){{var i,o,s;this.attributes}if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,n=r.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;void 0===n.parse&&(n.parse=!0);var a=this,u=n.success;return n.success=function(e){var t=a.parse(e,n);return n.wait&&(t=r.extend(i||{},t)),r.isObject(t)&&!a.set(t,n)?!1:(u&&u(a,e,n),void a.trigger("sync",a,e,n))},c(this,n),o=this.isNew()?"create":n.patch?"patch":"update","patch"===o&&(n.attrs=i),n.wait&&(n.attrs=r.extend(a.serialize(),i)),s=this.sync(o,this,n)},fetch:function(e){e=e?r.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},c(this,e),this.sync("read",this,e)},destroy:function(e){e=e?r.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;c(this,e);var o=this.sync("delete",this,e);return e.wait||i(),o},sync:function(){return o.apply(this,arguments)},url:function(){var e=r.result(this,"urlRoot")||r.result(this.collection,"url")||a();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.getId())}}),a=function(){throw new Error('A "url" property or function must be specified')},c=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};e.exports=s},function(e,t,n){var i,r;!function(e){function t(e){var t=e.length,i=n.type(e);return"function"===i||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var n=function(e,t){return new n.fn.init(e,t)};n.isWindow=function(e){return null!=e&&e==e.window},n.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[s.call(e)]||"object":typeof e},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var t;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(t in e);return void 0===t||o.call(e,t)},n.each=function(e,n,i){var r,o=0,s=e.length,a=t(e);if(i){if(a)for(;s>o&&(r=n.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=n.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=n.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=n.call(e[o],o,e[o]),r===!1)break;return e},n.data=function(e,t,r){if(void 0===r){var o=e[n.expando],s=o&&i[o];if(void 0===t)return s;if(s&&t in s)return s[t]}else if(void 0!==t){var o=e[n.expando]||(e[n.expando]=++n.uuid);return i[o]=i[o]||{},i[o][t]=r,r}},n.removeData=function(e,t){var r=e[n.expando],o=r&&i[r];o&&n.each(t,function(e,t){delete o[t]})},n.extend=function(){var e,t,i,r,o,s,a=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[c]||{},c++),"object"!=typeof a&&"function"!==n.type(a)&&(a={}),c===u&&(a=this,c--);u>c;c++)if(null!=(o=arguments[c]))for(r in o)e=a[r],i=o[r],a!==i&&(l&&i&&(n.isPlainObject(i)||(t=n.isArray(i)))?(t?(t=!1,s=e&&n.isArray(e)?e:[]):s=e&&n.isPlainObject(e)?e:{},a[r]=n.extend(l,s,i)):void 0!==i&&(a[r]=i));return a},n.queue=function(e,i,r){function o(e,n){var i=n||[];return null!=e&&(t(Object(e))?!function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e}(i,"string"==typeof e?[e]:e):[].push.call(i,e)),i}if(e){i=(i||"fx")+"queue";var s=n.data(e,i);return r?(!s||n.isArray(r)?s=n.data(e,i,o(r)):s.push(r),s):s||[]}},n.dequeue=function(e,t){n.each(e.nodeType?[e]:e,function(e,i){t=t||"fx";var r=n.queue(i,t),o=r.shift();"inprogress"===o&&(o=r.shift()),o&&("fx"===t&&r.unshift("inprogress"),o.call(i,function(){n.dequeue(i,t)}))})},n.fn=n.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),i=this.offset(),r=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:n(e).offset();return i.top-=parseFloat(t.style.marginTop)||0,i.left-=parseFloat(t.style.marginLeft)||0,e.style&&(r.top+=parseFloat(e.style.borderTopWidth)||0,r.left+=parseFloat(e.style.borderLeftWidth)||0),{top:i.top-r.top,left:i.left-r.left}}};var i={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var r={},o=r.hasOwnProperty,s=r.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),c=0;c<a.length;c++)r["[object "+a[c]+"]"]=a[c].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={Utilities:n}}}(window),function(o){"object"==typeof e&&"object"==typeof e.exports?e.exports=o():(i=o,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r)))}(function(){return function(e,t,n,i){function r(e){for(var t=-1,n=e?e.length:0,i=[];++t<n;){var r=e[t];r&&i.push(r)}return i}function o(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function s(e){var t=f.data(e,"velocity");return null===t?i:t}function a(e){return function(t){return Math.round(t*e)*(1/e)}}function c(e,n,i,r){function o(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function a(e){return 3*e}function c(e,t,n){return((o(t,n)*e+s(t,n))*e+a(t))*e}function u(e,t,n){return 3*o(t,n)*e*e+2*s(t,n)*e+a(t)}function l(t,n){for(var r=0;m>r;++r){var o=u(n,e,i);if(0===o)return n;var s=c(n,e,i)-t;n-=s/o}return n}function h(){for(var t=0;y>t;++t)k[t]=c(t*w,e,i)}function f(t,n,r){var o,s,a=0;do s=n+(r-n)/2,o=c(s,e,i)-t,o>0?r=s:n=s;while(Math.abs(o)>v&&++a<b);return s}function d(t){for(var n=0,r=1,o=y-1;r!=o&&k[r]<=t;++r)n+=w;--r;var s=(t-k[r])/(k[r+1]-k[r]),a=n+s*w,c=u(a,e,i);return c>=g?l(t,a):0==c?a:f(t,n,n+w)}function p(){S=!0,(e!=n||i!=r)&&h()}var m=4,g=.001,v=1e-7,b=10,y=11,w=1/(y-1),x="Float32Array"in t;if(4!==arguments.length)return!1;for(var _=0;4>_;++_)if("number"!=typeof arguments[_]||isNaN(arguments[_])||!isFinite(arguments[_]))return!1;e=Math.min(e,1),i=Math.min(i,1),e=Math.max(e,0),i=Math.max(i,0);var k=x?new Float32Array(y):new Array(y),S=!1,A=function(t){return S||p(),e===n&&i===r?t:0===t?0:1===t?1:c(d(t),n,r)};A.getControlPoints=function(){return[{x:e,y:n},{x:i,y:r}]};var C="generateBezier("+[e,n,i,r]+")";return A.toString=function(){return C},A}function u(e,t){var n=e;return m.isString(e)?y.Easings[e]||(n=!1):n=m.isArray(e)&&1===e.length?a.apply(null,e):m.isArray(e)&&2===e.length?w.apply(null,e.concat([t])):m.isArray(e)&&4===e.length?c.apply(null,e):!1,n===!1&&(n=y.Easings[y.defaults.easing]?y.defaults.easing:b),n}function l(e){if(e){var t=(new Date).getTime(),n=y.State.calls.length;n>1e4&&(y.State.calls=r(y.State.calls));for(var o=0;n>o;o++)if(y.State.calls[o]){var a=y.State.calls[o],c=a[0],u=a[2],d=a[3],p=!!d,g=null;d||(d=y.State.calls[o][3]=t-16);for(var v=Math.min((t-d)/u.duration,1),b=0,w=c.length;w>b;b++){var _=c[b],S=_.element;if(s(S)){var A=!1;if(u.display!==i&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var C=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(C,function(e,t){x.setPropertyValue(S,"display",t)})}x.setPropertyValue(S,"display",u.display)}u.visibility!==i&&"hidden"!==u.visibility&&x.setPropertyValue(S,"visibility",u.visibility);for(var j in _)if("element"!==j){var E,I=_[j],T=m.isString(I.easing)?y.Easings[I.easing]:I.easing;if(1===v)E=I.endValue;else{var L=I.endValue-I.startValue;if(E=I.startValue+L*T(v,u,L),!p&&E===I.currentValue)continue}if(I.currentValue=E,"tween"===j)g=E;else{if(x.Hooks.registered[j]){var M=x.Hooks.getRoot(j),D=s(S).rootPropertyValueCache[M];D&&(I.rootPropertyValue=D)}var R=x.setPropertyValue(S,j,I.currentValue+(0===parseFloat(E)?"":I.unitType),I.rootPropertyValue,I.scrollData);x.Hooks.registered[j]&&(s(S).rootPropertyValueCache[M]=x.Normalizations.registered[M]?x.Normalizations.registered[M]("extract",null,R[1]):R[1]),"transform"===R[0]&&(A=!0)}}u.mobileHA&&s(S).transformCache.translate3d===i&&(s(S).transformCache.translate3d="(0px, 0px, 0px)",A=!0),A&&x.flushTransformCache(S)}}u.display!==i&&"none"!==u.display&&(y.State.calls[o][2].display=!1),u.visibility!==i&&"hidden"!==u.visibility&&(y.State.calls[o][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],v,Math.max(0,d+u.duration-t),d,g),1===v&&h(o)}}y.State.isTicking&&k(l)}function h(e,t){if(!y.State.calls[e])return!1;for(var n=y.State.calls[e][0],r=y.State.calls[e][1],o=y.State.calls[e][2],a=y.State.calls[e][4],c=!1,u=0,l=n.length;l>u;u++){
var h=n[u].element;if(t||o.loop||("none"===o.display&&x.setPropertyValue(h,"display",o.display),"hidden"===o.visibility&&x.setPropertyValue(h,"visibility",o.visibility)),o.loop!==!0&&(f.queue(h)[1]===i||!/\.velocityQueueEntryFlag/i.test(f.queue(h)[1]))&&s(h)){s(h).isAnimating=!1,s(h).rootPropertyValueCache={};var d=!1;f.each(x.Lists.transforms3D,function(e,t){var n=/^scale/.test(t)?1:0,r=s(h).transformCache[t];s(h).transformCache[t]!==i&&new RegExp("^\\("+n+"[^.]").test(r)&&(d=!0,delete s(h).transformCache[t])}),o.mobileHA&&(d=!0,delete s(h).transformCache.translate3d),d&&x.flushTransformCache(h),x.Values.removeClass(h,"velocity-animating")}if(!t&&o.complete&&!o.loop&&u===l-1)try{o.complete.call(r,r)}catch(p){setTimeout(function(){throw p},1)}a&&o.loop!==!0&&a(r),s(h)&&o.loop===!0&&!t&&(f.each(s(h).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),y(h,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&f.dequeue(h,o.queue)}y.State.calls[e]=!1;for(var m=0,g=y.State.calls.length;g>m;m++)if(y.State.calls[m]!==!1){c=!0;break}c===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var f,d=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var t=n.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return i}(),p=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-e)),e=i+n,setTimeout(function(){t(i+n)},n)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==i&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},g=!1;if(e.fn&&e.fn.jquery?(f=e,g=!0):f=t.Velocity.Utilities,8>=d&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var v=400,b="swing",y={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:n.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:v,easing:b,begin:i,complete:i,progress:i,display:i,visibility:i,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){f.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==i?(y.State.scrollAnchor=t,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var w=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},o=t(n,.5*i,r),s=t(n,.5*i,o),a=t(n,i,s),c=1/6*(r.dx+2*(o.dx+s.dx)+a.dx),u=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+c*i,n.v=n.v+u*i,n}return function i(e,t,r){var o,s,a,c={x:-1,v:0,tension:null,friction:null},u=[0],l=0,h=1e-4,f=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,r=r||null,c.tension=e,c.friction=t,o=null!==r,o?(l=i(e,t),s=l/r*f):s=f;;)if(a=n(a||c,s),u.push(1+a.x),l+=16,!(Math.abs(a.x)>h&&Math.abs(a.v)>h))break;return o?function(e){return u[e*(u.length-1)|0]}:l}}();y.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){y.Easings[t[0]]=c.apply(null,t[1])});var x=y.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var n,i,r;if(d)for(n in x.Hooks.templates){i=x.Hooks.templates[n],r=i[0].split(" ");var o=i[1].match(x.RegEx.valueSplit);"Color"===r[0]&&(r.push(r.shift()),o.push(o.shift()),x.Hooks.templates[n]=[r.join(" "),o.join(" ")])}for(n in x.Hooks.templates){i=x.Hooks.templates[n],r=i[0].split(" ");for(var e in r){var s=n+r[e],a=e;x.Hooks.registered[s]=[n,a]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var n=x.Hooks.registered[e];if(n){var i=n[0],r=n[1];return t=x.Hooks.cleanRootPropertyValue(i,t),t.toString().match(x.RegEx.valueSplit)[r]}return t},injectValue:function(e,t,n){var i=x.Hooks.registered[e];if(i){var r,o,s=i[0],a=i[1];return n=x.Hooks.cleanRootPropertyValue(s,n),r=n.toString().match(x.RegEx.valueSplit),r[a]=t,o=r.join(" ")}return n}},Normalizations:{registered:{clip:function(e,t,n){switch(e){case"name":return"clip";case"extract":var i;return x.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(x.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},blur:function(e,t,n){switch(e){case"name":return y.State.isFirefox?"filter":"-webkit-filter";case"extract":var i=parseFloat(n);if(!i&&0!==i){var r=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);i=r?r[1]:0}return i;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},opacity:function(e,t,n){if(8>=d)switch(e){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){9>=d||y.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var e=0;e<x.Lists.transformsBase.length;e++)!function(){var t=x.Lists.transformsBase[e];x.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return"transform";case"extract":return s(n)===i||s(n).transformCache[t]===i?/^scale/i.test(t)?1:0:s(n).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(r);break;case"scal":case"scale":y.State.isAndroid&&s(n).transformCache[t]===i&&1>r&&(r=1),o=!/(\d)$/i.test(r);break;case"skew":o=!/(deg|\d)$/i.test(r);break;case"rotate":o=!/(deg|\d)$/i.test(r)}return o||(s(n).transformCache[t]="("+r+")"),s(n).transformCache[t]}}}();for(var e=0;e<x.Lists.colors.length;e++)!function(){var t=x.Lists.colors[e];x.Normalizations.registered[t]=function(e,n,r){switch(e){case"name":return t;case"extract":var o;if(x.RegEx.wrappedValueAlreadyExtracted.test(r))o=r;else{var s,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(r)?s=a[r]!==i?a[r]:a.black:x.RegEx.isHex.test(r)?s="rgb("+x.Values.hexToRgb(r).join(" ")+")":/^rgba?\(/i.test(r)||(s=a.black),o=(s||r).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=d?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=d?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||y.State.isAndroid&&!y.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(y.State.prefixMatches[e])return[y.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],n=0,i=t.length;i>n;n++){var r;if(r=0===n?e:t[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(y.State.prefixElement.style[r]))return y.State.prefixMatches[e]=r,[r,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,t,n,i){return t+t+n+n+i+i}),t=i.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,n,r,o){function a(e,n){function r(){u&&x.setPropertyValue(e,"display","none")}var c=0;if(8>=d)c=f.css(e,n);else{var u=!1;if(/^(width|height)$/.test(n)&&0===x.getPropertyValue(e,"display")&&(u=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e))),!o){if("height"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var l=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return r(),l}if("width"===n&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return r(),h}}var p;p=s(e)===i?t.getComputedStyle(e,null):s(e).computedStyle?s(e).computedStyle:s(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),c=9===d&&"filter"===n?p.getPropertyValue(n):p[n],(""===c||null===c)&&(c=e.style[n]),r()}if("auto"===c&&/^(top|right|bottom|left)$/i.test(n)){var m=a(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(n))&&(c=f(e).position()[n]+"px")}return c}var c;if(x.Hooks.registered[n]){var u=n,l=x.Hooks.getRoot(u);r===i&&(r=x.getPropertyValue(e,x.Names.prefixCheck(l)[0])),x.Normalizations.registered[l]&&(r=x.Normalizations.registered[l]("extract",e,r)),c=x.Hooks.extractValue(u,r)}else if(x.Normalizations.registered[n]){var h,p;h=x.Normalizations.registered[n]("name",e),"transform"!==h&&(p=a(e,x.Names.prefixCheck(h)[0]),x.Values.isCSSNullValue(p)&&x.Hooks.templates[n]&&(p=x.Hooks.templates[n][1])),c=x.Normalizations.registered[n]("extract",e,p)}if(!/^[\d-]/.test(c))if(s(e)&&s(e).isSVG&&x.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{c=e.getBBox()[n]}catch(m){c=0}else c=e.getAttribute(n);else c=a(e,x.Names.prefixCheck(n)[0]);return x.Values.isCSSNullValue(c)&&(c=0),y.debug>=2&&console.log("Get "+n+": "+c),c},setPropertyValue:function(e,n,i,r,o){var a=n;if("scroll"===n)o.container?o.container["scroll"+o.direction]=i:"Left"===o.direction?t.scrollTo(i,o.alternateValue):t.scrollTo(o.alternateValue,i);else if(x.Normalizations.registered[n]&&"transform"===x.Normalizations.registered[n]("name",e))x.Normalizations.registered[n]("inject",e,i),a="transform",i=s(e).transformCache[n];else{if(x.Hooks.registered[n]){var c=n,u=x.Hooks.getRoot(n);r=r||x.getPropertyValue(e,u),i=x.Hooks.injectValue(c,i,r),n=u}if(x.Normalizations.registered[n]&&(i=x.Normalizations.registered[n]("inject",e,i),n=x.Normalizations.registered[n]("name",e)),a=x.Names.prefixCheck(n)[0],8>=d)try{e.style[a]=i}catch(l){y.debug&&console.log("Browser does not support ["+i+"] for ["+a+"]")}else s(e)&&s(e).isSVG&&x.Names.SVGAttribute(n)?e.setAttribute(n,i):e.style[a]=i;y.debug>=2&&console.log("Set "+n+" ("+a+"): "+i)}return[a,i]},flushTransformCache:function(e){function t(t){return parseFloat(x.getPropertyValue(e,t))}var n="";if((d||y.State.isAndroid&&!y.State.isChrome)&&s(e).isSVG){var i={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};f.each(s(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),i[e]&&(n+=e+"("+i[e].join(" ")+") ",delete i[e])})}else{var r,o;f.each(s(e).transformCache,function(t){return r=s(e).transformCache[t],"transformPerspective"===t?(o=r,!0):(9===d&&"rotateZ"===t&&(t="rotate"),void(n+=t+r+" "))}),o&&(n="perspective"+o+" "+n)}x.setPropertyValue(e,"transform",n)}};x.Hooks.register(),x.Normalizations.register(),y.hook=function(e,t,n){var r=i;return e=o(e),f.each(e,function(e,o){if(s(o)===i&&y.init(o),n===i)r===i&&(r=y.CSS.getPropertyValue(o,t));else{var a=y.CSS.setPropertyValue(o,t,n);"transform"===a[0]&&y.CSS.flushTransformCache(o),r=a}}),r};var _=function(){function e(){return a?j.promise||null:c}function r(){function e(){function e(e,t){var n=i,r=i,s=i;return m.isArray(e)?(n=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||x.RegEx.isHex.test(e[1])?s=e[1]:(m.isString(e[1])&&!x.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(r=t?e[1]:u(e[1],a.duration),e[2]!==i&&(s=e[2]))):n=e,t||(r=r||a.easing),m.isFunction(n)&&(n=n.call(o,S,k)),m.isFunction(s)&&(s=s.call(o,S,k)),[n||0,r,s]}function h(e,t){var n,i;return i=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=x.Values.getUnitType(e)),[i,n]}function d(){var e={myParent:o.parentNode||n.body,position:x.getPropertyValue(o,"position"),fontSize:x.getPropertyValue(o,"fontSize")},i=e.position===R.lastPosition&&e.myParent===R.lastParent,r=e.fontSize===R.lastFontSize;R.lastParent=e.myParent,R.lastPosition=e.position,R.lastFontSize=e.fontSize;var a=100,c={};if(r&&i)c.emToPx=R.lastEmToPx,c.percentToPxWidth=R.lastPercentToPxWidth,c.percentToPxHeight=R.lastPercentToPxHeight;else{var u=s(o).isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");y.init(u),e.myParent.appendChild(u),f.each(["overflow","overflowX","overflowY"],function(e,t){y.CSS.setPropertyValue(u,t,"hidden")}),y.CSS.setPropertyValue(u,"position",e.position),y.CSS.setPropertyValue(u,"fontSize",e.fontSize),y.CSS.setPropertyValue(u,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){y.CSS.setPropertyValue(u,t,a+"%")}),y.CSS.setPropertyValue(u,"paddingLeft",a+"em"),c.percentToPxWidth=R.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(u,"width",null,!0))||1)/a,c.percentToPxHeight=R.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(u,"height",null,!0))||1)/a,c.emToPx=R.lastEmToPx=(parseFloat(x.getPropertyValue(u,"paddingLeft"))||1)/a,e.myParent.removeChild(u)}return null===R.remToPx&&(R.remToPx=parseFloat(x.getPropertyValue(n.body,"fontSize"))||16),null===R.vwToPx&&(R.vwToPx=parseFloat(t.innerWidth)/100,R.vhToPx=parseFloat(t.innerHeight)/100),c.remToPx=R.remToPx,c.vwToPx=R.vwToPx,c.vhToPx=R.vhToPx,y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(c),o),c}if(a.begin&&0===S)try{a.begin.call(p,p)}catch(v){setTimeout(function(){throw v},1)}if("scroll"===E){var w,_,A,C=/^x$/i.test(a.axis)?"Left":"Top",I=parseFloat(a.offset)||0;a.container?m.isWrapped(a.container)||m.isNode(a.container)?(a.container=a.container[0]||a.container,w=a.container["scroll"+C],A=w+f(o).position()[C.toLowerCase()]+I):a.container=null:(w=y.State.scrollAnchor[y.State["scrollProperty"+C]],_=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===C?"Top":"Left")]],A=f(o).offset()[C.toLowerCase()]+I),c={scroll:{rootPropertyValue:!1,startValue:w,currentValue:w,endValue:A,unitType:"",easing:a.easing,scrollData:{container:a.container,direction:C,alternateValue:_}},element:o},y.debug&&console.log("tweensContainer (scroll): ",c.scroll,o)}else if("reverse"===E){if(!s(o).tweensContainer)return void f.dequeue(o,a.queue);"none"===s(o).opts.display&&(s(o).opts.display="auto"),"hidden"===s(o).opts.visibility&&(s(o).opts.visibility="visible"),s(o).opts.loop=!1,s(o).opts.begin=null,s(o).opts.complete=null,b.easing||delete a.easing,b.duration||delete a.duration,a=f.extend({},s(o).opts,a);var T=f.extend(!0,{},s(o).tweensContainer);for(var L in T)if("element"!==L){var M=T[L].startValue;T[L].startValue=T[L].currentValue=T[L].endValue,T[L].endValue=M,m.isEmptyObject(b)||(T[L].easing=a.easing),y.debug&&console.log("reverse tweensContainer ("+L+"): "+JSON.stringify(T[L]),o)}c=T}else if("start"===E){var T;s(o).tweensContainer&&s(o).isAnimating===!0&&(T=s(o).tweensContainer),f.each(g,function(t,n){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(t)){var r=e(n,!0),o=r[0],s=r[1],a=r[2];if(x.RegEx.isHex.test(o)){for(var c=["Red","Green","Blue"],u=x.Values.hexToRgb(o),l=a?x.Values.hexToRgb(a):i,h=0;h<c.length;h++){var f=[u[h]];s&&f.push(s),l!==i&&f.push(l[h]),g[t+c[h]]=f}delete g[t]}}});for(var D in g){var P=e(g[D]),N=P[0],q=P[1],F=P[2];D=x.Names.camelCase(D);var z=x.Hooks.getRoot(D),B=!1;if(s(o).isSVG||"tween"===z||x.Names.prefixCheck(z)[1]!==!1||x.Normalizations.registered[z]!==i){(a.display!==i&&null!==a.display&&"none"!==a.display||a.visibility!==i&&"hidden"!==a.visibility)&&/opacity|filter/.test(D)&&!F&&0!==N&&(F=0),a._cacheValues&&T&&T[D]?(F===i&&(F=T[D].endValue+T[D].unitType),B=s(o).rootPropertyValueCache[z]):x.Hooks.registered[D]?F===i?(B=x.getPropertyValue(o,z),F=x.getPropertyValue(o,D,B)):B=x.Hooks.templates[z][1]:F===i&&(F=x.getPropertyValue(o,D));var U,V,H,G=!1;if(U=h(D,F),F=U[0],H=U[1],U=h(D,N),N=U[0].replace(/^([+-\/*])=/,function(e,t){return G=t,""}),V=U[1],F=parseFloat(F)||0,N=parseFloat(N)||0,"%"===V&&(/^(fontSize|lineHeight)$/.test(D)?(N/=100,V="em"):/^scale/.test(D)?(N/=100,V=""):/(Red|Green|Blue)$/i.test(D)&&(N=N/100*255,V="")),/[\/*]/.test(G))V=H;else if(H!==V&&0!==F)if(0===N)V=H;else{r=r||d();var J=/margin|padding|left|right|width|text|word|letter/i.test(D)||/X$/.test(D)||"x"===D?"x":"y";switch(H){case"%":F*="x"===J?r.percentToPxWidth:r.percentToPxHeight;break;case"px":break;default:F*=r[H+"ToPx"]}switch(V){case"%":F*=1/("x"===J?r.percentToPxWidth:r.percentToPxHeight);break;case"px":break;default:F*=1/r[V+"ToPx"]}}switch(G){case"+":N=F+N;break;case"-":N=F-N;break;case"*":N=F*N;break;case"/":N=F/N}c[D]={rootPropertyValue:B,startValue:F,currentValue:F,endValue:N,unitType:V,easing:q},y.debug&&console.log("tweensContainer ("+D+"): "+JSON.stringify(c[D]),o)}else y.debug&&console.log("Skipping ["+z+"] due to a lack of browser support.")}c.element=o}c.element&&(x.Values.addClass(o,"velocity-animating"),O.push(c),""===a.queue&&(s(o).tweensContainer=c,s(o).opts=a),s(o).isAnimating=!0,S===k-1?(y.State.calls.push([O,p,a,null,j.resolver]),y.State.isTicking===!1&&(y.State.isTicking=!0,l())):S++)}var r,o=this,a=f.extend({},y.defaults,b),c={};switch(s(o)===i&&y.init(o),parseFloat(a.delay)&&a.queue!==!1&&f.queue(o,a.queue,function(e){y.velocityQueueEntryFlag=!0,s(o).delayTimer={setTimeout:setTimeout(e,parseFloat(a.delay)),next:e}}),a.duration.toString().toLowerCase()){case"fast":a.duration=200;break;case"normal":a.duration=v;break;case"slow":a.duration=600;break;default:a.duration=parseFloat(a.duration)||1}y.mock!==!1&&(y.mock===!0?a.duration=a.delay=1:(a.duration*=parseFloat(y.mock)||1,a.delay*=parseFloat(y.mock)||1)),a.easing=u(a.easing,a.duration),a.begin&&!m.isFunction(a.begin)&&(a.begin=null),a.progress&&!m.isFunction(a.progress)&&(a.progress=null),a.complete&&!m.isFunction(a.complete)&&(a.complete=null),a.display!==i&&null!==a.display&&(a.display=a.display.toString().toLowerCase(),"auto"===a.display&&(a.display=y.CSS.Values.getDisplayType(o))),a.visibility!==i&&null!==a.visibility&&(a.visibility=a.visibility.toString().toLowerCase()),a.mobileHA=a.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,a.queue===!1?a.delay?setTimeout(e,a.delay):e():f.queue(o,a.queue,function(t,n){return n===!0?(j.promise&&j.resolver(p),!0):(y.velocityQueueEntryFlag=!0,void e(t))}),""!==a.queue&&"fx"!==a.queue||"inprogress"===f.queue(o)[0]||f.dequeue(o)}var a,c,d,p,g,b,w=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(a=!1,d=0,p=this,c=this):(a=!0,d=1,p=w?arguments[0].elements||arguments[0].e:arguments[0]),p=o(p)){w?(g=arguments[0].properties||arguments[0].p,b=arguments[0].options||arguments[0].o):(g=arguments[d],b=arguments[d+1]);var k=p.length,S=0;if(!/^(stop|finish)$/i.test(g)&&!f.isPlainObject(b)){var A=d+1;b={};for(var C=A;C<arguments.length;C++)m.isArray(arguments[C])||!/^(fast|normal|slow)$/i.test(arguments[C])&&!/^\d/.test(arguments[C])?m.isString(arguments[C])||m.isArray(arguments[C])?b.easing=arguments[C]:m.isFunction(arguments[C])&&(b.complete=arguments[C]):b.duration=arguments[C]}var j={promise:null,resolver:null,rejecter:null};a&&y.Promise&&(j.promise=new y.Promise(function(e,t){j.resolver=e,j.rejecter=t}));var E;switch(g){case"scroll":E="scroll";break;case"reverse":E="reverse";break;case"finish":case"stop":f.each(p,function(e,t){s(t)&&s(t).delayTimer&&(clearTimeout(s(t).delayTimer.setTimeout),s(t).delayTimer.next&&s(t).delayTimer.next(),delete s(t).delayTimer)});var I=[];return f.each(y.State.calls,function(e,t){t&&f.each(t[1],function(n,r){var o=b===i?"":b;return o===!0||t[2].queue===o||b===i&&t[2].queue===!1?void f.each(p,function(n,i){i===r&&((b===!0||m.isString(b))&&(f.each(f.queue(i,m.isString(b)?b:""),function(e,t){m.isFunction(t)&&t(null,!0)}),f.queue(i,m.isString(b)?b:"",[])),"stop"===g?(s(i)&&s(i).tweensContainer&&o!==!1&&f.each(s(i).tweensContainer,function(e,t){t.endValue=t.currentValue}),I.push(e)):"finish"===g&&(t[2].duration=1))}):!0})}),"stop"===g&&(f.each(I,function(e,t){h(t,!0)}),j.promise&&j.resolver(p)),e();default:if(!f.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&y.Redirects[g]){var T=f.extend({},b),L=T.duration,M=T.delay||0;return T.backwards===!0&&(p=f.extend(!0,[],p).reverse()),f.each(p,function(e,t){parseFloat(T.stagger)?T.delay=M+parseFloat(T.stagger)*e:m.isFunction(T.stagger)&&(T.delay=M+T.stagger.call(t,e,k)),T.drag&&(T.duration=parseFloat(L)||(/^(callout|transition)/.test(g)?1e3:v),T.duration=Math.max(T.duration*(T.backwards?1-e/k:(e+1)/k),.75*T.duration,200)),y.Redirects[g].call(t,t,T||{},e,k,p,j.promise?j:i)}),e()}var D="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return j.promise?j.rejecter(new Error(D)):console.log(D),e()}E="start"}var R={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},O=[];f.each(p,function(e,t){m.isNode(t)&&r.call(t)});var P,T=f.extend({},y.defaults,b);if(T.loop=parseInt(T.loop),P=2*T.loop-1,T.loop)for(var N=0;P>N;N++){var q={delay:T.delay,progress:T.progress};N===P-1&&(q.display=T.display,q.visibility=T.visibility,q.complete=T.complete),_(p,"reverse",q)}return e()}};y=f.extend(_,y),y.animate=_;var k=t.requestAnimationFrame||p;return y.State.isMobile||n.hidden===i||n.addEventListener("visibilitychange",function(){n.hidden?(k=function(e){return setTimeout(function(){e(!0)},16)},l()):k=t.requestAnimationFrame||p}),e.Velocity=y,e!==t&&(e.fn.velocity=_,e.fn.velocity.defaults=y.defaults),f.each(["Down","Up"],function(e,t){y.Redirects["slide"+t]=function(e,n,r,o,s,a){var c=f.extend({},n),u=c.begin,l=c.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},d={};c.display===i&&(c.display="Down"===t?"inline"===y.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),c.begin=function(){u&&u.call(s,s);for(var n in h){d[n]=e.style[n];var i=y.CSS.getPropertyValue(e,n);h[n]="Down"===t?[i,0]:[0,i]}d.overflow=e.style.overflow,e.style.overflow="hidden"},c.complete=function(){for(var t in d)e.style[t]=d[t];l&&l.call(s,s),a&&a.resolver(s)},y(e,h,c)}}),f.each(["In","Out"],function(e,t){y.Redirects["fade"+t]=function(e,n,r,o,s,a){var c=f.extend({},n),u={opacity:"In"===t?1:0},l=c.complete;c.complete=r!==o-1?c.begin=null:function(){l&&l.call(s,s),a&&a.resolver(s)},c.display===i&&(c.display="In"===t?"auto":"none"),y(this,u,c)}}),y}(window.jQuery||window.Zepto||window,window,document)})},function(e,t,n){"use strict";e.exports=function(e){e.use(n(214)),e.use(n(215)),e.use(n(216)),e.use(n(217)),e.use(n(218)),e.use(n(219)),e.use(n(220)),e.use(n(221)),e.use(n(222)),e.use(n(223)),e.use(n(224)),e.use(n(225)),e.use(n(226)),e.use(n(227)),e.use(n(228)),e.use(n(229)),e.use(n(230)),e.use(n(231)),e.use(n(232)),e.use(n(233)),e.use(n(234)),e.use(n(235)),e.use(n(236)),e.use(n(237)),e.use(n(238)),e.use(n(239)),e.use(n(240)),e.use(n(241)),e.use(n(242)),e.use(n(243)),e.use(n(244)),e.use(n(245)),e.use(n(246)),e.use(n(247)),e.use(n(248)),e.use(n(249)),e.use(n(250)),e.use(n(251)),e.use(n(252)),e.use(n(253)),e.use(n(254)),e.use(n(255)),e.use(n(256))}},function(e){!function(){var t="undefined"==typeof window,n=!t&&window.localStorage,i={};if(t)return void(e.exports=console);var r=n.andlogKey||"debug";if(n&&n[r]&&window.console)i=window.console;else for(var o="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),s=o.length,a=function(){};s--;)i[o[s]]=a;e.exports=i}()},function(e,t,n){function i(e){return null==e?!1:l.call(e)==s?h.test(u.call(e)):o(e)&&a.test(e)||!1}var r=n(258),o=n(259),s="[object Function]",a=/^\[object .+?Constructor\]$/,c=Object.prototype,u=Function.prototype.toString,l=c.toString,h=RegExp("^"+r(l).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t,n){var i=n(260),r=1e4;e.exports=function(e,t){var n=function(e,t){return t=t.split("."),t.reduce(function(e,t){return e&&e[t]},e)},o={};return o[e]={deps:["__relativeTrigger",t],fn:function(){var e=this,o=n(this,t);return o?(this.__relativeTriggerTimeout&&(clearTimeout(this.__relativeTriggerTimeout),this.__relativeTriggerTimeout=null),this.__relativeTriggerTimeout=setTimeout(function(){e.__relativeTrigger=Date.now()},r),i(o)):void 0}},{session:{__relativeTrigger:"number"},derived:o}}},function(e,t,n){function i(e,t,n){var i,o,a;n&&(i=!1,a=function(){i||(i=!0,clearTimeout(o),e.removeEventListener("webkitTransitionEnd",a),e.removeEventListener("transitionend",a),n())},e.addEventListener("transitionend",a),e.addEventListener("webkitTransitionEnd",a),setTimeout(a,5e3)),r(e,t),s(function(){s(function(){r(e,t+"-active")})})}var r=n(328),o=n(329),s=n(149),a=n(64);e.exports={transitionGroup:"",applyTransition:function(e,t){i(this.el,e,t)},appendTo:function(e){this.rendered||this.render(),e.appendChild(this.el),this.applyTransition(this.transitionGroup+"-enter")},remove:function(e){var t=this,n=this.transitionGroup+"-leave";this._removing||(this._removing=!0,this.applyTransition(n,function(){a.prototype.remove.call(t),e&&e()}))},resetTransitions:function(){o(this.el,[this.transitionGroup+"-enter",this.transitionGroup+"-enter-active",this.transitionGroup+"-leave",this.transitionGroup+"-leave-active"])}}},function(e){e.exports='<div class=fichat-question><div class=fichat-question-container><img src="" class=fichat-avatar data-hook=avatar><div class="cf fichat-question-name-date"><span class="fichat-question-name pull-left"><span data-hook=name></span></span> <span class="fichat-question-time pull-right" data-hook=created-relative></span></div><p class=fichat-question-text data-hook=question></p><div class="cf fichat-question-lab-activity"><span class="fichat-question-lab pull-left" data-hook="lesson-title lesson-title-nolink"></span> <a class="fichat-question-lab pull-left" data-push=true data-target="" data-hook="lesson-title lesson-title-link" href=#></a> <ul class="fichat-question-activity pull-right cf"><li></li><li></li><li></li><li></li></ul></div><div class=fichat-question-docked-controls><a class=fichat-question-select data-hook=select></a> <a class=fichat-question-remove data-hook=undock></a></div></div></div>'},function(e,t,n){function i(e,t,n){var i=e;return(e=r(e))?(n?a(i,t,n):null==t)?e.slice(c(e),u(e)+1):(t+="",e.slice(o(e,t),s(e,t)+1)):e}var r=n(261),o=n(262),s=n(263),a=n(103),c=n(264),u=n(265);e.exports=i},function(e){e.exports='<div class=fichat-new-question-form-wrapper><form action="" data-hook=new-question class=fichat-new-question-form><div class="fichat-new-question-form-inner\'"><textarea name=question rows=4 placeholder="Type in your question."></textarea><span class=fichat-lesson-title data-hook=current-lesson-title></span> <button class="fichat-btn fichat-btn-primary" type=submit>Ask</button></div></form></div>'},function(e){e.exports='<a class=fichat-questions-settings data-hook=toggle-settings-panel><div class=fichat-questions-settings-panel data-hook=settings-panel><h5>Select the questions you want here:</h5><div class=fichat-question-settings-sliders><div class=fichat-question-setting data-hook=all-prev-setting><input type=checkbox id=all-prev data-hook=all-prev><label for=all-prev><span></span></label><span data-for=all-prev>All prev lessons</span></div><div class=fichat-question-setting data-hook=prev-setting><input type=checkbox id=prev data-hook=prev><label for=prev><span></span></label><span data-for=prev>Prev 3 lessons</span></div><div class=fichat-question-setting data-hook=next-setting><input type=checkbox id=next data-hook=next><label for=next><span></span></label><span data-for=next>Next 3 lessons</span></div><div class=fichat-question-setting data-hook="admin-only all-setting"><input type=checkbox id=all data-hook=all><label for=all><span></span></label><span data-for=all>All lessons</span></div></div></div></a>';

},function(e,t,n){var i=n(64),r=n(59),o=n(28),s=n(38).extend({props:{online:"boolean"},session:{selected:"boolean"}}),a=r.extend({model:s,initialize:function(){var e=this;this.on("change:selected",function(t){t.selected&&e.each(function(e){e.selected=e===t})})},getSelected:function(){return this.filter(function(e){return e.selected})[0]}}),c=i.extend({template:n(266),bindings:{"model.githubAvatar":{type:"attribute",name:"src",hook:"avatar"},"model.githubUsername":"[data-hook~=username]","model.name":"[data-hook~=name]","model.selected":{type:"booleanClass",name:"selected"},"model.online":{type:"booleanClass",name:"online",hook:"online-icon"}},events:{mouseenter:"selectModel",click:"selectModel"},selectModel:function(){this.model.selected=!0}}),u=i.extend({template:n(267),props:{search:"string",isOpen:["boolean",!0,!1],selected:["number",!0,0],selectedUser:"state",matches:["number",!0,0],loading:"boolean"},derived:{isVisible:{deps:["isOpen","matches"],fn:function(){return this.isOpen}}},bindings:{search:"[data-hook~=search]",isVisible:{type:"toggle"},loading:{type:"toggle",hook:"loading"}},initialize:function(){var e=this;this.collection=new a,this.on("change:search",this.onChangeSearch.bind(this)),this.on("change:selected",function(){var t=e.collection.at(e.selected);t&&(t.selected=!0)}),this.listenTo(e.collection,"change:selected",function(t){e.set({selected:e.collection.indexOf(t)||0,selectedUser:t},{silent:!0})}),this.listenTo(e.collection,"reset add remove change:selected",function(){e.selectedUser=e.collection.getSelected(),e.matches=e.collection.length})},render:function(){return this.renderWithTemplate(),this.renderCollection(this.collection,c,this.queryByHook("suggestions")),this},onChangeSearch:function(){var e=this,t=this.search,n=this.previousAttributes().search||"";0!==t.indexOf(n)&&0!==n.indexOf(t)&&this.reset(),0===this.matches&&n.length<=t.length&&(e.loading=!0),o.autocompleteEngine.get(this.search,function(t){t.search===e.search&&(e.loading=!1,e.collection.set(t.results,{parse:!0}),e.selected=0,e.collection.at(e.selected)&&(e.collection.at(e.selected).selected=!0))})},searchFor:function(e){this.search=e},hide:function(){this.isOpen=!1},show:function(){this.isOpen=!0},reset:function(){this.selected=0,this.collection.reset([])},selectPrev:function(){this.selected>0&&this.selected--},selectNext:function(){this.selected<this.collection.length&&this.selected++}});e.exports=u},function(e,t,n){function i(e){if(!e)throw new Error("Options are required");this.signUrl=e.signUrl}var r=n(97),o=n(291),s=n(96);i.prototype={signFile:function(e,t){var n=o.stringify({s3_object_type:e.type});r({method:"get",url:this.signUrl+"?"+n},function(e,n,i){if(e)return e;var r;try{r=JSON.parse(i)}catch(o){return t(o)}return t(null,{signedUrl:r.signed_request,publicUrl:r.url})})},upload:function(e){var t=s.createEmitter({setStatus:function(e){this.status=e,this.trigger("status",this.status)},setError:function(e){this.error=e,this.trigger("error",e.message,e),this.setStatus("error")},setProgress:function(e){this.error||(this.progress=e,this.trigger("progress",e))},complete:function(){this.setProgress(100),this.setStatus("complete"),this.trigger("complete",this.publicUrl,this)}});return t.setStatus("requesting-signuture"),this.signFile(e,function(n,i){if(n)return t.setError(n);t.publicUrl=i.publicUrl,t.setStatus("uploading");var o=new window.FormData;o.append("file",e),r({url:i.signedUrl,method:"PUT",body:e,headers:{"Content-Type":e.type,"x-amz-acl":"public-read"},beforeSend:function(e){e.upload.onprogress=function(e){e.lengthComputable&&t.setProgress(Math.round(e.loaded/e.total*100))}}},function(e,n,i){return e?t.setError(e):n.statusCode>=400?t.setError(new Error("StatusCode: "+n.statusCode+" "+i)):void t.complete()})}),t}},e.exports=i},function(e,t){var n,i,r;/*!
	    Autosize 2.0.0
	    license: MIT
	    http://www.jacklmoore.com/autosize
	*/
!function(o,s){"use strict";i=[],n=s,r="function"==typeof n?n.apply(t,i):n,!(void 0!==r&&(e.exports=r))}(this,function(){function e(e){function t(){var t=window.getComputedStyle(e,null);"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),e.style.wordWrap="break-word";var o=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=o,i="none"!==t.maxHeight?parseFloat(t.maxHeight):!1,r="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),n()}function n(){var t=e.style.height,n=document.documentElement.scrollTop,o=document.body.scrollTop;e.style.height="auto";var s=e.scrollHeight+r;if(i!==!1&&s>i?(s=i,"scroll"!==e.style.overflowY&&(e.style.overflowY="scroll")):"hidden"!==e.style.overflowY&&(e.style.overflowY="hidden"),e.style.height=s+"px",document.documentElement.scrollTop=n,document.body.scrollTop=o,t!==e.style.height){var a=document.createEvent("Event");a.initEvent("autosize.resized",!0,!1),e.dispatchEvent(a)}}if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!e.hasAttribute("data-autosize-on")){var i,r;"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",n),window.addEventListener("resize",n),e.addEventListener("input",n),e.addEventListener("autosize.update",n),e.addEventListener("autosize.destroy",function(t){window.removeEventListener("resize",n),e.removeEventListener("input",n),e.removeEventListener("keyup",n),e.removeEventListener("autosize.destroy"),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),e.removeAttribute("data-autosize-on")}.bind(e,{height:e.style.height,overflow:e.style.overflow,overflowY:e.style.overflowY,wordWrap:e.style.wordWrap,resize:e.style.resize})),e.setAttribute("data-autosize-on",!0),e.style.overflow="hidden",e.style.overflowY="hidden",t()}}return"function"!=typeof window.getComputedStyle?function(e){return e}:function(t){return t&&t.length?Array.prototype.forEach.call(t,e):t&&t.nodeName&&e(t),t}})},function(e){var t={position:function(e){return e.selectionStart},elementText:function(e){return e.value||""},setPosition:function(e,n){0>n&&(n=t.elementText(e).length+n+1),e.setSelectionRange(n,n)},charactersBefore:function(e,n){var i=t.position(e),r=0;return n&&(r=i-n),t.elementText(e).slice(r,i)},charactersAfter:function(e,n){var i,r=t.position(e);return n&&(i=r+n),t.elementText(e).slice(r,i)}};e.exports=t},function(e){e.exports={100:"",1234:"","+1":"","-1":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alien:"",ambulance:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",astonished:"",atm:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",baggage_claim:"",balloon:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",bath:"",bathtub:"",battery:"",bear:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bento:"",bicyclist:"",bike:"",bikini:"",bird:"",birthday:"",black_circle:"",black_joker:"",black_nib:"",black_square:"",black_square_button:"",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bow:"",bowling:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",bulb:"",bullettrain_front:"",bullettrain_side:"",bus:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",cactus:"",cake:"",calendar:"",calling:"",camel:"",camera:"",cancer:"",candy:"",capital_abcd:"",capricorn:"",car:"",card_index:"",carousel_horse:"",cat:"",cat2:"",cd:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cl:"",clap:"",clapper:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",clubs:"",cn:"",cocktail:"",coffee:"",cold_sweat:"",collision:"",computer:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker:"",convenience_store:"",cookie:"",cool:"",cop:"",copyright:"",corn:"",couple:"",couple_with_heart:"",couplekiss:"",cow:"",cow2:"",credit_card:"",crocodile:"",crossed_flags:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dancer:"",dancers:"",dango:"",dart:"",dash:"",date:"",de:"",deciduous_tree:"",department_store:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",donut:"",door:"",doughnut:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",droplet:"",dvd:"","e-mail":"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope:"",es:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eyeglasses:"",eyes:"",facepunch:"",factory:"",fallen_leaf:"",family:"",fast_forward:"",fax:"",fearful:"",feet:"",ferris_wheel:"",file_folder:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist:"",flags:"",flashlight:"",floppy_disk:"",flower_playing_cards:"",flushed:"",foggy:"",football:"",fork_and_knife:"",fountain:"",four_leaf_clover:"",fr:"",free:"",fried_shrimp:"",fries:"",frog:"",frowning:"",fuelpump:"",full_moon:"",full_moon_with_face:"",game_die:"",gb:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goat:"",golf:"",grapes:"",green_apple:"",green_book:"",green_heart:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guitar:"",gun:"",haircut:"",hamburger:"",hammer:"",hamster:"",hand:"",handbag:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_exclamation_mark:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",honey_pot:"",honeybee:"",horse:"",horse_racing:"",hospital:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",hushed:"",ice_cream:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",information_desk_person:"",information_source:"",innocent:"",interrobang:"",iphone:"",it:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",jp:"",key:"",keycap_ten:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_face:"",kissing_heart:"",kissing_smiling_eyes:"",koala:"",koko:"",kr:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",laughing:"",learn:"<img src='https://s3.amazonaws.com/flatironschool-static/emoji/learn.png'>",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",libra:"",light_rail:"",link:"",lips:"",lipstick:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_with_gua_pi_mao:"",man_with_turban:"",mans_shoe:"",maple_leaf:"",mask:"",massage:"",meat_on_bone:"",mega:"",melon:"",memo:"",mens:"",metro:"",microphone:"",microscope:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mount_fuji:"",mountain_bicyclist:"",mountain_cableway:"",mountain_railway:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",necktie:"",negative_squared_cross_mark:"",neutral_face:"","new":"",new_moon:"",new_moon_with_face:"",newspaper:"",ng:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_good:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",ok:"",ok_hand:"",ok_woman:"",older_man:"",older_woman:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",ophiuchus:"",orange_book:"",outbox_tray:"",ox:"",page_facing_up:"",page_with_curl:"",pager:"",palm_tree:"",panda_face:"",paperclip:"",parking:"",part_alternation_mark:"",partly_sunny:"",passport_control:"",paw_prints:"",peach:"",pear:"",pencil:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_frowning:"",person_with_blond_hair:"",person_with_pouting_face:"",phone:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",pisces:"",pizza:"",plus1:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",poodle:"",poop:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",pouch:"",poultry_leg:"",pound:"",pouting_cat:"",pray:"",princess:"",punch:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",radio:"",radio_button:"",rage:"",railway_car:"",rainbow:"",raised_hand:"",raised_hands:"",raising_hand:"",ram:"",ramen:"",rat:"",recycle:"",red_car:"",red_circle:"",registered:"",relaxed:"",relieved:"",repeat:"",repeat_one:"",restroom:"",revolving_hearts:"",rewind:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",ring:"",rocket:"",roller_coaster:"",rooster:"",rose:"",rotating_light:"",round_pushpin:"",rowboat:"",ru:"",rugby_football:"",runner:"",running:"",running_shirt_with_sash:"",sa:"",sagittarius:"",sailboat:"",sake:"",sandal:"",santa:"",satellite:"",satisfied:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",shaved_ice:"",sheep:"",shell:"",ship:"",shirt:"",shit:"",shoe:"",shower:"",signal_strength:"",six_pointed_star:"",ski:"",skull:"",sleeping:"",sleepy:"",slot_machine:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",snowboarder:"",snowflake:"",snowman:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speech_balloon:"",speedboat:"",star:"",star2:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfer:"",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimmer:"",symbols:"",syringe:"",tada:"",tanabata_tree:"",tangerine:"",taurus:"",taxi:"",tea:"",telephone:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thought_balloon:"",thumbsdown:"",thumbsup:"",ticket:"",tiger:"",tiger2:"",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tshirt:"",tulip:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",uk:"",umbrella:"",unamused:"",underage:"",unlock:"",up:"",us:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",vs:"",walking:"",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",waxing_gibbous_moon:"",wc:"",weary:"",wedding:"",whale:"",whale2:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flower:"",white_large_square:"",white_square_button:"",wind_chime:"",wine_glass:"",wink:"",wolf:"",woman:"",womans_clothes:"",womans_hat:"",womens:"",worried:"",wrench:"",x:"",yellow_heart:"",yen:"",yum:"",zap:"",zzz:""}},function(){/*!
	 * jQuery.textcomplete
	 *
	 * Repository: https://github.com/yuku-t/jquery-textcomplete
	 * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)
	 * Author:     Yuku Takahashi
	 */
if("undefined"==typeof jQuery)throw new Error("jQuery.textcomplete requires jQuery");+function(e){"use strict";var t=function(e){console.warn&&console.warn(e)};e.fn.textcomplete=function(n,i){var r=Array.prototype.slice.call(arguments);return this.each(function(){var o=e(this),s=o.data("textComplete");if(s||(s=new e.fn.textcomplete.Completer(this,i||{}),o.data("textComplete",s)),"string"==typeof n){if(!s)return;r.shift(),s[n].apply(s,r),"destroy"===n&&o.removeData("textComplete")}else e.each(n,function(n){e.each(["header","footer","placement","maxCount"],function(e){n[e]&&(s.option[e]=n[e],t(e+"as a strategy param is deprecated. Use option."),delete n[e])})}),s.register(e.fn.textcomplete.Strategy.parse(n))})}}(jQuery),+function(e){"use strict";function t(n,i){if(this.$el=e(n),this.id="textcomplete"+o++,this.strategies=[],this.views=[],this.option=e.extend({},t._getDefaults(),i),!this.$el.is("input[type=text]")&&!this.$el.is("textarea")&&!n.isContentEditable&&"true"!=n.contentEditable)throw new Error("textcomplete must be called on a Textarea or a ContentEditable.");if(n===document.activeElement)this.initialize();else{var r=this;this.$el.one("focus."+this.id,function(){r.initialize()})}}var n=function(e){var t,n;return function(){var i=Array.prototype.slice.call(arguments);if(t)return void(n=i);t=!0;var r=this;i.unshift(function o(){if(n){var i=n;n=void 0,i.unshift(o),e.apply(r,i)}else t=!1}),e.apply(this,i)}},i=function(e){return"[object String]"===Object.prototype.toString.call(e)},r=function(e){return"[object Function]"===Object.prototype.toString.call(e)},o=0;t._getDefaults=function(){return t.DEFAULTS||(t.DEFAULTS={appendTo:e("body"),zIndex:"100"}),t.DEFAULTS},e.extend(t.prototype,{id:null,option:null,strategies:null,adapter:null,dropdown:null,$el:null,initialize:function(){var t=this.$el.get(0);this.dropdown=new e.fn.textcomplete.Dropdown(t,this,this.option);var n,i;this.option.adapter?n=this.option.adapter:(i=this.$el.is("textarea")||this.$el.is("input[type=text]")?"number"==typeof t.selectionEnd?"Textarea":"IETextarea":"ContentEditable",n=e.fn.textcomplete[i]),this.adapter=new n(t,this,this.option)},destroy:function(){this.$el.off("."+this.id),this.adapter&&this.adapter.destroy(),this.dropdown&&this.dropdown.destroy(),this.$el=this.adapter=this.dropdown=null},trigger:function(e,t){this.dropdown||this.initialize(),null!=e||(e=this.adapter.getTextFromHeadToCaret());var n=this._extractSearchQuery(e);if(n.length){var i=n[1];if(t&&this._term===i)return;this._term=i,this._search.apply(this,n)}else this._term=null,this.dropdown.deactivate()},fire:function(e){var t=Array.prototype.slice.call(arguments,1);return this.$el.trigger(e,t),this},register:function(e){Array.prototype.push.apply(this.strategies,e)},select:function(e,t){this.adapter.select(e,t),this.fire("change").fire("textComplete:select",e,t),this.adapter.focus()},_clearAtNext:!0,_term:null,_extractSearchQuery:function(e){for(var t=0;t<this.strategies.length;t++){var n=this.strategies[t],o=n.context(e);if(o||""===o){var s=r(n.match)?n.match(e):n.match;i(o)&&(e=o);var a=e.match(s);if(a)return[n,a[n.index],a]}}return[]},_search:n(function(e,t,n,i){var r=this;t.search(n,function(n,i){r.dropdown.shown||(r.dropdown.activate(),r.dropdown.setPosition(r.adapter.getCaretPosition())),r._clearAtNext&&(r.dropdown.clear(),r._clearAtNext=!1),r.dropdown.render(r._zip(n,t)),i||(e(),r._clearAtNext=!0)},i)}),_zip:function(t,n){return e.map(t,function(e){return{value:e,strategy:n}})}}),e.fn.textcomplete.Completer=t}(jQuery),+function(e){"use strict";function t(n,r,o){this.$el=t.findOrCreateElement(o),this.completer=r,this.id=r.id+"dropdown",this._data=[],this.$inputEl=e(n),this.option=o,o.listPosition&&(this.setPosition=o.listPosition),o.height&&this.$el.height(o.height);var s=this;e.each(["maxCount","placement","footer","header","className"],function(e,t){null!=o[t]&&(s[t]=o[t])}),this._bindEvents(n),i[this.id]=this}var n=function(e,t){var n,i,r=t.strategy.idProperty;for(n=0;n<e.length;n++)if(i=e[n],i.strategy===t.strategy)if(r){if(i.value[r]===t.value[r])return!0}else if(i.value===t.value)return!0;return!1},i={};e(document).on("click",function(t){var n=t.originalEvent&&t.originalEvent.keepTextCompleteDropdown;e.each(i,function(e,t){e!==n&&t.deactivate()})}),e.extend(t,{findOrCreateElement:function(t){var n=t.appendTo;n instanceof e||(n=e(n));var i=n.children(".dropdown-menu");return i.length||(i=e('<ul class="dropdown-menu"></ul>').css({display:"none",left:0,position:"absolute",zIndex:t.zIndex}).appendTo(n)),i}}),e.extend(t.prototype,{$el:null,$inputEl:null,completer:null,footer:null,header:null,id:null,maxCount:10,placement:"",shown:!1,data:[],className:"",destroy:function(){this.deactivate(),this.$el.off("."+this.id),this.$inputEl.off("."+this.id),this.clear(),this.$el=this.$inputEl=this.completer=null,delete i[this.id]},render:function(t){var n=this._buildContents(t),i=e.map(this.data,function(e){return e.value});this.data.length?(this._renderHeader(i),this._renderFooter(i),n&&(this._renderContents(n),this._activateIndexedItem()),this._setScroll()):this.shown&&this.deactivate()},setPosition:function(t){this.$el.css(this._applyPlacement(t));var t="absolute";return this.$inputEl.add(this.$inputEl.parents()).each(function(){return"absolute"===e(this).css("position")?!1:"fixed"===e(this).css("position")?(t="fixed",!1):void 0}),this.$el.css({position:t}),this},clear:function(){this.$el.html(""),this.data=[],this._index=0,this._$header=this._$footer=null},activate:function(){return this.shown||(this.clear(),this.$el.show(),this.className&&this.$el.addClass(this.className),this.completer.fire("textComplete:show"),this.shown=!0),this},deactivate:function(){return this.shown&&(this.$el.hide(),this.className&&this.$el.removeClass(this.className),this.completer.fire("textComplete:hide"),this.shown=!1),this},isUp:function(e){return 38===e.keyCode||e.ctrlKey&&80===e.keyCode},isDown:function(e){return 40===e.keyCode||e.ctrlKey&&78===e.keyCode},isEnter:function(e){var t=e.ctrlKey||e.altKey||e.metaKey||e.shiftKey;return!t&&(13===e.keyCode||9===e.keyCode||this.option.completeOnSpace===!0&&32===e.keyCode)},isPageup:function(e){return 33===e.keyCode},isPagedown:function(e){return 34===e.keyCode},isEscape:function(e){return 27===e.keyCode},_data:null,_index:null,_$header:null,_$footer:null,_bindEvents:function(){this.$el.on("mousedown."+this.id,".textcomplete-item",e.proxy(this._onClick,this)),this.$el.on("mouseover."+this.id,".textcomplete-item",e.proxy(this._onMouseover,this)),this.$inputEl.on("keydown."+this.id,e.proxy(this._onKeydown,this))},_onClick:function(t){var n=e(t.target);t.preventDefault(),t.originalEvent.keepTextCompleteDropdown=this.id,n.hasClass("textcomplete-item")||(n=n.closest(".textcomplete-item"));var i=this.data[parseInt(n.data("index"),10)];this.completer.select(i.value,i.strategy);var r=this;setTimeout(function(){r.deactivate()},0)},_onMouseover:function(t){var n=e(t.target);t.preventDefault(),n.hasClass("textcomplete-item")||(n=n.closest(".textcomplete-item")),this._index=parseInt(n.data("index"),10),this._activateIndexedItem()},_onKeydown:function(e){this.shown&&(this.isUp(e)?(e.preventDefault(),this._up()):this.isDown(e)?(e.preventDefault(),this._down()):this.isEnter(e)?(e.preventDefault(),this._enter()):this.isPageup(e)?(e.preventDefault(),this._pageup()):this.isPagedown(e)?(e.preventDefault(),this._pagedown()):this.isEscape(e)&&(e.preventDefault(),this.deactivate()))},_up:function(){0===this._index?this._index=this.data.length-1:this._index-=1,this._activateIndexedItem(),this._setScroll()},_down:function(){this._index===this.data.length-1?this._index=0:this._index+=1,this._activateIndexedItem(),this._setScroll()},_enter:function(){var e=this.data[parseInt(this._getActiveElement().data("index"),10)];this.completer.select(e.value,e.strategy),this.deactivate()},_pageup:function(){var t=0,n=this._getActiveElement().position().top-this.$el.innerHeight();this.$el.children().each(function(i){return e(this).position().top+e(this).outerHeight()>n?(t=i,!1):void 0}),this._index=t,this._activateIndexedItem(),this._setScroll()},_pagedown:function(){var t=this.data.length-1,n=this._getActiveElement().position().top+this.$el.innerHeight();this.$el.children().each(function(i){return e(this).position().top>n?(t=i,!1):void 0}),this._index=t,this._activateIndexedItem(),this._setScroll()},_activateIndexedItem:function(){this.$el.find(".textcomplete-item.active").removeClass("active"),this._getActiveElement().addClass("active")},_getActiveElement:function(){return this.$el.children(".textcomplete-item:nth("+this._index+")")},_setScroll:function(){var e=this._getActiveElement(),t=e.position().top,n=e.outerHeight(),i=this.$el.innerHeight(),r=this.$el.scrollTop();0===this._index||this._index==this.data.length-1||0>t?this.$el.scrollTop(t+r):t+n>i&&this.$el.scrollTop(t+n+r-i)},_buildContents:function(e){var t,i,r,o="";for(i=0;i<e.length&&this.data.length!==this.maxCount;i++)t=e[i],n(this.data,t)||(r=this.data.length,this.data.push(t),o+='<li class="textcomplete-item" data-index="'+r+'"><a>',o+=t.strategy.template(t.value),o+="</a></li>");return o},_renderHeader:function(t){if(this.header){this._$header||(this._$header=e('<li class="textcomplete-header"></li>').prependTo(this.$el));var n=e.isFunction(this.header)?this.header(t):this.header;this._$header.html(n)}},_renderFooter:function(t){if(this.footer){this._$footer||(this._$footer=e('<li class="textcomplete-footer"></li>').appendTo(this.$el));var n=e.isFunction(this.footer)?this.footer(t):this.footer;this._$footer.html(n)}},_renderContents:function(e){this._$footer?this._$footer.before(e):this.$el.append(e)},_applyPlacement:function(e){return-1!==this.placement.indexOf("top")?e={top:"auto",bottom:this.$el.parent().height()-e.top+e.lineHeight,left:e.left}:(e.bottom="auto",delete e.lineHeight),-1!==this.placement.indexOf("absleft")?e.left=0:-1!==this.placement.indexOf("absright")&&(e.right=0,e.left="auto"),e}}),e.fn.textcomplete.Dropdown=t}(jQuery),+function(e){"use strict";function t(t){e.extend(this,t),this.cache&&(this.search=n(this.search))}var n=function(e){var t={};return function(n,i){t[n]?i(t[n]):e.call(this,n,function(e){t[n]=(t[n]||[]).concat(e),i.apply(null,arguments)})}};t.parse=function(n){return e.map(n,function(e){return new t(e)})},e.extend(t.prototype,{match:null,replace:null,search:null,cache:!1,context:function(){return!0},index:2,template:function(e){return e},idProperty:null}),e.fn.textcomplete.Strategy=t}(jQuery),+function(e){"use strict";function t(){}var n=Date.now||function(){return(new Date).getTime()},i=function(e,t){var i,r,o,s,a,c=function(){var u=n()-s;t>u?i=setTimeout(c,t-u):(i=null,a=e.apply(o,r),o=r=null)};return function(){return o=this,r=arguments,s=n(),i||(i=setTimeout(c,t)),a}};e.extend(t.prototype,{id:null,completer:null,el:null,$el:null,option:null,initialize:function(t,n,r){this.el=t,this.$el=e(t),this.id=n.id+this.constructor.name,this.completer=n,this.option=r,this.option.debounce&&(this._onKeyup=i(this._onKeyup,this.option.debounce)),this._bindEvents()},destroy:function(){this.$el.off("."+this.id),this.$el=this.el=this.completer=null},select:function(){throw new Error("Not implemented")},getCaretPosition:function(){var e=this._getCaretRelativePosition(),t=this.$el.offset();return e.top+=t.top,e.left+=t.left,e},focus:function(){this.$el.focus()},_bindEvents:function(){this.$el.on("keyup."+this.id,e.proxy(this._onKeyup,this))},_onKeyup:function(e){this._skipSearch(e)||this.completer.trigger(this.getTextFromHeadToCaret(),!0)},_skipSearch:function(e){switch(e.keyCode){case 13:case 40:case 38:return!0}if(e.ctrlKey)switch(e.keyCode){case 78:case 80:return!0}}}),e.fn.textcomplete.Adapter=t}(jQuery),+function(e){"use strict";function t(e,t,n){this.initialize(e,t,n)}t.DIV_PROPERTIES={left:-9999,position:"absolute",top:0,whiteSpace:"pre-wrap"},t.COPY_PROPERTIES=["border-width","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","word-spacing","line-height","text-decoration","text-align","width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-style","box-sizing","tab-size"],e.extend(t.prototype,e.fn.textcomplete.Adapter.prototype,{select:function(t,n){var i=this.getTextFromHeadToCaret(),r=this.el.value.substring(this.el.selectionEnd),o=n.replace(t);e.isArray(o)&&(r=o[1]+r,o=o[0]),i=i.replace(n.match,o),this.$el.val(i+r),this.el.selectionStart=this.el.selectionEnd=i.length},_getCaretRelativePosition:function(){var t=e("<div></div>").css(this._copyCss()).text(this.getTextFromHeadToCaret()),n=e("<span></span>").text(".").appendTo(t);this.$el.before(t);var i=n.position();return i.top+=n.height()-this.$el.scrollTop(),i.lineHeight=n.height(),t.remove(),i},_copyCss:function(){return e.extend({overflow:this.el.scrollHeight>this.el.offsetHeight?"scroll":"auto"},t.DIV_PROPERTIES,this._getStyles())},_getStyles:function(e){var n=e("<div></div>").css(["color"]).color;return"undefined"!=typeof n?function(){return this.$el.css(t.COPY_PROPERTIES)}:function(){var n=this.$el,i={};return e.each(t.COPY_PROPERTIES,function(e,t){i[t]=n.css(t)}),i}}(e),getTextFromHeadToCaret:function(){return this.el.value.substring(0,this.el.selectionEnd)}}),e.fn.textcomplete.Textarea=t}(jQuery),+function(e){"use strict";function t(t,i,r){this.initialize(t,i,r),e("<span>"+n+"</span>").css({position:"absolute",top:-9999,left:-9999}).insertBefore(t)}var n="";e.extend(t.prototype,e.fn.textcomplete.Textarea.prototype,{select:function(t,n){var i=this.getTextFromHeadToCaret(),r=this.el.value.substring(i.length),o=n.replace(t);e.isArray(o)&&(r=o[1]+r,o=o[0]),i=i.replace(n.match,o),this.$el.val(i+r),this.el.focus();var s=this.el.createTextRange();s.collapse(!0),s.moveEnd("character",i.length),s.moveStart("character",i.length),s.select()},getTextFromHeadToCaret:function(){this.el.focus();var e=document.selection.createRange();e.moveStart("character",-this.el.value.length);var t=e.text.split(n);return 1===t.length?t[0]:t[1]}}),e.fn.textcomplete.IETextarea=t}(jQuery),+function(e){"use strict";function t(e,t,n){this.initialize(e,t,n)}e.extend(t.prototype,e.fn.textcomplete.Adapter.prototype,{select:function(t,n){var i=this.getTextFromHeadToCaret(),r=window.getSelection(),o=r.getRangeAt(0),s=o.cloneRange();s.selectNodeContents(o.startContainer);var a=s.toString(),c=a.substring(o.startOffset),u=n.replace(t);e.isArray(u)&&(c=u[1]+c,u=u[0]),i=i.replace(n.match,u),o.selectNodeContents(o.startContainer),o.deleteContents();var l=document.createTextNode(i+c);o.insertNode(l),o.setStart(l,i.length),o.collapse(!0),r.removeAllRanges(),r.addRange(o)},_getCaretRelativePosition:function(){var t=window.getSelection().getRangeAt(0).cloneRange(),n=document.createElement("span");t.insertNode(n),t.selectNodeContents(n),t.deleteContents();var i=e(n),r=i.offset();r.left-=this.$el.offset().left,r.top+=i.height()-this.$el.offset().top,r.lineHeight=i.height(),i.remove();var o=this.$el.attr("dir")||this.$el.css("direction");return"rtl"===o&&(r.left-=this.listView.$el.width()),r},getTextFromHeadToCaret:function(){var e=window.getSelection().getRangeAt(0),t=e.cloneRange();return t.selectNodeContents(e.startContainer),t.toString().substring(0,e.startOffset)}}),e.fn.textcomplete.ContentEditable=t}(jQuery)},function(e){e.exports='<div><div class=fichat-autocomplete data-hook=autocomplete></div><div class=fichat-progress><div class=fichat-progress-bar data-hook=progress-bar></div></div><button class=fichat-new-upload></button><label class=fichat-new-upload-input><input type=file name=file></label><textarea data-hook=new-message placeholder="Begin typing..." rows=1></textarea><div class=fichat-chat-hover-msg><span>Drop images here to upload</span></div></div>'},function(e){e.exports='<div class=fichat-message><div class=fichat-avatar-wrapper data-hook=avatar-wrapper><img src="" class=fichat-avatar data-hook=avatar></div><div class=fichat-message-name><span data-hook=name></span> said <span class=fichat-message-time data-hook=created-relative></span></div><div class=fichat-message-text data-hook=body></div></div>'},function(e,t,n){function i(e){return c.replace(/{{\s*code\s*}}/,e)}var r=n(268),o=n(314),s=n(122),a=n(58),c=n(279);e.exports.renderWithEmbeds=function(e){var t,c={},u=!1,l=n(292)({linkify:!0});l.use(r,"url_new_win","link_open",function(e,n){e[n].target="_blank",t="embed-"+a.v4();var i=e[n].attrs[e[n].attrIndex("href")][1];c[t]=i}),l.use(r,"url_embed","link_close",function(e,n,i){var r=new i.Token("html_inline","",0);r.content='<span id="'+t+'"></span>',e.splice(n+1,0,r)}),l.use(o,{defs:s}),l.renderer.rules.emoji=function(e,t){return'<span class="emoji emoji_'+e[t].markup+'">'+e[t].content+"</span>"};var h=l.renderer.rules.fence;l.renderer.rules.fence=function(){return u=!0,i(h.apply(this,arguments))};var f=l.renderer.rules.code_block;return l.renderer.rules.code_block=function(){return u=!0,i(f.apply(this,arguments))},{html:l.render(e),embeds:c,hasCodeBlock:u}}},function(e,t,n){var i=n(64),r=n(269),o=n(270);e.exports=i.extend({template:o,props:{link:"string",oembed:"object",thumbWidth:["number",!0,100],thumbHeight:["number",!0,100],expanded:{type:"boolean","default":!1},maxWidth:{type:"number","default":435}},derived:{url:{deps:["oembed"],fn:function(){return this.oembed&&this.oembed.original_url}},imgUrl:{deps:["oembed"],fn:function(){return!this.oembed||"photo"!==this.oembed.type&&"video"!==this.oembed.type?void 0:this.oembed.thumbnail_url?this.oembed.thumbnail_url:"photo"===this.oembed.type?this.oembed.url:void 0}},size:{cache:!1,deps:["oembed"],fn:function(){var e;if(!this.oembed)return{width:0,height:0};"photo"===this.oembed.type?e={width:this.oembed.width,height:this.oembed.height}:this.oembed.thumbnail_url&&(e={width:this.oembed.thumbnail_width,height:this.oembed.thumbnail_height});var t=Math.min(e.width,this.maxWidth);return t<e.width&&(e.height=e.height*(t/e.width),e.width=t),e}},thumbSrc:{deps:["imgUrl","thumbWidth","thumbHeight","expanded"],fn:function(){return this.expanded?r.crop(this.imgUrl,this.size):this.imgUrl?r.crop(this.imgUrl,{width:this.thumbWidth,height:this.thumbHeight}):""}}},bindings:{imgUrl:{type:"toggle"},thumbSrc:{type:"attribute",name:"src",hook:"embed-thumb"},url:[{type:"attribute",name:"href",hook:"embed-url"},{type:"text",hook:"embed-text"}]},events:{"click [data-hook~=expand-toggle]":"onExpandClick"},initialize:function(){this.link&&r.getOembed(this.link,function(e,t){this.oembed=t}.bind(this))},onExpandClick:function(){this.toggle("expanded")}})},function(e,t,n){var i=n(64);e.exports=i.extend({template:n(271),derived:{showNotification:{deps:["model.screenshareAck","model.screenshareActive","model.amScreenshareCreatorPeer"],fn:function(){return this.model.screenshareActive&&!this.model.screenshareAck&&!this.model.amScreenshareCreator}}},bindings:{"model.screenshareCreatorPeer.flatironUser.githubAvatar":{type:"attribute",name:"src",hook:"avatar"},"model.screenshareCreatorPeer.flatironUser.name":"[data-hook~=name]",showNotification:{type:"toggle"}},events:{"click [data-hook~=accept-invite]":"acceptInvite","click [data-hook~=decline-invite]":"declineInvite"},acceptInvite:function(e){e.preventDefault(),this.model.screenshareAck=!0,this.model.joinScreenshare()},declineInvite:function(){this.model.screenshareAck=!0}})},function(e){e.exports='<div><div class=fichat-screenshare-notification data-hook=screenshare-notification></div><div class=fichat-resolve-modal data-hook=resolve-modal><div class=fichat-question-resolve-alert data-hook=resolve-dialog><h4>Mark question as resolved?</h4><button class="fichat-btn fichat-btn-primary fichat-btn-short" data-hook=resolve-confirm>Yes</button> <button class="fichat-btn fichat-btn-primary fichat-btn-short" data-hook=resolve-cancel>No</button></div></div><button class="fichat-action fichat-action-screenshare" data-hook=start-screenshare><span class=share>Share screen</span> <span class=join>Join</span> <span class=sharing>Sharing</span></button> <button class="fichat-action fichat-action-resolve" data-hook=open-resolve-modal>Mark resolved</button> <button class="fichat-action fichat-action-github" data-hook=create-issue>Create issue</button></div>'},function(e){e.exports='<div class="fichat-chat-list-activity cf"><span data-hook=avatars></span><ul class="fichat-chat-activity cf"><li></li><li></li><li></li></ul></div>'},function(e){e.exports='<img src="" class="fichat-avatar pull-left" data-hook=avatar>'},function(e){e.exports=window.CodeMirror,e.exports.flatironDefaultOptions={lineNumbers:!0,lineWrapping:!0}},function(e){e.exports='<div class=fichat-editor-code><div class=fichat-editor-header><span>Code snippet</span> <a class=fichat-editor-close data-hook=cancel-code></a></div><div class=fichat-editor-body><textarea data-hook=snippet></textarea></div><div class=fichat-editor-footer><button class="fichat-btn fichat-btn-primary fichat-btn-white" data-hook=cancel-code>Cancel</button> <button class="fichat-btn fichat-btn-primary" data-hook=submit-code>Submit</button></div></div>'},function(e){e.exports="<div class=fichat-helper-text><p data-hook=tip-message></p><div class=fichat-screenshare-status data-hook=screenshare-message></div></div>"},function(e){function t(){this.AudioContext=window.AudioContext||window.webkitAudioContext,this.support=!!this.AudioContext,this.support&&(this.context=new this.AudioContext),this.sounds={},this.sources={}}t.prototype.loadFile=function(e,t,n,i){this.support?this._loadWebAudioFile(e,t,n,i):this._loadWaveFile(e.replace(".mp3",".wav"),t,n,3,i)},t.prototype._loadWebAudioFile=function(e,t,n,i){if(this.support){var r=this,o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){r.context.decodeAudioData(o.response,function(e){r.sounds[t]=e,i&&i(null,e)},function(e){i&&i(e)})},setTimeout(function(){o.send()},n||0)}},t.prototype._loadWaveFile=function(e,t,n,i,r){var o=this,s=i||3;setTimeout(function(){var n,i=0;for(o.sounds[t]=[];s>i;)n=new Audio,n.src=e,0===i&&r&&n.addEventListener("canplaythrough",r,!1),n.load(),o.sounds[t][i++]=n},n||0)},t.prototype._playWebAudio=function(e,t){var n=this.sounds[e];if(n&&(!t||!this.sources[e])){var i=this.context.createBufferSource();i.buffer=n,i.loop=t,i.connect(this.context.destination),t&&(this.sources[e]=i),i.start(0)}},t.prototype._playWavAudio=function(e,t){var n,i=this.sounds[e],r=i&&i.length||0,o=0;if(i)for(;r>o;){if(n=i[o++],n.error)return;if(0===n.currentTime||n.currentTime===n.duration)return n.currentTime=0,n.loop=!!t,o=r,n.play()}},t.prototype.play=function(e,t){return this.support?void this._playWebAudio(e,t):this._playWavAudio(e,t)},t.prototype.stop=function(e){if(this.support)this.sources[e]&&(this.sources[e].stop(0),delete this.sources[e]);else for(var t,n=this.sounds[e],i=n&&n.length||0,r=0;i>r;)t=n[r++],t.pause(),t.currentTime=0},e.exports=t},function(e,t,n){e.exports=n.p+"49a2f7e44e4700fdd1c800821d1e13b0.mp3"},function(e){e.exports='<div class=fichat-notification><div class=fichat-notification-title><img class=fichat-notification-avatar src="" alt="" data-hook=avatar><p><span data-hook=title></span></p><a class=fichat-notification-close data-hook=close></a></div><div class=fichat-notification-question><div data-hook=body></div><a href="" data-hook=action-link></a></div></div>'},function(e,t,n){function i(e,t){var n=e?e.length:0,i=[];if(!n)return i;var a=-1,c=r,u=!0,l=u&&t.length>=200?s(t):null,h=t.length;l&&(c=o,u=!1,t=l);e:for(;++a<n;){var f=e[a];if(u&&f===f){for(var d=h;d--;)if(t[d]===f)continue e;i.push(f)}else c(t,f,0)<0&&i.push(f)}return i}var r=n(280),o=n(281),s=n(282);e.exports=i},function(e){function t(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}e.exports=t},function(e){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,i){function r(e,t){this._id=e,this._clearFn=t}var o=n(26).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},u=0;t.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,i=arguments.length<2?!1:a.call(arguments,1);return c[n]=!0,o(function(){c[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete c[e]}}).call(t,n(141).setImmediate,n(141).clearImmediate)},[747,289],[747,290],function(e){var t=Array.isArray,n=Object.prototype.toString;e.exports=t||function(e){return!!e&&"[object Array]"==n.call(e)}},52,function(e,t,n){function i(e,t){if(!(this instanceof i))return new i(e,t);if(!e)throw new Error("element required");if(!t)throw new Error("object required");this.el=e,this.obj=t,this._events={}}function r(e){var t=e.split(/ +/);return{name:t.shift(),selector:t.join(" ")}}var o=n(386),s=n(387),a=["focus","blur"];e.exports=i,i.prototype.sub=function(e,t,n){this._events[e]=this._events[e]||{},this._events[e][t]=n},i.prototype.bind=function(e,t){function n(){var e=[].slice.call(arguments).concat(l);if("function"==typeof t)return void t.apply(c,e);if(!c[t])throw new Error(t+" method is not defined");c[t].apply(c,e)}var i=r(e),a=this.el,c=this.obj,u=i.name,t=t||"on"+u,l=[].slice.call(arguments,2);return i.selector?n=s.bind(a,i.selector,u,n):o.bind(a,u,n),this.sub(u,t,n),n},i.prototype.unbind=function(e,t){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(e);var n=this._events[e],i=-1!==a.indexOf(e);if(n){var r=n[t];r&&o.unbind(this.el,e,r,i)}},i.prototype.unbindAll=function(){for(var e in this._events)this.unbindAllOf(e)},i.prototype.unbindAllOf=function(e){var t=this._events[e];if(t)for(var n in t)this.unbind(e,n)}},function(e){"use strict";function t(e,t){if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}var n=Element.prototype,i=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=t},function(e){function t(e,t){if(-1==t.indexOf(".")&&-1==t.indexOf("["))return e[t];for(var n,i=t.split(/\.|\[|\]/g),r=-1,o=i.length;++r<o;)if(0==r&&(n=e),i[r]){if(void 0==n)break;n=n[i[r]]}return n}e.exports=t},function(e,t,n){for(var i=n(399),r="undefined"==typeof window?{}:window,o=["moz","webkit"],s="AnimationFrame",a=r["request"+s],c=r["cancel"+s]||r["cancelRequest"+s],u=!0,l=0;l<o.length&&!a;l++)a=r[o[l]+"Request"+s],c=r[o[l]+"Cancel"+s]||r[o[l]+"CancelRequest"+s];if(!a||!c){u=!1;var h=0,f=0,d=[],p=1e3/60;a=function(e){if(0===d.length){var t=i(),n=Math.max(0,p-(t-h));h=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(h)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return d.push({handle:++f,callback:e,cancelled:!1}),f},c=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return u?a.call(r,function(){try{e.apply(this,arguments)}catch(t){setTimeout(function(){throw t},0)}}):a.call(r,e)},e.exports.cancel=function(){c.apply(r,arguments)}},function(e,t,n){e.exports=n(293)},function(e,t,n){e.exports=n(29)},function(e,t,n){var i=n(182),r=n(111),o=n(259),s="[object Array]",a=Object.prototype,c=a.toString,u=r(u=Array.isArray)&&u,l=u||function(e){return o(e)&&i(e.length)&&c.call(e)==s||!1};e.exports=l},function(e){"use strict";function t(e,t){return(e%t+t)%t}function n(e){this.client=e,this.id=!1,this.allowResume=!0,this.started=!1,this.inboundStarted=!1,this.outboundStarted=!1,this.lastAck=0,this.handled=0,this.windowSize=1,this.unacked=[],this.pendingAck=!1;var t="urn:xmpp:sm:3";this.stanzas={Enable:e.stanzas.getDefinition("enable",t),Resume:e.stanzas.getDefinition("resume",t),Ack:e.stanzas.getDefinition("a",t),Request:e.stanzas.getDefinition("r",t)}}var i=Math.pow(2,32);n.prototype={constructor:{value:n},enable:function(){var e=new this.stanzas.Enable;e.resume=this.allowResume,this.client.send(e),this.handled=0,this.outboundStarted=!0},resume:function(){var e=new this.stanzas.Resume({h:this.handled,previd:this.id});this.client.send(e),this.outboundStarted=!0},enabled:function(e){this.id=e.id,this.handled=0,this.inboundStarted=!0},resumed:function(e){this.id=e.previd,e.h&&this.process(e,!0),this.inboundStarted=!0},failed:function(){this.inboundStarted=!1,this.outboundStarted=!1,this.id=!1,this.lastAck=0,this.handled=0,this.unacked=[]},ack:function(){this.client.send(new this.stanzas.Ack({h:this.handled}))},request:function(){this.pendingAck=!0,this.client.send(new this.stanzas.Request)},process:function(e,n){var r=this,o=t(e.h-this.lastAck,i);this.pendingAck=!1;for(var s=0;o>s&&this.unacked.length>0;s++)this.client.emit("stanza:acked",this.unacked.shift());if(this.lastAck=e.h,n){var a=this.unacked;this.unacked=[],a.forEach(function(e){r.client.send(e)})}this.needAck()&&this.request()},track:function(e){var t=e._name,n={message:!0,presence:!0,iq:!0};this.outboundStarted&&n[t]&&(this.unacked.push(e),this.needAck()&&this.request())},handle:function(){this.inboundStarted&&(this.handled=t(this.handled+1,i))},needAck:function(){return!this.pendingAck&&this.unacked.length>=this.windowSize}},Object.defineProperties(n.prototype,{started:{get:function(){return this.outboundStarted&&this.inboundStarted},set:function(e){e||(this.outboundStarted=!1,this.inboundStarted=!1)}}}),e.exports=n},function(e){"use strict";e.exports=function(e){var t=e.utils;e.define({name:"message",namespace:"jabber:client",element:"message",topLevel:!0,fields:{lang:t.langAttribute(),id:t.attribute("id"),to:t.jidAttribute("to",!0),from:t.jidAttribute("from",!0),type:t.attribute("type","normal"),thread:t.textSub("jabber:client","thread"),parentThread:t.subAttribute("jabber:client","thread","parent"),subject:t.textSub("jabber:client","subject"),$body:{get:function(){return t.getSubLangText(this.xml,this._NS,"body",this.lang)}},body:{get:function(){var e=this.$body;return e[this.lang]||""},set:function(e){t.setSubLangText(this.xml,this._NS,"body",e,this.lang)}},attention:t.boolSub("urn:xmpp:attention:0","attention"),chatState:t.enumSub("http://jabber.org/protocol/chatstates",["active","composing","paused","inactive","gone"]),replace:t.subAttribute("urn:xmpp:message-correct:0","replace","id"),requestReceipt:t.boolSub("urn:xmpp:receipts","request"),receipt:t.subAttribute("urn:xmpp:receipts","received","id")}})}},function(e){"use strict";e.exports=function(e){var t=e.utils;e.define({name:"presence",namespace:"jabber:client",element:"presence",topLevel:!0,fields:{lang:t.langAttribute(),id:t.attribute("id"),to:t.jidAttribute("to",!0),from:t.jidAttribute("from",!0),priority:t.numberSub("jabber:client","priority",!1,0),show:t.textSub("jabber:client","show"),type:{get:function(){return t.getAttribute(this.xml,"type","available")},set:function(e){"available"===e&&(e=!1),t.setAttribute(this.xml,"type",e)}},$status:{get:function(){return t.getSubLangText(this.xml,this._NS,"status",this.lang)}},status:{get:function(){var e=this.$status;return e[this.lang]||""},set:function(e){t.setSubLangText(this.xml,this._NS,"status",e,this.lang)}},idleSince:t.dateSubAttribute("urn:xmpp:idle:1","idle","since"),decloak:t.subAttribute("urn:xmpp:decloak:0","decloak","reason"),
avatarId:{get:function(){var e="vcard-temp:x:update",n=t.find(this.xml,e,"x");return n.length?t.getSubText(n[0],e,"photo"):""},set:function(e){var n="vcard-temp:x:update",i=t.findOrCreate(this.xml,n,"x");if(""===e)t.setBoolSub(i,n,"photo",!0);else{if(e===!0)return;e?t.setSubText(i,n,"photo",e):this.xml.removeChild(i)}}}}})}},function(e){"use strict";e.exports=function(e){var t=e.utils,n=e.define({name:"iq",namespace:"jabber:client",element:"iq",topLevel:!0,fields:{lang:t.langAttribute(),id:t.attribute("id"),to:t.jidAttribute("to",!0),from:t.jidAttribute("from",!0),type:t.attribute("type")}}),i=n.prototype.toJSON;n.prototype.toJSON=function(){var e=i.call(this);return e.resultReply=this.resultReply,e.errorReply=this.errorReply,e},n.prototype.resultReply=function(e){return e=e||{},e.to=this.from,e.id=this.id,e.type="result",new n(e)},n.prototype.errorReply=function(e){return e=e||{},e.to=this.from,e.id=this.id,e.type="error",new n(e)}}},function(e){"use strict";var t="urn:ietf:params:xml:ns:xmpp-stanzas",n=["bad-request","conflict","feature-not-implemented","forbidden","gone","internal-server-error","item-not-found","jid-malformed","not-acceptable","not-allowed","not-authorized","payment-required","recipient-unavailable","redirect","registration-required","remote-server-not-found","remote-server-timeout","resource-constraint","service-unavailable","subscription-required","undefined-condition","unexpected-request"];e.exports=function(e){var i=e.utils,r=e.define({name:"error",namespace:"jabber:client",element:"error",fields:{lang:{get:function(){return(this.parent||{}).lang||""}},condition:i.enumSub(t,n),gone:{get:function(){return i.getSubText(this.xml,t,"gone")},set:function(e){this.condition="gone",i.setSubText(this.xml,t,"gone",e)}},redirect:{get:function(){return i.getSubText(this.xml,t,"redirect")},set:function(e){this.condition="redirect",i.setSubText(this.xml,t,"redirect",e)}},code:i.attribute("code"),type:i.attribute("type"),by:i.jidAttribute("by"),$text:{get:function(){return i.getSubLangText(this.xml,t,"text",this.lang)}},text:{get:function(){var e=this.$text;return e[this.lang]||""},set:function(e){i.setSubLangText(this.xml,t,"text",e,this.lang)}}}});e.withMessage(function(t){e.extend(t,r)}),e.withPresence(function(t){e.extend(t,r)}),e.withIq(function(t){e.extend(t,r)})}},function(e){"use strict";var t="urn:ietf:params:xml:ns:xmpp-streams",n=["bad-format","bad-namespace-prefix","conflict","connection-timeout","host-gone","host-unknown","improper-addressing","internal-server-error","invalid-from","invalid-namespace","invalid-xml","not-authorized","not-well-formed","policy-violation","remote-connection-failed","reset","resource-constraint","restricted-xml","see-other-host","system-shutdown","undefined-condition","unsupported-encoding","unsupported-feature","unsupported-stanza-type","unsupported-version"];e.exports=function(e){var i=e.utils;e.define({name:"streamError",namespace:"http://etherx.jabber.org/streams",element:"error",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(e){this._lang=e}},condition:i.enumSub(t,n),seeOtherHost:{get:function(){return i.getSubText(this.xml,t,"see-other-host")},set:function(e){this.condition="see-other-host",i.setSubText(this.xml,t,"see-other-host",e)}},$text:{get:function(){return i.getSubLangText(this.xml,t,"text",this.lang)}},text:{get:function(){var e=this.$text;return e[this.lang]||""},set:function(e){i.setSubLangText(this.xml,t,"text",e,this.lang)}}}})}},function(e,t,n){"use strict";var i=n(63);e.exports=function(e,t){t.use(n(295)),e.features={negotiated:{},order:[],handlers:{}},e.registerFeature=function(t,n,i){this.features.order.push({priority:n,name:t}),this.features.order.sort(function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}),this.features.handlers[t]=i.bind(e)},e.on("streamFeatures",function(t){var n=[],r=e.features.negotiated,o=e.features.handlers;e.features.order.forEach(function(e){var i=e.name;t[i]&&o[i]&&!r[i]&&n.push(function(e){r[i]?e():o[i](t,e)})}),i.series(n,function(t,n){"restart"===t?e.transport.restart():"disconnect"===t&&(e.emit("stream:error",{condition:"policy-violation",text:"Failed to negotiate stream features: "+n}),e.disconnect())})})}},function(e,t,n){(function(t){"use strict";var i="urn:ietf:params:xml:ns:xmpp-sasl";e.exports=function(e,r){r.use(n(296));var o=r.getDefinition("auth",i),s=r.getDefinition("response",i);e.registerFeature("sasl",100,function(e,n){var i=this,r=i.SASLFactory.create(e.sasl.mechanisms);if(!r)return i.releaseGroup("sasl"),i.emit("auth:failed"),n("disconnect","authentication failed");i.on("sasl:success","sasl",function(){i.features.negotiated.sasl=!0,i.releaseGroup("sasl"),i.emit("auth:success",i.config.credentials),n("restart")}),i.on("sasl:challenge","sasl",function(e){r.challenge(e.value),i.send(new s({value:r.response(i.getCredentials())})),r.cache&&(Object.keys(r.cache).forEach(function(e){r.cache[e]&&(i.config.credentials[e]=new t(r.cache[e]))}),i.emit("credentials:update",i.config.credentials))}),i.on("sasl:failure","sasl",function(){i.releaseGroup("sasl"),i.emit("auth:failed"),n("disconnect","authentication failed")}),i.on("sasl:abort","sasl",function(){i.releaseGroup("sasl"),i.emit("auth:failed"),n("disconnect","authentication failed")});var a={mechanism:r.name};r.clientFirst&&(a.value=r.response(i.getCredentials())),i.send(new o(a))}),e.on("disconnected",function(){e.features.negotiated.sasl=!1})}}).call(t,n(385).Buffer)},function(e,t,n){"use strict";e.exports=function(e,t,i){t.use(n(297));var r=function(e,t){var n=this;return i.useStreamManagement?(n.on("stream:management:enabled","sm",function(e){n.sm.enabled(e),n.features.negotiated.streamManagement=!0,n.releaseGroup("sm"),t()}),n.on("stream:management:resumed","sm",function(e){n.sm.resumed(e),n.features.negotiated.streamManagement=!0,n.features.negotiated.bind=!0,n.sessionStarted=!0,n.releaseGroup("sm"),t("break")}),n.on("stream:management:failed","sm",function(){n.sm.failed(),n.emit("session:end"),n.releaseGroup("session"),n.releaseGroup("sm"),t()}),void(n.sm.id?n.sm.id&&n.sm.allowResume?n.sm.resume():t():n.features.negotiated.bind?n.sm.enable():t())):t()};e.on("disconnected",function(){e.features.negotiated.streamManagement=!1}),e.registerFeature("streamManagement",200,r),e.registerFeature("streamManagement",500,r)}},function(e,t,n){"use strict";var i=n(51).JID;e.exports=function(e,t,r){t.use(n(298)),e.registerFeature("bind",300,function(e,t){var n=this;n.sendIq({type:"set",bind:{resource:r.resource}},function(r,o){if(r)return n.emit("session:error",r),t("disconnect","JID binding failed");n.features.negotiated.bind=!0,n.jid=new i(o.bind.jid),n.emit("session:bound",n.jid);var s=!e.session||e.session&&e.session.optional;return!n.sessionStarted&&s&&(n.sessionStarted=!0,n.emit("session:started",n.jid)),t()})}),e.on("disconnected",function(){e.sessionStarted=!1,e.features.negotiated.bind=!1})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(299)),e.registerFeature("session",1e3,function(e,t){var n=this;return e.session.optional||n.sessionStarted?(n.features.negotiated.session=!0,t()):void n.sendIq({type:"set",session:{}},function(e){return e?t("disconnect","session request failed"):(n.features.negotiated.session=!0,n.sessionStarted||(n.sessionStarted=!0,n.emit("session:started",n.jid)),void t())})}),e.on("disconnected",function(){e.sessionStarted=!1,e.features.negotiated.session=!1})}},function(e,t,n){"use strict";var i=n(300);e.exports=function(e,t){t.use(n(301)),e.transports.websocket=i}},function(e,t,n){"use strict";var i=n(302);e.exports=function(e,t){t.use(n(303)),e.transports["old-websocket"]=i}},function(e,t,n){"use strict";var i=n(304);e.exports=function(e,t){t.use(n(305)),e.transports.bosh=i}},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDExLjkgMTEuOSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTEuOSAxMS45IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCgk8Zz4NCgkJPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTkuOCwxMS45TDUuOSw4bC0zLjcsMy43TDAuMSw5LjdsMy43LTMuN0wwLDIuMUwyLjEsMGwzLjgsMy44bDMuNy0zLjdsMi4xLDIuMUw4LDUuOWwzLjksMy45TDkuOCwxMS45eiINCgkJCS8+DQoJPC9nPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzMiIGRpc3BsYXk9Im5vbmUiPg0KCTxwYXRoIGRpc3BsYXk9ImlubGluZSIgZmlsbD0iIzQxNDI0MiIgZD0iTTM4LjcsMzYuNmgtNjQuOGMtNSwwLTkuMS0yLjctOS4xLTZWLTkuMmMwLTMuMyw0LjEtNiw5LjEtNmg2NC44VjM2LjZ6Ii8+DQo8L2c+DQo8ZyBpZD0iTGF5ZXJfMSI+DQo8L2c+DQo8L3N2Zz4NCg=="},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDE1LjUgMTUuNSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTUuNSAxNS41IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTMuMyw1LjVWMi4zSDEwTDcuOCwwTDUuNSwyLjNIMi4zdjMuMkwwLDcuOEwyLjMsMTB2My4yaDMuMmwyLjMsMi4zbDIuMy0yLjNoMy4yVjEwbDIuMy0yLjNMMTMuMyw1LjV6DQoJCSBNNy44LDExLjJjLTEuOSwwLTMuNC0xLjUtMy40LTMuNHMxLjUtMy40LDMuNC0zLjRzMy40LDEuNSwzLjQsMy40UzkuNiwxMS4yLDcuOCwxMS4yeiIvPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzMiIGRpc3BsYXk9Im5vbmUiPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzEiPg0KPC9nPg0KPC9zdmc+DQo="},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDExLjggMTEuOCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTEuOCAxMS44IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCjwvZz4NCjxnIGlkPSJMYXllcl8zIiBkaXNwbGF5PSJub25lIj4NCgk8cGF0aCBkaXNwbGF5PSJpbmxpbmUiIGZpbGw9IiM0MTQyNDIiIGQ9Ik0yMywzNi4yaC02NC44Yy01LDAtOS4xLTIuNy05LjEtNlYtOS42YzAtMy4zLDQuMS02LDkuMS02SDIzVjM2LjJ6Ii8+DQo8L2c+DQo8ZyBpZD0iTGF5ZXJfMSI+DQoJPGc+DQoJCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik04LjQsNS4zbC02LjEsNi4xYy0wLjUsMC41LTEuMywwLjUtMS45LDBsMCwwYy0wLjUtMC41LTAuNS0xLjMsMC0xLjlsNi4xLTYuMWMwLjUtMC41LDEuMy0wLjUsMS45LDBsMCwwDQoJCQlDOC45LDMuOSw4LjksNC44LDguNCw1LjN6Ii8+DQoJCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik0zLjgsMGg3LjhjMC4yLDAsMC4zLDAuMSwwLjMsMC4zdjcuNGMwLDAuNC0wLjUsMC42LTAuOCwwLjNMMy42LDAuNUMzLjQsMC4zLDMuNSwwLDMuOCwweiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"},function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF0AAABcCAMAAAA780lUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZTMzNTAyNC1jZmU1LTQ0MWQtYTcwNi0zYTRkNjI0NjM5ZmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDAyMjlEMDlDNDg2MTFFNEI4NzE5NkVENjhCRDVDMzMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDAyMjlEMDhDNDg2MTFFNEI4NzE5NkVENjhCRDVDMzMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MDliMzI1NS02NDVjLTQ5NGEtYjkyNy05MGNiOTMxOTM1MjEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMTA5Zjk2OC0wNzEzLTExNzgtOWM2NS1iYjE1NmEwYmQ0NDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4ttI3nAAABMlBMVEUjLDzX2NjuHnPnWJLzZJ4+RlT9/f319fVMU2BSWWUnMEAwOEclLj5gZ3I1PUykqK/y8/QkLT34+Pltc354fojO0NOxtbpDS1iEipJGTVuDiJGXm6Lf4OPn6OrP0dRudH/j5Obv7/AqM0KztrymqrDw8fImLj5BSVfGyM3Bw8iBho+UmKBzeYP3+Pi6vcKTmJ/l5ujp6uzY2t3Jy88tNkUuN0Z/hY78/PzY2dny8/P7+/vf4OD4+Pju7+/l5ubw8fH5+fnd3t7c3d3+/v7+9fnz9PT////40ODlZ5vlaZz+7/Xz8/P82Ofo6en1eazy5OrtKHn80+Ta29vi4+PZ2tr8/f3sLHv1dqr39/fe39/q6urj5OT78vb2xNj29vbcs8Ts7e3vL33fvMvb3NzvKnv///8flf5dAAAAZnRSTlP//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wA1jqi3AAADJklEQVR42uyZaVviMBDHG3ZhQRRQTkGUW5D7kMVjdd37vu/76vf/CuuaaW2lmUnUvNjn6f9lp/kRJpNkZmqYOmX4dJ/u0326LL3ca3ciwWjDaESDkU67V748ejoXXjbcWg7n0pdBH/azhrey/eEF6YNpxRCrMh1cgF7PLxi4FvL189KrMYNWrHouemJjHrUYXZx/uJFQp482XYhgKt4sdo+fd4vNeCrosm2OVOmtbcfw1ULpjLlUWHXYt1tq9IxjOZfGnq+MlxyLm1GhZ07dG1kXenU9crogGXl6y575pBZCQiJUm9izb8nSR7bPw2tuy537X9wP1sK270dy9IQdLckVt+XJz8C7XweH1x2PVpJ25CSk6Hacb531yrNAIPCQsdnnuw7vbNlxL0Ov2vA509Vj+hX2T0eH9+ynNr5K0+vW9k+GEDpje9/s2VvOidVJet5a0BUTpTP26bble2tp8xR9AME4WTMpOtvbtSIHAnNhQNCnMI2aSdPZ730w1GDUFKcP4bKIhGTo7NVNcD3s2soQpfdhEt7bf47ObkHsr8O4PkqHO3TJlKSz12CCIy2L0dMwhbE0nd2AExNGphF6Ds5zU57+BnwD530OoUPgFhTo7Cm3FWCbiOllSIpKKvQZj/oSpFFlIb0Hd6ipQmc/uBHu2p6Q3uYvpNToR9yY4oPbQnqHvxBXozO+peJ8cEdIhx3XVKTzoGzCLhfSwXVFRfrBibHosWguepS/0FWkfzwxdvngqJDe4NmDqUifcSvPUhpCusevy9DZrvOfn3vu74/pDzzo+1Jzp/z+8k/gxXcP+gcpv1MxYz76+nxnZ+fxtTN6KxUzVLyjIuOd2quoyL1KnTOoyHOGOiNRkWckdb5jos936m7CRN9N1L2KSeJeJXICRDI5AZHPIJLJZ4hcTCy5XAzPI8XlmVweiefAQknmwHj+LpJ0/o7WHgLJ1x5o3SRwukLdhNV83lKp+bB61XPmavUqUmt7+Vy11kb6BPPRotwn0Nzj0Nyf0dxb0twX09zT09yP1NxL1d0H1tzD1t1/1/3tQPt3j//8i5BP9+k+ndRfAQYAfKA/kSP2u+sAAAAASUVORK5CYII="},function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAABcCAMAAABtCWZnAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZTMzNTAyNC1jZmU1LTQ0MWQtYTcwNi0zYTRkNjI0NjM5ZmUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDAyMjlEMERDNDg2MTFFNEI4NzE5NkVENjhCRDVDMzMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDAyMjlEMENDNDg2MTFFNEI4NzE5NkVENjhCRDVDMzMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1MDliMzI1NS02NDVjLTQ5NGEtYjkyNy05MGNiOTMxOTM1MjEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmMTA5Zjk2OC0wNzEzLTExNzgtOWM2NS1iYjE1NmEwYmQ0NDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5azd9WAAADAFBMVEXw8PHtLnuRkJH09PSOjIz4qsm+vr4oJCX0g7H29vbyZ5/vQ4iioKGysbH4+PmenZ0kICH8/Pz+9vnW19csKSr7y97s7OyVlJSGhYVFQUL2kbo1MTLuOIHsJHU9OTruPYX83er71eWDgYH6v9fR0NHv7u/LystVUlP1i7bk5OSEgoLMzM3zbaP+8vaUkpNwbm/Hxsfp6OmrqqrIyck5NTbq6usxLi9xcHDOz8/wUZGAfn90cnNjYGHf3t+trKzy8vJBPT7j4uLDwsNsamrc3N3Z2NlYVVZ8entQTU6amZnxVpX96vKqqKhcWVqmpqZ6eHhraGlgXl5JRkf2mb+oqKj3pMVnZWVMSEm4uLhbWFmKiIh4dndfXFy7uruZl5iurq5kYWL5udP5ttHtMn6MiovAwcHwTI6vra6wrq/uNYD82uegn6Bxb3BvbW76xdr2l71LSEhZV1hXVFV6d3j0f653dHX6+vtta2yQjo7wT5BDQEDvSIx9fHwuKyxKR0hlY2RhXl8jHyA8ODnX2NjsIXMnIyQ6NzgqJif5+fr8+/z6x9zT1NRHREX6+vrc29usq6vS0dLV1tY3NDXg3+DQz8//+vw/Ozz19fbKycr39/impaVGQ0Ognp+op6jT0tOJh4jx8fHKycnR0dLu7e7p6eo/PD3b2ts0MDGIh4fCwcLFxsb7zeD3oMO3treYlpbEw8TY19iMi4zU09T95/D5u9SopqfP0ND//f72m8DsI3T//P1ST1BqZ2j+7vTm5eaQj5DU09PDxMTm5uZTUFHh4OBOS0ylpKS0tLW2tLXAv7/xYJuzs7P29fW3t7jc29y8urujoqOFhIScmpucm5z95O52c3Tt7e3z8/Swr7DtKHdPTE3y8fLIx8jGxcbR0tLzdKdpZmeBf39eW1zV1NUzLzD6wtmqqan4ss+5urq6ubnLzMzzdaj97PPl5eYrKCk2MzPd3d7BwsLHyMjCwMHwVJPFxMS8vL2sq6zi4eL70uLzeKr0eaq7u7swLC21tbb///8iO8KoAAABAHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AU/cHJQAACBlJREFUeNrsmXlcFFUcwBFWEBVYBEU0LdeDQEUDRUUkTBE81hATLYjQvDBNMVtMxfgxuyygAgLigceKInZol0fmbWlpl3So3dlhp4uV2aVN7715s7PMznCsu4t9Pvv7a2Z+837vO7/3m9/7vfdc2FtFXJwkThIniZPESeIkqV8OPzrxnzNLH26h1Wq7tEh/ovWiSc+0awaSglZttJZy4GqnOQ4lWfMswWgx5u+JLbu374akYOqkTn1mdsFPx+xxHMkczPHEy3P2ixXtClrdhlRnDjuI5AMUGW0KZN31kVY7c41jSFod0H40Vl7dEnllj4NItA2STHUMyR3I/22+lVG2exlr2zkoYtvjsJw5v9srFhiPLkpHqiEvOewv7tspnfzFV3+a37J7wV/duj1TMG3SnX2Wkr94actXHJnZ1kz7Il0is2nbtCpohmx/x3d3th6SfoBD6HL71T6d9rxktTFbzIBr+o79ue9+e82A24d5yrYZeM3nAVVNaJhfvqXObWvbxSqVYm+v9bLNPYdtbyyJ2+yULADoqiqVUF5RrARe/Oe6+5rrDKdGKXmdTn3KING8VNUVKbNSZrs1TNIzxMPUVXahSFkcBXUl5oJJd366f12dv+qcqHlhtknpEdKzAZJZ2Jxx4TJFciC6UF40HyTDULCUjGBO6T7AUpfVts6wXMQeC0xWLFtoxKCz6iNZhftaElDJYPHKQDe5PUzKwbkgJRG/Y6VCUgcpwpf3wM0zvIjpyoAl6GboKlmSVSkIdbEfw8umcuQWH6p80zRqMSO2BEy/N0jPh8S7LBvH6zpnq1xdL2ZH8PdL+GDzQQ4p32Qy7bcYOT9llRwJ8kjOdcZMKvshY/3I+140GHNdR2o4cYleQFH613AXysz+3pzOu/+HFDR3OPlGYqjS3Pa1HOQVGZIiBHKcqSuj0ZAGoUAv4zxiTF2rESRv1g0uNrlOT35tptMEz+WeJqLWbkGo6WiR6eMIpUiSZKAejNcZsUxBw1txzsDFyIIrmrryZ6IQE4+tFSl3ZZHnc9lzFcg3UyxMXzeC/i4pEuTAo4ylhKMEUjWP+08MGrEMrDCBWOg0m6uJ5kIVwMpwCdOuAPMkSIKVkOgn8TqzL4j2lWgJotHEGjnlq54Syt5kTHVogPdJWfZLBGWwJYkKYIPZWzUvmC5XZHAxskMjJWeJUl8qqdxIk84Kk7He6u+FTjYAqCxIfCOg3MwlK4wpws0v5L9xlexLs56EyhZppXc8Vt4QQJj+ykwzp5RDhK+YpAwg0swlGyGUu0gKYZiOJIO5SHemeQP31UFGeZ34ZAbDhCRRy0HG3kI3kQBlYpLdAK+bkXycNZi7yIpCjbG1SJm+NN5oXugoq8QzHigYJkFHHeMDNUI3rwPsFpOkgX618MYjcC938TTEMatJkvpMrjPNXvC4LKuMxG0nMMxRuI+OSFXnwaZ+kOk0MUkOLBdAPq3l3w5AYXyaTJ5rZTtbOyBZVqfZRXI+w8yAoQzvlGShp+WQIyYxQpSQ5E8q+RniYNbnDPk7Vsp3phm9Q163g3wGslRRy/s8SPmQqasoMIpJUJLhtV4LYCe9vIC/ZDQ2pq6HJK8enYGELIoRBaRSo09HRBTxfaGUaUkyiP6y8Uoln0t+jDD+yjCh2NaTGiuFkKDfpbLEn8+z0Xplxi/c5SBLEj08iSNog1oJxgu0Ra9qErg3RbKeJ2F2wje9eFd7gG7CJZy+kkAvJomB3PEBCaSuoL8N8y+aYzuSHwnJQStJjpByAZtDWcn/bWqaVH/VCQHjB0CMmCRSmFRDuLdD0XwBFThu8MMSK0nW4ca12B6eK/U0X4YIvUWKSVxw3QoVuwuVkIbfdR+FblFtGo0GibS4yzqStqRyQQaLiDkY5Y6tp4GycDeZxgNdLGbA/GL3Mlz7TwZdanhYEnKIx6VhqCRBo1mCm+yyjoSMQz+U0FCBN+wSmpt1SWHhqTqYjNczZe7F+fLrned4ty1EdV8CoBzLZfs4q0DyyFegaEOVbgLLDl/IW3+uESuvcTg+IP4efN0BlV3qeaTKKFlvDcmnXM0wT43WHB2wxXvI7Kwb16jV6Law0KIT9HqrsA570BqSx4W11lZq8kRRaNg2K1bohWodlJNonmAFyEBS0fUrR6vTwpvfK/D1ZKPJV21uOsliMhTbWE9fG+1aeNdii1FNBtlOViFDbbl/EkCc8ltTSZaRZrG2JLmbrBeqPmlifiX1b6Zt95Q2yq1p6pGeVSRKXrMtSf5ygvJHU5LaIdJEYet9tmKS7zzCG08ynYAEett8x49UKVD9YpOmPvA4Zvu9R98UYroktnEge7nMetYeu6CGwCZ4hS5D4+yzH/taCbd79lTDwcrFCKTl22ln+HluF0J3qQEQN7qJc7+n3faoV3fmuqipt0I48ioFecuOu+WxdP/xq+31ZFb6TpQna0cS9jLdos7pJRci7+m4N5LzWbuSsHer6Ybj+9IZ/ktaGAXY/yzD9yLt69A5S5DiGLpT/oNDTlWi6dZauXiE8nxorRkYyzqEhH1+CR2hUO86dRF/vpDp5rCTJrcE2qc6WAB5qoTyPeLQMy9+HKqnUA7PLXQ7ves+B5++HaMjBHHnMcg78fR2hMHh54Bu/FJmJar5x9EgNu5tlhNJryy6pkodQaEmj2yms9HhQXXPlVR5bDORsPkKpcBRe9oep7SNlnVdTceXHdhmJWENmVys+Njp5LpJyd8fINGPvQVI2NKDy7zZW4LEJuIkcZI4Sf7vJP8JMAACJsuvsshp8wAAAABJRU5ErkJggg=="},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDggOCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgOCA4IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl8yIiBkaXNwbGF5PSJub25lIj4NCgk8ZyBpZD0icjZFdjkxLnRpZiIgZGlzcGxheT0iaW5saW5lIj4NCgkJDQoJCQk8aW1hZ2Ugb3ZlcmZsb3c9InZpc2libGUiIHdpZHRoPSI4MCIgaGVpZ2h0PSI3MyIgaWQ9IkxheWVyXzBfMV8iIHhsaW5rOmhyZWY9IkI2QTUwMTQzRjQ0QjY5NDkucG5nIiAgdHJhbnNmb3JtPSJtYXRyaXgoMy41MDMyIDAgMCAzLjUwMzIgLTQwLjU0NjYgLTEwMy41NjI3KSI+DQoJCTwvaW1hZ2U+DQoJPC9nPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzQiIGRpc3BsYXk9Im5vbmUiPg0KCTxnIGlkPSJoMnFEZU4udGlmIiBkaXNwbGF5PSJpbmxpbmUiPg0KCQkNCgkJCTxpbWFnZSBvdmVyZmxvdz0idmlzaWJsZSIgd2lkdGg9IjExOCIgaGVpZ2h0PSIxMzIiIGlkPSJMYXllcl8wXzNfIiB4bGluazpocmVmPSJCNkE1MDE0M0Y0NEI2OTRCLnBuZyIgIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgLTY0LjE4MjYgLTU4LjA5MTIpIj4NCgkJPC9pbWFnZT4NCgk8L2c+DQo8L2c+DQo8ZyBpZD0iTGF5ZXJfMyIgZGlzcGxheT0ibm9uZSI+DQoJPHBhdGggZGlzcGxheT0iaW5saW5lIiBmaWxsPSIjNDE0MjQyIiBkPSJNNTksMzQuNEgtNS44Yy01LDAtOS4xLTIuNy05LjEtNnYtMzkuOGMwLTMuMyw0LjEtNiw5LjEtNkg1OVYzNC40eiIvPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzEiPg0KCTxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik03LjcsMy44TDYuMiw1LjNMMi45LDJjMCwwLDAsMCwwLDBMMi43LDEuOGwxLjQtMS40QzQuMywwLjMsNC4xLDAsMy45LDBIMC4yQzAuMSwwLDAsMC4xLDAsMC4ydjQNCgkJYzAsMC4xLDAuMiwwLjIsMC4zLDAuMWwxLjUtMS41TDUsNmMwLDAsMCwwLDAsMGwwLjIsMC4yTDMuOSw3LjZDMy43LDcuOCwzLjgsOCw0LDhoMy44QzcuOSw4LDgsOCw4LDcuOXYtNEM4LDMuNyw3LjgsMy43LDcuNywzLjh6DQoJCSIvPg0KPC9nPg0KPC9zdmc+DQo="},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDcuOSA4LjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDcuOSA4LjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgaWQ9IkxheWVyXzIiIGRpc3BsYXk9Im5vbmUiPg0KCTxnIGlkPSJyNkV2OTEudGlmIiBkaXNwbGF5PSJpbmxpbmUiPg0KCQkNCgkJCTxpbWFnZSBvdmVyZmxvdz0idmlzaWJsZSIgd2lkdGg9IjgwIiBoZWlnaHQ9IjczIiBpZD0iTGF5ZXJfMF8xXyIgeGxpbms6aHJlZj0iQjZBRDZDNTBBRTU5QkQ5MC5wbmciICB0cmFuc2Zvcm09Im1hdHJpeCgzLjUwMzIgMCAwIDMuNTAzMiAtNDkuNTUwMiAtMTAzLjU2MjcpIj4NCgkJPC9pbWFnZT4NCgk8L2c+DQo8L2c+DQo8ZyBpZD0iTGF5ZXJfNCIgZGlzcGxheT0ibm9uZSI+DQoJPGcgaWQ9ImgycURlTi50aWYiIGRpc3BsYXk9ImlubGluZSI+DQoJCQ0KCQkJPGltYWdlIG92ZXJmbG93PSJ2aXNpYmxlIiB3aWR0aD0iMTE4IiBoZWlnaHQ9IjEzMiIgaWQ9IkxheWVyXzBfM18iIHhsaW5rOmhyZWY9IkI2QUQ2QzUwQUU1OUJEOTEucG5nIiAgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAtNzMuMTg2MiAtNTguMDkxMikiPg0KCQk8L2ltYWdlPg0KCTwvZz4NCjwvZz4NCjxnIGlkPSJMYXllcl8zIiBkaXNwbGF5PSJub25lIj4NCgk8cGF0aCBkaXNwbGF5PSJpbmxpbmUiIGZpbGw9IiM0MTQyNDIiIGQ9Ik01MCwzNC40aC02NC44Yy01LDAtOS4xLTIuNy05LjEtNnYtMzkuOGMwLTMuMyw0LjEtNiw5LjEtNkg1MFYzNC40eiIvPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzEiPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMS40LDIuNEwwLjMsMS4zYy0wLjMtMC4zLTAuMy0wLjcsMC0wLjlsMCwwYzAuMy0wLjMsMC43LTAuMywwLjksMGwxLjEsMS4xYzAuMywwLjMsMC4zLDAuNywwLDAuOWwwLDANCgkJCUMyLjEsMi43LDEuNywyLjcsMS40LDIuNHoiLz4NCgkJPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTQsMC4yVjRDNCw0LjEsNCw0LjIsMy45LDQuMkgwLjJDMCw0LjItMC4xLDMuOSwwLjEsMy44TDMuOCwwQzMuOS0wLjEsNCwwLDQsMC4yeiIvPg0KCTwvZz4NCgk8Zz4NCgkJPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTYuNCw1LjZsMS4xLDEuMWMwLjMsMC4zLDAuMywwLjcsMCwwLjlsMCwwYy0wLjMsMC4zLTAuNywwLjMtMC45LDBMNS41LDYuNWMtMC4zLTAuMy0wLjMtMC43LDAtMC45bDAsMA0KCQkJQzUuOCw1LjMsNi4yLDUuMyw2LjQsNS42eiIvPg0KCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMy44LDcuOVY0YzAtMC4xLDAuMS0wLjIsMC4yLTAuMmgzLjdjMC4yLDAsMC4zLDAuMywwLjIsMC40TDQuMSw4QzQsOC4xLDMuOCw4LDMuOCw3Ljl6Ii8+DQoJPC9nPg0KPC9nPg0KPC9zdmc+DQo="},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDE2LjUgMTYuMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYuNSAxNi4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCjwvZz4NCjxnIGlkPSJMYXllcl8zIiBkaXNwbGF5PSJub25lIj4NCjwvZz4NCjxnIGlkPSJMYXllcl8xIj4NCgk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzI4QkRERCIgZD0iTTguMywwQzMuNywwLDAsMy43LDAsOC4zYzAsMy42LDIuNCw2LjcsNS42LDcuOA0KCQljMC40LDAuMSwwLjYtMC4yLDAuNi0wLjRjMC0wLjIsMC0wLjcsMC0xLjRjLTIuMywwLjUtMi44LTEuMS0yLjgtMS4xQzMsMTIuMiwyLjUsMTIsMi41LDEyYy0wLjctMC41LDAuMS0wLjUsMC4xLTAuNQ0KCQljMC44LDAuMSwxLjMsMC45LDEuMywwLjljMC43LDEuMywxLjksMC45LDIuNCwwLjdjMC4xLTAuNSwwLjMtMC45LDAuNS0xLjFDNC45LDExLjcsMywxMSwzLDcuOGMwLTAuOSwwLjMtMS42LDAuOC0yLjINCgkJYy0wLjEtMC4yLTAuNC0xLDAuMS0yLjJjMCwwLDAuNy0wLjIsMi4zLDAuOEM2LjgsNC4xLDcuNiw0LDguMyw0QzksNCw5LjcsNC4xLDEwLjMsNC4zYzEuNi0xLjEsMi4zLTAuOCwyLjMtMC44DQoJCWMwLjUsMS4xLDAuMiwyLDAuMSwyLjJjMC41LDAuNiwwLjgsMS4zLDAuOCwyLjJjMCwzLjItMS45LDMuOS0zLjgsNC4xYzAuMywwLjMsMC42LDAuOCwwLjYsMS41YzAsMS4xLDAsMiwwLDIuMw0KCQljMCwwLjIsMC4xLDAuNSwwLjYsMC40YzMuMy0xLjEsNS42LTQuMiw1LjYtNy44QzE2LjUsMy43LDEyLjgsMCw4LjMsMHoiLz4NCjwvZz4NCjwvc3ZnPg0K"},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDE1LjggMTUuOCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTUuOCAxNS44IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCjwvZz4NCjxnIGlkPSJMYXllcl8zIiBkaXNwbGF5PSJub25lIj4NCjwvZz4NCjxnIGlkPSJMYXllcl8xIj4NCgk8Y2lyY2xlIGZpbGw9IiNGRkZGRkYiIGN4PSI3LjkiIGN5PSI3LjkiIHI9IjcuOSIvPg0KCTxyZWN0IHg9IjQuOSIgeT0iNi4zIiBmaWxsPSIjNTVCRjlCIiB3aWR0aD0iNiIgaGVpZ2h0PSIzLjEiLz4NCjwvZz4NCjwvc3ZnPg0K"},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDEyLjkgMTMiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDEyLjkgMTMiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGcgaWQ9IkxheWVyXzQiPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzMiIGRpc3BsYXk9Im5vbmUiPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzEiPg0KCTxnPg0KCQk8cGF0aCBmaWxsPSIjRkZGRkZGIiBkPSJNMTEuOCwwSDEuMUgwdjEuMVYxMnYwLjlWMTNoMTIuOXYtMC4yVjEyVjEuMVYwSDExLjh6IE0xMS44LDEySDEuMVYxLjFoMTAuOFYxMnoiLz4NCgkJPHBhdGggZmlsbD0iI0ZGRkZGRiIgZD0iTTMuOSw5LjJjMC4zLDAuMywwLjcsMC4zLDAuOSwwbDMuMS0zLjFsMS40LDEuNGMwLjEsMC4xLDAuNCwwLDAuNC0wLjJWMy42YzAtMC4xLTAuMS0wLjItMC4yLTAuMkg1LjYNCgkJCWMtMC4xLDAtMC4yLDAuMi0wLjEsMC4zTDcsNS4yTDMuOSw4LjNDMy42LDguNSwzLjYsOSwzLjksOS4yeiIvPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIxLjEgMjIuMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjEuMSAyMi4xIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCgk8Zz4NCgkJPHBvbHlnb24gZmlsbD0iI0EwOUY5RiIgcG9pbnRzPSI0LjEsMCA0LjEsNC4xIDUuMSw0LjEgNS4xLDEgMjAuMSwxIDIwLjEsMTUuMyAxNC45LDE1LjMgMTQuOSwyMS4xIDUuMSwyMS4xIDUuMSwxOC40IDQuMSwxOC40IA0KCQkJNC4xLDIyLjEgMTUuMywyMi4xIDIxLjEsMTUuNiAyMS4xLDAgCQkiLz4NCgk8L2c+DQoJPHBvbHlnb24gZmlsbD0iI0EwOUY5RiIgcG9pbnRzPSIxMy41LDExIDYuOCw0LjMgMCwxMSA0LjEsMTEgNC4xLDE3IDkuMiwxNyA5LjIsMTEgCSIvPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzMiIGRpc3BsYXk9Im5vbmUiPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzEiPg0KPC9nPg0KPC9zdmc+DQo="},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwIDEyIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMCAxMiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8ZyBpZD0iTGF5ZXJfNCI+DQoJPHBhdGggZmlsbD0iIzQ1NDU0NSIgZD0iTTE4LDBIMkMwLjksMCwwLDAuOSwwLDJ2OGMwLDEuMSwwLjksMiwyLDJoMTZjMS4xLDAsMi0wLjksMi0yVjJDMjAsMC45LDE5LjEsMCwxOCwweiBNMTQsMmg0djJoLTRWMnoNCgkJIE0xMSwyaDJ2MmgtMlYyeiBNMTQsNXYyaC0yVjVIMTR6IE04LDJoMnYySDhWMnogTTExLDV2Mkg5VjVIMTF6IE01LDJoMnYySDVWMnogTTgsNXYySDZWNUg4eiBNNSw1djJIM1Y1SDV6IE0yLDJoMnYySDJWMnogTTQsMTANCgkJSDJWOGgyVjEweiBNMTUsMTBINVY4aDEwVjEweiBNMTUsNWgydjJoLTJWNXogTTE4LDEwaC0yVjhoMlYxMHoiLz4NCjwvZz4NCjxnIGlkPSJMYXllcl8zIiBkaXNwbGF5PSJub25lIj4NCjwvZz4NCjxnIGlkPSJMYXllcl8xIj4NCjwvZz4NCjwvc3ZnPg0K"},function(e){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOC4xLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDEzLjkgMTcuNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTMuOSAxNy43IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJMYXllcl80Ij4NCgk8Zz4NCgkJPHBhdGggZmlsbD0iIzQ1NDU0NSIgZD0iTTEyLjgsMEgxLjFDMC41LDAsMCwwLjUsMCwxLjF2MTUuNWMwLDAuNiwwLjUsMS4xLDEuMSwxLjFoMTEuNmMwLjYsMCwxLjEtMC41LDEuMS0xLjFWMS4xDQoJCQlDMTMuOSwwLjUsMTMuNCwwLDEyLjgsMHogTTExLjUsMTYuMkgyLjRjLTAuOSwwLTAuOC0wLjUtMC44LTEuMVYyLjRjMC0wLjYsMC4yLTAuOCwxLjEtMC44aDguNmMwLjksMCwxLjEsMC4yLDEuMSwwLjh2MTIuNw0KCQkJQzEyLjMsMTUuNywxMi40LDE2LjIsMTEuNSwxNi4yeiIvPg0KCQk8cmVjdCB4PSIzLjMiIHk9IjQiIGZpbGw9IiM0NTQ1NDUiIHdpZHRoPSI3IiBoZWlnaHQ9IjIiLz4NCgkJPHJlY3QgeD0iMy4zIiB5PSI3LjkiIGZpbGw9IiM0NTQ1NDUiIHdpZHRoPSI3IiBoZWlnaHQ9IjIiLz4NCgkJPHJlY3QgeD0iMy4zIiB5PSIxMS43IiBmaWxsPSIjNDU0NTQ1IiB3aWR0aD0iNyIgaGVpZ2h0PSIyIi8+DQoJPC9nPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzMiIGRpc3BsYXk9Im5vbmUiPg0KPC9nPg0KPGcgaWQ9IkxheWVyXzEiPg0KPC9nPg0KPC9zdmc+DQo="},function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXwAAAEpCAIAAAAfxg7ZAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAA6ppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNS0wNC0wM1QxNDowNDo5NDwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxtYXRvciAzLjMuMTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpDb21wcmVzc2lvbj41PC90aWZmOkNvbXByZXNzaW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzI8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj4zODA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjI5NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgr6U3RAAAAbM0lEQVR4Ae2deZAc1X3H59z7XnZ1gY7VLcAiQkbckiIB/3BUqGAwNgZCQspVKccuyhADAYriKEEBKiuVUrCNMULlGAh/gFLhFkQc4pBJRASrW6BzJa1Wq13trnZ3ZvKbFRqt2J7p7ul+b7qnP1MqGL3+vd/v9z6/nq9eX6/DixcvDvGBAAQgoItARFcg4kAAAhBIE0B02A8gAAGtBBAdrbgJBgEIIDrsAxCAgFYCiI5W3ASDAAQQHfYBCEBAKwFERytugkEAAogO+wAEIKCVAKKjFTfBIAABRId9AAIQ0EoA0dGKm2AQgACiwz4AAQhoJYDoaMVNMAhAANFhH4AABLQSQHS04iYYBCCA6LAPQAACWgkgOlpxEwwCEEB02AcgAAGtBBAdrbgJBgEIIDrsAxCAgFYCiI5W3ASDAAQQHfYBCEBAKwFERytugkEAAjH9CGbMmHHBBRfIf0ePHl1WVtbf379///4tW7Z8NvRJpVIOUwqHw2efffb5558/derU5uZmCdHX19fW1rZx48ZPPvnkiy++cOhfukej0Tlz5sydO1dCNDU1xeNxCbF3796vvvpq7dq1mzZtch4CDxAoVgJhnS/bu/jii2+66aaWlpZsNA8cOPDCCy+88soryWQym02OdpGbyy+//MYbbxw7dmw2s927dz///PNvvfVWNoPc7SI3V1999fXXX9/Y2JjNcvPmzStWrPjoo4+yGdAOgSAT0CQ61dXVd91117x586yw3rZt20MPPbRz504rxhkbmXHce++9s2bNyrTk+LJ+/fpHH3304MGDOWxGbpowYcI999wzadKkkZtGtqxZs+app57q6uoauYkWCASZQDTHvMMtLjLvePLJJ2fOnGnRYX19vcy/NmzYIIddFrtMnDhx6dKl48ePt2g/atSoBQsWrFu37vDhwxa7nHPOOY899pgcr1m0F4W68MILP/jgg56eHotdMINAEAgoF53a2tonnngix/GOIeWSkpJLLrnk008/7ejoMDQY3ijOZU5RV1c3vNH0e0VFhRzuyXzk6NGjpsbTpk1bsmRJeXm5qeVwAxm7nFp655135LzV8Ha+QyDIBJSLzgMPPDB9+vQ8EMvZWTlZ+/rrrw8ODuboLidZZAIyZsyYHDbZNomIyOGYhMh99lrkSXRTFCSbnxztNTU1MuVZvXp1Dhs2QSBQBNReMl+4cKFc4skbqExh5MRz7u7XXnvt5MmTc9vk2CoX0a655pocBrLplltusX5UNdKVTHZkSjWynRYIBJOAQtGRa0k333yzQ6xyqSjHcVNpaalcSHIY4oYbbpBZVTYnDQ0NV111VbatFttFtixaYgaBoiegUHRmz549btw4hwRFVi677LJsTi666KL8jnqGOxRZkfuGhrcM/37FFVfEYk7vZpIjrDPPPHO4W75DILAEFIpOjl+yLdw5/MiRiy1X2YzlMlO2TTmiZ+ti2O6WH0PnNELARwQUio6cLnEFhJyHliM1Q1duTR+ypRqJROSeY8PQdhut3zFg1zP2EPAXAYWiY/cyeTZwcvnc8PZfUQS5ITBbL1vt8kCGob34d35sddxzftfXDLOiEQK+JqBQdEQs3EJjeIOMNGabAdmNK9fdDUNUVlbadZXN3tB/NmPaIVDEBBSKTiKRcAvcsWPHRrpy94673t7ekSHkMc6Rjfm1uJttfjnQCwJeIKBQdKw/xJAbhIiX4X3JAwMD1h9iyB1CHjQ1NGhvb89936BhL8NGt2gYOqcRAj4ioFB05GFrV0Ds2LFD9MXQlVshtm7dauhfZljffPON4Sa7jbJ2h90u2EOgKAkoFB15csoVZLLMTjY/boWQdXYKGCJbaNohUJQEFIqOLCjT2dnpkJoc3cizUdmcuPIspUxn3n333WwhTJ/MytZxePuhQ4dySOdwS75DoOgJKBQdOSZ68cUXHRJ8//33cyysI6L22muvOQzx6quv5lj1Rg7uPvzwQ4chXnrppWxHiA490x0CviOgUHSExcsvv5xDMkxhyUo0y5cvz2327LPPyjwit02OrXKqWFb5y2Egm55++mnDa1u5e2W2bt++XThk/soXCAScgFrRkX/eZQ3A/H6xcmAlC0qYXvSRSYqsAZh7+YtsNZZeDz/8sOkiW3v27JH1evK7jCWL9UgIF+8eyDYW2iHgFwLK19ORq92yXPn8+fNt3dorv/Bly5a9+eabVjju27dPdEEebpJ7lK3YH7c5rjgWT7XIQZbIhyzTYet2RJGz++67j3XarRcFyyAQUC46AlFEQX7b5557blVVlRWm8vN+5JFHbK2dLqIgy5ued9558u4HKyHkiOz++++3dfFLpHPXrl0yihzrYAwPLTp49913t7a2Dm/kOwQgoEN0hLKcOpHLQDLZmTJlSo4pj0xw5EKSLDaYx29VpO2NN96QlfpkveQcUx6Z4KxaterBBx/M4wYckTa5XiZLYUiIHFMeOZyUkzhyVJXtnkN2OwgEmYCmt0FkEMvyN4sWLZIlKeTZcVkG9Hi7nPqR2/Nk3iGzG5kgZIzz+yJPacq67jLrkQfEZTme407kurgc5nz88cdyyObkxPNxb/Isq6yzI7MeWbQwo6FyMCVaKe+9klHkuByW36DoBYGiIaBbdIaDkyUBRRREceS8T36naYd7G/ldJiPyYgk5GpIQzoVmpH9pyYSQp7Sc35RkGIJGCBQZAadr4jnB4daTU9lyECFTpDWZiBpCZGLxBQLFQcDG5Z7iGDCjgAAECksA0Sksf6JDIHAEEJ3AlZwBQ6CwBBCdwvInOgQCRwDRCVzJGTAECksA0Sksf6JDIHAEEJ3AlZwBQ6CwBBCdwvInOgQCRwDRCVzJGTAECksA0Sksf6JDIHAEEJ3AlZwBQ6CwBBCdwvInOgQCRwDRCVzJGTAECksA0Sksf6JDIHAEEJ3AlZwBQ6CwBBCdwvInOgQCRwDRCVzJGTAECkvA9sqBsrBxjjXJCzsYokMAAjoJyDsIksmk3Yi2RWflypUW3yRjNxXsIQABfxG444471q9fbzdnDq/sEsMeAhBwRADRcYSPzhCAgF0CiI5dYthDAAKOCCA6jvDRGQIQsEsA0bFLDHsIQMARAUTHET46QwACdgkgOnaJYQ8BCDgigOg4wkdnCEDALgFExy4x7CEAAUcEEB1H+OgMAQjYJYDo2CWGPQQg4IgAouMIH50hAAG7BBAdu8SwhwAEHBFAdBzhozMEIGCXAKJjlxj2EICAIwKIjiN8dIYABOwSQHTsEsMeAhBwRADRcYSPzhCAgF0CiI5dYthDAAKOCCA6jvDRGQIQsEsA0bFLDHsIQMARAUTHET46QwACdgkgOnaJYQ8BCDgigOg4wkdnCEDALgFExy4x7CEAAUcEEB1H+OgMAQjYJYDo2CWGPQQg4IgAouMIH50hAAG7BBAdu8SwhwAEHBFAdBzhozMEIGCXAKJjlxj2EICAIwKIjiN8dIYABOwSQHTsEsMeAhBwRADRcYSPzhCAgF0CiI5dYthDAAKOCCA6jvDRGQIQsEsA0bFLDHsIQMARAUTHET46QwACdgkgOnaJYQ8BCDgiEHPUm85FSiCZCm3pG/yie3B73+C2vuS2vsG2geTOgWT7YDIk21KpUCIVioZD4XAoEm6MRc6IR0bFIy1lsZayyKSy2NlVsSllsUi4SOkwLGcEEB1n/Iqo9+5jiTWd/e919r97pL/16EBaVnJ/0gZpm/b+RPtIy2h4RmV8QU3J/NqSS2pLxpVGR5rQEkwCiE4w6/7tqEU33j3cv+pQ3wvtfXtEaFz8JFKtIl5H+pfvSjsdWxn/QWPZlQ1lC+pKZIbEJ8gEEJ2AVv/9zv7n2np/c6A31J/QgEAUban8+aYrVBL9u6byHzeXX1pXoiEuITxIANHxYFEUpnRoIPnMvp5H9vR09Lg6r7Gecn/iN7u75U99RfxXYytuG13REOdqhnV8xWBJvYuhilbGsLV38KebOxs/2vfLLZ0FU5xhiUoOd25J5yNZSW7DtvC1yAkgOkVeYBmeXHu68avDUz5uW76r2/z0sGYeiZRkJblJhpKn5uCEKwgBRKcg2DUFPTiQvH1T5+S1+/+47+jQhSZNcW2HSYUkQ8lTspWcbXeng68IIDq+KpflZAdTocd3djetbZOzJ+nbanzxSaUkW8lZMpf8+RQrAUSnCCu7rmtg2mcH5IxJSO7l891nMCmZS/6fdRXoVLfviPktYUTHbxXLme9AKnXntq656/Zv7+7Paej1jZL/99ftl7HIiLyeK/nZJIDo2ATmYfONPYlZ6w4+/vURT5++sQ5QjhC/PiIjau3RcSeR9bywdEgA0XEI0Cvd/31/74zP2rZ0+XuCM5KmjGjmZ20yupGbaPEpAUTHp4U7mbY8yvCPW478cMMhz10OP5mjs2+JlIzuZ1uOmD4N5iwMvTURQHQ0gVYUpjuRuuyL9l/v7FLk3ztul+3skpHKeL2TEpnkRwDRyY+bJ3rt6U98788HV7f3eSIb9UnISGW8Mmr1oYigkACioxCuUtc7+gZb/nzQ71ep7CKS8cqoZex2O2LvHQKIjndqYSOTzb2Dkz4/eCyQjyzJqGXsmwI5dhu7iIdNER0PFydLavLv/LTPD4b6AnyU0ZeY/jnznSz7h+ebER3Pl+jUBGV9vxn/0x46FmDFOQ5kiMMuOJy6e/jib4iOL8r0bZI9idT569uDeVQ1sk7CYd7/tguTkZto8TIBRMfL1TklN/lx/dWXHbu6eSLpJBZZkFCYIDsnifjhG6LjhyoN5fiLrUfeOMiNud+tlzARMt9t5e8eJsBypR4uzrDU/rS/V+6OG9bg9Gtq4TjrLsKrd1s31m8pZC6sid/QXK4/NBHzIMBMJw9ourvIk5w3tHbojuqreD9s7eC5UL9UDNHxeqX6k6mrvize56rcwp9IUxJWbvnDjzoCiI46tu54vndH9+aie3bcHTSnepHn0YXVqW38zYsEEB0vViWTk6wB+Pg3nCXN8DD5IqxYb9CEkQc2IzoeKEKWFGSd4OtaDxfJilxZxuhycyr0160drK/sMlW33SE6bhN1z9/SXd1Be57TObyvuweEm3M/eFBHANFRx9aR5wMDyV/ucPMauaNsfNVZuAk9X6UcrGQRHY/W+5+2d/nyXQ5ewDmYTNPj41UCiI4XKyOv2X1mD8cI+ZdG6G1h7Yv8+antieio5Zuf93+WS7/ccZIfu+O9UqH7uHzuBKDKvoiOSrp5+ZYFuv7YdjSvrnQ6SUAYCsmTf+ebZwggOp4pxYlEntzl7feOn8jT6/9PhdIk+XiPAKLjrZocHEgu38tPxZ2iCEnh6Y4vvLhHANFxj6Ubnp7Z11O0r69yg489H4lUmicfjxFAdDxUEDl3/MgepjluVkR4ckbeTaBu+EJ03KDoko81h/s7ezj36RLNITfCU6i66RFfjgkgOo4RuufgOd7Y7R7MjKc/QDXDwhtfEB1v1CGUPpPzuwOsRup+OZ7Z38MjoO5jdeAR0XEAz9Wubx8+FuKFua4i/dbZQPIdYcvHMwQQHa+U4j/b+WGoqgVsVZHNyy+ikxc2BZ1WtPcp8IrLNIGVsPXSjoDoeKIaO48lOnp4oZWqWrT3DAhhVd7xa5MAomMTmBrzNZ1c1lVD9oRXCJ8gUfj/IzqFr4FkwE9CdRne424d1Ygt+0d0LKNSafg2Mx2VeMX36iPMJRUjtuwe0bGMSpmh3KGz+SgndJTxHXIshHnluVrElr0jOpZRKTPc3JsI8ZY4ZXi/dZxMpTnz8QABRKfwRfiS61ZairCB6aQWzqZBEB1TRMoNNvOQp3LG6QCsmqwFs3kQRMeckWqLbX1M+1UzTvuHsw7KFmIgOhYgKTb5mvvWFBM+7h7OWjCbB0F0zBmpttg9wExHNeO0/z0sXaoDs3kMRMeckWqLnfwYVCMe8r8dcdfC2TQIomOKSLlBJ6KjnHE6QDectXA2DYLomCJSb8AqvuoZpyPAWQ9nsyiIjhkhDdu5M1ADZAkBZz2czaIgOmaENGznx6ABsoSAsx7OZlEQHTNCGrZHwhqCECIEZ2/sBIiOB+rAj0FPEeCsh7NZFETHjJCG7Ux0NECWEHDWw9ksCqJjRkj99qo4VVBPORSCsw7KFmKwu1uApNhkIqKjmPBx93DWgtk8CKJjzki1xbh4VHUI/AsBOHtkN0B0Cl+ICaWIjo4qwFkHZQsxEB0LkBSbtJQhOooRD7mHsw7KFmIgOhYgKTZpKY8pjoD7NAE4e2Q/QHQKX4izKpnp6KjCrArEXQdn0xiIjiki5QbTyuPcLKucciQ8A9FRTtlSAETHEialRtFwaGplXGkInE+pjAtnPl4ggOh4oQqhhTUlnsijeJP4Swh7priIjidKcWktoqO2EBBWy9eOd0THDi1lthfVcnilDO6QYwir5WvHO+fz7dBSZjuxLFZfEe/w6lv33vmLJmVDTzve3Dv4960d6kIIWyGszj+ebRGgErZwKTT+UWPZv3hVdBbWqT36q4+pnXELW4WVw7VNAmqLbTOZQJtf2VAa6PGrHDxsVdK17RvRsY1MUYdF9aUhHjdXATceSbPl4xkCiI5XShELh25tqvBKNkWUh1AVtny8QwDR8U4tQjeNKvdQNsWSClS9VklEx0MVWVBXUsWt+q4WRHgKVVdd4swpAUTHKUEX+8tBwK/GVLroEFf3jKnk0MpruwGi462K3D6mgoc/XStJJPy3wpOPxwggOt4qyGnxyG1MdlyqiZAUni45w41rBCiJayjdcnTXGZW8LMUFmOFQmiQf7xFAdDxXk6nlseuaOShwWhdhKCSdeqG/AgKIjgKojl0+PKmayY4jiuFQmiEfTxLgnwIvlkX+ib51TNXv93SrSy68erc65wX3fPOYSqY5Ba9CtgSY6WQjU+D2JS3VIcWPQRZ4hOrCxyKPMc1Rh9exZ0THMUI1DprikSUTOUDIB65way5hrft80Onpg+jo4ZxPlF+cXnl6FYt72UMnxISbvT5Y6yWA6OjlbSdaPBx+eUY9Z5RtMAuH/mN6vXCz0QVT7QQQHe3I7QT8fnX852dwkGUV2c9Orz6vhrmhVVyFskN0CkXeatwlk6pbqnlk0RzX2Mr4Y3L2nY/nCSA6Xi9RSSS8alZdiJc25S5UNPzmWQ2lEQ6scmPyxFZExxNlyJ3EzIr4Sjm5wyc7gRXT63lrcHY83tqC6HirHtmyubG5/B84uZOFzk9Pr/4x659lgePBZkTHg0UxTmnp5JqLG3irwXfhXFBftmxKzXdb+buHCSA6Hi7OqanJWZ1VZ9bL6dJTmwP9N6HxX2fVc77LXzsBouOnetXGImtnN5by8PRQ0SLlMaEhTPxUQnINhSiYz/aCM0qjG2Y3hkoDf5t/aXTT7Eah4bP6kS6i48d9YHJ57KtzmgKtO6VRISAc/Fg+cmam48t9YEZFdOuc00LBfD93WUzGLgR8WTmSZqbj332gpSy2a85pQXsiVM4cy6hl7P4tHJkz0/HxPjCuNPrlnKbgXEeXkbae2ySj9nHNSJ2Zjt/3gepoePX3GuXuOL8PxDT/28dVyUhlvKaWGHicADMdjxfIPD15Ufe/Tq1ZMauhaJ/PioZ/N7P+36bV8kpy873BDxaIjh+qZCFHeQ5gw9zm4nsefUJVXMb1N6N5PYaFncAnJoiOTwplIU154vHLOaf9fHyxvEkiHJKxbDy3iSc5LRTfTyaIjp+qZZqrrO3w1OSaj+c0+/2qluQvo5CxsFqFadF9Z4Do+K5k5gnL6nnb5jYtmVLry/dJxCKSueTPGoDmlfanBaLjz7qZZS3rBN95RlXbvOab5M3ofrngEw5JtpKzZM46x2YV9vF2RMfHxTNNXd7E8tyMuo3zRv1gtLelJxy6blSF5CnZ8vYY07L63QDR8XsFzfOfVh7708y6TfNG3TauynOX1aNhyUpye2FWveRpPhgs/E8A0fF/Da2NQF6z+9tptQcuGP2QnJ31wM9bcpBMJB/JilcAW6thkVjxb0uRFNLiME6LR+4ZX333+Or/Ptz/+7aePxzoDQ0kLfZ1xyweubmp/NZRFZfWlfjlXJM7A8fLCQKIzgkSQfq//Nrn15XIn99Oq3u749iqQ8dWtvd19AyoY1BfEf9RY9mVDaWL6ku5sVgdZ194RnR8USZVScrv/4qGUvkjywx/3Zd4r7P//c7+t4/0bzs6EEqmHEWNhFsq44tqSi6uLZlfWzKhjKc0HeEsps6ITjFV09FYRBd+Ulb+k6HXKgymQht7Bv/v6MD2vsS2oT9tg4kdA8luORYTLUoM/VfmS9GIXI+vikcmxiOjYtGWsvSfSWXRsyrj0ytizGgc1aN4OyM6xVtbByMTvTizMiZ/HPigKwSMCXD1ypgLrRCAgCICiI4isLiFAASMCSA6xlxohQAEFBFAdBSBxS0EIGBMANEx5kIrBCCgiACiowgsbiEAAWMCiI4xF1ohAAFFBBAdRWBxCwEIGBNAdIy50AoBCCgigOgoAotbCEDAmACiY8yFVghAQBEBREcRWNxCAALGBBAdYy60QgACigggOorA4hYCEDAmgOgYc6EVAhBQRADRUQQWtxCAgDEBRMeYC60QgIAiAoiOIrC4hQAEjAkgOsZcaIUABBQRQHQUgcUtBCBgTADRMeZCKwQgoIgAoqMILG4hAAFjAoiOMRdaIQABRQQQHUVgcQsBCBgTQHSMudAKAQgoIoDoKAKLWwhAwJgAomPMhVYIQEARAURHEVjcQgACxgQQHWMutEIAAooIIDqKwOIWAhAwJoDoGHOhFQIQUEQA0VEEFrcQgIAxAUTHmAutEICAIgKIjiKwuIUABIwJIDrGXGiFAAQUEUB0FIHFLQQgYEwA0THmQisEIKCIAKKjCCxuIQABYwKIjjEXWiEAAUUEEB1FYHELAQgYE0B0jLnQCgEIKCKA6CgCi1sIQMCYAKJjzIVWCEBAEQFERxFY3EIAAsYEEB1jLrRCAAKKCCA6isDiFgIQMCYQXrx4sfGWLK0TJ06MRJCqLHRohkCQCOzdu7e3t9fuiGN2O+zYscNuF+whAAEIZAgwZ8mg4AsEIKCDAKKjgzIxIACBDAFEJ4OCLxCAgA4CiI4OysSAAAQyBBCdDAq+QAACOgggOjooEwMCEMgQQHQyKPgCAQjoIIDo6KBMDAhAIEMA0cmg4AsEIKCDAKKjgzIxIACBDAFEJ4OCLxCAgA4CiI4OysSAAAQyBBCdDAq+QAACOgggOjooEwMCEMgQQHQyKPgCAQjoIIDo6KBMDAhAIEMA0cmg4AsEIKCDAKKjgzIxIACBDIH/B117EbwL8hpcAAAAAElFTkSuQmCC";

},,function(e){function t(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=Math.pow(2,53)-1;e.exports=t},function(e,t,n){function i(e){for(var t=c(e),n=t.length,i=n&&e.length,l=i&&a(i)&&(o(e)||u.nonEnumArgs&&r(e)),f=-1,d=[];++f<n;){var p=t[f];(l&&s(p,i)||h.call(e,p))&&d.push(p)}return d}var r=n(321),o=n(152),s=n(185),a=n(182),c=n(322),u=n(323),l=Object.prototype,h=l.hasOwnProperty;e.exports=i},function(e){function t(e){return e}e.exports=t},function(e){function t(e,t){return e=+e,t=null==t?n:t,e>-1&&e%1==0&&t>e}var n=Math.pow(2,53)-1;e.exports=t},function(e,t){var n,i;(function(){function r(e){function t(t,n,i,r,o,s){for(;o>=0&&s>o;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}return function(n,i,r,o){i=_(i,o,4);var s=!j(n)&&x.keys(n),a=(s||n).length,c=e>0?0:a-1;return arguments.length<3&&(r=n[s?s[c]:c],c+=e),t(n,i,r,s,c,a)}}function o(e){return function(t,n,i){n=k(n,i);for(var r=null!=t&&t.length,o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function s(e,t){var n=M.length,i=e.constructor,r=x.isFunction(i)&&i.prototype||l,o="constructor";for(x.has(e,o)&&!x.contains(t,o)&&t.push(o);n--;)o=M[n],o in e&&e[o]!==r[o]&&!x.contains(t,o)&&t.push(o)}var a=this,c=a._,u=Array.prototype,l=Object.prototype,h=Function.prototype,f=u.push,d=u.slice,p=l.toString,m=l.hasOwnProperty,g=Array.isArray,v=Object.keys,b=h.bind,y=Object.create,w=function(){},x=function(e){return e instanceof x?e:this instanceof x?void(this._wrapped=e):new x(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=x),t._=x,x.VERSION="1.8.2";var _=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?x.identity:x.isFunction(e)?_(e,t,n):x.isObject(e)?x.matcher(e):x.property(e)};x.iteratee=function(e,t){return k(e,t,1/0)};var S=function(e,t){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=e(o),a=s.length,c=0;a>c;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=o[u])}return n}},A=function(e){if(!x.isObject(e))return{};if(y)return y(e);w.prototype=e;var t=new w;return w.prototype=null,t},C=Math.pow(2,53)-1,j=function(e){var t=e&&e.length;return"number"==typeof t&&t>=0&&C>=t};x.each=x.forEach=function(e,t,n){t=_(t,n);var i,r;if(j(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=x.keys(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e},x.map=x.collect=function(e,t,n){t=k(t,n);for(var i=!j(e)&&x.keys(e),r=(i||e).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o},x.reduce=x.foldl=x.inject=r(1),x.reduceRight=x.foldr=r(-1),x.find=x.detect=function(e,t,n){var i;return i=j(e)?x.findIndex(e,t,n):x.findKey(e,t,n),void 0!==i&&-1!==i?e[i]:void 0},x.filter=x.select=function(e,t,n){var i=[];return t=k(t,n),x.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},x.reject=function(e,t,n){return x.filter(e,x.negate(k(t)),n)},x.every=x.all=function(e,t,n){t=k(t,n);for(var i=!j(e)&&x.keys(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},x.some=x.any=function(e,t,n){t=k(t,n);for(var i=!j(e)&&x.keys(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},x.contains=x.includes=x.include=function(e,t,n){return j(e)||(e=x.values(e)),x.indexOf(e,t,"number"==typeof n&&n)>=0},x.invoke=function(e,t){var n=d.call(arguments,2),i=x.isFunction(t);return x.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matcher(t))},x.findWhere=function(e,t){return x.find(e,x.matcher(t))},x.max=function(e,t,n){var i,r,o=-(1/0),s=-(1/0);if(null==t&&null!=e){e=j(e)?e:x.values(e);for(var a=0,c=e.length;c>a;a++)i=e[a],i>o&&(o=i)}else t=k(t,n),x.each(e,function(e,n,i){r=t(e,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=e,s=r)});return o},x.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t&&null!=e){e=j(e)?e:x.values(e);for(var a=0,c=e.length;c>a;a++)i=e[a],o>i&&(o=i)}else t=k(t,n),x.each(e,function(e,n,i){r=t(e,n,i),(s>r||r===1/0&&o===1/0)&&(o=e,s=r)});return o},x.shuffle=function(e){for(var t,n=j(e)?e:x.values(e),i=n.length,r=Array(i),o=0;i>o;o++)t=x.random(0,o),t!==o&&(r[o]=r[t]),r[t]=n[o];return r},x.sample=function(e,t,n){return null==t||n?(j(e)||(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))},x.sortBy=function(e,t,n){return t=k(t,n),x.pluck(x.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var r={};return n=k(n,i),x.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};x.groupBy=E(function(e,t,n){x.has(e,n)?e[n].push(t):e[n]=[t]}),x.indexBy=E(function(e,t,n){e[n]=t}),x.countBy=E(function(e,t,n){x.has(e,n)?e[n]++:e[n]=1}),x.toArray=function(e){return e?x.isArray(e)?d.call(e):j(e)?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return null==e?0:j(e)?e.length:x.keys(e).length},x.partition=function(e,t,n){t=k(t,n);var i=[],r=[];return x.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},x.first=x.head=x.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:x.initial(e,e.length-t)},x.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},x.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:x.rest(e,Math.max(0,e.length-t))},x.rest=x.tail=x.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var I=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=e&&e.length;a>s;s++){var c=e[s];if(j(c)&&(x.isArray(c)||x.isArguments(c))){t||(c=I(c,t,n));var u=0,l=c.length;for(r.length+=l;l>u;)r[o++]=c[u++]}else n||(r[o++]=c)}return r};x.flatten=function(e,t){return I(e,t,!1)},x.without=function(e){return x.difference(e,d.call(arguments,1))},x.uniq=x.unique=function(e,t,n,i){if(null==e)return[];x.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=k(n,i));for(var r=[],o=[],s=0,a=e.length;a>s;s++){var c=e[s],u=n?n(c,s,e):c;t?(s&&o===u||r.push(c),o=u):n?x.contains(o,u)||(o.push(u),r.push(c)):x.contains(r,c)||r.push(c)}return r},x.union=function(){return x.uniq(I(arguments,!0,!0))},x.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,i=0,r=e.length;r>i;i++){var o=e[i];if(!x.contains(t,o)){for(var s=1;n>s&&x.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},x.difference=function(e){var t=I(arguments,!0,!0,1);return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(e){for(var t=e&&x.max(e,"length").length||0,n=Array(t),i=0;t>i;i++)n[i]=x.pluck(e,i);return n},x.object=function(e,t){for(var n={},i=0,r=e&&e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},x.indexOf=function(e,t,n){var i=0,r=e&&e.length;if("number"==typeof n)i=0>n?Math.max(0,r+n):n;else if(n&&r)return i=x.sortedIndex(e,t),e[i]===t?i:-1;if(t!==t)return x.findIndex(d.call(e,i),x.isNaN);for(;r>i;i++)if(e[i]===t)return i;return-1},x.lastIndexOf=function(e,t,n){var i=e?e.length:0;if("number"==typeof n&&(i=0>n?i+n+1:Math.min(i,n+1)),t!==t)return x.findLastIndex(d.call(e,0,i),x.isNaN);for(;--i>=0;)if(e[i]===t)return i;return-1},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(e,t,n,i){n=k(n,i,1);for(var r=n(t),o=0,s=e.length;s>o;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r};var T=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=A(e.prototype),s=e.apply(o,r);return x.isObject(s)?s:o};x.bind=function(e,t){if(b&&e.bind===b)return b.apply(e,d.call(arguments,1));if(!x.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),i=function(){return T(e,i,t,this,n.concat(d.call(arguments)))};return i},x.partial=function(e){var t=d.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;r>s;s++)o[s]=t[s]===x?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return T(e,n,this,this,o)};return n},x.bindAll=function(e){var t,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(t=1;i>t;t++)n=arguments[t],e[n]=x.bind(e[n],e);return e},x.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return x.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},x.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:x.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var u=x.now();a||n.leading!==!1||(a=u);var l=t-(u-a);return i=this,r=arguments,0>=l||l>t?(s&&(clearTimeout(s),s=null),a=u,o=e.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(c,l)),o}},x.debounce=function(e,t,n){var i,r,o,s,a,c=function(){var u=x.now()-s;t>u&&u>=0?i=setTimeout(c,t-u):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=x.now();var u=n&&!i;return i||(i=setTimeout(c,t)),u&&(a=e.apply(o,r),o=r=null),a}},x.wrap=function(e,t){return x.partial(t,e)},x.negate=function(e){return function(){return!e.apply(this,arguments)}},x.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},x.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},x.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},x.once=x.partial(x.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(e){if(!x.isObject(e))return[];if(v)return v(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return L&&s(e,t),t},x.allKeys=function(e){if(!x.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&s(e,t),t},x.values=function(e){for(var t=x.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},x.mapObject=function(e,t,n){t=k(t,n);for(var i,r=x.keys(e),o=r.length,s={},a=0;o>a;a++)i=r[a],s[i]=t(e[i],i,e);return s},x.pairs=function(e){for(var t=x.keys(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},x.invert=function(e){for(var t={},n=x.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=S(x.allKeys),x.extendOwn=x.assign=S(x.keys),x.findKey=function(e,t,n){t=k(t,n);for(var i,r=x.keys(e),o=0,s=r.length;s>o;o++)if(i=r[o],t(e[i],i,e))return i},x.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;x.isFunction(t)?(r=x.allKeys(s),i=_(t,n)):(r=I(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s));for(var a=0,c=r.length;c>a;a++){var u=r[a],l=s[u];i(l,u,s)&&(o[u]=l)}return o},x.omit=function(e,t,n){if(x.isFunction(t))t=x.negate(t);else{var i=x.map(I(arguments,!1,!1,1),String);t=function(e,t){return!x.contains(i,t)}}return x.pick(e,t,n)},x.defaults=S(x.allKeys,!0),x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e},x.isMatch=function(e,t){var n=x.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var D=function(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var r=p.call(e);if(r!==p.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(x.isFunction(s)&&s instanceof s&&x.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),o){if(c=e.length,c!==t.length)return!1;for(;c--;)if(!D(e[c],t[c],n,i))return!1}else{var u,l=x.keys(e);if(c=l.length,x.keys(t).length!==c)return!1;for(;c--;)if(u=l[c],!x.has(t,u)||!D(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0};x.isEqual=function(e,t){return D(e,t)},x.isEmpty=function(e){return null==e?!0:j(e)&&(x.isArray(e)||x.isString(e)||x.isArguments(e))?0===e.length:0===x.keys(e).length},x.isElement=function(e){return!(!e||1!==e.nodeType)},x.isArray=g||function(e){return"[object Array]"===p.call(e)},x.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){x["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return x.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(e){return"function"==typeof e||!1}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!==+e},x.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===p.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return null!=e&&m.call(e,t)},x.noConflict=function(){return a._=c,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.noop=function(){},x.property=function(e){return function(t){return null==t?void 0:t[e]}},x.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},x.matcher=x.matches=function(e){return e=x.extendOwn({},e),function(t){return x.isMatch(t,e)}},x.times=function(e,t,n){var i=Array(Math.max(0,e));t=_(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i},x.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},O=x.invert(R),P=function(e){var t=function(t){return e[t]},n="(?:"+x.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};x.escape=P(R),x.unescape=P(O),x.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),x.isFunction(i)?i.call(e):i};var N=0;x.uniqueId=function(e){var t=++N+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,B=function(e){return"\\"+F[e]};x.template=function(e,t,n){!t&&n&&(t=n),t=x.defaults({},t,x.templateSettings);var i=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(z,B),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(a){throw a.source=o,a}var c=function(e){return s.call(this,e,x)},u=t.variable||"obj";return c.source="function("+u+"){\n"+o+"}",c},x.chain=function(e){var t=x(e);return t._chain=!0,t};var U=function(e,t){return e._chain?x(t).chain():t};x.mixin=function(e){x.each(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),U(this,n.apply(x,e))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],U(this,n)}}),x.each(["concat","join","slice"],function(e){var t=u[e];x.prototype[e]=function(){return U(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},n=[],i=function(){return x}.apply(t,n),!(void 0!==i&&(e.exports=i))}).call(this)},function(e){function t(){this.storage={}}t.prototype.add=function(e,t){var n=this.storage[e]||(this.storage[e]=[]);n.push(t)},t.prototype.remove=function(e){var t,n;for(t in this.storage)n=this.storage[t],n.some(function(t,i){return t===e?(n.splice(i,1),!0):void 0})},t.prototype.get=function(e){var t,n=[];for(t in this.storage)(e===t||0===t.indexOf(e+"."))&&(n=n.concat(this.storage[t]));return n},e.exports=t},function(e){e.exports=function(e,t){var n=e.length,i=e.indexOf(t)+1;return i>n-1&&(i=0),e[i]}},[748,191],[740,410,411],function(e){var t=[],n=t.forEach,i=t.slice;e.exports=function(e){return n.call(i.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e}},function(e,t,n){var i=n(412),r=n(413);e.exports=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=i(e)),r(e,t)>=0)}},function(e,t,n){var i=n(414),r=n(415),o=n(192);e.exports=function(e){var t=r(arguments,!0,!0,1);return i(e,function(e){return!o(t,e)})}},[739,198,416],function(e,t,n){var i=n(198),r=n(417);e.exports=function(e,t,n){if(null==e)return!0;var o,s,a=e.length!==+e.length&&i(e),c=(a||e).length;for(t=r(t,n),o=0;c>o;o++)if(s=a?a[o]:o,!t(e[s],s,e))return!1;return!0}},[741,418],function(e){var t=Object.prototype.toString,n=Array.isArray;e.exports=n||function(e){return"[object Array]"===t.call(e)}},[737,419,420,421],function(e,t,n){var i=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=n(198),s=n(422),a=function(e,t,n,c){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;var u=r.call(e);if(u!==r.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var l="[object Array]"===u;if(!l){if("object"!=typeof e||"object"!=typeof t)return!1;var h=e.constructor,f=t.constructor;if(h!==f&&!(s(h)&&h instanceof h&&s(f)&&f instanceof f)&&"constructor"in e&&"constructor"in t)return!1}for(var d=n.length;d--;)if(n[d]===e)return c[d]===t;n.push(e),c.push(t);var p,m;if(l){if(p=e.length,m=p===t.length)for(;p--&&(m=a(e[p],t[p],n,c)););}else{var g,v=o(e);if(p=v.length,m=o(t).length===p)for(;p--&&(g=v[p],m=i.call(t,g)&&a(e[g],t[g],n,c)););}return n.pop(),c.pop(),m};e.exports=function(e,t){return a(e,t,[],[])}},function(e,t,n){var i=n(423),r=n(198);e.exports=function(e,t,n,o){null==e&&(e=[]),t=i(t,o,4);var s,a=e.length!==+e.length&&r(e),c=(a||e).length,u=0;if(arguments.length<3){if(!c)throw new TypeError("Reduce of empty array with no initial value");n=e[a?a[u++]:u++]}for(;c>u;u++)s=a?a[u]:u,n=t(n,e[s],s,e);return n}},function(e,t,n){var i=n(424),r=n(425),o=n(426);e.exports=function(e,t,n){return t=i(t,n),r(o(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")}},function(e,t,n){var i=n(427),r=Array.prototype.splice;e.exports=function(e,t){var n=i.apply(this,arguments);return r.call(e,n,0,t),n}},function(e,t,n){var i=n(428),r=n(429);e.exports=function(){return r(i(arguments,!0,!0))}},[748,430],[750,431],[750,432],[748,433],[741,434],[750,435],function(e,t,n){var i=n(436),r=n(437),o=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};e.exports={fetch:function(e){e=e?r({},e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},o(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?r({},t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(e,r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},sync:function(){return i.apply(this,arguments)},getOrFetch:function(e,t,n){function i(){var t=r.get(e);t?n&&n(null,t):n(new Error("not found"))}3!==arguments.length&&(n=t,t={});var r=this,o=this.get(e);return o?n(null,o):void(t.all?this.fetch({success:i,error:i}):this.fetchById(e,n))},fetchById:function(e,t){var n=this,i={};i[this.model.prototype.idAttribute]=e;var r=new this.model(i,{collection:this});r.fetch({success:function(){n.add(r),t&&t(null,r)},error:function(){delete r.collection,t&&t(Error("not found"))}})}}},function(e,t,n){function i(e){if(!e)throw new ReferenceError("Collection view missing required parameters: collection, el");if(!e.collection)throw new ReferenceError("Collection view requires a collection");if(!e.el&&!this.insertSelf)throw new ReferenceError("Collection view requires an el");r.extend(this,r.pick(e,a)),this.views=[],this.listenTo(this.collection,"add",this._addViewForModel),this.listenTo(this.collection,"remove",this._removeViewForModel),this.listenTo(this.collection,"sort",this._rerenderAll),this.listenTo(this.collection,"refresh reset",this._reset)}var r=n(212),o=n(398),s=n(438),a=["collection","el","viewOptions","view","emptyView","filter","reverse","parent"];r.extend(i.prototype,o,{render:function(){return this._renderAll(),this},remove:function(){r.invoke(this.views,"remove"),this.stopListening()},_getViewByModel:function(e){return r.find(this.views,function(t){return e===t.model})},_createViewForModel:function(e,t){var n=new this.view(r({model:e,collection:this.collection}).extend(this.viewOptions));return this.views.push(n),n.parent=this,n.renderedByParentView=!0,n.render(t),n},_getOrCreateByModel:function(e,t){return this._getViewByModel(e)||this._createViewForModel(e,t)},_addViewForModel:function(e,t,n){var i=this.filter?this.filter(e):!0;if(i){this.renderedEmptyView&&(this.renderedEmptyView.remove(),delete this.renderedEmptyView);var r=this._getOrCreateByModel(e,{containerEl:this.el});n&&n.rerender?this._insertView(r):this._insertViewAtIndex(r)}},_insertViewAtIndex:function(e){if(!e.insertSelf){var t,n,i=this.collection.indexOf(e.model);t=this.collection.at(this.reverse?i-1:i+1),n=this._getViewByModel(t),n?this.el.insertBefore(e.el,n&&n.el):this.el.appendChild(e.el)}},_insertView:function(e){e.insertSelf||(this.reverse&&this.el.firstChild?this.el.insertBefore(e.el,this.el.firstChild):this.el.appendChild(e.el))},_removeViewForModel:function(e){var t=this._getViewByModel(e);if(t){var n=this.views.indexOf(t);-1!==n&&(t=this.views.splice(n,1)[0],this._removeView(t),0===this.views.length&&this._renderEmptyView())}},_removeView:function(e){e.animateRemove?e.animateRemove():e.remove()},_renderAll:function(){this.collection.each(this._addViewForModel,this),0===this.views.length&&this._renderEmptyView()},_rerenderAll:function(e,t){t=t||{},this.collection.each(function(e){this._addViewForModel(e,this,r.extend(t,{rerender:!0}))},this)},_renderEmptyView:function(){if(this.emptyView&&!this.renderedEmptyView){var e=this.renderedEmptyView=new this.emptyView;this.el.appendChild(e.render().el)}},_reset:function(){var e=this.collection.map(this._getOrCreateByModel,this),t=r.difference(this.views,e);t.forEach(this._removeView,this),this.views=e,this._rerenderAll(),0===this.views.length&&this._renderEmptyView()}}),i.extend=s,e.exports=i},function(e,t){var n,i;(function(){var r=this,o=r._,s={},a=Array.prototype,c=Object.prototype,u=Function.prototype,l=a.push,h=a.slice,f=a.concat,d=c.toString,p=c.hasOwnProperty,m=a.forEach,g=a.map,v=a.reduce,b=a.reduceRight,y=a.filter,w=a.every,x=a.some,_=a.indexOf,k=a.lastIndexOf,S=Array.isArray,A=Object.keys,C=u.bind,j=function(e){return e instanceof j?e:this instanceof j?void(this._wrapped=e):new j(e)};"undefined"!=typeof e&&e.exports&&(t=e.exports=j),t._=j,j.VERSION="1.6.0";var E=j.each=j.forEach=function(e,t,n){if(null==e)return e;if(m&&e.forEach===m)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e)===s)return}else for(var o=j.keys(e),i=0,r=o.length;r>i;i++)if(t.call(n,e[o[i]],o[i],e)===s)return;return e};j.map=j.collect=function(e,t,n){var i=[];return null==e?i:g&&e.map===g?e.map(t,n):(E(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var I="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),v&&e.reduce===v)return i&&(t=j.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(E(e,function(e,o,s){r?n=t.call(i,n,e,o,s):(n=e,r=!0)}),!r)throw new TypeError(I);return n},j.reduceRight=j.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),b&&e.reduceRight===b)return i&&(t=j.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=j.keys(e);o=s.length}if(E(e,function(a,c,u){c=s?s[--o]:--o,r?n=t.call(i,n,e[c],c,u):(n=e[c],r=!0)}),!r)throw new TypeError(I);return n},j.find=j.detect=function(e,t,n){var i;return T(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},j.filter=j.select=function(e,t,n){var i=[];return null==e?i:y&&e.filter===y?e.filter(t,n):(E(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},j.reject=function(e,t,n){return j.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},j.every=j.all=function(e,t,n){t||(t=j.identity);var i=!0;return null==e?i:w&&e.every===w?e.every(t,n):(E(e,function(e,r,o){return(i=i&&t.call(n,e,r,o))?void 0:s}),!!i)};var T=j.some=j.any=function(e,t,n){t||(t=j.identity);var i=!1;return null==e?i:x&&e.some===x?e.some(t,n):(E(e,function(e,r,o){return i||(i=t.call(n,e,r,o))?s:void 0}),!!i)};j.contains=j.include=function(e,t){return null==e?!1:_&&e.indexOf===_?-1!=e.indexOf(t):T(e,function(e){return e===t})},j.invoke=function(e,t){var n=h.call(arguments,2),i=j.isFunction(t);return j.map(e,function(e){return(i?t:e[t]).apply(e,n)})},j.pluck=function(e,t){return j.map(e,j.property(t))},j.where=function(e,t){return j.filter(e,j.matches(t))},j.findWhere=function(e,t){return j.find(e,j.matches(t))},j.max=function(e,t,n){if(!t&&j.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-(1/0),r=-(1/0);return E(e,function(e,o,s){var a=t?t.call(n,e,o,s):e;a>r&&(i=e,r=a)}),i},j.min=function(e,t,n){if(!t&&j.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,r=1/0;return E(e,function(e,o,s){var a=t?t.call(n,e,o,s):e;r>a&&(i=e,r=a)}),i},j.shuffle=function(e){var t,n=0,i=[];return E(e,function(e){t=j.random(n++),i[n-1]=i[t],i[t]=e}),i},j.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=j.values(e)),e[j.random(e.length-1)]):j.shuffle(e).slice(0,Math.max(0,t))};var L=function(e){return null==e?j.identity:j.isFunction(e)?e:j.property(e)};j.sortBy=function(e,t,n){return t=L(t),j.pluck(j.map(e,function(e,i,r){return{value:e,index:i,criteria:t.call(n,e,i,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var M=function(e){return function(t,n,i){var r={};return n=L(n),E(t,function(o,s){var a=n.call(i,o,s,t);e(r,a,o)}),r}};j.groupBy=M(function(e,t,n){j.has(e,t)?e[t].push(n):e[t]=[n]}),j.indexBy=M(function(e,t,n){e[t]=n}),j.countBy=M(function(e,t){j.has(e,t)?e[t]++:e[t]=1}),j.sortedIndex=function(e,t,n,i){n=L(n);for(var r=n.call(i,t),o=0,s=e.length;s>o;){var a=o+s>>>1;n.call(i,e[a])<r?o=a+1:s=a}return o},j.toArray=function(e){return e?j.isArray(e)?h.call(e):e.length===+e.length?j.map(e,j.identity):j.values(e):[]},j.size=function(e){return null==e?0:e.length===+e.length?e.length:j.keys(e).length},j.first=j.head=j.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:h.call(e,0,t)},j.initial=function(e,t,n){return h.call(e,0,e.length-(null==t||n?1:t))},j.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:h.call(e,Math.max(e.length-t,0))},j.rest=j.tail=j.drop=function(e,t,n){return h.call(e,null==t||n?1:t)},j.compact=function(e){return j.filter(e,j.identity)};var D=function(e,t,n){return t&&j.every(e,j.isArray)?f.apply(n,e):(E(e,function(e){j.isArray(e)||j.isArguments(e)?t?l.apply(n,e):D(e,t,n):n.push(e)}),n)};j.flatten=function(e,t){return D(e,t,[])},j.without=function(e){return j.difference(e,h.call(arguments,1))},j.partition=function(e,t){var n=[],i=[];return E(e,function(e){(t(e)?n:i).push(e)}),[n,i]},j.uniq=j.unique=function(e,t,n,i){j.isFunction(t)&&(i=n,n=t,t=!1);var r=n?j.map(e,n,i):e,o=[],s=[];return E(r,function(n,i){(t?i&&s[s.length-1]===n:j.contains(s,n))||(s.push(n),o.push(e[i]))}),o},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(e){var t=h.call(arguments,1);return j.filter(j.uniq(e),function(e){return j.every(t,function(t){return j.contains(t,e)})})},j.difference=function(e){var t=f.apply(a,h.call(arguments,1));return j.filter(e,function(e){return!j.contains(t,e)})},j.zip=function(){for(var e=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=j.pluck(arguments,""+n);return t},j.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},j.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=j.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},j.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(k&&e.lastIndexOf===k)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},j.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var R=function(){};j.bind=function(e,t){var n,i;if(C&&e.bind===C)return C.apply(e,h.call(arguments,1));if(!j.isFunction(e))throw new TypeError;return n=h.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(h.call(arguments)));R.prototype=e.prototype;var r=new R;R.prototype=null;var o=e.apply(r,n.concat(h.call(arguments)));return Object(o)===o?o:r}},j.partial=function(e){var t=h.call(arguments,1);return function(){for(var n=0,i=t.slice(),r=0,o=i.length;o>r;r++)i[r]===j&&(i[r]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},j.bindAll=function(e){var t=h.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return E(t,function(t){e[t]=j.bind(e[t],e)}),e},j.memoize=function(e,t){var n={};return t||(t=j.identity),function(){var i=t.apply(this,arguments);return j.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},j.delay=function(e,t){var n=h.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},j.defer=function(e){return j.delay.apply(j,[e,1].concat(h.call(arguments,1)))},j.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:j.now(),s=null,o=e.apply(i,r),i=r=null};return function(){var u=j.now();a||n.leading!==!1||(a=u);var l=t-(u-a);return i=this,r=arguments,0>=l?(clearTimeout(s),s=null,a=u,o=e.apply(i,r),i=r=null):s||n.trailing===!1||(s=setTimeout(c,l)),o}},j.debounce=function(e,t,n){var i,r,o,s,a,c=function(){var u=j.now()-s;t>u?i=setTimeout(c,t-u):(i=null,n||(a=e.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=j.now();var u=n&&!i;return i||(i=setTimeout(c,t)),u&&(a=e.apply(o,r),o=r=null),a}},j.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},j.wrap=function(e,t){
return j.partial(t,e)},j.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},j.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},j.keys=function(e){if(!j.isObject(e))return[];if(A)return A(e);var t=[];for(var n in e)j.has(e,n)&&t.push(n);return t},j.values=function(e){for(var t=j.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},j.pairs=function(e){for(var t=j.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},j.invert=function(e){for(var t={},n=j.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},j.functions=j.methods=function(e){var t=[];for(var n in e)j.isFunction(e[n])&&t.push(n);return t.sort()},j.extend=function(e){return E(h.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},j.pick=function(e){var t={},n=f.apply(a,h.call(arguments,1));return E(n,function(n){n in e&&(t[n]=e[n])}),t},j.omit=function(e){var t={},n=f.apply(a,h.call(arguments,1));for(var i in e)j.contains(n,i)||(t[i]=e[i]);return t},j.defaults=function(e){return E(h.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},j.clone=function(e){return j.isObject(e)?j.isArray(e)?e.slice():j.extend({},e):e},j.tap=function(e,t){return t(e),e};var O=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof j&&(e=e._wrapped),t instanceof j&&(t=t._wrapped);var r=d.call(e);if(r!=d.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var s=e.constructor,a=t.constructor;if(s!==a&&!(j.isFunction(s)&&s instanceof s&&j.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var c=0,u=!0;if("[object Array]"==r){if(c=e.length,u=c==t.length)for(;c--&&(u=O(e[c],t[c],n,i)););}else{for(var l in e)if(j.has(e,l)&&(c++,!(u=j.has(t,l)&&O(e[l],t[l],n,i))))break;if(u){for(l in t)if(j.has(t,l)&&!c--)break;u=!c}}return n.pop(),i.pop(),u};j.isEqual=function(e,t){return O(e,t,[],[])},j.isEmpty=function(e){if(null==e)return!0;if(j.isArray(e)||j.isString(e))return 0===e.length;for(var t in e)if(j.has(e,t))return!1;return!0},j.isElement=function(e){return!(!e||1!==e.nodeType)},j.isArray=S||function(e){return"[object Array]"==d.call(e)},j.isObject=function(e){return e===Object(e)},E(["Arguments","Function","String","Number","Date","RegExp"],function(e){j["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),j.isArguments(arguments)||(j.isArguments=function(e){return!(!e||!j.has(e,"callee"))}),j.isFunction=function(e){return"function"==typeof e},j.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},j.isNaN=function(e){return j.isNumber(e)&&e!=+e},j.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==d.call(e)},j.isNull=function(e){return null===e},j.isUndefined=function(e){return void 0===e},j.has=function(e,t){return p.call(e,t)},j.noConflict=function(){return r._=o,this},j.identity=function(e){return e},j.constant=function(e){return function(){return e}},j.property=function(e){return function(t){return t[e]}},j.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},j.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},j.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},j.now=Date.now||function(){return(new Date).getTime()};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=j.invert(P.escape);var N={escape:new RegExp("["+j.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(P.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(e){j[e]=function(t){return null==t?"":(""+t).replace(N[e],function(t){return P[e][t]})}}),j.result=function(e,t){if(null==e)return void 0;var n=e[t];return j.isFunction(n)?n.call(e):n},j.mixin=function(e){E(j.functions(e),function(t){var n=j[t]=e[t];j.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),U.call(this,n.apply(j,e))}})};var q=0;j.uniqueId=function(e){var t=++q+"";return e?e+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(e,t,n){var i;n=j.defaults({},n,j.templateSettings);var r=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(r,function(t,n,i,r,a){return s+=e.slice(o,a).replace(B,function(e){return"\\"+z[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(s+="';\n"+r+"\n__p+='"),o=a+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(t)return i(t,j);var c=function(e){return i.call(this,e,j)};return c.source="function("+(n.variable||"obj")+"){\n"+s+"}",c},j.chain=function(e){return j(e).chain()};var U=function(e){return this._chain?j(e).chain():e};j.mixin(j),E(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];j.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],U.call(this,n)}}),E(["concat","join","slice"],function(e){var t=a[e];j.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),n=[],i=function(){return j}.apply(t,n),!(void 0!==i&&(e.exports=i))}).call(this)},function(e,t,n){function i(e,t){if(""===t)return[e];var n=[];return c(e,t)&&n.push(e),n.concat(u.call(e.querySelectorAll(t)))}function r(e){return Array.isArray(e)?e:[e]}function o(e,t){var n,o=e.type||"text",s="function"==typeof o,c=function(){return"string"==typeof e.selector?e.selector:e.hook?'[data-hook~="'+e.hook+'"]':""}(),u=e.yes,l=e.no,h=!(!u&&!l);if(s)return function(e,r){i(e,c).forEach(function(e){o.call(t,e,r,n)}),n=r};if("text"===o)return function(e,t){i(e,c).forEach(function(e){a.text(e,t)})};if("class"===o)return function(e,t){i(e,c).forEach(function(e){a.switchClass(e,n,t)}),n=t};if("attribute"===o){if(!e.name)throw Error('attribute bindings must have a "name"');return function(t,o){var s=r(e.name);i(t,c).forEach(function(e){s.forEach(function(t){a.setAttribute(e,t,o)})}),n=o}}if("value"===o)return function(e,t){i(e,c).forEach(function(e){t||0===t||(t=""),document.activeElement!==e&&(e.value=t)}),n=t};if("booleanClass"===o)return h?(u=r(u||""),l=r(l||""),function(e,t){var n=t?l:u,r=t?u:l;i(e,c).forEach(function(e){n.forEach(function(t){a.removeClass(e,t)}),r.forEach(function(t){a.addClass(e,t)})})}):function(t,n,o){var s=r(e.name||o);i(t,c).forEach(function(e){s.forEach(function(t){a[n?"addClass":"removeClass"](e,t)})})};if("booleanAttribute"===o)return function(t,n,o){var s=r(e.name||o);i(t,c).forEach(function(e){s.forEach(function(t){a[n?"addAttribute":"removeAttribute"](e,t)})})};if("toggle"===o)return h?function(e,t){i(e,u).forEach(function(e){a[t?"show":"hide"](e)}),i(e,l).forEach(function(e){a[t?"hide":"show"](e)})}:function(e,t){i(e,c).forEach(function(e){a[t?"show":"hide"](e)})};if("switch"===o){if(!e.cases)throw Error('switch bindings must have "cases"');return function(t,n){for(var r in e.cases)i(t,e.cases[r]).forEach(function(e){a[n===r?"show":"hide"](e)})}}if("innerHTML"===o)return function(e,t){i(e,c).forEach(function(e){a.html(e,t)})};if("switchClass"===o){if(!e.cases)throw Error('switchClass bindings must have "cases"');return function(t,n,o){var s=r(e.name||o);for(var c in e.cases)i(t,e.cases[c]).forEach(function(e){s.forEach(function(t){a[n===c?"addClass":"removeClass"](e,t)})})}}throw new Error("no such binding type: "+o)}var s=n(439),a=n(440),c=n(147);e.exports=function(e,t){var n,i,r=new s;for(n in e)i=e[n],"string"==typeof i?r.add(n,o({type:"text",selector:i})):i.forEach?i.forEach(function(e){r.add(n,o(e,t))}):r.add(n,o(i,t));return r};var u=Array.prototype.slice},function(e,t,n){(function(t){"use strict";function i(e,n){var i="",r=e.features.sort(),o=[],c={},l=[];s(e.identities,function(e){o.push([e.category||"",e.type||"",e.lang||"",e.name||""].join("/"))}),o.sort();var h=o.length,f=r.length;if(o=a(o,!0),r=a(r,!0),f!==r.length||h!==o.length)return!1;i+=o.join("<")+"<",i+=r.join("<")+"<";var d=!1;if(s(e.extensions,function(e){for(var t=e.fields,n=0,i=t.length;i>n;n++)if("FORM_TYPE"===t[n].name&&"hidden"===t[n].type){var r=t[n].value;return c[r]?void(d=!0):(c[r]=e,void l.push(r))}}),d)return!1;l.sort(),s(l,function(e){var t=c[e],n={},r=[];i+="<"+e,s(t.fields,function(e){var t=e.name;if("FORM_TYPE"!==t){var i=e.value||"";"object"!=typeof i&&(i=i.split("\n")),n[t]=i.sort(),r.push(t)}}),r.sort(),s(r,function(e){i+="<"+e,s(n[e],function(e){i+="<"+e})})});var p=u.createHash(n).update(new t(i,"utf8")).digest("base64"),m=4-p.length%4;4===m&&(m=0);for(var g=0;m>g;g++)p+="=";return p}function r(e,t,n){var r=i(e,t);return r&&r===n}function o(){this.features={},this.identities={},this.extensions={},this.items={},this.caps={}}var s=n(150),a=n(330),c=n(51).JID,u=n(392);o.prototype={constructor:{value:o},addFeature:function(e,t){t=t||"",this.features[t]||(this.features[t]=[]),this.features[t].push(e)},addIdentity:function(e,t){t=t||"",this.identities[t]||(this.identities[t]=[]),this.identities[t].push(e)},addItem:function(e,t){t=t||"",this.items[t]||(this.items[t]=[]),this.items[t].push(e)},addExtension:function(e,t){t=t||"",this.extensions[t]||(this.extensions[t]=[]),this.extensions[t].push(e)}},e.exports=function(e,t){t.use(n(331)),t.use(n(332)),t.use(n(333)),e.disco=new o(e),e.disco.addFeature("http://jabber.org/protocol/disco#info"),e.disco.addFeature("http://jabber.org/protocol/disco#items"),e.disco.addIdentity({category:"client",type:"web"}),e.registerFeature("caps",100,function(e,t){this.emit("disco:caps",{from:new c(this.jid.domain),caps:e.caps}),this.features.negotiated.caps=!0,t()}),e.getDiscoInfo=function(e,t,n){return this.sendIq({to:e,type:"get",discoInfo:{node:t}},n)},e.getDiscoItems=function(e,t,n){return this.sendIq({to:e,type:"get",discoItems:{node:t}},n)},e.updateCaps=function(){var t=this.config.capsNode||"https://stanza.io",n=JSON.parse(JSON.stringify({identities:this.disco.identities[""],features:this.disco.features[""],extensions:this.disco.extensions[""]})),r=i(n,"sha-1");return this.disco.caps={node:t,hash:"sha-1",ver:r},t=t+"#"+r,this.disco.features[t]=n.features,this.disco.identities[t]=n.identities,this.disco.extensions[t]=n.extensions,e.getCurrentCaps()},e.getCurrentCaps=function(){var t=e.disco.caps;if(!t.ver)return{ver:null,discoInfo:null};var n=t.node+"#"+t.ver;return{ver:t.ver,discoInfo:{identities:e.disco.identities[n],features:e.disco.features[n],extensions:e.disco.extensions[n]}}},e.on("presence",function(t){t.caps&&e.emit("disco:caps",t)}),e.on("iq:get:discoInfo",function(t){var n=t.discoInfo.node||"",i=t.discoInfo.node||"";n===e.disco.caps.node+"#"+e.disco.caps.ver&&(i=n,n=""),e.sendIq(t.resultReply({discoInfo:{node:i,identities:e.disco.identities[n]||[],features:e.disco.features[n]||[],extensions:e.disco.extensions[n]||[]}}))}),e.on("iq:get:discoItems",function(t){var n=t.discoItems.node;e.sendIq(t.resultReply({discoItems:{node:n,items:e.disco.items[n]||[]}}))}),e.verifyVerString=r,e.generateVerString=i,e.updateCaps()}}).call(t,n(385).Buffer)},function(e){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:attention:0"),e.getAttention=function(t,n){n=n||{},n.to=t,n.type="headline",n.attention=!0,e.sendMessage(n)},e.on("message",function(t){t.attention&&e.emit("attention",t)})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(334)),e.disco.addFeature("urn:xmpp:avatar:metadata+notify"),e.on("pubsub:event",function(t){t.event.updated&&"urn:xmpp:avatar:metadata"===t.event.updated.node&&e.emit("avatar",{jid:t.from,source:"pubsub",avatars:t.event.updated.published[0].avatars})}),e.on("presence",function(t){t.avatarId&&e.emit("avatar",{jid:t.from,source:"vcard",avatars:[{id:t.avatarId}]})}),e.publishAvatar=function(e,t,n){return this.publish("","urn:xmpp:avatar:data",{id:e,avatarData:t},n)},e.useAvatars=function(e,t){return this.publish("","urn:xmpp:avatar:metadata",{id:"current",avatars:e},t)},e.getAvatar=function(e,t,n){return this.getItem(e,"urn:xmpp:avatar:data",t,n)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(335)),e.disco.addFeature("urn:xmpp:blocking"),e.block=function(t,n){return e.sendIq({type:"set",block:{jids:[t]}},n)},e.unblock=function(t,n){return e.sendIq({type:"set",unblock:{jids:[t]}},n)},e.getBlocked=function(t){return e.sendIq({type:"get",blockList:!0},t)},e.on("iq:set:block",function(t){e.emit("block",{jids:t.block.jids||[]}),e.sendIq(t.resultReply())}),e.on("iq:set:unblock",function(t){e.emit("unblock",{jids:t.unblock.jids||[]}),e.sendIq(t.resultReply())})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(336)),e.disco.addFeature("urn:xmpp:bob"),e.getBits=function(t,n,i){return e.sendIq({to:t,type:"get",bob:{cid:n}},i)}}},function(e,t,n){"use strict";var i=n(151),r=n(337),o=n(51).JID;e.exports=function(e,t){t.use(n(338)),e.getBookmarks=function(e){return this.getPrivateData({bookmarks:!0},e)},e.setBookmarks=function(e,t){return this.setPrivateData({bookmarks:e},t)},e.addBookmark=function(t,n){return t.jid=new o(t.jid),this.getBookmarks().then(function(n){var o=n.privateStorage.bookmarks.conferences||[],s=r(o,function(e){return e.jid.bare===t.jid.bare});return s.length?i(s[0],t):o.push(t),e.setBookmarks({conferences:o})}).nodeify(n)},e.removeBookmark=function(t,n){return t=new o(t),this.getBookmarks().then(function(n){var i=n.privateStorage.bookmarks.conferences||[];return i=r(i,function(e){return t.bare!==e.jid.bare}),e.setBookmarks({conferences:i})}).nodeify(n)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(339)),e.disco.addFeature("urn:xmpp:carbons:2"),e.enableCarbons=function(e){return this.sendIq({type:"set",enableCarbons:!0},e)},e.disableCarbons=function(e){return this.sendIq({type:"set",disableCarbons:!0},e)},e.on("message",function(t){return t.carbonSent?e.emit("carbon:sent",t):t.carbonReceived?e.emit("carbon:received",t):void 0}),e.on("carbon:*",function(t,n){var i=t.split(":")[1];if(n.from.bare===e.jid.bare){var r,o;"received"===i?(r=n.carbonReceived.forwarded.message,o=n.carbonReceived.forwarded.delay):(r=n.carbonSent.forwarded.message,o=n.carbonSent.forwarded.delay),r.delay||(o?r.delay.stamp=o.stamp:r.delay={stamp:new Date(Date.now())}),r.carbon=!0,r.from.bare===e.jid.bare?e.emit("message:sent",r):e.emit("message",r)}})}},function(e){"use strict";e.exports=function(e){e.disco.addFeature("http://jabber.org/protocol/chatstates"),e.on("message",function(t){t.chatState&&(e.emit("chat:state",{to:t.to,from:t.from,chatState:t.chatState}),e.emit("chatState",{to:t.to,from:t.from,chatState:t.chatState}))})}},function(e,t,n){"use strict";var i="http://jabber.org/protocol/commands";e.exports=function(e,t){t.use(n(340)),e.disco.addFeature(i),e.disco.addItem({name:"Ad-Hoc Commands",node:i}),e.getCommands=function(t,n){return e.getDiscoItems(t,i,n)}}},function(e){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:message-correct:0"),e.on("message",function(t){t.replace&&(e.emit("replace",t),e.emit("replace:"+t.id,t))})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(341));var i=t.getDefinition("active","urn:xmpp:csi"),r=t.getDefinition("inactive","urn:xmpp:csi");e.registerFeature("clientStateIndication",400,function(e,t){this.features.negotiated.clientStateIndication=!0,t()}),e.markActive=function(){this.features.negotiated.clientStateIndication&&this.send(new i)},e.markInactive=function(){this.features.negotiated.clientStateIndication&&this.send(new r)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(342)),e.disco.addFeature("jabber:x:data"),e.disco.addFeature("urn:xmpp:media-element"),e.disco.addFeature("http://jabber.org/protocol/xdata-validate"),e.disco.addFeature("http://jabber.org/protocol/xdata-layout"),e.on("message",function(t){t.form&&e.emit("dataform",t)})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(343)),e.disco.addFeature("urn:xmpp:delay")}},function(e){"use strict";e.exports=function(e){e.disco.addFeature("jid\\20escaping")}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(344)),e.disco.addFeature("urn:xmpp:extdisco:1"),e.getServices=function(e,t,n){return this.sendIq({type:"get",to:e,services:{type:t}},n)},e.getServiceCredentials=function(e,t,n){return this.sendIq({type:"get",to:e,credentials:{service:{host:t}}},n)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(345)),e.disco.addFeature("urn:xmpp:forward:0")}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(346)),e.disco.addFeature("http://jabber.org/protocol/geoloc"),e.disco.addFeature("http://jabber.org/protocol/geoloc+notify"),e.on("pubsub:event",function(t){t.event.updated&&"http://jabber.org/protocol/geoloc"===t.event.updated.node&&e.emit("geoloc",{jid:t.from,geoloc:t.event.updated.published[0].geoloc})}),e.publishGeoLoc=function(e,t){return this.publish("","http://jabber.org/protocol/geoloc",{geoloc:e},t)}}},function(e,t,n){"use strict";var i=n(392);e.exports=function(e,t){t.use(n(347)),e.disco.addFeature("urn:xmpp:hashes:1");var r=i.getHashes();r.forEach(function(t){e.disco.addFeature("urn:xmpp:hash-function-text-names:"+t)})}},function(e){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:idle:1")}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(348)),e.goInvisible=function(e){return this.sendIq({type:"set",invisible:!0},e)},e.goVisible=function(e){return this.sendIq({type:"set",visible:!0},e)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(349)),e.prepJID=function(t,n){return e.sendIq({to:e.jid.domain,type:"get",jidPrep:t},n)}}},function(e,t,n){"use strict";var i=n(393);e.exports=function(e,t){t.use(n(350)),t.use(n(351)),t.use(n(352)),t.use(n(353));var r=e.jingle=new i;r.capabilities.forEach(function(t){e.disco.addFeature(t)});var o=["outgoing","incoming","accepted","terminated","ringing","mute","unmute","hold","resumed"];o.forEach(function(t){r.on(t,function(n,i){e.emit("jingle:"+t,n,i)})}),r.on("createdSession",function(t){e.emit("jingle:created",t)}),r.on("peerStreamAdded",function(t,n){e.emit("jingle:remotestream:added",t,n)}),r.on("peerStreamRemoved",function(t,n){e.emit("jingle:remotestream:removed",t,n)}),r.on("send",function(t){e.sendIq(t,function(t){t&&e.emit("jingle:error",t)})}),e.on("session:bound",function(e){r.jid=e,r.selfID=e.full}),e.on("iq:set:jingle",function(e){r.process(e)}),e.on("unavailable",function(e){var t=e.from.full;r.endPeerSessions(t,!0)}),e.discoverICEServers=function(t){return this.getServices(e.config.server).then(function(t){for(var n=t.services.services,i=[],r=0;r<n.length;r++){var o=n[r],s={};"stun"===o.type||"stuns"===o.type?(s.url=o.type+":"+o.host,o.port&&(s.url+=":"+o.port),i.push(s),e.jingle.addICEServer(s)):("turn"===o.type||"turns"===o.type)&&(s.url=o.type+":"+o.host,o.port&&(s.url+=":"+o.port),o.transport&&"udp"!==o.transport&&(s.url+="?transport="+o.transport),o.username&&(s.username=o.username),o.password&&(s.credential=o.password),i.push(s),e.jingle.addICEServer(s))}return i}).nodeify(t)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(354)),e.disco.addFeature("urn:xmpp:json:0")}},function(e,t,n){"use strict";function i(e,t){return new r(function(t,n){e.sm.started?(e.once("stream:management:ack",t),e.sm.request()):e.ping().then(t)["catch"](function(e){e.error&&"timeout"!==e.error.condition?t():n()})}).timeout(1e3*t||15e3)}var r=n(294);e.exports=function(e){e.enableKeepAlive=function(t){function n(){e.sessionStarted&&i(e,t.timeout)["catch"](function(){e.sendStreamError({condition:"connection-timeout"})})}t=t||{},t.interval=t.interval||300,t.timeout=t.timeout||15,e._keepAliveInterval=setInterval(n,1e3*t.interval)},e.disableKeepAlive=function(){e._keepAliveInterval&&(clearInterval(e._keepAliveInterval),delete e._keepAliveInterval)},e.on("disconnected",function(){e.disableKeepAlive()})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(355)),e.disco.addFeature("","urn:xmpp:eventlog"),e.sendLog=function(t,n){e.sendMessage({to:t,type:"normal",log:n})}}},function(e,t,n){"use strict";var i=n(294),r=n(51).JID;e.exports=function(e,t){t.use(n(356)),e.disco.addFeature("urn:xmpp:mam:0"),e.getHistorySearchForm=function(t,n){return e.sendIq({to:t,type:"get",mam:!0},n)},e.searchHistory=function(t,n){var o=this,s=this.nextId();t=t||{},t.queryid=s;var a=t.jid||t.to||"";delete t.jid,delete t.to,t.form||(t.form={}),t.form.type="submit";var c=t.form.fields=t.form.fields||[],u=["FORM_TYPE","with","start","end"];u.forEach(function(e){if(t[e]||"FORM_TYPE"===e){var n=t[e],i="start"===e||"end"===e;i&&"string"!=typeof n&&(n=n.toISOString()),"FORM_TYPE"===e&&(n="urn:xmpp:mam:0");for(var r=!1,o=0,s=c.length;s>o;o++)c[o].name!==e;r||c.push({name:e,value:n}),delete t[e]}});var l=new r(a||e.jid.bare),h={};h[""]=!0,h[l.full]=!0,h[l.bare]=!0,h[l.domain]=!0,h[e.jid.bare]=!0,h[e.jid.domain]=!0;var f=[];this.on("mam:item:"+s,"session",function(e){h[e.from.full]&&f.push(e.mamItem)});var d=new i(function(e){o.once("mam:result:"+s,"session",function(t){h[t.from.full]&&(t.mamResult.items=f,e(t))})}),p=this.sendIq({type:"set",to:a,id:s,mam:t});return i.all([p,d]).spread(function(e,t){return t}).timeout(1e3*o.config.timeout||15e3)["catch"](i.TimeoutError,function(){throw{id:s,type:"error",error:{condition:"timeout"}}})["finally"](function(){o.off("mam:item:"+s),o.off("mam:result:"+s)}).nodeify(n)},e.getHistoryPreferences=function(e){return this.sendIq({type:"get",mamPrefs:!0},e)},e.setHistoryPreferences=function(e,t){return this.sendIq({type:"set",mamPrefs:e},t)},e.on("message",function(t){t.mamItem&&e.emit("mam:item:"+t.mamItem.queryid,t),t.mamResult&&e.emit("mam:result:"+t.mamResult.queryid,t)})}},function(e,t,n){"use strict";var i=n(150),r=n(51).JID;e.exports=function(e,t){function o(){i(e.joinedRooms,function(t,n){e.joinedRooms[n]=!1,e.joinRoom(n,t)})}t.use(n(357)),t.use(n(358)),e.disco.addFeature("http://jabber.org/protocol/muc"),e.disco.addFeature("jabber:x:conference"),e.disco.addFeature("urn:xmpp:hats:0"),e.joinedRooms={},e.on("session:started",o),e.on("stream:management:resumed",o),e.on("message",function(t){t.muc?(t.muc.invite&&e.emit("muc:invite",{from:t.muc.invite.from,room:t.from,reason:t.muc.invite.reason,password:t.muc.password,thread:t.muc.invite.thread,type:"mediated"}),t.muc.destroyed&&e.emit("muc:destroyed",{room:t.from,newRoom:t.muc.destroyed.jid,reason:t.muc.destroyed.reason,password:t.muc.destroyed.password}),t.muc.decline&&e.emit("muc:declined",{room:t.from,from:t.muc.decline.from,reason:t.muc.decline.reason})):t.mucInvite&&e.emit("muc:invite",{from:t.from,room:t.mucInvite.jid,reason:t.mucInvite.reason,password:t.mucInvite.password,thread:t.mucInvite.thread,type:"direct"}),"groupchat"===t.type&&t.subject&&e.emit("muc:subject",t)}),e.on("presence",function(t){if(t.joinMuc&&"error"===t.type)e.emit("muc:error",t);else if(t.muc){var n=t.muc.codes&&t.muc.codes.indexOf("110")>=0;"error"===t.type?e.emit("muc:error",t):"unavailable"===t.type?(e.emit("muc:unavailable",t),n&&(e.emit("muc:leave",t),delete e.joinedRooms[t.from.bare])):(e.emit("muc:available",t),n&&!e.joinedRooms[t.from.bare]&&(e.emit("muc:join",t),e.joinedRooms[t.from.bare]=t.from.resource))}}),e.joinRoom=function(e,t,n){n=n||{},n.to=e+"/"+t,n.caps=this.disco.caps,n.joinMuc=n.joinMuc||{},this.sendPresence(n)},e.leaveRoom=function(e,t,n){n=n||{},n.to=e+"/"+t,n.type="unavailable",this.sendPresence(n)},e.ban=function(t,n,i,r){e.setRoomAffiliation(t,n,"outcast",i,r)},e.kick=function(t,n,i,r){e.setRoomRole(t,n,"none",i,r)},e.invite=function(t,n){e.sendMessage({to:t,muc:{invites:n}})},e.directInvite=function(t,n){n.jid=t,e.sendMessage({to:n.to,mucInvite:n})},e.declineInvite=function(t,n,i){e.sendMessage({to:t,muc:{decline:{to:n,reason:i}}})},e.changeNick=function(t,n){e.sendPresence({to:new r(t).bare+"/"+n})},e.setSubject=function(t,n){e.sendMessage({to:t,type:"groupchat",subject:n})},e.discoverReservedNick=function(t,n){e.getDiscoInfo(t,"x-roomuser-item",function(e,t){if(e)return n(e);var i=t.discoInfo.identities[0]||{};n(null,i.name)})},e.requestRoomVoice=function(t){e.sendMessage({to:t,form:{fields:[{name:"FORM_TYPE",value:"http://jabber.org/protocol/muc#request"},{name:"muc#role",type:"text-single",value:"participant"}]}})},e.setRoomAffiliation=function(e,t,n,i,r){return this.sendIq({type:"set",to:e,mucAdmin:{jid:t,affiliation:n,reason:i}},r)},e.setRoomRole=function(e,t,n,i,r){return this.sendIq({type:"set",to:e,mucAdmin:{nick:t,role:n,reason:i}},r)},e.getRoomMembers=function(e,t,n){return this.sendIq({type:"get",to:e,mucAdmin:t},n)},e.getRoomConfig=function(e,t){return this.sendIq({to:e,type:"get",mucOwner:!0},t)},e.configureRoom=function(e,t,n){return t.type||(t.type="submit"),this.sendIq({to:e,type:"set",mucOwner:{form:t}},n)},e.destroyRoom=function(e,t,n){return this.sendIq({to:e,type:"set",mucOwner:{destroy:t}},n)},e.getUniqueRoomName=function(e,t){return this.sendIq({type:"get",to:e,mucUnique:!0},t)}}},function(e,t,n){"use strict";var i="http://jabber.org/protocol/mood";e.exports=function(e,t){t.use(n(359)),e.disco.addFeature(i),e.disco.addFeature(i+"+notify"),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===i&&e.emit("mood",{jid:t.from,mood:t.event.updated.published[0].mood})}),e.publishMood=function(e,t,n){return this.publish("",i,{mood:{value:e,text:t}},n)}}},function(e,t,n){"use strict";var i="http://jabber.org/protocol/nick";e.exports=function(e,t){t.use(n(360)),e.disco.addFeature(i),e.disco.addFeature(i+"+notify"),e.on("pubsub:event",function(t){t.event.updated&&t.event.updated.node===i&&e.emit("nick",{jid:t.from,nick:t.event.updated.published[0].nick})}),e.publishNick=function(e,t){return this.publish("",i,{nick:e},t)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(361)),e.disco.addFeature("jabber:x:oob")}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(362)),e.disco.addFeature("urn:xmpp:ping"),e.on("iq:get:ping",function(t){e.sendIq(t.resultReply())}),e.ping=function(e,t){return this.sendIq({to:e,type:"get",ping:!0},t)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(363)),e.getPrivateData=function(e,t){return this.sendIq({type:"get",privateStorage:e},t)},e.setPrivateData=function(e,t){return this.sendIq({type:"set",privateStorage:e},t)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(364)),e.disco.addFeature("urn:xmpp:psa")}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(365)),t.use(n(366)),t.use(n(367)),t.use(n(368)),e.on("message",function(t){if(t.event){if(e.emit("pubsub:event",t),e.emit("pubsubEvent",t),t.event.updated){var n=t.event.updated.published,i=t.event.updated.retracted;n&&n.length&&e.emit("pubsub:published",t),i&&i.length&&e.emit("pubsub:retracted",t)}t.event.purged&&e.emit("pubsub:purged",t),t.event.deleted&&e.emit("pubsub:deleted",t),t.event.subscriptionChanged&&e.emit("pubsub:subscription",t),t.event.configurationChanged&&e.emit("pubsub:config",t)}t.pubsub&&t.pubsub.affiliations&&e.emit("pubsub:affiliation",t)}),e.subscribeToNode=function(t,n,i){return"string"==typeof n&&(n={node:n}),n.jid=n.jid||e.jid,this.sendIq({type:"set",to:t,pubsub:{subscribe:n}},i)},e.unsubscribeFromNode=function(t,n,i){return"string"==typeof n&&(n={node:n}),n.jid=n.jid||e.jid.bare,this.sendIq({type:"set",to:t,pubsub:{unsubscribe:n}},i)},e.publish=function(e,t,n,i){return this.sendIq({type:"set",to:e,pubsub:{publish:{node:t,item:n}}},i)},e.getItem=function(e,t,n,i){return this.sendIq({type:"get",to:e,pubsub:{retrieve:{node:t,item:n}}},i)},e.getItems=function(e,t,n,i){return n=n||{},n.node=t,this.sendIq({type:"get",to:e,pubsub:{retrieve:{node:t,max:n.max},rsm:n.rsm}},i)},e.retract=function(e,t,n,i,r){return this.sendIq({type:"set",to:e,pubsub:{retract:{node:t,notify:i,id:n}}},r)},e.purgeNode=function(e,t,n){return this.sendIq({type:"set",to:e,pubsubOwner:{purge:t}},n)},e.deleteNode=function(e,t,n){return this.sendIq({type:"set",to:e,pubsubOwner:{del:t}},n)},e.createNode=function(e,t,n,i){var r={type:"set",to:e,pubsubOwner:{create:t}};return n&&(r.pubsubOwner.config={form:n}),this.sendIq(r,i)},e.getSubscriptions=function(e,t,n){return t=t||{},this.sendIq({type:"get",to:e,pubsub:{subscriptions:t}},n)},e.getAffiliations=function(e,t,n){return t=t||{},this.sendIq({type:"get",to:e,pubsub:{affiliations:t}},n)},e.getNodeSubscribers=function(e,t,n,i){return n=n||{},n.node=t,this.sendIq({type:"get",to:e,pubsubOwner:{subscriptions:n}},i)},e.updateNodeSubscriptions=function(e,t,n,i){return this.sendIq({type:"set",to:e,pubsubOwner:{subscriptions:{node:t,list:n}}},i)},e.getNodeAffiliations=function(e,t,n,i){return n=n||{},n.node=t,this.sendIq({type:"get",to:e,pubsubOwner:{affiliations:n}},i)},e.updateNodeAffiliations=function(e,t,n,i){return this.sendIq({type:"set",to:e,pubsubOwner:{affiliations:{node:t,list:n}}},i)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(369)),e.disco.addFeature("urn:xmpp:reach:0"),e.disco.addFeature("urn:xmpp:reach:0+notify"),e.on("pubsub:event",function(t){t.event.updated&&"urn:xmpp:reach:0"===t.event.updated.node&&e.emit("reachability",{jid:t.from,addresses:t.event.updated.published[0].reach})}),e.on("presence",function(t){t.reach&&t.reach.length&&e.emit("reachability",{jid:t.from,addresses:t.reach})}),e.publishReachability=function(e,t){return this.publish("","urn:xmpp:reach:0",{reach:e},t)}}},function(e){"use strict";e.exports=function(e){e.disco.addFeature("urn:xmpp:receipts"),e.on("message",function(t){var n={normal:!0,chat:!0,headline:!0};n[t.type]&&t.requestReceipt&&!t.receipt&&e.sendMessage({to:t.from,type:t.type,receipt:t.id,id:t.id}),t.receipt&&(e.emit("receipt",t),e.emit("receipt:"+t.receipt))})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(370)),e.getAccountInfo=function(e,t){return this.sendIq({type:"get",to:e,register:!0},t)},e.updateAccount=function(e,t,n){return this.sendIq({type:"set",to:e,register:t},n)},e.deleteAccount=function(e,t){return this.sendIq({type:"set",to:e,register:{remove:!0}},t)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(371)),e.on("iq:set:roster",function(t){var n={};return n[""]=!0,n[e.jid.bare]=!0,n[e.jid.domain]=!0,n[t.from.full]?(e.emit("roster:update",t),void e.sendIq({id:t.id,type:"result"})):e.sendIq(t.errorReply({error:{type:"cancel",condition:"service-unavailable"}}))}),e.getRoster=function(t){var n=this;return t=t||function(){},e.sendIq({type:"get",roster:{ver:n.config.rosterVer}}).then(function(e){if(e.roster){var t=e.roster.ver;t&&(n.config.rosterVer=t,n.emit("roster:ver",t))}return e}).nodeify(t)},e.updateRosterItem=function(t,n){return e.sendIq({type:"set",roster:{items:[t]}},n)},e.removeRosterItem=function(t,n){return e.updateRosterItem({jid:t,subscription:"remove"},n)},e.subscribe=function(t){e.sendPresence({type:"subscribe",to:t})},e.unsubscribe=function(t){e.sendPresence({type:"unsubscribe",to:t})},e.acceptSubscription=function(t){e.sendPresence({type:"subscribed",to:t})},e.denySubscription=function(t){e.sendPresence({type:"unsubscribed",to:t})}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(372)),e.disco.addFeature("urn:xmpp:rtt:0"),
e.on("message",function(t){t.rtt&&(e.emit("rtt",t),e.emit("rtt:"+t.rtt.event,t))})}},function(e,t,n){"use strict";var i="http://jabber.org/protocol/shim";e.exports=function(e,t){t.use(n(373)),e.disco.addFeature(i),e.disco.addFeature(i+"#SubID",i)}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(374)),e.disco.addFeature("urn:xmpp:time"),e.getTime=function(e,t){return this.sendIq({to:e,type:"get",time:!0},t)},e.on("iq:get:time",function(t){var n=new Date;e.sendIq(t.resultReply({time:{utc:n,tzo:n.getTimezoneOffset()}}))})}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(375)),e.disco.addFeature("vcard-temp"),e.getVCard=function(e,t){return this.sendIq({to:e,type:"get",vCardTemp:!0},t)},e.publishVCard=function(e,t){return this.sendIq({type:"set",vCardTemp:e},t)}}},function(e,t,n){"use strict";e.exports=function(e,t){t.use(n(376)),e.disco.addFeature("jabber:iq:version"),e.on("iq:get:version",function(t){e.sendIq(t.resultReply({version:e.config.softwareVersion||{name:"stanza.io"}}))}),e.getSoftwareVersion=function(e,t){return this.sendIq({to:e,type:"get",version:!0},t)}}},function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){function i(e){return e=r(e),e&&s.test(e)?e.replace(o,"\\$&"):e}var r=n(261),o=/[.*+?^${}()|[\]\/\\]/g,s=RegExp(o.source);e.exports=i},function(e){function t(e){return e&&"object"==typeof e||!1}e.exports=t},function(e,t,n){var i=n(441);e.exports=function(e){return i(e).replace(/minutes/,"mins")}},function(e){function t(e){return"string"==typeof e?e:null==e?"":e+""}e.exports=t},function(e){function t(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}e.exports=t},function(e){function t(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}e.exports=t},function(e,t,n){function i(e){for(var t=-1,n=e.length;++t<n&&r(e.charCodeAt(t)););return t}var r=n(377);e.exports=i},function(e,t,n){function i(e){for(var t=e.length;t--&&r(e.charCodeAt(t)););return t}var r=n(377);e.exports=i},function(e){e.exports="<li class=fichat-autocomplete-item data-hook=autocomplete-item><span class=fichat-online-status data-hook=online-icon></span> <img class=fichat-avatar data-hook=avatar> <span class=fichat-name data-hook=name></span> <span class=fichat-username>@<span data-hook=username></span></span></li>"},function(e){e.exports="<div class=fichat-autocomplete-list><div class=fichat-autocomplete-title>People matching @<span data-hook=search></span></div><ul data-hook=suggestions><li data-hook=loading class=fichat-autocomplete-item>...</li></ul></div>"},function(e){"use strict";e.exports=function(e,t,n,i){function r(e){var t,r,o;for(r=e.tokens.length-1;r>=0;r--)if("inline"===e.tokens[r].type)for(o=e.tokens[r].children,t=o.length-1;t>=0;t--)o[t].type===n&&i(o,t,e)}e.core.ruler.push("ruleName",r)}},function(e,t,n){var i=n(9),r=n(97),o=n(291),s=n(378),a={};e.exports.getOembed=function(e,t){if(a[e])return setTimeout(function(){t(null,s.clone(a[e]))},0);var n=o.stringify({key:i.embedly.key,url:e});r({method:"get",url:"https://api.embed.ly/1/oembed?"+n},function(n,i,r){var o;if(n)return t(n);if(i.status>=400)return t(new Error(i.text));try{o=JSON.parse(r)}catch(c){return t(c)}o.original_url=e,a[e]=s.clone(o),t(null,o)})},e.exports.display=function(e){var t=o.stringify({key:i.embedly.key,url:e});return"https://i.embed.ly/1/display?"+t},e.exports.crop=function(e,t){var n=o.stringify({key:i.embedly.key,url:e,width:t.width||t.size,height:t.height||t.size});return"https://i.embed.ly/1/display/crop?"+n}},function(e){e.exports='<div class=fichat-embed><a href=# data-hook=embed-url target=_blank><span data-hook=embed-text></span> <img data-hook=embed-thumb src=""></a> </div>'},function(e){e.exports='<div class=fichat-screenshare-notification-content><img src="" class=fichat-avatar data-hook=avatar><div class=fichat-screenshare-notification-text><span data-hook=name></span> is requesting to share their screen with you.</div><div class=fichat-screenshare-accept><button class="fichat-btn fichat-btn-primary" data-hook=accept-invite>Accept</button></div><div class=fichat-screenshare-decline><button class=fichat-btn-textonly data-hook=decline-invite>Decline</button></div></div>'},function(e,t,n){"use strict";function i(){this._LOOKUP={},this._LOOKUP_EXT={},this._TAGS={},this._CB_DEFINITION={},this._CB_TAG={},this._ID=o.v4(),this.utils=r({},a,c)}var r=n(151),o=n(284),s=n(446),a=n(379),c=n(380),u=n(381);i.prototype.use=function(e){return e["__JXT_LOADED_"+this._ID]||e(this),e["__JXT_LOADED_"+this._ID]=!0,this},i.prototype.getDefinition=function(e,t,n){var i=this._LOOKUP[t+"|"+e];if(n&&!i)throw new Error("Could not find definition for <"+e+' xmlns="'+t+'" />');return i},i.prototype.getExtensions=function(e,t){return this._LOOKUP_EXT[t+"|"+e]||{}},i.prototype.withDefinition=function(e,t,n){var i=t+"|"+e;this._CB_DEFINITION[i]||(this._CB_DEFINITION[i]=[]),this._CB_DEFINITION[i].push(n),this._LOOKUP[i]&&n(this._LOOKUP[i])},i.prototype.withTag=function(e,t){this._CB_TAG[e]||(this._CB_TAG[e]=[]),this._CB_TAG[e].push(t),this.tagged(e).forEach(function(e){t(e)})},i.prototype.tagged=function(e){return this._TAGS[e]||[]},i.prototype.build=function(e){var t=this._LOOKUP[e.namespaceURI+"|"+e.localName];return t?new t(null,e):void 0},i.prototype.parse=function(e){var t=s.parse(e);if(1===t.nodeType){var n=this.getDefinition(t.localName,t.namespaceURI);return n?new n(null,t):void 0}},i.prototype.extend=function(e,t,n){var i=e.prototype._NS+"|"+e.prototype._EL,r=t.prototype._name,o=t.prototype._NS+"|"+t.prototype._EL;this._LOOKUP[o]=t,this._LOOKUP_EXT[o]||(this._LOOKUP_EXT[o]={}),this._LOOKUP_EXT[i]||(this._LOOKUP_EXT[i]={}),this._LOOKUP_EXT[i][r]=t,this.add(e,r,a.extension(t)),n&&this.add(e,n,a.multiExtension(t))},i.prototype.add=function(e,t,n){n.enumerable=!0,Object.defineProperty(e.prototype,t,n)},i.prototype.define=function(e){var t=this,n=u(this,e),i=n.prototype._NS,r=n.prototype._EL,o=n.prototype._TAGS,s=i+"|"+r;this._LOOKUP[s]=n,o.forEach(function(e){t._TAGS[e]||(t._TAGS[e]=[]),t._TAGS[e].push(n)});var a=Object.keys(e.fields||{});return a.forEach(function(i){t.add(n,i,e.fields[i])}),this._CB_DEFINITION[s]&&this._CB_DEFINITION[s].forEach(function(e){e(n)}),o.forEach(function(e){t._CB_TAG[e]&&t._CB_TAG[e].forEach(function(e){e(n)})}),n},i.createRegistry=function(){return new i},r(i,c),r(i,a);var l=new i;i.define=l.define.bind(l),i.extend=l.extend.bind(l),i.add=l.add.bind(l),i.parse=l.parse.bind(l),i.build=l.build.bind(l),i.getExtensions=l.getExtensions.bind(l),i.getDefinition=l.getDefinition.bind(l),i.withDefinition=l.withDefinition.bind(l),i.withTag=l.withTag.bind(l),i.tagged=l.tagged.bind(l),i.getGlobalJXT=function(){return l},e.exports=i},function(e,t,n){"use strict";var i=n(63),r=n(97),o=n(272).createRegistry();o.use(n(382)),e.exports=function(e,t){"string"==typeof e&&(e={host:e});var n={ssl:!0,json:!0,xrd:!0};for(var s in e)n[s]=e[s];var a=n.ssl?"https://":"http://";i.parallel([function(e){r(a+n.host+"/.well-known/host-meta.json",function(t,n,i){if(t)return e(null);var r;try{r=JSON.parse(i)}catch(o){r=null}return e(r)})},function(e){r(a+n.host+"/.well-known/host-meta",function(t,n,i){if(t)return e(null);var r=o.parse(i);return e(r.toJSON())})}],function(e){e?t(null,e):t("no-host-meta")})}},function(e,t,n){(function(t){function i(e){e=e||{},this._genNonce=e.genNonce||o.genNonce,this._stage="initial"}var r=n(383),o=n(384),s={};i.Mechanism=i,i.prototype.name="SCRAM-SHA-1",i.prototype.clientFirst=!0,i.prototype.response=function(e){return s[this._stage](this,e)},i.prototype.challenge=function(e){var n=o.parse(e);return this._salt=new t(n.s||"","base64"),this._iterationCount=parseInt(n.i,10),this._nonce=n.r,this._verifier=n.v,this._error=n.e,this._challenge=e,this},s.initial=function(e,t){e._cnonce=e._genNonce();var n="";t.authzid&&(n="a="+o.saslname(t.authzid)),e._gs2Header="n,"+n+",";var i="r="+e._cnonce,r="n="+o.saslname(t.username);e._clientFirstMessageBare=r+","+i;var s=e._gs2Header+e._clientFirstMessageBare;return e._stage="challenge",s},s.challenge=function(e,n){var i=new t(e._gs2Header).toString("base64");e._clientFinalMessageWithoutProof="c="+i+",r="+e._nonce;var o,s,a;n.clientKey&&n.serverKey?(s=n.clientKey,a=n.serverKey):(o=n.saltedPassword||r.Hi(n.password,e._salt,e._iterationCount),s=r.HMAC(o,"Client Key"),a=r.HMAC(o,"Server Key"));var c=r.H(s),u=e._clientFirstMessageBare+","+e._challenge+","+e._clientFinalMessageWithoutProof,l=r.HMAC(c,u),h=r.XOR(s,l).toString("base64");e._serverSignature=r.HMAC(a,u);var f=e._clientFinalMessageWithoutProof+",p="+h;return e._stage="final",e.cache={saltedPassword:o,clientKey:s,serverKey:a},f},s["final"]=function(){return""},e.exports=i}).call(t,n(385).Buffer)},function(e,t,n){function i(e){for(var t={},n=e.split(/,(?=(?:[^"]|"[^"]*")*$)/),i=0,r=n.length;r>i;i++){var o=/(\w+)=["]?([^"]+)["]?$/.exec(n[i]);o&&(t[o[1]]=o[2])}return t}function r(){return s(16).toString("hex")}function o(e){e=e||{},this._genNonce=e.genNonce||r}var s=n(447),a=n(448);o.Mechanism=o,o.prototype.name="DIGEST-MD5",o.prototype.clientFirst=!1,o.prototype.response=function(e){if(this._completed)return void 0;var t=e.serviceType+"/"+e.host;e.serviceName&&e.host!==e.serviceName&&(t+="/"+e.serviceName);var n=e.realm||this._realm||"",i=this._genNonce(),r="00000001",o="auth",s="";s+='username="'+e.username+'"',n&&(s+=',realm="'+n+'"'),s+=',nonce="'+this._nonce+'"',s+=',cnonce="'+i+'"',s+=",nc="+r,s+=",qop="+o,s+=',digest-uri="'+t+'"';var c=a("md5").update(e.username).update(":").update(n).update(":").update(e.password).digest(),u=a("md5").update(c).update(":").update(this._nonce).update(":").update(i);e.authzid&&u.update(":").update(e.authzid),u=u.digest("hex");var l=a("md5").update("AUTHENTICATE:").update(t);("auth-int"===o||"auth-conf"===o)&&l.update(":00000000000000000000000000000000"),l=l.digest("hex");var h=a("md5").update(u).update(":").update(this._nonce).update(":").update(r).update(":").update(i).update(":").update(o).update(":").update(l).digest("hex");return s+=",response="+h,"utf-8"===this._charset&&(s+=",charset=utf-8"),e.authzid&&(s+='authzid="'+e.authzid+'"'),s},o.prototype.challenge=function(e){var t=i(e);return this._completed=!!t.rspauth,this._realm=t.realm,this._nonce=t.nonce,this._qop=(t.qop||"auth").split(","),this._stale=t.stale,this._maxbuf=parseInt(t.maxbuf)||65536,this._charset=t.charset,this._algo=t.algorithm,this._cipher=t.cipher,this._cipher&&this._cipher.split(","),this},e.exports=o},function(e,t,n){"use strict";var i=n(51).JID;e.exports=function(e){var t=e.utils;e.withIq=function(e){this.withDefinition("iq","jabber:client",e),this.withDefinition("iq","jabber:component:accept",e)},e.withMessage=function(e){this.withDefinition("message","jabber:client",e),this.withDefinition("message","jabber:component:accept",e)},e.withPresence=function(e){this.withDefinition("presence","jabber:client",e),this.withDefinition("presence","jabber:component:accept",e)},e.withStreamFeatures=function(e){this.withDefinition("features","http://etherx.jabber.org/streams",e)},e.withStanzaError=function(e){this.withDefinition("error","jabber:client",e),this.withDefinition("error","jabber:component:accept",e)},e.withDataForm=function(e){this.withDefinition("x","jabber:x:data",e)},e.withPubsubItem=function(e){this.withDefinition("item","http://jabber.org/protocol/pubsub",e),this.withDefinition("item","http://jabber.org/protocol/pubsub#event",e)},e.getMessage=function(){return this.getDefinition("message","jabber:client")},e.getPresence=function(){return this.getDefinition("presence","jabber:client")},e.getIq=function(){return this.getDefinition("iq","jabber:client")},e.getStreamError=function(){return this.getDefinition("error","http://etherx.jabber.org/streams")},e.getComponentMessage=function(){return this.getDefinition("message","jabber:component:accept")},e.getComponentPresence=function(){return this.getDefinition("presence","jabber:component:accept")},e.getComponentIq=function(){return this.getDefinition("iq","jabber:component:accept")},e.utils.jidAttribute=function(e,n){return{get:function(){var r=new i(t.getAttribute(this.xml,e));return n&&(r.prepped=!0),r},set:function(n){t.setAttribute(this.xml,e,(n||"").toString())}}},e.utils.jidSub=function(e,n,r){return{get:function(){var o=new i(t.getSubText(this.xml,e,n));return r&&(o.prepped=!0),o},set:function(i){t.setSubText(this.xml,e,n,(i||"").toString())}}},e.utils.tzoSub=t.field(function(e,n,i,r){var o,s,a,c=-1,u=t.getSubText(e,n,i);return u?("-"===u.charAt(0)&&(c=1,u=u.slice(1)),o=u.split(":"),s=parseInt(o[0],10),a=parseInt(o[1],10),(60*s+a)*c):r},function(e,n,i,r){var o,s,a="-";"number"==typeof r?(0>r&&(r=-r,a="+"),o=r/60,s=r%60,a+=(10>o?"0":"")+o+":"+(10>s?"0":"")+s):a=r,t.setSubText(e,n,i,a)})}},function(e,t,n){var i=n(56),r=n(91);e.exports=i.extend({dataTypes:r.dataTypes},{props:{jid:"jid",name:"string",node:"string",ver:"string",hash:"string",features:["array",!0],identities:["array",!0],extensions:["array",!0],chatStatesReceived:"boolean",chatStatesSent:"boolean",passwordRequired:"boolean",resolved:"boolean"},derived:{isLeaf:{deps:["identities"],fn:function(){return this.findCategoryType("hierarchy","leaf")}},isBranch:{deps:["identities"],fn:function(){return this.findCategoryType("hierarchy","branch")}},isCommandList:{deps:["identities"],fn:function(){return this.findCategoryType("automation","command-list")}},isCommand:{deps:["identities"],fn:function(){return this.findCategoryType("automation","command-node")}},isMobile:{deps:["identities"],fn:function(){return this.findCategoryType("client","phone")||this.findCategoryType("client","handheld")}},isMUC:{deps:["identities"],fn:function(){return this.findCategoryType("conference","text")}},isPasswordProtected:{deps:["features","passwordRequired"],fn:function(){if(this.passwordRequired)return!0;var e=this.findFeature("muc_passwordprotected");if(e)return!0;var t=this.findFeature("muc_unsecured");return t?!1:void 0}},supportsReceipts:{deps:["features"],fn:function(){return this.findFeature("urn:xmpp:receipts")}},supportsChatStates:{deps:["features","chatStatesSent","chatStatesReceived"],fn:function(){return this.chatStatesReceived||this.findFeature("http://jabber.org/protocol/chatstates")||!this.chatStatesSent}},supportsRTT:{deps:["features"],fn:function(){return this.findFeature("urn:xmpp:rtt:0")}},supportsJingle:{deps:["features"],fn:function(){return this.findFeature("urn:xmpp:jingle:1")}},supportsJingleMedia:{deps:["features","supportsJingle"],fn:function(){return this.supportsJingle&&this.findFeature("urn:xmpp:jingle:apps:rtp:1")&&this.findFeature("urn:xmpp:jingle:apps:rtp:audio")&&this.findFeature("urn:xmpp:jingle:apps:rtp:video")?!0:!1}},supportsJingleFileTransfer:{deps:["features","supportsJingle"],fn:function(){return this.supportsJingle&&this.findFeature("urn:xmpp:jingle:apps:file-transfer:3")?!0:!1}},supportsMessageCorrection:{deps:["features"],fn:function(){return this.findFeature("urn:xmpp:message-correct:0")}},supportsEntityTime:{deps:["features"],fn:function(){return this.findFeature("urn:xmpp:time")}},supportsAttention:{deps:["features"],fn:function(){return this.findFeature("urn:xmpp:attention:0")}},supportsHTML:{deps:["features"],fn:function(){return this.findFeature("http://jabber.org/protocol/xhtml-im")}},roomInfo:{deps:["extensions"],fn:function(){return this.findExtension("http://jabber.org/protocol/muc#roominfo")}},pubsubInfo:{deps:["extensions"],fn:function(){return this.findExtension("http://jabber.org/protocol/pubsub#meta-data")}}},findCategoryType:function(e,t){for(var n=0,i=this.identities.length;i>n;n++){var r=this.identities[n];if(r.category===e&&r.type===t)return!0}return!1},findFeature:function(e){return this.features.indexOf(e)>=0},findExtension:function(e){for(var t=this.extensions||[],n=0,i=t.length;i>n;n++)for(var r=t[n].fields||[],o=0,s=r.length;s>o;o++)if("FORM_TYPE"===r[o].name&&r[o].value===e)return t[n];return{}}})},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e){e.exports='<div class=fichat-message-code>{{code}} <button data-hook=expand-toggle class="fichat-message-code-expand message-expand"></button></div>'},function(e,t,n){function i(e,t,n){if(t!==t)return r(e,n);for(var i=n-1,o=e.length;++i<o;)if(e[i]===t)return i;return-1}var r=n(389);e.exports=i},function(e,t,n){function i(e,t){var n=e.data,i="string"==typeof t||r(t)?n.set.has(t):n.hash[t];return i?0:-1}var r=n(70);e.exports=i},function(e,t,n){(function(t){var i=n(390),r=n(391),o=n(111),s=o(s=t.Set)&&s,a=o(a=Object.create)&&a,c=a&&s?function(e){return new i(e)}:r(null);e.exports=c}).call(t,function(){return this}())},function(e){function t(){this.callbacks={}}e.exports=t,t.prototype.on=function(e){var t=3===arguments.length,n=t?arguments[1]:void 0,i=t?arguments[2]:arguments[1];return i._groupName=n,(this.callbacks[e]=this.callbacks[e]||[]).push(i),this},t.prototype.once=function(e){function t(){n.off(e,t),o.apply(this,arguments)}var n=this,i=3===arguments.length,r=i?arguments[1]:void 0,o=i?arguments[2]:arguments[1];return this.on(e,r,t),this},t.prototype.releaseGroup=function(e){var t,n,i,r;for(t in this.callbacks)for(r=this.callbacks[t],n=0,i=r.length;i>n;n++)r[n]._groupName===e&&(r.splice(n,1),n--,i--);return this},t.prototype.off=function(e,t){var n,i=this.callbacks[e];return i?1===arguments.length?(delete this.callbacks[e],this):(n=i.indexOf(t),i.splice(n,1),this):this},t.prototype.emit=function(e){var t,n,i,r=[].slice.call(arguments,1),o=this.callbacks[e],s=this.getWildcardCallbacks(e);if(o)for(i=o.slice(),t=0,n=i.length;n>t&&i[t];++t)i[t].apply(this,r);if(s)for(n=s.length,i=s.slice(),t=0,n=i.length;n>t&&i[t];++t)i[t].apply(this,[e].concat(r));return this},t.prototype.getWildcardCallbacks=function(e){var t,n,i=[];for(t in this.callbacks)n=t.split("*"),("*"===t||2===n.length&&e.slice(0,n[0].length)===n[0])&&(i=i.concat(this.callbacks[t]));return i}},function(e,t,n){function i(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=u[e])});16>r;)t[i+r++]=0;return t}function r(e,t){var n=t||0,i=c;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function o(e,t,n){var i=t&&n||0,o=t||[];e=e||{};var s=void 0!==e.clockseq?e.clockseq:d,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:m+1,u=a-p+(c-m)/1e4;if(0>u&&void 0===e.clockseq&&(s=s+1&16383),(0>u||a>p)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=a,m=c,d=s,a+=122192928e5;var l=(1e4*(268435455&a)+c)%4294967296;o[i++]=l>>>24&255,o[i++]=l>>>16&255,o[i++]=l>>>8&255,o[i++]=255&l;var h=a/4294967296*1e4&268435455;o[i++]=h>>>8&255,o[i++]=255&h,o[i++]=h>>>24&15|16,o[i++]=h>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(var g=e.node||f,v=0;6>v;v++)o[i+v]=g[v];return t?t:r(o)}function s(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;16>s;s++)t[i+s]=o[s];return t||r(o)}for(var a=n(404),c=[],u={},l=0;256>l;l++)c[l]=(l+256).toString(16).substr(1),u[c[l]]=l;var h=a(),f=[1|h[0],h[1],h[2],h[3],h[4],h[5]],d=16383&(h[6]<<8|h[7]),p=0,m=0,g=s;g.v1=o,g.v4=s,g.parse=i,g.unparse=r,e.exports=g},function(e,t,n){(function(e){!function(i,r){r(t,e,n(394))}(this,function(e,t,n){e=t.exports=n,e.Factory=n})}).call(t,n(278)(e))},[758,395],[758,396],[758,397],function(e,t,n){var i;!function(){function r(){return{keys:Object.keys,uniqueId:function(e){var t=++l+"";return e?e+t:t},has:function(e,t){return c.call(e,t)},each:function(e,t,n){if(null!=e)if(a&&e.forEach===a)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,r=e.length;r>i;i++)if(t.call(n,e[i],i,e)===s)return}else for(var o in e)if(this.has(e,o)&&t.call(n,e[o],o,e)===s)return},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var o,s={},a=Array.prototype.forEach,c=Object.prototype.hasOwnProperty,u=Array.prototype.slice,l=0,h=r();o={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var i=this,r=h.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,o,s,a,c,u,l;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:h.keys(this._events),a=0,c=s.length;c>a;a++)if(e=s[a],o=this._events[e]){if(this._events[e]=i=[],t||n)for(u=0,l=o.length;l>u;u++)r=o[u],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&p(n,t),i&&p(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}};var f=/\s+/,d=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(f.test(n)){for(var o=n.split(f),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},p=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},m={listenTo:"on",listenToOnce:"once"};h.each(m,function(e,t){o[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=h.uniqueId("l"));return r[o]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),o.bind=o.on,o.unbind=o.off,o.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return h.each(t,function(t){e[t]=this[t]},this),e},i=function(){return o}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this)},289,function(e,t,n){"use strict";t.decode=t.parse=n(400),t.encode=t.stringify=n(401)},function(e,t,n){"use strict";e.exports=n(409)},function(e,t,n){function i(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&a(e)?r(e,t):o(e,s(t,n,3))}var r=n(402),o=n(403),s=n(102),a=n(152);e.exports=i},function(e,t,n){(function(t){/* @preserve
	 * The MIT License (MIT)
	 * 
	 * Copyright (c) 2014 Petka Antonov
	 * 
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:</p>
	 * 
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 * 
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 * 
	 */
!function(t){e.exports=t()}(function(){var e,n,i;return function r(e,t,n){function i(s,a){if(!t[s]){if(!e[s]){var c="function"==typeof _dereq_&&_dereq_;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,r,e,t,n)}return t[s].exports}for(var o="function"==typeof _dereq_&&_dereq_,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t){"use strict";t.exports=function(e){function t(e){var t=new n(e),i=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),i}var n=e._SomePromiseArray;e.any=function(e){return t(e)},e.prototype.any=function(){return t(this)}}},{}],2:[function(e,n){"use strict";function i(){this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16);var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=s.isStatic?s(this.drainQueues):s}var r;try{throw new Error}catch(o){r=o}var s=e("./schedule.js"),a=e("./queue.js"),c="undefined"!=typeof t?t:void 0;i.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},i.prototype._withDomain=function(e){return void 0===c||null==c.domain||e.domain||(e=c.domain.bind(e)),e},i.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),e=this._withDomain(e),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},i.prototype.invokeLater=function(e,t,n){e=this._withDomain(e),this._lateQueue.push(e,t,n),this._queueTick()},i.prototype.invokeFirst=function(e,t,n){e=this._withDomain(e),this._normalQueue.unshift(e,t,n),this._queueTick()},i.prototype.invoke=function(e,t,n){e=this._withDomain(e),this._normalQueue.push(e,t,n),this._queueTick()},i.prototype.settlePromises=function(e){this._normalQueue._pushOne(e),this._queueTick()},i.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},i.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},i.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},i.prototype._reset=function(){this._isTickUsed=!1},n.exports=new i,n.exports.firstLineError=r},{"./queue.js":28,"./schedule.js":31}],3:[function(e,t){"use strict";t.exports=function(e,t,n){var i=function(e,t){this._reject(t)},r=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(i,i,null,this,e)},o=function(e,t){this._setBoundTo(e),this._isPending()&&this._resolveCallback(t.target)},s=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(i){var a=n(i),c=new e(t);c._propagateFrom(this,1);var u=this._target();if(a instanceof e){var l={promiseRejectionQueued:!1,promise:c,target:u,bindingPromise:a};u._then(t,r,c._progress,c,l),a._then(o,s,c._progress,c,l)}else c._setBoundTo(i),c._resolveCallback(u);return c},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=131072|this._bitField,this._boundTo=e):this._bitField=-131073&this._bitField},e.prototype._isBound=function(){return 131072===(131072&this._bitField)},e.bind=function(i,r){var o=n(i),s=new e(t);return o instanceof e?o._then(function(e){s._setBoundTo(e),s._resolveCallback(r)},s._reject,s._progress,s,null):(s._setBoundTo(i),s._resolveCallback(r)),s}}},{}],4:[function(e,t){"use strict";function n(){try{Promise===r&&(Promise=i)}catch(e){}return r}var i;"undefined"!=typeof Promise&&(i=Promise);var r=e("./promise.js")();r.noConflict=n,t.exports=r},{"./promise.js":23}],5:[function(e,t){"use strict";var n=Object.create;if(n){var i=n(null),r=n(null);i[" size"]=r[" size"]=0}t.exports=function(t){function n(e,n){var i;if(null!=e&&(i=e[n]),"function"!=typeof i){var r="Object "+a.classString(e)+" has no method '"+a.toString(n)+"'";throw new t.TypeError(r)}return i}function i(e){var t=this.pop(),i=n(e,t);return i.apply(e,this)}function r(e){return e[this]}function o(e){var t=+this;return 0>t&&(t=Math.max(0,t+e.length)),e[t]}{var s,a=e("./util.js"),c=a.canEvaluate;a.isIdentifier}t.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;++r)n[r-1]=arguments[r];return n.push(e),this._then(i,void 0,void 0,n,void 0)},t.prototype.get=function(e){var t,n="number"==typeof e;if(n)t=o;else if(c){var i=s(e);t=null!==i?i:r}else t=r;return this._then(t,void 0,void 0,e,void 0)}}},{"./util.js":38}],6:[function(e,t){"use strict";t.exports=function(t){var n=e("./errors.js"),i=e("./async.js"),r=n.CancellationError;t.prototype._cancel=function(e){if(!this.isCancellable())return this;for(var t,n=this;void 0!==(t=n._cancellationParent)&&t.isCancellable();)n=t;this._unsetCancellable(),n._target()._rejectCallback(e,!1,!0)},t.prototype.cancel=function(e){return this.isCancellable()?(void 0===e&&(e=new r),i.invokeLater(this._cancel,this,e),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=this.then();return e._unsetCancellable(),e},t.prototype.fork=function(e,t,n){var i=this._then(e,t,n,void 0,void 0);return i._setCancellable(),i._cancellationParent=void 0,i}}},{"./async.js":2,"./errors.js":13}],7:[function(e,n){"use strict";n.exports=function(){function n(e){this._parent=e;var t=this._length=1+(void 0===e?0:e._length);x(this,n),t>32&&this.uncycle()}function i(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}function r(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}function o(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,o=t[r],s=-1,a=i.length-1;a>=0;--a)if(i[a]===o){s=a;break}for(var a=s;a>=0;--a){var c=i[a];if(t[r]!==c)break;t.pop(),r--}t=i}}function s(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r=m.test(i)||"    (No stack trace)"===i,o=r&&b(i);r&&!o&&(v&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function a(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||m.test(i))break}return n>0&&(t=t.slice(n)),t}function c(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t))try{var i=JSON.stringify(e);t=i}catch(r){}0===t.length&&(t="(empty array)")}return"(<"+u(t)+">, no stack trace)"}function u(e){var t=41;return e.length<t?e:e.substr(0,t-3)+"..."}function l(e){var t=e.match(y);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}var h,f=e("./async.js"),d=e("./util.js"),p=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,m=null,g=null,v=!1;d.inherits(n,Error),n.prototype.uncycle=function(){var e=this._length;if(!(2>e)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;e=this._length=i;for(var i=e-1;i>=0;--i){var o=t[i].stack;void 0===n[o]&&(n[o]=i)}for(var i=0;e>i;++i){var s=t[i].stack,a=n[s];if(void 0!==a&&a!==i){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var c=i>0?t[i-1]:this;e-1>a?(c._parent=t[a+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=i-2;l>=0;--l)t[l]._length=u,u++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=n.parseStackAndMessage(e),a=t.message,c=[t.stack],u=this;void 0!==u;)c.push(s(u.stack.split("\n"))),u=u._parent;o(c),r(c),e.stack=i(a,c),d.notEnumerableProp(e,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?a(e):["    (No stack trace)"],{message:n,stack:s(t)}},n.formatAndLogError=function(e,t){if("undefined"!=typeof console){var n;if("object"==typeof e||"function"==typeof e){var i=e.stack;n=t+g(i,e)}else n=t+String(e);"function"==typeof h?h(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},n.unhandledRejection=function(e){n.formatAndLogError(e,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof x},n.fireRejectionEvent=function(e,t,i,r){var o=!1;try{"function"==typeof t&&(o=!0,"rejectionHandled"===e?t(r):t(i,r))}catch(s){f.throwLater(s)}var a=!1;try{a=_(e,i,r)}catch(s){a=!0,f.throwLater(s)}var c=!1;if(w)try{c=w(e.toLowerCase(),{reason:i,promise:r})}catch(s){c=!0,f.throwLater(s)}a||o||c||"unhandledRejection"!==e||n.formatAndLogError(i,"Unhandled rejection ")};var b=function(){return!1},y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(e,t){if(n.isSupported()){for(var i,r,o=e.stack.split("\n"),s=t.stack.split("\n"),a=-1,c=-1,u=0;u<o.length;++u){var h=l(o[u]);if(h){i=h.fileName,a=h.line;break}}for(var u=0;u<s.length;++u){var h=l(s[u]);if(h){r=h.fileName,c=h.line;break}}0>a||0>c||!i||!r||i!==r||a>=c||(b=function(e){if(p.test(e))return!0;var t=l(e);return t&&t.fileName===i&&a<=t.line&&t.line<=c?!0:!1})}};var w,x=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():c(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,m=e,g=t;var n=Error.captureStackTrace;return b=function(e){return p.test(e)},function(e,t){Error.stackTraceLimit=Error.stackTraceLimit+6,n(e,t),Error.stackTraceLimit=Error.stackTraceLimit-6}}var i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,g=t,v=!0,function(e){e.stack=(new Error).stack};var r;try{throw new Error}catch(o){r="stack"in o}return"stack"in i||!r?(g=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?c(t):t.toString()},null):(m=e,g=t,function(e){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),_=function(){if(d.isNode)return function(e,n,i){return"rejectionHandled"===e?t.emit(e,i):t.emit(e,n,i)};var e=!1,n=!0;try{var i=new self.CustomEvent("test");e=i instanceof CustomEvent}catch(r){}if(!e)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(r){n=!1}n&&(w=function(t,n){var i;return e?i=new self.CustomEvent(t,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(i=document.createEvent("CustomEvent"),i.initCustomEvent(t,!1,!0,n)),i?!self.dispatchEvent(i):!1});var s={};return s.unhandledRejection="onunhandledRejection".toLowerCase(),s.rejectionHandled="onrejectionHandled".toLowerCase(),function(e,t,n){var i=s[e],r=self[i];return r?("rejectionHandled"===e?r.call(self,n):r.call(self,t,n),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(h=function(e){console.warn(e)},d.isNode&&t.stderr.isTTY?h=function(e){t.stderr.write("[31m"+e+"[39m\n")}:d.isNode||"string"!=typeof(new Error).stack||(h=function(e){console.warn("%c"+e,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(e,t){"use strict";t.exports=function(t){function n(e,t,n){this._instances=e,this._callback=t,this._promise=n}function i(e,t){var n={},i=s(e).call(n,t);if(i===a)return i;var r=c(n);return r.length?(a.e=new u("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),a):i}var r=e("./util.js"),o=e("./errors.js"),s=r.tryCatch,a=r.errorObj,c=e("./es5.js").keys,u=o.TypeError;return n.prototype.doFilter=function(e){for(var n=this._callback,r=this._promise,o=r._boundTo,c=0,u=this._instances.length;u>c;++c){var l=this._instances[c],h=l===Error||null!=l&&l.prototype instanceof Error;if(h&&e instanceof l){var f=s(n).call(o,e);return f===a?(t.e=f.e,t):f}if("function"==typeof l&&!h){var d=i(l,e);if(d===a){e=a.e;break}if(d){var f=s(n).call(o,e);return f===a?(t.e=f.e,t):f}}}return t.e=e,t},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(e,t){"use strict";t.exports=function(e,t,n){function i(){this._trace=new t(o())}function r(){return n()?new i:void 0}function o(){var e=s.length-1;return e>=0?s[e]:void 0}var s=[];return i.prototype._pushContext=function(){n()&&void 0!==this._trace&&s.push(this._trace)},i.prototype._popContext=function(){n()&&void 0!==this._trace&&s.pop()},e.prototype._peekContext=o,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,r}},{}],10:[function(e,n){"use strict";n.exports=function(n,i){var r,o,s=e("./async.js"),a=e("./errors.js").Warning,c=e("./util.js"),u=c.canAttachTrace,l=!1||c.isNode&&(!!t.env.BLUEBIRD_DEBUG||"development"===t.env.NODE_ENV);return n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){i.fireRejectionEvent("rejectionHandled",r,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),i.fireRejectionEvent("unhandledRejection",o,e,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return l&&(this._trace=new i(this._peekContext())),this},n.prototype._attachExtraTrace=function(e,t){if(l&&u(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=i.parseStackAndMessage(e);e.stack=r.message+"\n"+r.stack.join("\n"),c.notEnumerableProp(e,"__stackCleaned__",!0)}}},n.prototype._warn=function(e){var t=new a(e),n=this._peekContext();if(n)n.attachExtraTrace(t);else{var r=i.parseStackAndMessage(t);t.stack=r.message+"\n"+r.stack.join("\n")}i.formatAndLogError(t,"")},n.onPossiblyUnhandledRejection=function(e){o="function"==typeof e?e:void 0},n.onUnhandledRejectionHandled=function(e){r="function"==typeof e?e:void 0},n.longStackTraces=function(){if(s.haveItemsQueued()&&l===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");l=i.isSupported()},n.hasLongStackTraces=function(){return l&&i.isSupported()},i.isSupported()||(n.longStackTraces=function(){},l=!1),function(){return l}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(e,t){"use strict";var n=e("./util.js"),i=n.isPrimitive,r=n.wrapsPrimitiveReceiver;t.exports=function(e){var t=function(){return this},n=function(){throw this},o=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype["return"]=e.prototype.thenReturn=function(e){return r&&i(e)?this._then(o(e,2),void 0,void 0,void 0,void 0):this._then(t,void 0,void 0,e,void 0)},e.prototype["throw"]=e.prototype.thenThrow=function(e){return r&&i(e)?this._then(o(e,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,e,void 0)}}},{"./util.js":38}],12:[function(e,t){"use strict";t.exports=function(e,t){var n=e.reduce;e.prototype.each=function(e){return n(this,e,null,t)},e.each=function(e,i){return n(e,i,null,t)}}},{}],13:[function(e,t){"use strict";function n(e,t){function n(i){return this instanceof n?(l(this,"message","string"==typeof i?i:t),l(this,"name",e),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(i)}return u(n,Error),n}function i(e){return this instanceof i?(l(this,"name","OperationalError"),l(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(l(this,"message",e.message),l(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new i(e)}var r,o,s=e("./es5.js"),a=s.freeze,c=e("./util.js"),u=c.inherits,l=c.notEnumerableProp,h=n("Warning","warning"),f=n("CancellationError","cancellation error"),d=n("TimeoutError","timeout error"),p=n("AggregateError","aggregate error");try{r=TypeError,o=RangeError}catch(m){r=n("TypeError","type error"),o=n("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(p.prototype[g[v]]=Array.prototype[g[v]]);s.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var b=0;p.prototype.toString=function(){var e=Array(4*b+1).join(" "),t="\n"+e+"AggregateError of:\n";b++,e=Array(4*b+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),o=0;o<r.length;++o)r[o]=e+r[o];i=r.join("\n"),t+=i+"\n"}return b--,t},u(i,Error);var y=Error.__BluebirdErrorTypes__;y||(y=a({CancellationError:f,TimeoutError:d,OperationalError:i,RejectionError:i,AggregateError:p}),l(Error,"__BluebirdErrorTypes__",y)),t.exports={Error:Error,TypeError:r,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:h}},{"./es5.js":14,"./util.js":38}],14:[function(e,t){var n=function(){"use strict";return void 0===this}();if(n)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,r={}.toString,o={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},a=function(e,t){return{value:e[t]}},c=function(e,t,n){return e[t]=n.value,e},u=function(e){return e},l=function(e){try{return Object(e).constructor.prototype}catch(t){return o}},h=function(e){try{return"[object Array]"===r.call(e)}catch(t){return!1}};t.exports={isArray:h,keys:s,names:s,defineProperty:c,getDescriptor:a,freeze:u,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}},{}],15:[function(e,t){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}},{}],16:[function(e,t){"use strict";t.exports=function(t,n,i){function r(){return this}function o(){throw this}function s(e){return function(){return e}}function a(e){return function(){throw e}}function c(e,t,n){var i;return i=f&&d(t)?n?s(t):a(t):n?r:o,e._then(i,p,void 0,t,void 0)}function u(e){var r=this.promise,o=this.handler,s=r._isBound()?o.call(r._boundTo):o();if(void 0!==s){var a=i(s,r);if(a instanceof t)return a=a._target(),c(a,e,r.isFulfilled())}return r.isRejected()?(n.e=e,n):e}function l(e){var n=this.promise,r=this.handler,o=n._isBound()?r.call(n._boundTo,e):r(e);if(void 0!==o){var s=i(o,n);if(s instanceof t)return s=s._target(),c(s,e,!0)}return e}var h=e("./util.js"),f=h.wrapsPrimitiveReceiver,d=h.isPrimitive,p=h.thrower;t.prototype._passThroughHandler=function(e,t){if("function"!=typeof e)return this.then();var n={promise:this,handler:e};return this._then(t?u:l,t?u:void 0,void 0,n,void 0)},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThroughHandler(e,!0)},t.prototype.tap=function(e){return this._passThroughHandler(e,!1)}}},{"./util.js":38}],17:[function(e,t){"use strict";t.exports=function(t,n,i,r){function o(e,n,i){for(var o=0;o<n.length;++o){i._pushContext();var s=h(n[o])(e);if(i._popContext(),s===l){i._pushContext();var a=t.reject(l.e);return i._popContext(),a}var c=r(s,i);if(c instanceof t)return c}return null}function s(e,n,r,o){var s=this._promise=new t(i);s._captureStackTrace(),this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(f):f}var a=e("./errors.js"),c=a.TypeError,u=e("./util.js"),l=u.errorObj,h=u.tryCatch,f=[];s.prototype.promise=function(){return this._promise},s.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},s.prototype._continue=function(e){if(e===l)return this._promise._rejectCallback(e.e,!1,!0);var n=e.value;if(e.done===!0)this._promise._resolveCallback(n);else{var i=r(n,this._promise);if(!(i instanceof t)&&(i=o(i,this._yieldHandlers,this._promise),null===i))return void this._throw(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));i._then(this._next,this._throw,void 0,this,null)}},s.prototype._throw=function(e){this._promise._attachExtraTrace(e),this._promise._pushContext();var t=h(this._generator["throw"]).call(this._generator,e);this._promise._popContext(),this._continue(t)},s.prototype._next=function(e){this._promise._pushContext();var t=h(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},t.coroutine=function(e,t){if("function"!=typeof e)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(t).yieldHandler,i=s,r=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new i(void 0,void 0,n,r);return o._generator=t,o._next(void 0),o.promise()}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");f.push(e)},t.spawn=function(e){if("function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var i=new s(e,this),r=i.promise();return i._run(t.spawn),r}}},{"./errors.js":13,"./util.js":38}],18:[function(e,t){"use strict";t.exports=function(t,n,i,r){{var o=e("./util.js");o.canEvaluate,o.tryCatch,o.errorObj}t.join=function(){var e,t=arguments.length-1;if(t>0&&"function"==typeof arguments[t]){e=arguments[t];var i}for(var r=arguments.length,o=new Array(r),s=0;r>s;++s)o[s]=arguments[s];e&&o.pop();var i=new n(o).promise();return void 0!==e?i.spread(e):i}}},{"./util.js":38}],19:[function(e,t){"use strict";t.exports=function(t,n,i,r,o){function s(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace(),this._callback=t,this._preservedValues=i===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:p,u.invoke(a,this,void 0)}function a(){this._init$(void 0,-2)}function c(e,t,n,i){var r="object"==typeof n&&null!==n?n.concurrency:0;return r="number"==typeof r&&isFinite(r)&&r>=1?r:0,new s(e,t,r,i)}var u=e("./async.js"),l=e("./util.js"),h=l.tryCatch,f=l.errorObj,d={},p=[];l.inherits(s,n),s.prototype._init=function(){},s.prototype._promiseFulfilled=function(e,n){var i=this._values,o=this.length(),s=this._preservedValues,a=this._limit;if(i[n]===d){if(i[n]=e,a>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(a>=1&&this._inFlight>=a)return i[n]=e,void this._queue.push(n);null!==s&&(s[n]=e);var c=this._callback,u=this._promise._boundTo;this._promise._pushContext();var l=h(c).call(u,e,n,o);if(this._promise._popContext(),l===f)return this._reject(l.e);var p=r(l,this._promise);if(p instanceof t){if(p=p._target(),p._isPending())return a>=1&&this._inFlight++,i[n]=d,p._proxyPromiseArray(this,n);if(!p._isFulfilled())return this._reject(p._reason());l=p._value()}i[n]=l}var m=++this._totalResolved;m>=o&&(null!==s?this._filter(i,s):this._resolve(i))},s.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},s.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,o=0;n>o;++o)e[o]&&(i[r++]=t[o]);i.length=r,this._resolve(i)},s.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return"function"!=typeof e?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):c(this,e,t,null).promise()},t.map=function(e,t,n,r){return"function"!=typeof t?i("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):c(e,t,n,r).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(e,t){"use strict";t.exports=function(t,n,i,r){var o=e("./util.js"),s=o.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var i=new t(n);i._captureStackTrace(),i._pushContext();var r=s(e).apply(this,arguments);return i._popContext(),i._resolveFromSyncValue(r),i}},t.attempt=t["try"]=function(e,i,a){if("function"!=typeof e)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var c=new t(n);c._captureStackTrace(),c._pushContext();var u=o.isArray(i)?s(e).apply(a,i):s(e).call(a,i);return c._popContext(),c._resolveFromSyncValue(u),c},t.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1,!0):this._resolveCallback(e,!0)}}},{"./util.js":38}],21:[function(e,t){"use strict";t.exports=function(t){function n(e,t){var n=this;if(!o.isArray(e))return i.call(n,e,t);var r=a(t).apply(n._boundTo,[null].concat(e));r===c&&s.throwLater(r.e)}function i(e,t){var n=this,i=n._boundTo,r=void 0===e?a(t).call(i,null):a(t).call(i,null,e);r===c&&s.throwLater(r.e)}function r(e,t){var n=this;if(!e){var i=n._target(),r=i._getCarriedStackTrace();r.cause=e,e=r}var o=a(t).call(n._boundTo,e);o===c&&s.throwLater(o.e)}var o=e("./util.js"),s=e("./async.js"),a=o.tryCatch,c=o.errorObj;t.prototype.nodeify=function(e,t){if("function"==typeof e){var o=i;void 0!==t&&Object(t).spread&&(o=n),this._then(o,r,void 0,this,e)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(e,t){"use strict";t.exports=function(t,n){var i=e("./util.js"),r=e("./async.js"),o=i.tryCatch,s=i.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[(e<<2)+e-5+2]},t.prototype._doProgressWith=function(e){var n=e.value,r=e.handler,a=e.promise,c=e.receiver,u=o(r).call(c,n);if(u===s){if(null!=u.e&&"StopProgressPropagation"!==u.e.name){var l=i.canAttachTrace(u.e)?u.e:new Error(i.toString(u.e));a._attachExtraTrace(l),a._progress(u.e)}}else u instanceof t?u._then(a._progress,null,null,a,void 0):a._progress(u)},t.prototype._progressUnchecked=function(e){for(var i=this._length(),o=this._progress,s=0;i>s;s++){var a=this._progressHandlerAt(s),c=this._promiseAt(s);if(c instanceof t)"function"==typeof a?r.invoke(this._doProgressWith,this,{handler:a,promise:c,receiver:this._receiverAt(s),value:e}):r.invoke(o,c,e);else{var u=this._receiverAt(s);"function"==typeof a?a.call(u,e,c):u instanceof n&&!u._isResolved()&&u._promiseProgressed(e,c)}}}}},{"./async.js":2,"./util.js":38}],23:[function(e,t){"use strict";t.exports=function(){function t(e){if("function"!=typeof e)throw new u("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==t)throw new u("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,e!==l&&this._resolveFromResolver(e)}function n(e){var n=new t(l);n._fulfillmentHandler0=e,n._rejectionHandler0=e,n._progressHandler0=e,n._promise0=e,n._receiver0=e,n._settledValue=e}var i=function(){return new u("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},r=function(){return new t.PromiseInspection(this._target())},o=function(e){return t.reject(new u(e))},s=e("./util.js"),a=e("./async.js"),c=e("./errors.js"),u=t.TypeError=c.TypeError;t.RangeError=c.RangeError,t.CancellationError=c.CancellationError,t.TimeoutError=c.TimeoutError,t.OperationalError=c.OperationalError,t.RejectionError=c.OperationalError,t.AggregateError=c.AggregateError;var l=function(){},h={},f={e:null},d=e("./thenables.js")(t,l),p=e("./promise_array.js")(t,l,d,o),m=e("./captured_trace.js")(),g=e("./debuggability.js")(t,m),v=e("./context.js")(t,m,g),b=e("./catch_filter.js")(f),y=e("./promise_resolver.js"),w=y._nodebackForPromise,x=s.errorObj,_=s.tryCatch;return t.prototype.toString=function(){return"[object Promise]"},t.prototype.caught=t.prototype["catch"]=function(e){var n=arguments.length;if(n>1){var i,r=new Array(n-1),o=0;for(i=0;n-1>i;++i){var s=arguments[i];if("function"!=typeof s)return t.reject(new u("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));r[o++]=s}r.length=o,e=arguments[i];var a=new b(r,e,this);return this._then(void 0,a.doFilter,void 0,a,void 0)}return this._then(void 0,e,void 0,void 0,void 0)},t.prototype.reflect=function(){return this._then(r,r,void 0,this,void 0)},t.prototype.then=function(e,t,n){if(g()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var i=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(i+=", "+s.classString(t)),this._warn(i)}return this._then(e,t,n,void 0,void 0)},t.prototype.done=function(e,t,n){var i=this._then(e,t,n,void 0,void 0);i._setIsFinal()},t.prototype.spread=function(e,t){return this.all()._then(e,t,void 0,h,void 0)},t.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},t.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},t.prototype.all=function(){return new p(this).promise()},t.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},t.is=function(e){return e instanceof t},t.fromNode=function(e){var n=new t(l),i=_(e)(w(n));return i===x&&n._rejectCallback(i.e,!0,!0),n},t.all=function(e){return new p(e).promise()},t.defer=t.pending=function(){var e=new t(l);return new y(e)},t.cast=function(e){var n=d(e);if(!(n instanceof t)){var i=n;n=new t(l),n._fulfillUnchecked(i)}return n},t.resolve=t.fulfilled=t.cast,t.reject=t.rejected=function(e){var n=new t(l);return n._captureStackTrace(),n._rejectCallback(e,!0),n},t.setScheduler=function(e){if("function"!=typeof e)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var t=a._schedule;return a._schedule=e,t},t.prototype._then=function(e,n,i,r,o){var s=void 0!==o,c=s?o:new t(l);s||(c._propagateFrom(this,5),c._captureStackTrace());var u=this._target();u!==this&&(void 0===r&&(r=this._boundTo),s||c._setIsMigrated());var h=u._addCallbacks(e,n,i,c,r);return u._isResolved()&&!u._isSettlePromisesQueued()&&a.invoke(u._settlePromiseAtPostResolution,u,h),
c},t.prototype._settlePromiseAtPostResolution=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(e)},t.prototype._length=function(){return 131071&this._bitField},t.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},t.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},t.prototype._setLength=function(e){this._bitField=-131072&this._bitField|131071&e},t.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},t.prototype._setRejected=function(){this._bitField=134217728|this._bitField},t.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},t.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},t.prototype._isFinal=function(){return(33554432&this._bitField)>0},t.prototype._cancellable=function(){return(67108864&this._bitField)>0},t.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},t.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},t.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},t.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},t.prototype._isMigrated=function(){return(4194304&this._bitField)>0},t.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[5*e-5+4];return void 0===t&&this._isBound()?this._boundTo:t},t.prototype._promiseAt=function(e){return 0===e?this._promise0:this[5*e-5+3]},t.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[5*e-5+0]},t.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[5*e-5+1]},t.prototype._migrateCallbacks=function(e,n){var i=e._fulfillmentHandlerAt(n),r=e._rejectionHandlerAt(n),o=e._progressHandlerAt(n),s=e._promiseAt(n),a=e._receiverAt(n);s instanceof t&&s._setIsMigrated(),this._addCallbacks(i,r,o,s,a)},t.prototype._addCallbacks=function(e,t,n,i,r){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=i,void 0!==r&&(this._receiver0=r),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=e),"function"==typeof t&&(this._rejectionHandler0=t),"function"==typeof n&&(this._progressHandler0=n);else{var s=5*o-5;this[s+3]=i,this[s+4]=r,"function"==typeof e&&(this[s+0]=e),"function"==typeof t&&(this[s+1]=t),"function"==typeof n&&(this[s+2]=n)}return this._setLength(o+1),o},t.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var i=5*n-5;this[i+3]=t,this[i+4]=e}this._setLength(n+1)},t.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},t.prototype._resolveCallback=function(e,n){if(!this._isFollowingOrFulfilledOrRejected()){if(e===this)return this._rejectCallback(i(),!1,!0);var r=d(e,this);if(!(r instanceof t))return this._fulfill(e);var o=1|(n?4:0);this._propagateFrom(r,o);var s=r._target();if(s._isPending()){for(var a=this._length(),c=0;a>c;++c)s._migrateCallbacks(this,c);this._setFollowing(),this._setLength(0),this._setFollowee(s)}else s._isFulfilled()?this._fulfillUnchecked(s._value()):this._rejectUnchecked(s._reason(),s._getCarriedStackTrace())}},t.prototype._rejectCallback=function(e,t,n){n||s.markAsOriginatingFromRejection(e);var i=s.ensureErrorObject(e),r=i===e;this._attachExtraTrace(i,t?r:!1),this._reject(e,r?void 0:i)},t.prototype._resolveFromResolver=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=_(e)(function(e){null!==t&&(t._resolveCallback(e),t=null)},function(e){null!==t&&(t._rejectCallback(e,n),t=null)});n=!1,this._popContext(),void 0!==i&&i===x&&null!==t&&(t._rejectCallback(i.e,!0,!0),t=null)},t.prototype._settlePromiseFromHandler=function(e,t,n,r){if(!r._isRejected()){r._pushContext();var o;if(o=t!==h||this._isRejected()?_(e).call(t,n):_(e).apply(this._boundTo,n),r._popContext(),o===x||o===r||o===f){var s=o===r?i():o.e;r._rejectCallback(s,!1,!0)}else r._resolveCallback(o)}},t.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},t.prototype._followee=function(){return this._rejectionHandler0},t.prototype._setFollowee=function(e){this._rejectionHandler0=e},t.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},t.prototype._propagateFrom=function(e,t){(1&t)>0&&e._cancellable()&&(this._setCancellable(),this._cancellationParent=e),(4&t)>0&&e._isBound()&&this._setBoundTo(e._boundTo)},t.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},t.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},t.prototype._settlePromiseAt=function(e){var n=this._promiseAt(e),i=n instanceof t;if(i&&n._isMigrated())return n._unsetIsMigrated(),a.invoke(this._settlePromiseAt,this,e);var r=this._isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,s=this._settledValue,c=this._receiverAt(e);this._clearCallbackDataAtIndex(e),"function"==typeof r?i?this._settlePromiseFromHandler(r,c,s,n):r.call(c,s,n):c instanceof p?c._isResolved()||(this._isFulfilled()?c._promiseFulfilled(s,n):c._promiseRejected(s,n)):i&&(this._isFulfilled()?n._fulfill(s):n._reject(s,o)),e>=4&&4===(31&e)&&a.invokeLater(this._setLength,this,0)},t.prototype._clearCallbackDataAtIndex=function(e){if(0===e)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var t=5*e-5;this[t+3]=this[t+4]=this[t+0]=this[t+1]=this[t+2]=void 0}},t.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},t.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},t.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},t.prototype._queueSettlePromises=function(){a.settlePromises(this),this._setSettlePromisesQueued()},t.prototype._fulfillUnchecked=function(e){if(e===this){var t=i();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._setFulfilled(),this._settledValue=e,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},t.prototype._rejectUncheckedCheckError=function(e){var t=s.ensureErrorObject(e);this._rejectUnchecked(e,t===e?void 0:t)},t.prototype._rejectUnchecked=function(e,t){if(e===this){var n=i();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=e,this._cleanValues(),this._isFinal()?void a.throwLater(function(e){throw"stack"in e&&a.invokeFirst(m.unhandledRejection,void 0,e),e},void 0===t?e:t):(void 0!==t&&t!==e&&this._setCarriedStackTrace(t),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},t.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var e=this._length(),t=0;e>t;t++)this._settlePromiseAt(t)},t._makeSelfResolutionError=i,e("./method.js")(t,l,d,o),e("./bind.js")(t,l,d),e("./finally.js")(t,f,d),e("./direct_resolve.js")(t),e("./synchronous_inspection.js")(t),e("./join.js")(t,p,d,l),t.Promise=t,e("./map.js")(t,p,o,d,l),e("./using.js")(t,o,d,v),e("./generators.js")(t,o,l,d),e("./nodeify.js")(t),e("./cancel.js")(t),e("./promisify.js")(t,l),e("./props.js")(t,p,d,o),e("./race.js")(t,l,d,o),e("./reduce.js")(t,p,o,d,l),e("./settle.js")(t,p),e("./call_get.js")(t),e("./some.js")(t,p,o),e("./progress.js")(t,p),e("./any.js")(t),e("./each.js")(t,l),e("./timers.js")(t,l),e("./filter.js")(t,l),s.toFastProperties(t),s.toFastProperties(t.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new t(l)),m.setBounds(a.firstLineError,s.lastLineError),t}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(e,t){"use strict";t.exports=function(t,n,i,r){function o(e){switch(e){case-2:return[];case-3:return{}}}function s(e){var i,r=this._promise=new t(n);e instanceof t&&(i=e,r._propagateFrom(i,5)),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var a=e("./util.js"),c=a.isArray;return s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function u(e,n){var s=i(this._values,this._promise);if(s instanceof t){if(s=s._target(),this._values=s,!s._isFulfilled())return s._isPending()?void s._then(u,this._reject,void 0,this,n):void this._reject(s._reason());if(s=s._value(),!c(s)){var a=new t.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(a)}}else if(!c(s))return void this._promise._reject(r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===s.length)return void(-5===n?this._resolveEmptyArray():this._resolve(o(n)));var l=this.getActualLength(s.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var h=this._promise,f=0;l>f;++f){var d=this._isResolved(),p=i(s[f],h);p instanceof t?(p=p._target(),d?p._unsetRejectionIsUnhandled():p._isPending()?p._proxyPromiseArray(this,f):p._isFulfilled()?this._promiseFulfilled(p._value(),f):this._promiseRejected(p._reason(),f)):d||this._promiseFulfilled(p,f)}},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype.__hardReject__=s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1,!0)},s.prototype._promiseProgressed=function(e,t){this._promise._progress({index:t,value:e})},s.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},s.prototype._promiseRejected=function(e){this._totalResolved++,this._reject(e)},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util.js":38}],25:[function(e,t){"use strict";function n(e){return e instanceof Error&&f.getPrototypeOf(e)===Error.prototype}function i(e){var t;if(n(e)){t=new l(e),t.name=e.name,t.message=e.message,t.stack=e.stack;for(var i=f.keys(e),r=0;r<i.length;++r){var o=i[r];d.test(o)||(t[o]=e[o])}return t}return s.markAsOriginatingFromRejection(e),e}function r(e){return function(t,n){if(null!==e){if(t){var r=i(a(t));e._attachExtraTrace(r),e._reject(r)}else if(arguments.length>2){for(var o=arguments.length,s=new Array(o-1),c=1;o>c;++c)s[c-1]=arguments[c];e._fulfill(s)}else e._fulfill(n);e=null}}}var o,s=e("./util.js"),a=s.maybeWrapAsError,c=e("./errors.js"),u=c.TimeoutError,l=c.OperationalError,h=s.haveGetters,f=e("./es5.js"),d=/^(?:name|message|stack|cause)$/;if(o=h?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=r(e),this.callback=this.asCallback},h){var p={get:function(){return r(this.promise)}};f.defineProperty(o.prototype,"asCallback",p),f.defineProperty(o.prototype,"callback",p)}o._nodebackForPromise=r,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(e){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(e)},o.prototype.reject=function(e){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(e)},o.prototype.progress=function(e){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(e)},o.prototype.cancel=function(e){this.promise.cancel(e)},o.prototype.timeout=function(){this.reject(new u("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},t.exports=o},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(e,t){"use strict";t.exports=function(t,n){function i(e){return!x.test(e)}function r(e){try{return e.__isPromisified__===!0}catch(t){return!1}}function o(e,t,n){var i=d.getDataPropertyOrDefault(e,t+n,w);return i?r(i):!1}function s(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var o=r.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===o)throw new b("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",t))}}function a(e,t,n,i){for(var a=d.inheritedDataKeys(e),c=[],u=0;u<a.length;++u){var l=a[u],h=e[l],f=i===_?!0:_(l,h,e);"function"!=typeof h||r(h)||o(e,l,t)||!i(l,h,e,f)||c.push(l,h)}return s(c,t,n),c}function c(e,i,r,o){function s(){var r=i;i===f&&(r=this);var o=new t(n);o._captureStackTrace();var s="string"==typeof c&&this!==a?this[c]:e,u=p(o);try{s.apply(r,m(arguments,u))}catch(l){o._rejectCallback(g(l),!0,!0)}return o}var a=function(){return this}(),c=e;return"string"==typeof c&&(e=o),s.__isPromisified__=!0,s}function u(e,t,n,i){for(var r=new RegExp(k(t)+"$"),o=a(e,t,r,n),s=0,c=o.length;c>s;s+=2){var u=o[s],l=o[s+1],h=u+t;e[h]=i===S?S(u,f,u,l,t):i(l,function(){return S(u,f,u,l,t)})}return d.toFastProperties(e),e}function l(e,t){return S(e,t,void 0,e)}var h,f={},d=e("./util.js"),p=e("./promise_resolver.js")._nodebackForPromise,m=d.withAppended,g=d.maybeWrapAsError,v=d.canEvaluate,b=e("./errors").TypeError,y="Async",w={__isPromisified__:!0},x=/^(?:length|name|arguments|caller|prototype|__isPromisified__)$/,_=function(e,t){return d.isIdentifier(e)&&"_"!==e.charAt(0)&&!d.isClass(t)},k=function(e){return e.replace(/([$])/,"\\$")},S=v?h:c;t.promisify=function(e,t){if("function"!=typeof e)throw new b("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(r(e))return e;var n=l(e,arguments.length<2?f:t);return d.copyDescriptors(e,n,i),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new b("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");t=Object(t);var n=t.suffix;"string"!=typeof n&&(n=y);var i=t.filter;"function"!=typeof i&&(i=_);var r=t.promisifier;if("function"!=typeof r&&(r=S),!d.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=d.inheritedDataKeys(e),s=0;s<o.length;++s){var a=e[o[s]];"constructor"!==o[s]&&d.isClass(a)&&(u(a.prototype,n,i,r),u(a,n,i,r))}return u(e,n,i,r)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(e,t){"use strict";t.exports=function(t,n,i,r){function o(e){for(var t=u.keys(e),n=t.length,i=new Array(2*n),r=0;n>r;++r){var o=t[r];i[r]=e[o],i[r+n]=o}this.constructor$(i)}function s(e){var n,s=i(e);return c(s)?(n=s instanceof t?s._then(t.props,void 0,void 0,void 0,void 0):new o(s).promise(),s instanceof t&&n._propagateFrom(s,4),n):r("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var a=e("./util.js"),c=a.isObject,u=e("./es5.js");a.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var i={},r=this.length(),o=0,s=this.length();s>o;++o)i[this._values[o+r]]=this._values[o];this._resolve(i)}},o.prototype._promiseProgressed=function(e,t){this._promise._progress({key:this._values[t+this.length()],value:e})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return s(this)},t.props=function(e){return s(e)}}},{"./es5.js":14,"./util.js":38}],28:[function(e,t){"use strict";function n(e,t,n,i,r){for(var o=0;r>o;++o)n[o+i]=e[o+t],e[o+t]=void 0}function i(e){this._capacity=e,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype._unshiftOne=function(e){var t=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,i=(n-1&t-1^t)-t;this[i]=e,this._front=i,this._length=this.length()+1},i.prototype.unshift=function(e,t,n){this._unshiftOne(n),this._unshiftOne(t),this._unshiftOne(e)},i.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var o=this._capacity-1;this[r+0&o]=e,this[r+1&o]=t,this[r+2&o]=n,this._length=i},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var i=this._front,r=this._length,o=i+r&t-1;n(this,0,this,t,o)},t.exports=i},{}],29:[function(e,t){"use strict";t.exports=function(t,n,i,r){function o(e,o){var c=i(e);if(c instanceof t)return a(c);if(!s(e))return r("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var u=new t(n);void 0!==o&&u._propagateFrom(o,5);for(var l=u._fulfill,h=u._reject,f=0,d=e.length;d>f;++f){var p=e[f];(void 0!==p||f in e)&&t.cast(p)._then(l,h,void 0,u,null)}return u}var s=e("./util.js").isArray,a=function(e){return e.then(function(t){return o(t,e)})};t.race=function(e){return o(e,void 0)},t.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(e,t){"use strict";t.exports=function(t,n,i,r,o){function s(e,n,i,s){this.constructor$(e),this._promise._captureStackTrace(),this._preservedValues=s===o?[]:null,this._zerothIsAccum=void 0===i,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var c=r(i,this._promise),l=!1,h=c instanceof t;h&&(c=c._target(),c._isPending()?c._proxyPromiseArray(this,-1):c._isFulfilled()?(i=c._value(),this._gotAccum=!0):(this._reject(c._reason()),l=!0)),h||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=i,l||u.invoke(a,this,void 0)}function a(){this._init$(void 0,-5)}function c(e,t,n,r){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new s(e,t,n,r);return o.promise()}var u=e("./async.js"),l=e("./util.js"),h=l.tryCatch,f=l.errorObj;l.inherits(s,n),s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},s.prototype._promiseFulfilled=function(e,n){var i=this._values;i[n]=e;var o,s=this.length(),a=this._preservedValues,c=null!==a,u=this._gotAccum,l=this._valuesPhase;if(!l)for(l=this._valuesPhase=new Array(s),o=0;s>o;++o)l[o]=0;if(o=l[n],0===n&&this._zerothIsAccum?(this._accum=e,this._gotAccum=u=!0,l[n]=0===o?1:2):-1===n?(this._accum=e,this._gotAccum=u=!0):0===o?l[n]=1:(l[n]=2,this._accum=e),u){for(var d,p=this._callback,m=this._promise._boundTo,g=this._reducingIndex;s>g;++g)if(o=l[g],2!==o){if(1!==o)return;if(e=i[g],this._promise._pushContext(),c?(a.push(e),d=h(p).call(m,e,g,s)):d=h(p).call(m,this._accum,e,g,s),this._promise._popContext(),d===f)return this._reject(d.e);var v=r(d,this._promise);if(v instanceof t){if(v=v._target(),v._isPending())return l[g]=4,v._proxyPromiseArray(this,g);if(!v._isFulfilled())return this._reject(v._reason());d=v._value()}this._reducingIndex=g+1,this._accum=d}else this._reducingIndex=g+1;this._resolve(c?a:this._accum)}},t.prototype.reduce=function(e,t){return c(this,e,t,null)},t.reduce=function(e,t,n,i){return c(e,t,n,i)}}},{"./async.js":2,"./util.js":38}],31:[function(e,n){"use strict";var i;e("./util.js").isNode?i=t.nextTick:"undefined"!=typeof MutationObserver?(i=function(e){var t=document.createElement("div"),n=new MutationObserver(e);return n.observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}},i.isStatic=!0):i="undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")},n.exports=i},{"./util.js":38}],32:[function(e,t){"use strict";t.exports=function(t,n){function i(e){this.constructor$(e)}var r=t.PromiseInspection,o=e("./util.js");o.inherits(i,n),i.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},i.prototype._promiseFulfilled=function(e,t){var n=new r;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)},i.prototype._promiseRejected=function(e,t){var n=new r;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)},t.settle=function(e){return new i(e).promise()},t.prototype.settle=function(){return new i(this).promise()}}},{"./util.js":38}],33:[function(e,t){"use strict";t.exports=function(t,n,i){function r(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(e,t){if((0|t)!==t||0>t)return i("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new r(e),o=n.promise();return n.setHowMany(t),n.init(),o}var s=e("./util.js"),a=e("./errors.js").RangeError,c=e("./errors.js").AggregateError,u=s.isArray;s.inherits(r,n),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=u(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(e){this._howMany=e},r.prototype._promiseFulfilled=function(e){this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))},r.prototype._promiseRejected=function(e){if(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()){for(var t=new c,n=this.length();n<this._values.length;++n)t.push(this._values[n]);this._reject(t)}},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(e){this._values.push(e)},r.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new a(t)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return o(e,t)},t.prototype.some=function(e){return o(this,e)},t._SomePromiseArray=r}},{"./errors.js":13,"./util.js":38}],34:[function(e,t){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValue=e._settledValue):(this._bitField=0,this._settledValue=void 0)}t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},t.prototype.isFulfilled=e.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},t.prototype.isRejected=e.prototype._isRejected=function(){return(134217728&this._bitField)>0},t.prototype.isPending=e.prototype._isPending=function(){return 0===(402653184&this._bitField)},t.prototype.isResolved=e.prototype._isResolved=function(){return(402653184&this._bitField)>0},e.prototype.isPending=function(){return this._target()._isPending()},e.prototype.isRejected=function(){return this._target()._isRejected()},e.prototype.isFulfilled=function(){return this._target()._isFulfilled()},e.prototype.isResolved=function(){return this._target()._isResolved()},e.prototype._value=function(){return this._settledValue},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},e.prototype.value=function(){var e=this._target();if(!e.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return e._settledValue},e.prototype.reason=function(){var e=this._target();if(!e.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return e._unsetRejectionIsUnhandled(),e._settledValue},e.PromiseInspection=t}},{}],35:[function(e,t){"use strict";t.exports=function(t,n){function i(e,i){if(u(e)){if(e instanceof t)return e;if(o(e)){var l=new t(n);return e._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}var h=a.tryCatch(r)(e);if(h===c){i&&i._pushContext();var l=t.reject(h.e);return i&&i._popContext(),l}if("function"==typeof h)return s(e,h,i)}return e}function r(e){return e.then}function o(e){return l.call(e,"_promise0")}function s(e,i,r){function o(n){l&&(e===n?l._rejectCallback(t._makeSelfResolutionError(),!1,!0):l._resolveCallback(n),l=null)}function s(e){l&&(l._rejectCallback(e,f,!0),l=null)}function u(e){l&&"function"==typeof l._progress&&l._progress(e)}var l=new t(n),h=l;r&&r._pushContext(),l._captureStackTrace(),r&&r._popContext();var f=!0,d=a.tryCatch(i).call(e,o,s,u);return f=!1,l&&d===c&&(l._rejectCallback(d.e,!0,!0),l=null),h}var a=e("./util.js"),c=a.errorObj,u=a.isObject,l={}.hasOwnProperty;return i}},{"./util.js":38}],36:[function(e,t){"use strict";t.exports=function(t,n){function i(e){var t=this;return t instanceof Number&&(t=+t),clearTimeout(t),e}function r(e){var t=this;throw t instanceof Number&&(t=+t),clearTimeout(t),e}var o=e("./util.js"),s=t.TimeoutError,a=function(e,t){if(e.isPending()){"string"!=typeof t&&(t="operation timed out");var n=new s(t);o.markAsOriginatingFromRejection(n),e._attachExtraTrace(n),e._cancel(n)}},c=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,i){if(void 0===i){i=e,e=void 0;var r=new t(n);return setTimeout(function(){r._fulfill()},i),r}return i=+i,t.resolve(e)._then(c,null,null,i,void 0)};t.prototype.delay=function(e){return u(this,e)},t.prototype.timeout=function(e,t){e=+e;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){a(n,t)},e);return n._then(i,r,void 0,o,void 0)}}},{"./util.js":38}],37:[function(e,t){"use strict";t.exports=function(t,n,i,r){function o(e){for(var n=e.length,i=0;n>i;++i){var r=e[i];if(r.isRejected())return t.reject(r.error());e[i]=r._settledValue}return e}function s(e){setTimeout(function(){throw e},0)}function a(e){var t=i(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}function c(e,n){function r(){if(o>=c)return u.resolve();var l=a(e[o++]);if(l instanceof t&&l._isDisposable()){try{l=i(l._getDisposer().tryDispose(n),e.promise)}catch(h){return s(h)}if(l instanceof t)return l._then(r,s,null,null,null)}r()}var o=0,c=e.length,u=t.defer();return r(),u.promise}function u(e){var t=new g;return t._settledValue=e,t._bitField=268435456,c(this,t).thenReturn(e)}function l(e){var t=new g;return t._settledValue=e,t._bitField=134217728,c(this,t).thenThrow(e)}function h(e,t,n){this._data=e,this._promise=t,this._context=n}function f(e,t,n){this.constructor$(e,t,n)}function d(e){return h.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}var p=e("./errors.js").TypeError,m=e("./util.js").inherits,g=t.PromiseInspection;h.prototype.data=function(){return this._data},h.prototype.promise=function(){return this._promise},h.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},h.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=null!==t?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},h.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},m(f,h),f.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)},t.using=function(){var e=arguments.length;if(2>e)return n("you must pass at least 2 arguments to Promise.using");var r=arguments[e-1];if("function"!=typeof r)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");e--;for(var s=new Array(e),a=0;e>a;++a){var c=arguments[a];if(h.isDisposer(c)){var f=c;c=c.promise(),c._setDisposable(f)}else{var p=i(c);p instanceof t&&(c=p._then(d,null,null,{resources:s,index:a},void 0))}s[a]=c}var m=t.settle(s).then(o).then(function(e){m._pushContext();var t;try{t=r.apply(void 0,e)}finally{m._popContext()}return t})._then(u,l,void 0,s,void 0);return s.promise=m,m},t.prototype._setDisposable=function(e){this._bitField=262144|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(262144&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new f(e,this,r());throw new p}}},{"./errors.js":13,"./util.js":38}],38:[function(e,n,i){"use strict";function r(){try{return j.apply(this,arguments)}catch(e){return C.e=e,C}}function o(e){return j=e,r}function s(e){return null==e||e===!0||e===!1||"string"==typeof e||"number"==typeof e}function a(e){return!s(e)}function c(e){return s(e)?new Error(v(e)):e}function u(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;i>n;++n)r[n]=e[n];return r[n]=t,r}function l(e,t,n){if(!k.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var i=Object.getOwnPropertyDescriptor(e,t);return null!=i?null==i.get&&null==i.set?i.value:n:void 0}function h(e,t,n){if(s(e))return e;var i={value:n,configurable:!0,enumerable:!1,writable:!0};return k.defineProperty(e,t,i),e}function f(e){throw e}function d(e){try{if("function"==typeof e){var t=k.names(e.prototype);return k.isES5?t.length>1:t.length>0&&!(1===t.length&&"constructor"===t[0])}return!1}catch(n){return!1}}function p(e){function t(){}return t.prototype=e,t}function m(e){return L.test(e)}function g(e,t,n){for(var i=new Array(e),r=0;e>r;++r)i[r]=t+r+n;return i}function v(e){try{return e+""}catch(t){return"[no string representation]"}}function b(e){try{h(e,"isOperational",!0)}catch(t){}}function y(e){return null==e?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function w(e){return e instanceof Error&&k.propertyIsWritable(e,"stack")}function x(e){return{}.toString.call(e)}function _(e,t,n){for(var i=k.names(e),r=0;r<i.length;++r){var o=i[r];n(o)&&k.defineProperty(t,o,k.getDescriptor(e,o))}}var k=e("./es5.js"),S="undefined"==typeof navigator,A=function(){try{var e={};return k.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(t){return!1}}(),C={e:{}},j,E=function(e,t){function n(){
this.constructor=e,this.constructor$=t;for(var n in t.prototype)i.call(t.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=t.prototype[n])}var i={}.hasOwnProperty;return n.prototype=t.prototype,e.prototype=new n,e.prototype},I=function(){return"string"!==this}.call("string"),T=function(){if(k.isES5){var e=Object.prototype,t=Object.getOwnPropertyNames;return function(n){for(var i=[],r=Object.create(null);null!=n&&n!==e;){var o;try{o=t(n)}catch(s){return i}for(var a=0;a<o.length;++a){var c=o[a];if(!r[c]){r[c]=!0;var u=Object.getOwnPropertyDescriptor(n,c);null!=u&&null==u.get&&null==u.set&&i.push(c)}}n=k.getPrototypeOf(n)}return i}}return function(e){var t=[];for(var n in e)t.push(n);return t}}(),L=/^[a-z$_][a-z$_0-9]*$/i,M=function(){return"stack"in new Error?function(e){return w(e)?e:new Error(v(e))}:function(e){if(w(e))return e;try{throw new Error(v(e))}catch(t){return t}}}(),D={isClass:d,isIdentifier:m,inheritedDataKeys:T,getDataPropertyOrDefault:l,thrower:f,isArray:k.isArray,haveGetters:A,notEnumerableProp:h,isPrimitive:s,isObject:a,canEvaluate:S,errorObj:C,tryCatch:o,inherits:E,withAppended:u,maybeWrapAsError:c,wrapsPrimitiveReceiver:I,toFastProperties:p,filledRange:g,toString:v,canAttachTrace:w,ensureErrorObject:M,originatesFromRejection:y,markAsOriginatingFromRejection:b,classString:x,copyDescriptors:_,isNode:"undefined"!=typeof t&&"[object process]"===x(t).toLowerCase()};try{throw new Error}catch(R){D.lastLineError=R}n.exports=D},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(t,n(26))},function(e){"use strict";e.exports=function(e){var t=e.define({name:"streamFeatures",namespace:"http://etherx.jabber.org/streams",element:"features",topLevel:!0}),n=e.define({name:"rosterVersioning",namespace:"urn:xmpp:features:rosterver",element:"ver"}),i=e.define({name:"subscriptionPreApproval",namespace:"urn:xmpp:features:pre-approval",element:"sub"});e.extend(t,n),e.extend(t,i)}},function(e){"use strict";var t="urn:ietf:params:xml:ns:xmpp-sasl",n=["aborted","account-disabled","credentials-expired","encryption-required","incorrect-encoding","invalid-authzid","invalid-mechanism","malformed-request","mechanism-too-weak","not-authorized","temporary-auth-failure"];e.exports=function(e){var i=e.utils,r=e.define({name:"sasl",namespace:t,element:"mechanisms",fields:{mechanisms:i.multiTextSub(t,"mechanism")}});e.define({name:"saslAuth",eventName:"sasl:auth",namespace:t,element:"auth",topLevel:!0,fields:{value:i.b64Text(),mechanism:i.attribute("mechanism")}}),e.define({name:"saslChallenge",eventName:"sasl:challenge",namespace:t,element:"challenge",topLevel:!0,fields:{value:i.b64Text()}}),e.define({name:"saslResponse",eventName:"sasl:response",namespace:t,element:"response",topLevel:!0,fields:{value:i.b64Text()}}),e.define({name:"saslAbort",eventName:"sasl:abort",namespace:t,element:"abort",topLevel:!0}),e.define({name:"saslSuccess",eventName:"sasl:success",namespace:t,element:"success",topLevel:!0,fields:{value:i.b64Text()}}),e.define({name:"saslFailure",eventName:"sasl:failure",namespace:t,element:"failure",topLevel:!0,fields:{lang:{get:function(){return this._lang||""},set:function(e){this._lang=e}},condition:i.enumSub(t,n),$text:{get:function(){return i.getSubLangText(this.xml,t,"text",this.lang)}},text:{get:function(){var e=this.$text;return e[this.lang]||""},set:function(e){i.setSubLangText(this.xml,t,"text",e,this.lang)}}}}),e.withStreamFeatures(function(t){e.extend(t,r)})}},function(e){"use strict";var t="urn:xmpp:sm:3";e.exports=function(e){var n=e.utils,i=e.define({name:"streamManagement",namespace:t,element:"sm"});e.define({name:"smEnable",eventName:"stream:management:enable",namespace:t,element:"enable",topLevel:!0,fields:{resume:n.boolAttribute("resume")}}),e.define({name:"smEnabled",eventName:"stream:management:enabled",namespace:t,element:"enabled",topLevel:!0,fields:{id:n.attribute("id"),resume:n.boolAttribute("resume")}}),e.define({name:"smResume",eventName:"stream:management:resume",namespace:t,element:"resume",topLevel:!0,fields:{h:n.numberAttribute("h",!1,0),previd:n.attribute("previd")}}),e.define({name:"smResumed",eventName:"stream:management:resumed",namespace:t,element:"resumed",topLevel:!0,fields:{h:n.numberAttribute("h",!1,0),previd:n.attribute("previd")}}),e.define({name:"smFailed",eventName:"stream:management:failed",namespace:t,element:"failed",topLevel:!0}),e.define({name:"smAck",eventName:"stream:management:ack",namespace:t,element:"a",topLevel:!0,fields:{h:n.numberAttribute("h",!1,0)}}),e.define({name:"smRequest",eventName:"stream:management:request",namespace:t,element:"r",topLevel:!0}),e.withStreamFeatures(function(t){e.extend(t,i)})}},function(e){"use strict";var t="urn:ietf:params:xml:ns:xmpp-bind";e.exports=function(e){var n=e.utils,i=e.define({name:"bind",namespace:t,element:"bind",fields:{resource:n.textSub(t,"resource"),jid:n.jidSub(t,"jid")}});e.withIq(function(t){e.extend(t,i)}),e.withStreamFeatures(function(t){e.extend(t,i)})}},function(e){"use strict";var t="urn:ietf:params:xml:ns:xmpp-session";e.exports=function(e){var n=e.utils,i=e.define({name:"session",namespace:t,element:"session",fields:{required:n.boolSub(t,"required"),optional:n.boolSub(t,"optional")}});e.withIq(function(t){e.extend(t,i)}),e.withStreamFeatures(function(t){e.extend(t,i)})}},function(e,t,n){(function(t){"use strict";function i(e,n){var i=this;o.call(this),i.sm=e,i.closing=!1,i.stanzas={Open:n.getDefinition("open","urn:ietf:params:xml:ns:xmpp-framing",!0),Close:n.getDefinition("close","urn:ietf:params:xml:ns:xmpp-framing",!0),StreamError:n.getStreamError()},i.sendQueue=s.queue(function(e,n){i.conn&&("string"!=typeof e&&(e=e.toString()),e=new t(e,"utf8").toString(),i.emit("raw:outgoing",e),i.conn.readyState===c&&i.conn.send(e)),n()},1),i.on("connected",function(){i.send(i.startHeader())}),i.on("raw:incoming",function(e){var t,r;if(e=e.trim(),""!==e){try{t=n.parse(e)}catch(o){return r=new this.stanzas.StreamError({condition:"invalid-xml"}),i.emit("stream:error",r,o),i.send(r),i.disconnect()}if("openStream"===t._name)return i.hasStream=!0,i.stream=t,i.emit("stream:start",t.toJSON());if("closeStream"===t._name)return i.emit("stream:end"),i.disconnect();!t.lang&&i.stream&&(t.lang=i.stream.lang),i.emit("stream:data",t)}})}var r=n(67),o=n(283),s=n(63),a=n(388)&&n(388).Client?n(388).Client:window.WebSocket,c=1;r.inherits(i,o),i.prototype.connect=function(e){var n=this;n.config=e,n.hasStream=!1,n.closing=!1,n.conn=new a(e.wsURL,"xmpp"),n.conn.onerror=function(e){e.preventDefault(),n.emit("disconnected",n)},n.conn.onclose=function(){n.emit("disconnected",n)},n.conn.onopen=function(){n.sm.started=!1,n.emit("connected",n)},n.conn.onmessage=function(e){n.emit("raw:incoming",new t(e.data,"utf8").toString())}},i.prototype.startHeader=function(){return new this.stanzas.Open({version:this.config.version||"1.0",lang:this.config.lang||"en",to:this.config.server})},i.prototype.closeHeader=function(){return new this.stanzas.Close},i.prototype.disconnect=function(){this.conn&&!this.closing?(this.closing=!0,this.send(this.closeHeader())):(this.hasStream=!1,this.stream=void 0,this.conn.readyState===c&&this.conn.close(),this.conn=void 0)},i.prototype.restart=function(){var e=this;e.hasStream=!1,e.send(this.startHeader())},i.prototype.send=function(e){this.sendQueue.push(e)},e.exports=i}).call(t,n(385).Buffer)},function(e){"use strict";var t="urn:ietf:params:xml:ns:xmpp-framing";e.exports=function(e){var n=e.utils;e.define({name:"openStream",namespace:t,element:"open",topLevel:!0,fields:{lang:n.langAttribute(),id:n.attribute("id"),version:n.attribute("version","1.0"),to:n.jidAttribute("to",!0),from:n.jidAttribute("from",!0)}}),e.define({name:"closeStream",namespace:t,element:"close",topLevel:!0,fields:{seeOtherURI:n.attribute("see-other-uri")}})}},function(e,t,n){"use strict";function i(e,t){function n(e){return[i.streamStart,e,i.streamEnd].join("")}o.call(this,e,t);var i=this;i.on("connected",function(){i.streamStart='<stream:stream xmlns:stream="http://etherx.jabber.org/streams">',i.streamEnd="</stream:stream>"}),i.off("raw:incoming"),i.on("raw:incoming",function(e){var o,s,a;if(e=e.trim(),e=e.replace(/^(\s*<\?.*\?>\s*)*/,""),""!==e){if(e.match(i.streamEnd))return i.disconnect();if(i.hasStream)try{o=t.parse(n(e))}catch(c){return a=new this.stanzas.StreamError({condition:"invalid-xml"}),i.emit("stream:error",a,c),i.send(a),i.disconnect()}else{var u=e.match(/^<(\S+:)?(\S+) /);i.streamStart=e,i.streamEnd="</"+(u[1]||"")+u[2]+">",s=!1;try{o=t.parse(e+i.streamEnd)}catch(c){try{o=t.parse(e),s=!0}catch(l){return a=new this.stanzas.StreamError({condition:"invalid-xml"}),i.emit("stream:error",a,l),i.send(a),i.disconnect()}}i.hasStream=!0,i.stream=o,i.emit("stream:start",o)}r(o._extensions,function(e){!e.lang&&i.stream&&(e.lang=i.stream.lang),i.emit("stream:data",e)}),s&&i.emit("stream:end")}})}var r=n(150),o=n(300),s=n(67);s.inherits(i,o),i.prototype.startHeader=function(){return["<stream:stream",'xmlns:stream="http://etherx.jabber.org/streams"','xmlns="jabber:client"','version="'+(this.config.version||"1.0")+'"','xml:lang="'+(this.config.lang||"en")+'"','to="'+this.config.server+'">'].join(" ")},i.prototype.closeHeader=function(){return"</stream:stream>"},e.exports=i},function(e){"use strict";e.exports=function(e){var t=e.utils;e.define({name:"stream",namespace:"http://etherx.jabber.org/streams",element:"stream",fields:{lang:t.langAttribute(),id:t.attribute("id"),version:t.attribute("version","1.0"),to:t.jidAttribute("to",!0),from:t.jidAttribute("from",!0)}})}},function(e,t,n){(function(t,i){"use strict";function r(){}function o(e,t,n,i){i=i||0;var s=h(e).cancellable().timeout(1e3*(t||20));return s.spread(function(e,t){if(e.statusCode<200||e.statusCode>=400)throw new r("HTTP Status Error");return t})["catch"](l.TimeoutError,function(){throw new r("Dead Connection, exceeded timeout limit")})["catch"](function(){if(n>i)return l.delay(100).then(function(){return o(e,t,n,i+1)});throw new r("Dead Connection, exceeded retry limit")})}function s(e,t){var n=this;f.call(this),n.sm=e,n.stanzas={BOSH:t.getDefinition("body","http://jabber.org/protocol/httpbind"),StreamError:t.getStreamError()},n.sendQueue=[],n.requests=[],n.maxRequests=2,n.sid="",n.on("raw:incoming",function(e){if(e=e.trim(),""!==e){var i,r;try{i=t.parse(e,n.stanzas.BOSH)}catch(o){return r=new n.stanzas.StreamError({condition:"invalid-xml"}),n.emit("stream:error",r,o),n.send(r),n.disconnect()}n.hasStream||(n.hasStream=!0,n.stream={id:i.sid,lang:i.lang||"en",version:i.version||"1.0",to:i.to,from:i.from},n.sid=i.sid,n.maxRequests=i.requests);var s=i.payload;s.forEach(function(e){e.lang||(e.lang=n.stream.lang),n.emit("stream:data",e)}),"terminate"===i.type&&(n.rid=void 0,n.sid=void 0,n.emit("bosh:terminate",i),n.emit("stream:end"),n.emit("disconnected",n))}})}var a=n(151),c=n(337),u=n(67),l=n(294),h=l.promisify(n(97)),f=n(283);u.inherits(r,Error),u.inherits(s,f),s.prototype.connect=function(e){var t=this;t.config=a({rid:Math.ceil(9999999999*Math.random()),wait:30,maxRetries:5},e),t.hasStream=!1,t.sm.started=!1,t.url=e.boshURL,t.rid=t.config.rid,t.requests=[],t.rid++,t.request(new t.stanzas.BOSH({version:t.config.version||"1.0",to:t.config.server,lang:t.config.lang||"en",wait:t.config.wait,ver:"1.6",hold:1}))},s.prototype.disconnect=function(){this.hasStream?(this.rid++,this.request(new this.stanzas.BOSH({type:"terminate"}))):(this.requests.forEach(function(e){e.request.cancel()}),this.stream=void 0,this.sid=void 0,this.rid=void 0,this.emit("disconnected",this))},s.prototype.restart=function(){var e=this;e.rid++,e.request(new e.stanzas.BOSH({to:e.config.server,lang:e.config.lang||"en",restart:"true"}))},s.prototype.send=function(e){var n=this;n.hasStream&&(n.sendQueue.push(e),t.nextTick(n.longPoll.bind(n)))},s.prototype.longPoll=function(){var e=0===this.requests.length,t=this.sendQueue.length>0&&this.requests.length<this.maxRequests;if(this.sid&&(e||t)){var n=this.sendQueue;this.sendQueue=[],this.rid++,this.request(new this.stanzas.BOSH({payload:n}))}},s.prototype.request=function(e){var n=this,s={id:n.rid,request:null};e.rid=n.rid,e.sid=n.sid;var a=new i(e.toString(),"utf8").toString();n.emit("raw:outgoing",a),n.requests.push(s);var u=o({uri:n.url,body:a,method:"POST",strictSSL:!0},1.5*n.config.wait,this.config.maxRetries);return s.request=u,u.then(function(e){n.emit("raw:incoming",new i(e,"utf8").toString())})["catch"](r,function(e){n.hasStream=!1;var t=new n.stanzas.StreamError({condition:"connection-timeout"});n.emit("stream:error",t,e),n.disconnect()})["catch"](l.CancellationError,function(){})["finally"](function(){n.requests=c(n.requests,function(e){return e.id!==s.id}),"terminate"!==e.type&&t.nextTick(function(){t.nextTick(n.longPoll.bind(n))})})},e.exports=s}).call(t,n(26),n(385).Buffer)},function(e){"use strict";var t="http://jabber.org/protocol/httpbind",n="urn:xmpp:xbosh";e.exports=function(e){var i=e.utils;e.define({name:"bosh",namespace:t,element:"body",prefixes:{xmpp:n},fields:{accept:i.attribute("accept"),ack:i.numberAttribute("ack"),authid:i.attribute("authid"),charsets:i.attribute("charsets"),condition:i.attribute("condition"),content:i.attribute("content"),from:i.jidAttribute("from",!0),hold:i.numberAttribute("hold"),inactivity:i.numberAttribute("inactivity"),key:i.attribute("key"),maxpause:i.numberAttribute("maxpause"),newKey:i.attribute("newkey"),pause:i.numberAttribute("pause"),polling:i.numberAttribute("polling"),resport:i.numberAttribute("report"),requests:i.numberAttribute("requests"),rid:i.numberAttribute("rid"),sid:i.attribute("sid"),stream:i.attribute("stream"),time:i.attribute("time"),to:i.jidAttribute("to",!0),type:i.attribute("type"),ver:i.attribute("ver"),wait:i.numberAttribute("wait"),uri:i.textSub(t,"uri"),lang:i.langAttribute(),version:i.attribute("xmpp:version","1.0"),restart:i.attribute("xmpp:restart"),restartLogic:i.boolAttribute("xmpp:restartLogic"),payload:{get:function(){for(var t=[],n=0,i=this.xml.childNodes.length;i>n;n++){var r=e.build(this.xml.childNodes[n]);void 0!==r&&t.push(r)}return t},set:function(e){var t=this;e.forEach(function(e){t.xml.appendChild(e.xml)})}}}})}},function(e,t){(function(t){e.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}}).call(t,function(){return this}())},function(e,t,n){var i=n(458);e.exports=function(e){return i(e,1)}},function(e,t){(function(t){var n="undefined"!=typeof window?window:t;n.__ampIdCounter||(n.__ampIdCounter=0),e.exports=function(e){var t=++n.__ampIdCounter+"";return e?e+t:t}}).call(t,function(){return this}())},[737,459,460,461],function(e,t,n){var i=n(462),r=n(463),o=n(464),s=n(465),a=n(466),c=n(309);e.exports=function(e){return null==e?!0:i(e)||r(e)||o(e)?0===e.length:s(e)?0===e||a(e):0!==c(e).length?!1:!0}},[739,309,467],[740,468,469],[741,470],function(e,t,n){"use strict";var i=n(455),r=n(405),o=n(406),s=n(407),a=n(408);e.exports=function(e,t){var n=t||{},c=a({emojies:n.defs||i,shortcuts:n.shortcuts||r,enabled:n.enabled||[]});e.renderer.rules.emoji=o,e.core.ruler.push("emoji",s(e,c.emojies,c.shortcuts,c.scanRE))}},function(e){function t(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}e.exports=t,t.proto=t(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return t(this)},configurable:!0})})},[753,450,451],function(e){e.exports=function(e){var t=typeof e;return!!e&&("function"===t||"object"===t)}},[742,485],[743,487,486],197,function(e,t,n){function i(e){var t=o(e)?e.length:void 0;return r(t)&&c.call(e)==s||!1}var r=n(182),o=n(259),s="[object Arguments]",a=Object.prototype,c=a.toString;e.exports=i},function(e,t,n){function i(e){if(null==e)return[];c(e)||(e=Object(e));var t=e.length;t=t&&a(t)&&(o(e)||u.nonEnumArgs&&r(e))&&t||0;for(var n=e.constructor,i=-1,l="function"==typeof n&&n.prototype===e,f=Array(t),d=t>0;++i<t;)f[i]=i+"";for(var p in e)d&&s(p,t)||"constructor"==p&&(l||!h.call(e,p))||f.push(p);return f}var r=n(321),o=n(152),s=n(185),a=n(182),c=n(70),u=n(323),l=Object.prototype,h=l.hasOwnProperty;e.exports=i},function(e,t,n){(function(t){var i=n(111),r=/\bthis\b/,o=Object.prototype,s=(s=t.window)&&s.document,a=o.propertyIsEnumerable,c={};!function(){c.funcDecomp=!i(t.WinRTError)&&r.test(function(){return this}),c.funcNames="string"==typeof Function.name;try{c.dom=11===s.createDocumentFragment().nodeType}catch(e){c.dom=!1}try{c.nonEnumArgs=!a.call(arguments,1)}catch(e){c.nonEnumArgs=!0}}(0,0),e.exports=c}).call(t,function(){return this}())},function(e,t){!function(){var e=t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=function(){try{document.createElement("$")}catch(e){return e}}();e.btoa||(e.btoa=function(e){for(var t,r,o=0,s=n,a="";e.charAt(0|o)||(s="=",o%1);a+=s.charAt(63&t>>8-o%1*8)){if(r=e.charCodeAt(o+=.75),r>255)throw i;t=t<<8|r}return a}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw i;for(var t,r,o=0,s=0,a="";r=e.charAt(s++);~r&&(t=o%4?64*t+r:r,o++%4)?a+=String.fromCharCode(255&t>>(-2*o&6)):0)r=n.indexOf(r);return a})}()},function(e,t,n){var i;(function(e,r){!function(o){function s(e){throw RangeError(M[e])}function a(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function c(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(L,".");var r=e.split("."),o=a(r,t).join(".");return i+o}function u(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function l(e){return a(e,function(e){var t="";return e>65535&&(e-=65536,t+=O(e>>>10&1023|55296),e=56320|1023&e),t+=O(e)}).join("")}function h(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:x}function f(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var i=0;for(e=n?R(e/A):e>>1,e+=R(e/t);e>D*k>>1;i+=x)e=R(e/D);return R(i+(D+1)*e/(e+S))}function p(e){var t,n,i,r,o,a,c,u,f,p,m=[],g=e.length,v=0,b=j,y=C;for(n=e.lastIndexOf(E),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&s("not-basic"),m.push(e.charCodeAt(i));for(r=n>0?n+1:0;g>r;){for(o=v,a=1,c=x;r>=g&&s("invalid-input"),u=h(e.charCodeAt(r++)),(u>=x||u>R((w-v)/a))&&s("overflow"),v+=u*a,f=y>=c?_:c>=y+k?k:c-y,!(f>u);c+=x)p=x-f,a>R(w/p)&&s("overflow"),a*=p;t=m.length+1,y=d(v-o,t,0==o),R(v/t)>w-b&&s("overflow"),b+=R(v/t),v%=t,m.splice(v++,0,b)}return l(m)}function m(e){var t,n,i,r,o,a,c,l,h,p,m,g,v,b,y,S=[];for(e=u(e),g=e.length,t=j,n=0,o=C,a=0;g>a;++a)m=e[a],128>m&&S.push(O(m));for(i=r=S.length,r&&S.push(E);g>i;){for(c=w,a=0;g>a;++a)m=e[a],m>=t&&c>m&&(c=m);for(v=i+1,c-t>R((w-n)/v)&&s("overflow"),n+=(c-t)*v,t=c,a=0;g>a;++a)if(m=e[a],t>m&&++n>w&&s("overflow"),m==t){for(l=n,h=x;p=o>=h?_:h>=o+k?k:h-o,!(p>l);h+=x)y=l-p,b=x-p,S.push(O(f(p+y%b,0))),l=R(y/b);S.push(O(f(l,0))),o=d(n,v,i==r),n=0,++i}++n,++t}return S.join("")}function g(e){return c(e,function(e){return I.test(e)?p(e.slice(4).toLowerCase()):e})}function v(e){return c(e,function(e){return T.test(e)?"xn--"+m(e):e})}var b=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof r&&r);(b.global===b||b.window===b||b.self===b)&&(o=b);var y,w=2147483647,x=36,_=1,k=26,S=38,A=700,C=72,j=128,E="-",I=/^xn--/,T=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=x-_,R=Math.floor,O=String.fromCharCode;y={version:"1.3.2",ucs2:{decode:u,encode:l},decode:p,encode:m,toASCII:v,toUnicode:g},i=function(){return y}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this)}).call(t,n(278)(e),function(){return this}())},186,[751,488,452,453],function(e,t,n){var i=n(471),r=n(490),o=n(491),s=n(492),a=Array.prototype.slice,c=/\s{2,}/g,u=/\s+/;e.exports=function(e,t){if(t=2===arguments.length&&r(t)?s(t).split(u):o(t)?t:a.call(arguments,1),1===t.length&&e.classList)return t[0]&&e.classList.add(t[0]),e;for(var n,l=[],h=0,f=t.length,d=e.className;f>h;h++)n=t[h],n&&!i(d,n)&&l.push(n);return l.length&&(e.className=s((d+" "+l.join(" ")).replace(c," "))),e}},function(e,t,n){var i=n(493),r=n(494),o=n(495),s=Array.prototype.slice,a=/\s{2,}/g,c=/\s+/;e.exports=function(e,t){if(t=2===arguments.length&&i(t)?o(t).split(c):r(t)?t:s.call(arguments,1),1===t.length&&e.classList)return t[0]&&e.classList.remove(t[0]),e;for(var n,u,l=" "+e.className+" ",h=l,f=0,d=t.length;d>f;f++)n=t[f],u=n?h.indexOf(" "+n+" "):-1,-1!==u&&(u+=1,h=h.slice(0,u)+h.slice(u+n.length));return l!==h&&(e.className=o(h.replace(a," "))),e}},function(e,t,n){e.exports=n(442)},function(e){"use strict";var t="http://jabber.org/protocol/disco#info",n="http://jabber.org/protocol/disco#items";e.exports=function(e){var i=e.utils,r=e.define({name:"discoInfo",namespace:t,element:"query",fields:{node:i.attribute("node"),features:i.multiSubAttribute(t,"feature","var")}}),o=e.define({name:"_discoIdentity",namespace:t,element:"identity",fields:{category:i.attribute("category"),type:i.attribute("type"),name:i.attribute("name"),lang:i.langAttribute()}}),s=e.define({name:"discoItems",namespace:n,element:"query",fields:{node:i.attribute("node")}}),a=e.define({name:"_discoItem",namespace:n,element:"item",fields:{jid:i.jidAttribute("jid"),node:i.attribute("node"),name:i.attribute("name")}});e.extend(s,a,"items"),e.extend(r,o,"identities"),e.withIq(function(t){e.extend(t,r),e.extend(t,s)}),e.withDataForm(function(t){e.extend(r,t,"extensions")}),e.withDefinition("set","http://jabber.org/protocol/rsm",function(t){e.extend(s,t)})}},function(e){"use strict";e.exports=function(e){var t=e.utils,n=e.define({name:"caps",namespace:"http://jabber.org/protocol/caps",element:"c",fields:{ver:t.attribute("ver"),node:t.attribute("node"),hash:t.attribute("hash"),ext:t.attribute("ext")}});e.withPresence(function(t){e.extend(t,n)}),e.withStreamFeatures(function(t){e.extend(t,n)})}},function(e){"use strict";var t="http://jabber.org/protocol/rsm";e.exports=function(e){var n=e.utils;e.define({name:"rsm",namespace:t,element:"set",fields:{after:n.textSub(t,"after"),before:{get:function(){return n.getSubText(this.xml,this._NS,"before")},set:function(e){e===!0?n.findOrCreate(this.xml,this._NS,"before"):n.setSubText(this.xml,this._NS,"before",e)}},count:n.numberSub(t,"count",!1,0),first:n.textSub(t,"first"),firstIndex:n.subAttribute(t,"first","index"),index:n.textSub(t,"index"),last:n.textSub(t,"last"),max:n.textSub(t,"max")}})}},function(e,t,n){"use strict";var i=n(150);e.exports=function(e){var t=e.utils,n=e.define({name:"avatar",namespace:"urn:xmpp:avatar:metadata",element:"info",fields:{id:t.attribute("id"),bytes:t.attribute("bytes"),height:t.attribute("height"),width:t.attribute("width"),type:t.attribute("type","image/png"),url:t.attribute("url")}}),r={get:function(){var e=t.find(this.xml,"urn:xmpp:avatar:metadata","metadata"),r=[];if(e.length){var o=t.find(e[0],"urn:xmpp:avatar:metadata","info");i(o,function(e){r.push(new n({},e))})}return r},set:function(e){var r=t.findOrCreate(this.xml,"urn:xmpp:avatar:metadata","metadata");t.setAttribute(r,"xmlns","urn:xmpp:avatar:metadata"),i(e,function(e){var t=new n(e);r.appendChild(t.xml)})}};e.withPubsubItem(function(n){e.add(n,"avatars",r),e.add(n,"avatarData",t.textSub("urn:xmpp:avatar:data","data"))})}},function(e,t,n){"use strict";var i=n(51).JID,r="urn:xmpp:blocking";e.exports=function(e){var t=e.utils,n={get:function(){var e=[],n=t.find(this.xml,r,"item");return n.length?(n.forEach(function(n){e.push(new i(t.getAttribute(n,"jid","")))}),e):e},set:function(e){var n=this;e.forEach(function(e){var i=t.createElement(r,"item",r);t.setAttribute(i,"jid",e.toString()),n.xml.appendChild(i)})}},o=e.define({name:"block",namespace:r,element:"block",fields:{jids:n}}),s=e.define({name:"unblock",namespace:r,element:"unblock",fields:{jids:n}}),a=e.define({name:"blockList",namespace:r,element:"blocklist",fields:{jids:n}});e.withIq(function(t){e.extend(t,o),e.extend(t,s),e.extend(t,a)})}},function(e){"use strict";var t="urn:xmpp:bob";e.exports=function(e){var n=e.utils,i=e.define({name:"bob",namespace:t,element:"data",fields:{cid:n.attribute("cid"),maxAge:n.numberAttribute("max-age"),type:n.attribute("type"),data:n.text()}});e.withIq(function(t){e.extend(t,i)}),e.withMessage(function(t){e.extend(t,i)}),e.withPresence(function(t){e.extend(t,i)})}},function(e,t,n){function i(e,t,n){var i=a(e)?r:s;return t=o(t,n,3),i(e,t)}var r=n(443),o=n(444),s=n(445),a=n(152);e.exports=i},function(e){"use strict";e.exports=function(e){var t=e.utils,n=e.define({name:"_conference",namespace:"storage:bookmarks",element:"conference",fields:{name:t.attribute("name"),autoJoin:t.boolAttribute("autojoin"),jid:t.jidAttribute("jid"),nick:t.textSub("storage:bookmarks","nick")}}),i=e.define({name:"bookmarks",namespace:"storage:bookmarks",element:"storage"});e.extend(i,n,"conferences"),e.withDefinition("query","jabber:iq:private",function(t){e.extend(t,i)})}},function(e){"use strict";e.exports=function(e){var t=e.define({name:"carbonSent",eventName:"carbon:sent",namespace:"urn:xmpp:carbons:2",element:"sent"}),n=e.define({name:"carbonReceived",eventName:"carbon:received",namespace:"urn:xmpp:carbons:2",element:"received"}),i=e.define({name:"carbonPrivate",eventName:"carbon:private",namespace:"urn:xmpp:carbons:2",element:"private"}),r=e.define({name:"enableCarbons",namespace:"urn:xmpp:carbons:2",element:"enable"}),o=e.define({name:"disableCarbons",namespace:"urn:xmpp:carbons:2",element:"disable"});e.withDefinition("forwarded","urn:xmpp:forward:0",function(i){e.extend(t,i),e.extend(n,i)}),e.withMessage(function(r){e.extend(r,t),e.extend(r,n),e.extend(r,i)}),e.withIq(function(t){e.extend(t,r),e.extend(t,o)})}},function(e){"use strict";var t="http://jabber.org/protocol/commands",n=["next","prev","complete","cancel"],i=["bad-action","bad-locale","bad-payload","bad-sessionid","malformed-action","session-expired"];e.exports=function(e){var r=e.utils,o=e.define({name:"command",namespace:t,element:"command",fields:{action:r.attribute("action"),node:r.attribute("node"),sessionid:r.attribute("sessionid"),status:r.attribute("status"),execute:r.subAttribute(t,"actions","execute"),actions:{get:function(){var e=[],i=r.find(this.xml,t,"actions");return i.length?(n.forEach(function(n){var o=r.find(i[0],t,n);o.length&&e.push(n)}),e):[]},set:function(e){for(var n=r.findOrCreate(this.xml,t,"actions"),i=0,o=n.childNodes.length;o>i;i++)n.removeChild(n.childNodes[i]);e.forEach(function(e){n.appendChild(r.createElement(t,e.toLowerCase(),t))})}}}}),s=e.define({name:"_commandNote",namespace:t,element:"note",fields:{type:r.attribute("type"),value:r.text()}});e.extend(o,s,"notes"),e.withStanzaError(function(n){e.add(n,"adhocCommandCondition",r.enumSub(t,i))}),e.withDataForm(function(t){e.extend(o,t)}),e.withIq(function(t){e.extend(t,o)})}},function(e){"use strict";var t="urn:xmpp:csi";e.exports=function(e){var n=e.define({name:"clientStateIndication",namespace:t,element:"csi"});e.define({name:"csiActive",eventName:"csi:active",namespace:t,element:"active",topLevel:!0}),e.define({name:"csiInactive",eventName:"csi:inactive",namespace:t,element:"inactive",topLevel:!0}),e.withStreamFeatures(function(t){e.extend(t,n)})}},function(e,t,n){"use strict";var i=n(51).JID,r="jabber:x:data",o="urn:xmpp:media-element",s="http://jabber.org/protocol/xdata-validate",a="http://jabber.org/protocol/xdata-layout",c=["text-single","text-private","list-single","jid-single"];e.exports=function(e){var t=e.utils,n=e.define({name:"_field",namespace:r,element:"field",init:function(e){this._type=(e||{}).type||this.type},fields:{type:{get:function(){return t.getAttribute(this.xml,"type","text-single")},set:function(e){this._type=e,t.setAttribute(this.xml,"type",e)}},name:t.attribute("var"),desc:t.textSub(r,"desc"),required:t.boolSub(r,"required"),label:t.attribute("label"),value:{get:function(){var e=t.getMultiSubText(this.xml,r,"value");return"boolean"===this._type?"1"===e[0]||"true"===e[0]:e.length>1?"text-multi"===this._type?e.join("\n"):"jid-multi"===this._type?e.map(function(e){return new i(e)}):e:c.indexOf(this._type)>=0?"jid-single"===this._type?new i(e[0]):e[0]:e},set:function(e){if("boolean"===this._type||e===!0||e===!1){var n=e===!0||"true"===e||"1"===e,i=t.createElement(r,"value",r);i.textContent=n?"1":"0",this.xml.appendChild(i)}else"text-multi"===this._type&&"string"==typeof e&&(e=e.split("\n")),t.setMultiSubText(this.xml,r,"value",e,function(e){var n=t.createElement(r,"value",r);n.textContent=e,this.xml.appendChild(n)}.bind(this))}}}}),u=e.define({name:"_formoption",namespace:r,element:"option",fields:{label:t.attribute("label"),value:t.textSub(r,"value")}}),l=e.define({name:"_formitem",namespace:r,element:"item"}),h=e.define({name:"media",element:"media",namespace:o,fields:{height:t.numberAttribute("height"),width:t.numberAttribute("width")}}),f=e.define({name:"_mediaURI",element:"uri",namespace:o,fields:{uri:t.text(),type:t.attribute("type")}}),d=e.define({name:"validation",element:"validate",namespace:s,fields:{dataType:t.attribute("datatype"),basic:t.boolSub(s,"basic"),open:t.boolSub(s,"open"),regex:t.textSub(s,"regex")}}),p=e.define({name:"range",element:"range",namespace:s,fields:{min:t.attribute("min"),max:t.attribute("max")}}),m=e.define({name:"select",element:"list-range",namespace:s,fields:{min:t.numberAttribute("min"),max:t.numberAttribute("max")}}),g={get:function(){for(var e=[],t=0,n=this.xml.childNodes.length;n>t;t++){var i=this.xml.childNodes[t];if(i.namespaceURI===a)switch(i.localName){case"text":e.push({text:i.textContent});break;case"fieldref":e.push({field:i.getAttribute("var")});break;case"reportedref":e.push({reported:!0});break;case"section":e.push({section:new v(null,i,this).toJSON()})}}return e},set:function(t){for(var n=0,i=t.length;i>n;n++){var r=t[n];if(r.text){var o=e.createElement(a,"text",a);o.textContent=r.text,this.xml.appendChild(o)}if(r.field){var s=e.createElement(a,"fieldref",a);s.setAttribute("var",r.field),this.xml.appendChild(s)}if(r.reported&&this.xml.appendChild(e.createElement(a,"reportedref",a)),r.section){var c=e.createElement(a,"section",a);this.xml.appendChild(c);var u=new v(null,c);u.label=r.section.label,u.contents=r.section.contents}}}},v=e.define({name:"_section",element:"section",namespace:a,fields:{label:t.attribute("label"),contents:g}}),b=e.define({name:"_page",element:"page",namespace:a,fields:{label:t.attribute("label"),contents:g}}),y=e.define({name:"form",namespace:r,element:"x",init:function(){if(this.reportedFields.length){var e={};this.reportedFields.forEach(function(t){e[t.name]=t.type}),this.items.forEach(function(t){t.fields.forEach(function(t){t.type=t._type=e[t.name]})})}},fields:{title:t.textSub(r,"title"),instructions:t.multiTextSub(r,"instructions"),type:t.attribute("type","form"),reportedFields:t.subMultiExtension(r,"reported",n)}});e.extend(y,n,"fields"),e.extend(y,l,"items"),e.extend(y,b,"layout"),e.extend(n,h),e.extend(n,d),e.extend(n,u,"options"),e.extend(l,n,"fields"),e.extend(h,f,"uris"),e.extend(d,p),e.extend(d,m),e.withMessage(function(t){e.extend(t,y)})}},function(e){"use strict";e.exports=function(e){var t=e.utils,n=e.define({name:"delay",namespace:"urn:xmpp:delay",element:"delay",fields:{from:t.jidAttribute("from"),stamp:t.dateAttribute("stamp"),reason:t.text()}});e.withMessage(function(t){e.extend(t,n)}),e.withPresence(function(t){e.extend(t,n)})}},function(e,t){"use strict";var n="urn:xmpp:extdisco:1";e.exports=function(e){var i=e.utils,r=t.Services=e.define({name:"services",namespace:n,element:"services",fields:{type:i.attribute("type")}}),o=t.Credentials=e.define({name:"credentials",namespace:n,element:"credentials"}),s=e.define({name:"service",namespace:n,element:"service",fields:{host:i.attribute("host"),port:i.attribute("port"),transport:i.attribute("transport"),type:i.attribute("type"),username:i.attribute("username"),password:i.attribute("password")}});e.extend(r,s,"services"),
e.extend(o,s),e.withDataForm(function(t){e.extend(s,t)}),e.withIq(function(t){e.extend(t,r),e.extend(t,o)})}},function(e){"use strict";e.exports=function(e){var t=e.define({name:"forwarded",eventName:"forward",namespace:"urn:xmpp:forward:0",element:"forwarded"});e.withMessage(function(n){e.extend(n,t),e.extend(t,n)}),e.withPresence(function(n){e.extend(t,n)}),e.withIq(function(n){e.extend(t,n)}),e.withDefinition("delay","urn:xmpp:delay",function(n){e.extend(t,n)})}},function(e){"use strict";var t="http://jabber.org/protocol/geoloc";e.exports=function(e){var n=e.utils,i=e.define({name:"geoloc",namespace:t,element:"geoloc",fields:{accuracy:n.numberSub(t,"accuracy",!0),altitude:n.numberSub(t,"alt",!0),area:n.textSub(t,"area"),heading:n.numberSub(t,"bearing",!0),bearing:n.numberSub(t,"bearing",!0),building:n.textSub(t,"building"),country:n.textSub(t,"country"),countrycode:n.textSub(t,"countrycode"),datum:n.textSub(t,"datum"),description:n.textSub(t,"description"),error:n.numberSub(t,"error",!0),floor:n.textSub(t,"floor"),latitude:n.numberSub(t,"lat",!0),locality:n.textSub(t,"locality"),longitude:n.numberSub(t,"lon",!0),postalcode:n.textSub(t,"postalcode"),region:n.textSub(t,"region"),room:n.textSub(t,"room"),speed:n.numberSub(t,"speed",!0),street:n.textSub(t,"street"),text:n.textSub(t,"text"),timestamp:n.dateSub(t,"timestamp"),tzo:n.tzoSub(t,"tzo"),uri:n.textSub(t,"uri")}});e.withPubsubItem(function(t){e.extend(t,i)})}},function(e){"use strict";e.exports=function(e){e.define({name:"hash",namespace:"urn:xmpp:hashes:1",element:"hash",fields:{algo:e.utils.attribute("algo"),value:e.utils.text()}})}},function(e){"use strict";var t="urn:xmpp:invisible:0";e.exports=function(e){e.withIq(function(n){e.add(n,"visible",e.utils.boolSub(t,"visible")),e.add(n,"invisible",e.utils.boolSub(t,"invisible"))})}},function(e,t,n){"use strict";var i=n(51).JID,r="urn:xmpp:jidprep:0";e.exports=function(e){var t=e.utils;e.withIq(function(n){e.add(n,"jidPrep",{get:function(){var e=t.getSubText(this.xml,r,"jid");if(e){var n=new i(e);return n.prepped=!0,n}},set:function(e){t.setSubText(this.xml,r,"jid",(e||"").toString())}})})}},function(e){"use strict";var t="urn:xmpp:jingle:1",n="urn:xmpp:jingle:errors:1",i=["out-of-order","tie-break","unknown-session","unsupported-info"],r=["alternative-session","busy","cancel","connectivity-error","decline","expired","failed-application","failed-transport","general-error","gone","incompatible-parameters","media-error","security-error","success","timeout","unsupported-applications","unsupported-transports"];e.exports=function(e){var o=e.utils,s=e.define({name:"jingle",namespace:t,element:"jingle",fields:{action:o.attribute("action"),initiator:o.attribute("initiator"),responder:o.attribute("responder"),sid:o.attribute("sid")}}),a=e.define({name:"_jingleContent",namespace:t,element:"content",fields:{creator:o.attribute("creator"),disposition:o.attribute("disposition","session"),name:o.attribute("name"),senders:o.attribute("senders","both"),description:{get:function(){for(var t=e.tagged("jingle-description").map(function(e){return e.prototype._name}),n=0,i=t.length;i>n;n++)if(this._extensions[t[n]])return this._extensions[t[n]]},set:function(e){var t="_"+e.descType;this[t]=e}},transport:{get:function(){for(var t=e.tagged("jingle-transport").map(function(e){return e.prototype._name}),n=0,i=t.length;i>n;n++)if(this._extensions[t[n]])return this._extensions[t[n]]},set:function(e){var t="_"+e.transType;this[t]=e}}}}),c=e.define({name:"reason",namespace:t,element:"reason",fields:{condition:o.enumSub(t,r),alternativeSession:{get:function(){return o.getSubText(this.xml,t,"alternative-session")},set:function(e){this.condition="alternative-session",o.setSubText(this.xml,t,"alternative-session",e)}},text:o.textSub(t,"text")}});e.extend(s,a,"contents"),e.extend(s,c),e.withStanzaError(function(t){e.add(t,"jingleCondition",o.enumSub(n,i))}),e.withIq(function(t){e.extend(t,s)})}},function(e){"use strict";var t="urn:xmpp:jingle:apps:rtp:1",n="urn:xmpp:jingle:apps:rtp:rtcp-fb:0",i="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",r="urn:xmpp:jingle:apps:rtp:info:1",o="urn:xmpp:jingle:apps:rtp:ssma:0",s="urn:xmpp:jingle:apps:grouping:0";e.exports=function(e){var a=e.utils,c={get:function(){var e=a.find(this.xml,n,"rtcp-fb"),t=[];return e.forEach(function(e){t.push({type:a.getAttribute(e,"type"),subtype:a.getAttribute(e,"subtype")})}),e=a.find(this.xml,n,"rtcp-fb-trr-int"),e.forEach(function(e){t.push({type:a.getAttribute(e,"type"),value:a.getAttribute(e,"value")})}),t},set:function(e){var i=this,r=a.find(this.xml,n,"rtcp-fb");r.forEach(function(e){i.xml.removeChild(e)}),r=a.find(this.xml,n,"rtcp-fb-trr-int"),r.forEach(function(e){i.xml.removeChild(e)}),e.forEach(function(e){var r;"trr-int"===e.type?(r=a.createElement(n,"rtcp-fb-trr-int",t),a.setAttribute(r,"type",e.type),a.setAttribute(r,"value",e.value)):(r=a.createElement(n,"rtcp-fb",t),a.setAttribute(r,"type",e.type),a.setAttribute(r,"subtype",e.subtype)),i.xml.appendChild(r)})}},u=e.define({name:"bandwidth",namespace:t,element:"bandwidth",fields:{type:a.attribute("type"),bandwidth:a.text()}}),l=e.define({name:"_rtp",namespace:t,element:"description",tags:["jingle-description"],fields:{descType:{value:"rtp"},media:a.attribute("media"),ssrc:a.attribute("ssrc"),mux:a.boolSub(t,"rtcp-mux"),encryption:{get:function(){var e=a.find(this.xml,t,"encryption");if(!e.length)return[];e=e[0];var n=this,i=a.find(e,t,"crypto"),r=[];return i.forEach(function(e){r.push(new f({},e,n).toJSON())}),r},set:function(e){var n=a.find(this.xml,t,"encryption");if(n.length&&this.xml.removeChild(n),e.length){a.setBoolSubAttribute(this.xml,t,"encryption","required",!0),n=a.find(this.xml,t,"encryption")[0];var i=this;e.forEach(function(e){var t=new f(e,null,i);n.appendChild(t.xml)})}}},feedback:c,headerExtensions:{get:function(){var e=a.find(this.xml,i,"rtp-hdrext"),t=[];return e.forEach(function(e){t.push({id:a.getAttribute(e,"id"),uri:a.getAttribute(e,"uri"),senders:a.getAttribute(e,"senders")})}),t},set:function(e){var n=this,r=a.find(this.xml,i,"rtp-hdrext");r.forEach(function(e){n.xml.removeChild(e)}),e.forEach(function(e){var r=a.createElement(i,"rtp-hdrext",t);a.setAttribute(r,"id",e.id),a.setAttribute(r,"uri",e.uri),a.setAttribute(r,"senders",e.senders),n.xml.appendChild(r)})}}}}),h=e.define({name:"_payloadType",namespace:t,element:"payload-type",fields:{channels:a.attribute("channels"),clockrate:a.attribute("clockrate"),id:a.attribute("id"),maxptime:a.attribute("maxptime"),name:a.attribute("name"),ptime:a.attribute("ptime"),feedback:c,parameters:{get:function(){var e=[],n=a.find(this.xml,t,"parameter");return n.forEach(function(t){e.push({key:a.getAttribute(t,"name"),value:a.getAttribute(t,"value")})}),e},set:function(e){var n=this;e.forEach(function(e){var i=a.createElement(t,"parameter");a.setAttribute(i,"name",e.key),a.setAttribute(i,"value",e.value),n.xml.appendChild(i)})}}}}),f=e.define({name:"crypto",namespace:t,element:"crypto",fields:{cipherSuite:a.attribute("crypto-suite"),keyParams:a.attribute("key-params"),sessionParams:a.attribute("session-params"),tag:a.attribute("tag")}}),d=e.define({name:"_group",namespace:s,element:"group",fields:{semantics:a.attribute("semantics"),contents:a.multiSubAttribute(s,"content","name")}}),p=e.define({name:"_sourceGroup",namespace:o,element:"ssrc-group",fields:{semantics:a.attribute("semantics"),sources:a.multiSubAttribute(o,"source","ssrc")}}),m=e.define({name:"_source",namespace:o,element:"source",fields:{ssrc:a.attribute("ssrc"),parameters:{get:function(){var e=[],t=a.find(this.xml,o,"parameter");return t.forEach(function(t){e.push({key:a.getAttribute(t,"name"),value:a.getAttribute(t,"value")})}),e},set:function(e){var t=this;e.forEach(function(e){var n=a.createElement(o,"parameter");a.setAttribute(n,"name",e.key),a.setAttribute(n,"value",e.value),t.xml.appendChild(n)})}}}}),g=e.define({name:"mute",namespace:r,element:"mute",fields:{creator:a.attribute("creator"),name:a.attribute("name")}}),v=e.define({name:"unmute",namespace:r,element:"unmute",fields:{creator:a.attribute("creator"),name:a.attribute("name")}});e.extend(l,u),e.extend(l,h,"payloads"),e.extend(l,m,"sources"),e.extend(l,p,"sourceGroups"),e.withDefinition("content","urn:xmpp:jingle:1",function(t){e.extend(t,l)}),e.withDefinition("jingle","urn:xmpp:jingle:1",function(t){e.extend(t,g),e.extend(t,v),e.extend(t,d,"groups"),e.add(t,"ringing",a.boolSub(r,"ringing")),e.add(t,"hold",a.boolSub(r,"hold")),e.add(t,"active",a.boolSub(r,"active"))})}},function(e){"use strict";var t="urn:xmpp:jingle:transports:ice-udp:1";e.exports=function(e){var n=e.utils,i=e.define({name:"_iceUdp",namespace:t,element:"transport",tags:["jingle-transport"],fields:{transType:{value:"iceUdp"},pwd:n.attribute("pwd"),ufrag:n.attribute("ufrag")}}),r=e.define({name:"remoteCandidate",namespace:t,element:"remote-candidate",fields:{component:n.attribute("component"),ip:n.attribute("ip"),port:n.attribute("port")}}),o=e.define({name:"_iceUdpCandidate",namespace:t,element:"candidate",fields:{component:n.attribute("component"),foundation:n.attribute("foundation"),generation:n.attribute("generation"),id:n.attribute("id"),ip:n.attribute("ip"),network:n.attribute("network"),port:n.attribute("port"),priority:n.attribute("priority"),protocol:n.attribute("protocol"),relAddr:n.attribute("rel-addr"),relPort:n.attribute("rel-port"),tcpType:n.attribute("tcptype"),type:n.attribute("type")}}),s=e.define({name:"_iceFingerprint",namespace:"urn:xmpp:jingle:apps:dtls:0",element:"fingerprint",fields:{hash:n.attribute("hash"),setup:n.attribute("setup"),value:n.text(),required:n.boolAttribute("required")}}),a=e.define({name:"_sctpMap",namespace:"urn:xmpp:jingle:transports:dtls-sctp:1",element:"sctpmap",fields:{number:n.attribute("number"),protocol:n.attribute("protocol"),streams:n.attribute("streams")}});e.extend(i,o,"candidates"),e.extend(i,r),e.extend(i,s,"fingerprints"),e.extend(i,a,"sctp"),e.withDefinition("content","urn:xmpp:jingle:1",function(t){e.extend(t,i)})}},function(e){"use strict";var t="urn:xmpp:jingle:apps:file-transfer:3",n="urn:xmpp:thumbs:0";e.exports=function(e){var i=e.utils,r=e.define({name:"_file",namespace:t,element:"file",fields:{name:i.textSub(t,"name"),desc:i.textSub(t,"desc"),size:i.numberSub(t,"size"),date:i.dateSub(t,"date")}}),o=e.define({name:"range",namespace:t,element:"range",fields:{offset:i.numberAttribute("offset")}}),s=e.define({name:"thumbnail",namespace:n,element:"thumbnail",fields:{cid:i.attribute("cid"),mimeType:i.attribute("mime-type"),width:i.numberAttribute("width"),height:i.numberAttribute("height")}}),a=e.define({name:"_filetransfer",namespace:t,element:"description",tags:["jingle-description"],fields:{descType:{value:"filetransfer"},offer:i.subExtension("offer",t,"offer",r),request:i.subExtension("request",t,"request",r)}});e.extend(r,o),e.extend(r,s),e.withDefinition("hash","urn:xmpp:hashes:1",function(t){e.extend(r,t,"hashes")}),e.withDefinition("content","urn:xmpp:jingle:1",function(t){e.extend(t,a)})}},function(e){"use strict";e.exports=function(e){var t=e.utils,n={get:function(){var e=t.getSubText(this.xml,"urn:xmpp:json:0","json");return e?JSON.parse(e):void 0},set:function(e){e=JSON.stringify(e),e&&t.setSubText(this.xml,"urn:xmpp:json:0","json",e)}};e.withMessage(function(t){e.add(t,"json",n)}),e.withPubsubItem(function(t){e.add(t,"json",n)})}},function(e){"use strict";var t="urn:xmpp:eventlog";e.exports=function(e){var n=e.utils,i=e.define({name:"log",namespace:t,element:"log",fields:{id:n.attribute("id"),timestamp:n.dateAttribute("timestamp"),type:n.attribute("type"),level:n.attribute("level"),object:n.attribute("object"),subject:n.attribute("subject"),facility:n.attribute("facility"),module:n.attribute("module"),message:n.textSub(t,"message"),stackTrace:n.textSub(t,"stackTrace")}}),r=e.define({name:"_logtag",namespace:t,element:"tag",fields:{name:n.attribute("name"),value:n.attribute("value"),type:n.attribute("type")}});e.extend(i,r,"tags"),e.withMessage(function(t){e.extend(t,i)}),e.withPubsubItem(function(t){e.extend(t,i)})}},function(e,t,n){"use strict";var i=n(51).JID,r="urn:xmpp:mam:0";e.exports=function(e){var t=e.utils,n=e.define({name:"mam",namespace:r,element:"query",fields:{queryid:t.attribute("queryid")}}),o=e.define({name:"mamItem",namespace:r,element:"result",fields:{queryid:t.attribute("queryid"),id:t.attribute("id")}}),s=e.define({name:"mamResult",namespace:r,element:"fin",fields:{queryid:t.attribute("queryid"),complete:t.boolAttribute("complete"),stable:t.boolAttribute("stable")}}),a=e.define({name:"mamPrefs",namespace:r,element:"prefs",fields:{defaultCondition:t.attribute("default"),always:{get:function(){var e=[],n=t.find(this.xml,r,"always");if(0===n.length)return e;n=n[0];var o=t.getMultiSubText(n,r,"jid");return o.forEach(function(t){e.push(new i(t.textContent))}),e},set:function(e){if(e.length>0){var n=t.find(this.xml,r,"always");t.setMultiSubText(n,r,"jid",e)}}},never:{get:function(){var e=[],n=t.find(this.xml,r,"always");if(0===n.length)return e;n=n[0];var o=t.getMultiSubText(n,r,"jid");return o.forEach(function(t){e.push(new i(t.textContent))}),e},set:function(e){if(e.length>0){var n=t.find(this.xml,r,"never");t.setMultiSubText(n,r,"jid",e)}}}}});e.withDefinition("forwarded","urn:xmpp:forward:0",function(t){e.extend(o,t)}),e.withDefinition("set","http://jabber.org/protocol/rsm",function(t){e.extend(n,t),e.extend(s,t)}),e.withDataForm(function(t){e.extend(n,t)}),e.withIq(function(t){e.extend(t,n),e.extend(t,a)}),e.withMessage(function(t){e.extend(t,o),e.extend(t,s)})}},function(e){"use strict";var t="http://jabber.org/protocol/muc",n=t+"#user",i=t+"#admin",r=t+"#owner",o=t+"#unique",s=function(e,t){return{get:function(){return this._extensions[e]?this[e][t]:void 0},set:function(n){this[e][t]=n}}};e.exports=function(e){var a=e.utils,c=e.define({name:"_mucUserItem",namespace:n,element:"item",fields:{affiliation:a.attribute("affiliation"),nick:a.attribute("nick"),jid:a.jidAttribute("jid"),role:a.attribute("role"),reason:a.textSub(n,"reason")}}),u=e.define({name:"_mucUserActor",namespace:n,element:"actor",fields:{nick:a.attribute("nick"),jid:a.jidAttribute("jid")}}),l=e.define({name:"destroyed",namespace:n,element:"destroy",fields:{jid:a.jidAttribute("jid"),reason:a.textSub(n,"reason")}}),h=e.define({name:"invite",namespace:n,element:"invite",fields:{to:a.jidAttribute("to"),from:a.jidAttribute("from"),reason:a.textSub(n,"reason"),thread:a.subAttribute(n,"continue","thread"),"continue":a.boolSub(n,"continue")}}),f=e.define({name:"decline",namespace:n,element:"decline",fields:{to:a.jidAttribute("to"),from:a.jidAttribute("from"),reason:a.textSub(n,"reason")}}),d=e.define({name:"_mucAdminItem",namespace:i,element:"item",fields:{affiliation:a.attribute("affiliation"),nick:a.attribute("nick"),jid:a.jidAttribute("jid"),role:a.attribute("role"),reason:a.textSub(i,"reason")}}),p=e.define({name:"actor",namespace:n,element:"actor",fields:{nick:a.attribute("nick"),jid:a.jidAttribute("jid")}}),m=e.define({name:"destroy",namespace:r,element:"destroy",fields:{jid:a.jidAttribute("jid"),password:a.textSub(r,"password"),reason:a.textSub(r,"reason")}}),g=e.define({name:"muc",namespace:n,element:"x",fields:{affiliation:s("_mucUserItem","affiliation"),nick:s("_mucUserItem","nick"),jid:s("_mucUserItem","jid"),role:s("_mucUserItem","role"),actor:s("_mucUserItem","_mucUserActor"),reason:s("_mucUserItem","reason"),password:a.textSub(n,"password"),codes:{get:function(){return a.getMultiSubText(this.xml,n,"status",function(e){return a.getAttribute(e,"code")})},set:function(e){var t=this;a.setMultiSubText(this.xml,n,"status",e,function(e){var i=a.createElement(n,"status",n);a.setAttribute(i,"code",e),t.xml.appendChild(i)})}}}}),v=e.define({name:"mucAdmin",namespace:i,element:"query",fields:{affiliation:s("_mucAdminItem","affiliation"),nick:s("_mucAdminItem","nick"),jid:s("_mucAdminItem","jid"),role:s("_mucAdminItem","role"),actor:s("_mucAdminItem","_mucAdminActor"),reason:s("_mucAdminItem","reason")}}),b=e.define({name:"mucOwner",namespace:r,element:"query"}),y=e.define({name:"joinMuc",namespace:t,element:"x",fields:{password:a.textSub(t,"password"),history:{get:function(){var e={},t=a.find(this.xml,this._NS,"history");if(!t.length)return{};t=t[0];var n=t.getAttribute("maxchars")||"",i=t.getAttribute("maxstanas")||"",r=t.getAttribute("seconds")||"",o=t.getAttribute("since")||"";n&&(e.maxchars=parseInt(n,10)),i&&(e.maxtypess=parseInt(i,10)),r&&(e.seconds=parseInt(r,10)),o&&(e.since=new Date(o))},set:function(e){var t=a.find(this.xml,this._NS,"history");if(t.length)for(var n=0;n<t.length;n++)this.xml.removeChild(t[n]);var i=a.createElement(this._NS,"history",this._NS);this.xml.appendChild(i),e.maxchars&&i.setAttribute(""+e.maxchars),e.maxtypess&&i.setAttribute(""+e.maxtypess),e.seconds&&i.setAttribute(""+e.seconds),e.since&&i.setAttribute(e.since.toISOString())}}}}),w=e.define({name:"mucInvite",namespace:"jabber:x:conference",element:"x",fields:{jid:a.jidAttribute("jid"),password:a.attribute("password"),reason:a.attribute("reason"),thread:a.attribute("thread"),"continue":a.boolAttribute("continue")}});e.extend(c,u),e.extend(g,c),e.extend(g,h,"invites"),e.extend(g,f),e.extend(g,l),e.extend(d,p),e.extend(v,d,"items"),e.extend(b,m),e.withDataForm(function(t){e.extend(b,t)}),e.withIq(function(t){e.add(t,"mucUnique",a.textSub(o,"unique")),e.extend(t,v),e.extend(t,b)}),e.withPresence(function(t){e.extend(t,g),e.extend(t,y)}),e.withMessage(function(t){e.extend(t,g),e.extend(t,w)})}},function(e){"use strict";var t="urn:xmpp:hats:0";e.exports=function(e){var n=e.utils,i=e.define({name:"_hat",namespace:t,element:"hat",fields:{lang:n.langAttribute(),name:n.attribute("name"),displayName:n.attribute("displayName")}});e.withPresence(function(r){e.add(r,"hats",n.subMultiExtension(t,"hats",i))})}},function(e){"use strict";var t="http://jabber.org/protocol/mood",n=["afraid","amazed","amorous","angry","annoyed","anxious","aroused","ashamed","bored","brave","calm","cautious","cold","confident","confused","contemplative","contented","cranky","crazy","creative","curious","dejected","depressed","disappointed","disgusted","dismayed","distracted","embarrassed","envious","excited","flirtatious","frustrated","grateful","grieving","grumpy","guilty","happy","hopeful","hot","humbled","humiliated","hungry","hurt","impressed","in_awe","in_love","indignant","interested","intoxicated","invincible","jealous","lonely","lucky","mean","moody","nervous","neutral","offended","outraged","playful","proud","relaxed","relieved","remorseful","restless","sad","sarcastic","serious","shocked","shy","sick","sleepy","spontaneous","stressed","strong","surprised","thankful","thirsty","tired","undefined","weak","worried"];e.exports=function(e){var i=e.define({name:"mood",namespace:t,element:"mood",fields:{text:e.utils.textSub(t,"text"),value:e.utils.enumSub(t,n)}});e.withPubsubItem(function(t){e.extend(t,i)}),e.withMessage(function(t){e.extend(t,i)})}},function(e){"use strict";e.exports=function(e){var t=e.utils.textSub("http://jabber.org/protocol/nick","nick");e.withPubsubItem(function(n){e.add(n,"nick",t)}),e.withPresence(function(n){e.add(n,"nick",t)}),e.withMessage(function(n){e.add(n,"nick",t)})}},function(e){"use strict";var t="jabber:x:oob";e.exports=function(e){var n=e.define({name:"oob",element:"x",namespace:t,fields:{url:e.utils.textSub(t,"url"),desc:e.utils.textSub(t,"desc")}});e.withMessage(function(t){e.extend(t,n,"oobURIs")})}},function(e){"use strict";var t="urn:xmpp:ping";e.exports=function(e){var n=e.define({name:"ping",namespace:t,element:"ping"});e.withIq(function(t){e.extend(t,n)})}},function(e){"use strict";e.exports=function(e){var t=e.define({name:"privateStorage",namespace:"jabber:iq:private",element:"query"});e.withIq(function(n){e.extend(n,t)})}},function(e){"use strict";var t="urn:xmpp:psa",n=["server-unavailable","connection-paused"];e.exports=function(e){var i=e.utils,r=e.define({name:"state",namespace:t,element:"state-annotation",fields:{from:i.jidAttribute("from"),condition:i.enumSub(t,n),description:i.textSub(t,"description")}});e.withPresence(function(t){e.extend(t,r)})}},function(e){"use strict";var t="http://jabber.org/protocol/pubsub";e.exports=function(e){var n=e.utils,i=e.define({name:"pubsub",namespace:"http://jabber.org/protocol/pubsub",element:"pubsub",fields:{publishOptions:{get:function(){var t=e.getDefinition("x","jabber:x:data"),i=n.find(this.xml,this._NS,"publish-options");return i.length&&i[0].childNodes.length?new t({},i[0].childNodes[0]):void 0},set:function(t){var i=e.getDefinition("x","jabber:x:data"),r=n.findOrCreate(this.xml,this._NS,"publish-options");if(t){var o=new i(t);r.appendChild(o.xml)}}}}}),r=e.define({name:"subscribe",namespace:t,element:"subscribe",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid")}}),o=e.define({name:"subscription",namespace:t,element:"subscription",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid"),subid:n.attribute("subid"),type:n.attribute("subscription"),configurable:n.boolSub("subscribe-options"),configurationRequired:{get:function(){var e=n.find(this.xml,t,"subscribe-options");return e.length?n.getBoolSub(e[0],t,"required"):!1}}}}),s=e.define({name:"subscriptions",namespace:t,element:"subscriptions",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid")}}),a=e.define({name:"affiliation",namespace:t,element:"affiliation",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid"),type:n.attribute("affiliation")}}),c=e.define({name:"affiliations",namespace:t,element:"affiliations",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid")}}),u=e.define({name:"subscriptionOptions",namespace:t,element:"options",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid"),subid:n.attribute("subid")}}),l=e.define({name:"unsubscribe",namespace:t,element:"unsubscribe",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid")}}),h=e.define({name:"publish",namespace:t,element:"publish",fields:{node:n.attribute("node")}}),f=e.define({name:"retract",namespace:t,element:"retract",fields:{node:n.attribute("node"),notify:n.boolAttribute("notify"),id:n.subAttribute(t,"item","id")}}),d=e.define({name:"retrieve",namespace:t,element:"items",fields:{node:n.attribute("node"),max:n.attribute("max_items")}}),p=e.define({name:"item",namespace:t,element:"item",fields:{id:n.attribute("id")}});e.extend(i,r),e.extend(i,l),e.extend(i,h),e.extend(i,f),e.extend(i,d),e.extend(i,o),e.extend(i,u),e.extend(i,s),e.extend(i,c),e.extend(h,p,"items"),e.extend(d,p,"items"),e.extend(s,o,"list"),e.extend(c,a,"list"),e.withDataForm(function(t){e.extend(u,t),e.extend(p,t)}),e.withIq(function(t){e.extend(t,i)}),e.withDefinition("set","http://jabber.org/protocol/rsm",function(t){e.extend(i,t)})}},function(e){"use strict";var t="http://jabber.org/protocol/pubsub#owner";e.exports=function(e){var n=e.utils,i=e.define({name:"pubsubOwner",namespace:t,element:"pubsub",fields:{create:n.subAttribute(t,"create","node"),purge:n.subAttribute(t,"purge","node"),del:n.subAttribute(t,"delete","node"),redirect:{get:function(){var e=n.find(this.xml,this._NS,"delete");return e.length?n.getSubAttribute(e[0],this._NS,"redirect","uri"):""},set:function(e){var t=n.findOrCreate(this.xml,this._NS,"delete");n.setSubAttribute(t,this._NS,"redirect","uri",e)}}}}),r=e.define({name:"subscription",namespace:t,element:"subscription",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid"),subid:n.attribute("subid"),type:n.attribute("subscription"),configurable:n.boolSub("subscribe-options"),configurationRequired:{get:function(){var e=n.find(this.xml,t,"subscribe-options");return e.length?n.getBoolSub(e[0],t,"required"):!1}}}}),o=e.define({name:"subscriptions",namespace:t,element:"subscriptions",fields:{node:n.attribute("node")}}),s=e.define({name:"affiliation",namespace:t,element:"affiliation",fields:{node:n.attribute("node"),type:n.attribute("affiliation")}}),a=e.define({name:"affiliations",namespace:t,element:"affiliations",fields:{node:n.attribute("node")}}),c=e.define({name:"config",namespace:t,element:"configure",fields:{node:n.attribute("node")}});e.extend(i,c),e.extend(i,o),e.extend(i,a),e.extend(o,r,"list"),e.extend(a,s,"list"),e.withDataForm(function(t){e.extend(c,t)}),e.withIq(function(t){e.extend(t,i)})}},function(e){"use strict";var t="http://jabber.org/protocol/pubsub#event";e.exports=function(e){var n=e.utils,i=e.define({name:"event",namespace:t,element:"event"}),r=e.define({name:"purged",namespace:t,element:"purge",fields:{node:n.attribute("node")}}),o=e.define({name:"deleted",namespace:t,element:"delete",fields:{node:n.attribute("node"),redirect:n.subAttribute(t,"redirect","uri")}}),s=e.define({name:"subscriptionChanged",namespace:t,element:"subscription",fields:{node:n.attribute("node"),jid:n.jidAttribute("jid"),type:n.attribute("subscription"),subid:n.attribute("subid"),expiry:{get:function(){var e=n.getAttribute(this.xml,"expiry");return"presence"===e?e:e?new Date(e):void 0},set:function(e){e&&("string"!=typeof e&&(e=e.toISOString()),n.setAttribute(this.xml,"expiry",e))}}}}),a=e.define({name:"configurationChanged",namespace:t,element:"configuration",fields:{node:n.attribute("node")}}),c=e.define({name:"updated",namespace:t,element:"items",fields:{node:n.attribute("node"),retracted:{get:function(){var e=[],t=n.find(this.xml,this._NS,"retract");return t.forEach(function(t){e.push(t.getAttribute("id"))}),e},set:function(e){var t=this;e.forEach(function(e){var i=n.createElement(t._NS,"retract",t._NS);i.setAttribute("id",e),this.xml.appendChild(i)})}}}}),u=e.define({name:"_eventItem",namespace:t,element:"item",fields:{id:n.attribute("id"),node:n.attribute("node"),publisher:n.jidAttribute("publisher")}});e.extend(c,u,"published"),e.extend(i,c),e.extend(i,s),e.extend(i,a),e.extend(i,o),e.extend(i,r),e.withMessage(function(t){e.extend(t,i)}),e.withDataForm(function(t){e.extend(a,t)})}},function(e){"use strict";var t="http://jabber.org/protocol/pubsub#errors",n=["closed-node","configuration-required","invalid-jid","invalid-options","invalid-payload","invalid-subid","item-forbidden","item-required","jid-required","max-items-exceeded","max-nodes-exceeded","nodeid-required","not-in-roster-group","not-subscribed","payload-too-big","payload-required","pending-subscription","presence-subscription-required","subid-required","too-many-subscriptions","unsupported","unsupported-access-model"];e.exports=function(e){e.withStanzaError(function(i){e.add(i,"pubsubCondition",e.utils.enumSub(t,n))})}},function(e,t,n){"use strict";var i=n(150),r="urn:xmpp:reach:0";e.exports=function(e){var t=e.utils,n=e.define({name:"_reachAddr",namespace:r,element:"addr",fields:{uri:t.attribute("uri"),$desc:{get:function(){return t.getSubLangText(this.xml,r,"desc",this.lang)}},desc:{get:function(){var e=this.$desc;return e[this.lang]||""},set:function(e){t.setSubLangText(this.xml,r,"desc",e,this.lang)}}}}),o={get:function(){var e=t.find(this.xml,r,"reach"),o=[];if(e.length){var s=t.find(e[0],r,"addr");i(s,function(e){o.push(new n({},e))})}return o},set:function(e){var o=t.findOrCreate(this.xml,r,"reach");t.setAttribute(o,"xmlns",r),i(e,function(e){var t=new n(e);o.appendChild(t.xml)})}};e.withPubsubItem(function(t){e.add(t,"reach",o)}),e.withPresence(function(t){e.add(t,"reach",o)})}},function(e){"use strict";var t="jabber:iq:register";e.exports=function(e){var n=e.utils,i=e.define({name:"register",namespace:t,element:"query",fields:{instructions:n.textSub(t,"instructions"),registered:n.boolSub(t,"registered"),remove:n.boolSub(t,"remove"),username:n.textSub(t,"username"),nick:n.textSub(t,"nick"),password:n.textSub(t,"password"),name:n.textSub(t,"name"),first:n.textSub(t,"first"),last:n.textSub(t,"last"),email:n.textSub(t,"email"),address:n.textSub(t,"address"),city:n.textSub(t,"city"),state:n.textSub(t,"state"),zip:n.textSub(t,"zip"),phone:n.textSub(t,"phone"),url:n.textSub(t,"url"),date:n.textSub(t,"date"),misc:n.textSub(t,"misc"),text:n.textSub(t,"text"),key:n.textSub(t,"key")}});e.withDefinition("x","jabber:x:oob",function(t){e.extend(i,t)}),e.withDataForm(function(t){e.extend(i,t)}),e.withIq(function(t){e.extend(t,i)})}},function(e){"use strict";var t="jabber:iq:roster";e.exports=function(e){var n=e.utils,i=e.define({name:"roster",namespace:t,element:"query",fields:{ver:{get:function(){return n.getAttribute(this.xml,"ver")},set:function(e){var t=""===e;n.setAttribute(this.xml,"ver",e,t)}}}}),r=e.define({name:"_rosterItem",namespace:t,element:"item",fields:{jid:n.jidAttribute("jid",!0),name:n.attribute("name"),subscription:n.attribute("subscription","none"),subscriptionRequested:{get:function(){var e=n.getAttribute(this.xml,"ask");return"subscribe"===e}},preApproved:n.boolAttribute(t,"approved"),groups:n.multiTextSub(t,"group")}});e.extend(i,r,"items"),e.withIq(function(t){e.extend(t,i)})}},function(e){"use strict";var t="urn:xmpp:rtt:0",n={insert:"t",erase:"e",wait:"w"},i={t:"insert",e:"erase",w:"wait"};e.exports=function(e){var r=e.utils,o=e.define({name:"rtt",namespace:t,element:"rtt",fields:{id:r.attribute("id"),event:r.attribute("event","edit"),seq:r.numberAttribute("seq"),actions:{get:function(){for(var e=[],n=0,o=this.xml.childNodes.length;o>n;n++){var s=this.xml.childNodes[n],a=s.localName,c={};if(s.namespaceURI===t&&i[a]){c.type=i[a];var u=r.getAttribute(s,"p");u&&(c.pos=parseInt(u,10));var l=r.getAttribute(s,"n");l&&(c.num=parseInt(l,10));var h=r.getText(s);h&&"t"===a&&(c.text=h),e.push(c)}}return e},set:function(e){for(var i=this,o=0,s=this.xml.childNodes.length;s>o;o++)this.xml.removeChild(this.xml.childNodes[o]);e.forEach(function(e){if(n[e.type]){var o=r.createElement(t,n[e.type],t);void 0!==e.pos&&r.setAttribute(o,"p",e.pos.toString()),e.num&&r.setAttribute(o,"n",e.num.toString()),e.text&&r.setText(o,e.text),i.xml.appendChild(o)}})}}}});e.withMessage(function(t){e.extend(t,o)})}},function(e){"use strict";var t="http://jabber.org/protocol/shim";e.exports=function(e){var n=e.utils,i={get:function(){var e=n.find(this.xml,t,"headers");return e.length?n.getMultiSubText(e[0],t,"header",function(e){var t=n.getAttribute(e,"name");return t?{name:t,value:n.getText(e)}:void 0}):[]},set:function(i){var r=n.findOrCreate(this.xml,t,"headers");e.setMultiSubText(r,t,"header",i,function(e){var i=n.createElement(t,"header",t);n.setAttribute(i,"name",e.name),n.setText(i,e.value),r.appendChild(i)})}};e.withMessage(function(t){e.add(t,"headers",i)}),e.withPresence(function(t){e.add(t,"headers",i)})}},function(e){"use strict";e.exports=function(e){var t=e.define({name:"time",namespace:"urn:xmpp:time",element:"time",fields:{utc:e.utils.dateSub("urn:xmpp:time","utc"),tzo:e.utils.tzoSub("urn:xmpp:time","tzo",0)}});e.withIq(function(n){e.extend(n,t)})}},function(e){"use strict";var t="vcard-temp";e.exports=function(e){var n=e.utils,i=e.define({name:"vCardTemp",namespace:t,element:"vCard",fields:{role:n.textSub(t,"ROLE"),website:n.textSub(t,"URL"),title:n.textSub(t,"TITLE"),description:n.textSub(t,"DESC"),fullName:n.textSub(t,"FN"),birthday:n.dateSub(t,"BDAY"),nicknames:n.multiTextSub(t,"NICKNAME"),jids:n.multiTextSub(t,"JABBERID")}}),r=e.define({name:"_email",namespace:t,element:"EMAIL",fields:{email:n.textSub(t,"USERID"),home:n.boolSub(t,"HOME"),work:n.boolSub(t,"WORK"),preferred:n.boolSub(t,"PREF")}}),o=e.define({name:"_tel",namespace:t,element:"TEL",fields:{number:n.textSub(t,"NUMBER"),home:n.boolSub(t,"HOME"),work:n.boolSub(t,"WORK"),mobile:n.boolSub(t,"CELL"),preferred:n.boolSub(t,"PREF")}}),s=e.define({name:"_address",namespace:t,element:"ADR",fields:{street:n.textSub(t,"STREET"),street2:n.textSub(t,"EXTADD"),country:n.textSub(t,"CTRY"),city:n.textSub(t,"LOCALITY"),region:n.textSub(t,"REGION"),postalCode:n.textSub(t,"PCODE"),pobox:n.textSub(t,"POBOX"),home:n.boolSub(t,"HOME"),work:n.boolSub(t,"WORK"),preferred:n.boolSub(t,"PREF")}}),a=e.define({name:"organization",namespace:t,element:"ORG",fields:{name:n.textSub(t,"ORGNAME"),unit:n.textSub(t,"ORGUNIT")}}),c=e.define({name:"name",namespace:t,element:"N",fields:{family:n.textSub(t,"FAMILY"),
given:n.textSub(t,"GIVEN"),middle:n.textSub(t,"MIDDLE"),prefix:n.textSub(t,"PREFIX"),suffix:n.textSub(t,"SUFFIX")}}),u=e.define({name:"photo",namespace:t,element:"PHOTO",fields:{type:n.textSub(t,"TYPE"),data:n.textSub(t,"BINVAL"),url:n.textSub(t,"EXTVAL")}});e.extend(i,r,"emails"),e.extend(i,s,"addresses"),e.extend(i,o,"phoneNumbers"),e.extend(i,a),e.extend(i,c),e.extend(i,u),e.withIq(function(t){e.extend(t,i)})}},function(e){"use strict";var t="jabber:iq:version";e.exports=function(e){var n=e.utils,i=e.define({name:"version",namespace:t,element:"query",fields:{name:n.textSub(t,"name"),version:n.textSub(t,"version"),os:n.textSub(t,"os")}});e.withIq(function(t){e.extend(t,i)})}},function(e){function t(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}e.exports=t},function(e,t,n){var i;(function(e,r){(function(){function o(e,t){if(e!==t){var n=e===e,i=t===t;if(e>t||!n||"undefined"==typeof e&&i)return 1;if(t>e||!i||"undefined"==typeof t&&n)return-1}return 0}function s(e,t,n){if(t!==t)return v(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function a(e){return"function"==typeof e||!1}function c(e){return"string"==typeof e?e:null==e?"":e+""}function u(e){return e.charCodeAt(0)}function l(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function h(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){return o(e.criteria,t.criteria)||e.index-t.index}function d(e,t,n){for(var i=-1,r=e.criteria,s=t.criteria,a=r.length,c=n.length;++i<a;){var u=o(r[i],s[i]);if(u)return i>=c?u:u*(n[i]?1:-1)}return e.index-t.index}function p(e){return Ve[e]}function m(e){return He[e]}function g(e){return"\\"+Ze[e]}function v(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}function b(e){return e&&"object"==typeof e||!1}function y(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function w(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;)e[n]===t&&(e[n]=G,o[++r]=n);return o}function x(e,t){for(var n,i=-1,r=e.length,o=-1,s=[];++i<r;){var a=e[i],c=t?t(a,i,e):a;i&&n===c||(n=c,s[++o]=a)}return s}function _(e){for(var t=-1,n=e.length;++t<n&&y(e.charCodeAt(t)););return t}function k(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function S(e){return Ge[e]}function A(e){function t(e){if(b(e)&&!na(e)&&!(e instanceof r)){if(e instanceof i)return e;if(ss.call(e,"__chain__")&&ss.call(e,"__wrapped__"))return Fn(e)}return new i(e)}function n(){}function i(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function r(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Ps,this.__views__=null}function y(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,i=new r(this.__wrapped__);return i.__actions__=e?Ye(e):null,i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=t?Ye(t):null,i.__takeCount__=this.__takeCount__,i.__views__=n?Ye(n):null,i}function K(){if(this.__filtered__){var e=new r(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ne(){var e=this.__wrapped__.value();if(!na(e))return Xt(e,this.__actions__);var t=this.__dir__,n=0>t,i=_n(0,e.length,this.__views__),r=i.start,o=i.end,s=o-r,a=n?o:r-1,c=Ts(s,this.__takeCount__),u=this.__iteratees__,l=u?u.length:0,h=0,f=[];e:for(;s--&&c>h;){a+=t;for(var d=-1,p=e[a];++d<l;){var m=u[d],g=m.iteratee,v=m.type;if(v==B){if(m.done&&(n?a>m.index:a<m.index)&&(m.count=0,m.done=!1),m.index=a,!m.done){var b=m.limit;if(!(m.done=b>-1?m.count++>=b:!g(p)))continue e}}else{var y=g(p);if(v==V)p=y;else if(!y){if(v==U)continue e;break e}}}f[h++]=p}return f}function re(){this.__data__={}}function Ve(e){return this.has(e)&&delete this.__data__[e]}function He(e){return"__proto__"==e?C:this.__data__[e]}function Ge(e){return"__proto__"!=e&&ss.call(this.__data__,e)}function Je(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:Cs(null),set:new ys};t--;)this.push(e[t])}function Qe(e,t){var n=e.data,i="string"==typeof t||Ir(t)?n.set.has(t):n.hash[t];return i?0:-1}function We(e){var t=this.data;"string"==typeof e||Ir(e)?t.set.add(e):t.hash[e]=!0}function Ye(e,t){var n=-1,i=e.length;for(t||(t=Ho(i));++n<i;)t[n]=e[n];return t}function Xe(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function et(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function tt(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function nt(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[++r]=s)}return o}function it(e,t){for(var n=-1,i=e.length,r=Ho(i);++n<i;)r[n]=t(e[n],n,e);return r}function rt(e){for(var t=-1,n=e.length,i=Os;++t<n;){var r=e[t];r>i&&(i=r)}return i}function ot(e){for(var t=-1,n=e.length,i=Ps;++t<n;){var r=e[t];i>r&&(i=r)}return i}function st(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function at(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function ct(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function ut(e,t){return"undefined"==typeof e?t:e}function lt(e,t,n,i){return"undefined"!=typeof e&&ss.call(i,n)?e:t}function ht(e,t,n){var i=aa(t);if(!n)return dt(t,e,i);for(var r=-1,o=i.length;++r<o;){var s=i[r],a=e[s],c=n(a,t[s],s,e,t);(c===c?c===a:a!==a)&&("undefined"!=typeof a||s in e)||(e[s]=c)}return e}function ft(e,t){for(var n=-1,i=e.length,r=In(i),o=t.length,s=Ho(o);++n<o;){var a=t[n];r?(a=parseFloat(a),s[n]=jn(a,i)?e[a]:C):s[n]=e[a]}return s}function dt(e,t,n){n||(n=t,t={});for(var i=-1,r=n.length;++i<r;){var o=n[i];t[o]=e[o]}return t}function pt(e,t){for(var n=-1,i=t.length;++n<i;){var r=t[n];e[r]=mn(e[r],E,e)}return e}function mt(e,t,n){var i=typeof e;return"function"==i?"undefined"!=typeof t&&Cn(e)?en(e,t,n):e:null==e?Lo:"object"==i?Nt(e):"undefined"==typeof t?Bt(e+""):qt(e+"",t)}function gt(e,t,n,i,r,o,s){var a;if(n&&(a=r?n(e,i,r):n(e)),"undefined"!=typeof a)return a;if(!Ir(e))return e;var c=na(e);if(c){if(a=kn(e),!t)return Ye(e,a)}else{var u=cs.call(e),l=u==X;if(u!=ee&&u!=J&&(!l||r))return Be[u]?An(e,u,t):r?e:{};if(a=Sn(l?{}:e),!t)return dt(e,a,aa(e))}o||(o=[]),s||(s=[]);for(var h=o.length;h--;)if(o[h]==e)return s[h];return o.push(e),s.push(a),(c?Xe:It)(e,function(i,r){a[r]=gt(i,t,n,r,e,o,s)}),a}function vt(e,t,n,i){if("function"!=typeof e)throw new $o(H);return ws(function(){e.apply(C,Gt(n,i))},t)}function bt(e,t){var n=e?e.length:0,i=[];if(!n)return i;var r=-1,o=xn(),a=o==s,c=a&&t.length>=200?Js(t):null,u=t.length;c&&(o=Qe,a=!1,t=c);e:for(;++r<n;){var l=e[r];if(a&&l===l){for(var h=u;h--;)if(t[h]===l)continue e;i.push(l)}else o(t,l,0)<0&&i.push(l)}return i}function yt(e,t){var n=e?e.length:0;if(!In(n))return It(e,t);for(var i=-1,r=qn(e);++i<n&&t(r[i],i,r)!==!1;);return e}function wt(e,t){var n=e?e.length:0;if(!In(n))return Tt(e,t);for(var i=qn(e);n--&&t(i[n],n,i)!==!1;);return e}function xt(e,t){var n=!0;return yt(e,function(e,i,r){return n=!!t(e,i,r)}),n}function _t(e,t,n,i){var r=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>r?0:r+n),i="undefined"==typeof i||i>r?r:+i||0,0>i&&(i+=r),r=n>i?0:i>>>0,n>>>=0;r>n;)e[n++]=t;return e}function kt(e,t){var n=[];return yt(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function St(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function At(e,t,n,i){for(var r=i-1,o=e.length,s=-1,a=[];++r<o;){var c=e[r];if(b(c)&&In(c.length)&&(na(c)||_r(c))){t&&(c=At(c,t,n,0));var u=-1,l=c.length;for(a.length+=l;++u<l;)a[++s]=c[u]}else n||(a[++s]=c)}return a}function Ct(e,t,n){for(var i=-1,r=qn(e),o=n(e),s=o.length;++i<s;){var a=o[i];if(t(r[a],a,r)===!1)break}return e}function jt(e,t,n){for(var i=qn(e),r=n(e),o=r.length;o--;){var s=r[o];if(t(i[s],s,i)===!1)break}return e}function Et(e,t){return Ct(e,t,Kr)}function It(e,t){return Ct(e,t,aa)}function Tt(e,t){return jt(e,t,aa)}function Lt(e,t){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var s=t[n];ra(e[s])&&(o[++r]=s)}return o}function Mt(e,t,n){var i=-1,r="function"==typeof t,o=e?e.length:0,s=In(o)?Ho(o):[];return yt(e,function(e){var o=r?t:null!=e&&e[t];s[++i]=o?o.apply(e,n):C}),s}function Dt(e,t,n,i,r,o){if(e===t)return 0!==e||1/e==1/t;var s=typeof e,a=typeof t;return"function"!=s&&"object"!=s&&"function"!=a&&"object"!=a||null==e||null==t?e!==e&&t!==t:Rt(e,t,Dt,n,i,r,o)}function Rt(e,t,n,i,r,o,s){var a=na(e),c=na(t),u=Z,l=Z;a||(u=cs.call(e),u==J?u=ee:u!=ee&&(a=Nr(e))),c||(l=cs.call(t),l==J?l=ee:l!=ee&&(c=Nr(t)));var h=u==ee,f=l==ee,d=u==l;if(d&&!a&&!h)return vn(e,t,u);var p=h&&ss.call(e,"__wrapped__"),m=f&&ss.call(t,"__wrapped__");if(p||m)return n(p?e.value():e,m?t.value():t,i,r,o,s);if(!d)return!1;o||(o=[]),s||(s=[]);for(var g=o.length;g--;)if(o[g]==e)return s[g]==t;o.push(e),s.push(t);var v=(a?gn:bn)(e,t,n,i,r,o,s);return o.pop(),s.pop(),v}function Ot(e,t,n,i,r){var o=t.length;if(null==e)return!o;for(var s=-1,a=!r;++s<o;)if(a&&i[s]?n[s]!==e[t[s]]:!ss.call(e,t[s]))return!1;for(s=-1;++s<o;){var c=t[s];if(a&&i[s])var u=ss.call(e,c);else{var l=e[c],h=n[s];u=r?r(l,h,c):C,"undefined"==typeof u&&(u=Dt(h,l,r,!0))}if(!u)return!1}return!0}function Pt(e,t){var n=[];return yt(e,function(e,i,r){n.push(t(e,i,r))}),n}function Nt(e){var t=aa(e),n=t.length;if(1==n){var i=t[0],r=e[i];if(Tn(r))return function(e){return null!=e&&e[i]===r&&ss.call(e,i)}}for(var o=Ho(n),s=Ho(n);n--;)r=e[t[n]],o[n]=r,s[n]=Tn(r);return function(e){return Ot(e,t,o,s)}}function qt(e,t){return Tn(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&Dt(t,n[e],null,!0)}}function Ft(e,t,n,i,r){if(!Ir(e))return e;var o=In(t.length)&&(na(t)||Nr(t));return(o?Xe:It)(t,function(t,s,a){if(b(t))return i||(i=[]),r||(r=[]),zt(e,a,s,Ft,n,i,r);var c=e[s],u=n?n(c,t,s,e,a):C,l="undefined"==typeof u;l&&(u=t),!o&&"undefined"==typeof u||!l&&(u===u?u===c:c!==c)||(e[s]=u)}),e}function zt(e,t,n,i,r,o,s){for(var a=o.length,c=t[n];a--;)if(o[a]==c)return void(e[n]=s[a]);var u=e[n],l=r?r(u,c,n,e,t):C,h="undefined"==typeof l;h&&(l=c,In(c.length)&&(na(c)||Nr(c))?l=na(u)?u:u?Ye(u):[]:oa(c)||_r(c)?l=_r(u)?zr(u):oa(u)?u:{}:h=!1),o.push(c),s.push(l),h?e[n]=i(l,c,r,o,s):(l===l?l!==u:u===u)&&(e[n]=l)}function Bt(e){return function(t){return null==t?C:t[e]}}function Ut(e,t){var n=t.length,i=ft(e,t);for(t.sort(o);n--;){var r=parseFloat(t[n]);if(r!=s&&jn(r)){var s=r;xs.call(e,r,1)}}return i}function Vt(e,t){return e+ms(Rs()*(t-e+1))}function Ht(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function Gt(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,0>t&&(t=-t>r?0:r+t),n="undefined"==typeof n||n>r?r:+n||0,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Ho(r);++i<r;)o[i]=e[i+t];return o}function Jt(e,t){var n;return yt(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Zt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Qt(e,t,n){var i=-1,r=e.length,o=In(r)?Ho(r):[];return yt(e,function(e){for(var n=t.length,r=Ho(n);n--;)r[n]=null==e?C:e[t[n]];o[++i]={criteria:r,index:i,value:e}}),Zt(o,function(e,t){return d(e,t,n)})}function Wt(e,t){var n=-1,i=xn(),r=e.length,o=i==s,a=o&&r>=200,c=a?Js():null,u=[];c?(i=Qe,o=!1):(a=!1,c=t?[]:u);e:for(;++n<r;){var l=e[n],h=t?t(l,n,e):l;if(o&&l===l){for(var f=c.length;f--;)if(c[f]===h)continue e;t&&c.push(h),u.push(l)}else i(c,h,0)<0&&((t||a)&&c.push(h),u.push(l))}return u}function Yt(e,t){for(var n=-1,i=t.length,r=Ho(i);++n<i;)r[n]=e[t[n]];return r}function Xt(e,t){var n=e;n instanceof r&&(n=n.value());for(var i=-1,o=t.length;++i<o;){var s=[n],a=t[i];vs.apply(s,a.args),n=a.func.apply(a.thisArg,s)}return n}function Kt(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&Fs>=r){for(;r>i;){var o=i+r>>>1,s=e[o];(n?t>=s:t>s)?i=o+1:r=o}return r}return $t(e,t,Lo,n)}function $t(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,s=t!==t,a="undefined"==typeof t;o>r;){var c=ms((r+o)/2),u=n(e[c]),l=u===u;if(s)var h=l||i;else h=a?l&&(i||"undefined"!=typeof u):i?t>=u:t>u;h?r=c+1:o=c}return Ts(o,qs)}function en(e,t,n){if("function"!=typeof e)return Lo;if("undefined"==typeof t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)};case 5:return function(n,i,r,o,s){return e.call(t,n,i,r,o,s)}}return function(){return e.apply(t,arguments)}}function tn(e){return fs.call(e,0)}function nn(e,t,n){for(var i=n.length,r=-1,o=Is(e.length-i,0),s=-1,a=t.length,c=Ho(o+a);++s<a;)c[s]=t[s];for(;++r<i;)c[n[r]]=e[r];for(;o--;)c[s++]=e[r++];return c}function rn(e,t,n){for(var i=-1,r=n.length,o=-1,s=Is(e.length-r,0),a=-1,c=t.length,u=Ho(s+c);++o<s;)u[o]=e[o];for(var l=o;++a<c;)u[l+a]=t[a];for(;++i<r;)u[l+n[i]]=e[o++];return u}function on(e,t){return function(n,i,r){var o=t?t():{};if(i=wn(i,r,3),na(n))for(var s=-1,a=n.length;++s<a;){var c=n[s];e(o,c,i(c,s,n),n)}else yt(n,function(t,n,r){e(o,t,i(t,n,r),r)});return o}}function sn(e){return function(){var t=arguments,n=t.length,i=t[0];if(2>n||null==i)return i;var r=t[n-2],o=t[n-1],s=t[3];n>3&&"function"==typeof r?(r=en(r,o,5),n-=2):(r=n>2&&"function"==typeof o?o:null,n-=r?1:0),s&&En(t[1],t[2],s)&&(r=3==n?null:r,n=2);for(var a=0;++a<n;){var c=t[a];c&&e(i,c,r)}return i}}function an(e,t){function n(){var r=this&&this!==Ke&&this instanceof n?i:e;return r.apply(t,arguments)}var i=ln(e);return n}function cn(e){return function(){var t=arguments.length,n=t,i=e?t-1:0;if(!t)return function(){return arguments[0]};for(var r=Ho(t);n--;)if(r[n]=arguments[n],"function"!=typeof r[n])throw new $o(H);return function(){for(var n=i,o=r[n].apply(this,arguments);e?n--:++n<t;)o=r[n].call(this,o);return o}}}function un(e){return function(t){for(var n=-1,i=jo(lo(t)),r=i.length,o="";++n<r;)o=e(o,i[n],n);return o}}function ln(e){return function(){var t=Hs(e.prototype),n=e.apply(t,arguments);return Ir(n)?n:t}}function hn(e,t){return function(n,i,r){r&&En(n,i,r)&&(i=null);var o=wn(),s=null==i;if(o===mt&&s||(s=!1,i=o(i,r,3)),s){var a=na(n);if(a||!Pr(n))return e(a?n:Nn(n));i=u}return yn(n,i,t)}}function fn(e,t,n,i,r,o,s,a,c,u){function l(){for(var y=arguments.length,x=y,_=Ho(y);x--;)_[x]=arguments[x];if(i&&(_=nn(_,i,r)),o&&(_=rn(_,o,s)),p||g){var k=l.placeholder,S=w(_,k);if(y-=S.length,u>y){var A=a?Ye(a):null,C=Is(u-y,0),j=p?S:null,T=p?null:S,L=p?_:null,M=p?null:_;t|=p?D:R,t&=~(p?R:D),m||(t&=~(E|I));var O=fn(e,t,n,L,j,M,T,A,c,C);return O.placeholder=k,O}}var P=f?n:this;d&&(e=P[b]),a&&(_=Rn(_,a)),h&&c<_.length&&(_.length=c);var N=this&&this!==Ke&&this instanceof l?v||ln(e):e;return N.apply(P,_)}var h=t&P,f=t&E,d=t&I,p=t&L,m=t&T,g=t&M,v=!d&&ln(e),b=e;return l}function dn(e,t,n){var i=e.length;if(t=+t,i>=t||!js(t))return"";var r=t-i;return n=null==n?" ":n+"",yo(n,ds(r/n.length)).slice(0,r)}function pn(e,t,n,i){function r(){for(var t=-1,a=arguments.length,c=-1,u=i.length,l=Ho(a+u);++c<u;)l[c]=i[c];for(;a--;)l[c++]=arguments[++t];var h=this&&this!==Ke&&this instanceof r?s:e;return h.apply(o?n:this,l)}var o=t&E,s=ln(e);return r}function mn(e,t,n,i,r,o,s,a){var c=t&I;if(!c&&"function"!=typeof e)throw new $o(H);var u=i?i.length:0;if(u||(t&=~(D|R),i=r=null),u-=r?r.length:0,t&R){var l=i,h=r;i=r=null}var f=!c&&Zs(e),d=[e,t,n,i,r,l,h,o,s,a];if(f&&f!==!0&&(Ln(d,f),t=d[1],a=d[9]),d[9]=null==a?c?0:e.length:Is(a-u,0)||0,t==E)var p=an(d[0],d[2]);else p=t!=D&&t!=(E|D)||d[4].length?fn.apply(C,d):pn.apply(C,d);var m=f?Gs:Qs;return m(p,d)}function gn(e,t,n,i,r,o,s){var a=-1,c=e.length,u=t.length,l=!0;if(c!=u&&!(r&&u>c))return!1;for(;l&&++a<c;){var h=e[a],f=t[a];if(l=C,i&&(l=r?i(f,h,a):i(h,f,a)),"undefined"==typeof l)if(r)for(var d=u;d--&&(f=t[d],!(l=h&&h===f||n(h,f,i,r,o,s))););else l=h&&h===f||n(h,f,i,r,o,s)}return!!l}function vn(e,t,n){switch(n){case Q:case W:return+e==+t;case Y:return e.name==t.name&&e.message==t.message;case $:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case te:case ie:return e==t+""}return!1}function bn(e,t,n,i,r,o,s){var a=aa(e),c=a.length,u=aa(t),l=u.length;if(c!=l&&!r)return!1;for(var h,f=-1;++f<c;){var d=a[f],p=ss.call(t,d);if(p){var m=e[d],g=t[d];p=C,i&&(p=r?i(g,m,d):i(m,g,d)),"undefined"==typeof p&&(p=m&&m===g||n(m,g,i,r,o,s))}if(!p)return!1;h||(h="constructor"==d)}if(!h){var v=e.constructor,b=t.constructor;if(v!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function yn(e,t,n){var i=n?Ps:Os,r=i,o=r;return yt(e,function(e,s,a){var c=t(e,s,a);((n?r>c:c>r)||c===i&&c===o)&&(r=c,o=e)}),o}function wn(e,n,i){var r=t.callback||Io;return r=r===Io?mt:r,i?r(e,n,i):r}function xn(e,n,i){var r=t.indexOf||$n;return r=r===$n?s:r,e?r(e,n,i):r}function _n(e,t,n){for(var i=-1,r=n?n.length:0;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=Ts(t,e+s);break;case"takeRight":e=Is(e,t-s)}}return{start:e,end:t}}function kn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ss.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Sn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Yo),new t}function An(e,t,n){var i=e.constructor;switch(t){case oe:return tn(e);case Q:case W:return new i(+e);case se:case ae:case ce:case ue:case le:case he:case fe:case de:case pe:var r=e.buffer;return new i(n?tn(r):r,e.byteOffset,e.length);case $:case ie:return new i(e);case te:var o=new i(e.source,Ce.exec(e));o.lastIndex=e.lastIndex}return o}function Cn(e){var n=t.support,i=!(n.funcNames?e.name:n.funcDecomp);if(!i){var r=rs.call(e);n.funcNames||(i=!je.test(r)),i||(i=Re.test(r)||Mr(e),Gs(e,i))}return i}function jn(e,t){return e=+e,t=null==t?Bs:t,e>-1&&e%1==0&&t>e}function En(e,t,n){if(!Ir(n))return!1;var i=typeof t;if("number"==i)var r=n.length,o=In(r)&&jn(t,r);else o="string"==i&&t in n;if(o){var s=n[t];return e===e?e===s:s!==s}return!1}function In(e){return"number"==typeof e&&e>-1&&e%1==0&&Bs>=e}function Tn(e){return e===e&&(0===e?1/e>0:!Ir(e))}function Ln(e,t){var n=e[1],i=t[1],r=n|i,o=P|O,s=E|I,a=o|s|T|M,c=n&P&&!(i&P),u=n&O&&!(i&O),l=(u?e:t)[7],h=(c?e:t)[8],f=!(n>=O&&i>s||n>s&&i>=O),d=r>=o&&a>=r&&(O>n||(u||c)&&l.length<=h);if(!f&&!d)return e;i&E&&(e[2]=t[2],r|=n&E?0:T);var p=t[3];if(p){var m=e[3];e[3]=m?nn(m,p,t[4]):Ye(p),e[4]=m?w(e[3],G):Ye(t[4])}return p=t[5],p&&(m=e[5],e[5]=m?rn(m,p,t[6]):Ye(p),e[6]=m?w(e[5],G):Ye(t[6])),p=t[7],p&&(e[7]=Ye(p)),i&P&&(e[8]=null==e[8]?t[8]:Ts(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function Mn(e,t){e=qn(e);for(var n=-1,i=t.length,r={};++n<i;){var o=t[n];o in e&&(r[o]=e[o])}return r}function Dn(e,t){var n={};return Et(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}function Rn(e,t){for(var n=e.length,i=Ts(t.length,n),r=Ye(e);i--;){var o=t[i];e[i]=jn(o,n)?r[o]:C}return e}function On(e){{var n;t.support}if(!b(e)||cs.call(e)!=ee||!ss.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var i;return Et(e,function(e,t){i=t}),"undefined"==typeof i||ss.call(e,i)}function Pn(e){for(var n=Kr(e),i=n.length,r=i&&e.length,o=t.support,s=r&&In(r)&&(na(e)||o.nonEnumArgs&&_r(e)),a=-1,c=[];++a<i;){var u=n[a];(s&&jn(u,r)||ss.call(e,u))&&c.push(u)}return c}function Nn(e){return null==e?[]:In(e.length)?Ir(e)?e:Yo(e):oo(e)}function qn(e){return Ir(e)?e:Yo(e)}function Fn(e){return e instanceof r?e.clone():new i(e.__wrapped__,e.__chain__,Ye(e.__actions__))}function zn(e,t,n){t=(n?En(e,t,n):null==t)?1:Is(+t||1,1);for(var i=0,r=e?e.length:0,o=-1,s=Ho(ds(r/t));r>i;)s[++o]=Gt(e,i,i+=t);return s}function Bn(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var o=e[t];o&&(r[++i]=o)}return r}function Un(){for(var e=arguments,t=-1,n=e.length;++t<n;){var i=e[t];if(na(i)||_r(i))break}return bt(i,At(e,!1,!0,++t))}function Vn(e,t,n){var i=e?e.length:0;return i?((n?En(e,t,n):null==t)&&(t=1),Gt(e,0>t?0:t)):[]}function Hn(e,t,n){var i=e?e.length:0;return i?((n?En(e,t,n):null==t)&&(t=1),t=i-(+t||0),Gt(e,0,0>t?0:t)):[]}function Gn(e,t,n){var i=e?e.length:0;if(!i)return[];for(t=wn(t,n,3);i--&&t(e[i],i,e););return Gt(e,0,i+1)}function Jn(e,t,n){var i=e?e.length:0;if(!i)return[];var r=-1;for(t=wn(t,n,3);++r<i&&t(e[r],r,e););return Gt(e,r)}function Zn(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&En(e,t,n)&&(n=0,i=r),_t(e,t,n,i)):[]}function Qn(e,t,n){var i=-1,r=e?e.length:0;for(t=wn(t,n,3);++i<r;)if(t(e[i],i,e))return i;return-1}function Wn(e,t,n){var i=e?e.length:0;for(t=wn(t,n,3);i--;)if(t(e[i],i,e))return i;return-1}function Yn(e){return e?e[0]:C}function Xn(e,t,n){var i=e?e.length:0;return n&&En(e,t,n)&&(t=!1),i?At(e,t,!1,0):[]}function Kn(e){var t=e?e.length:0;return t?At(e,!0,!1,0):[]}function $n(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=0>n?Is(i+n,0):n;else if(n){var r=Kt(e,t),o=e[r];return(t===t?t===o:o!==o)?r:-1}return s(e,t,n||0)}function ei(e){return Hn(e,1)}function ti(){for(var e=[],t=-1,n=arguments.length,i=[],r=xn(),o=r==s;++t<n;){var a=arguments[t];(na(a)||_r(a))&&(e.push(a),i.push(o&&a.length>=120?Js(t&&a):null))}n=e.length;var c=e[0],u=-1,l=c?c.length:0,h=[],f=i[0];e:for(;++u<l;)if(a=c[u],(f?Qe(f,a):r(h,a,0))<0){for(t=n;--t;){var d=i[t];if((d?Qe(d,a):r(e[t],a,0))<0)continue e}f&&f.push(a),h.push(a)}return h}function ni(e){var t=e?e.length:0;return t?e[t-1]:C}function ii(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(0>n?Is(i+n,0):Ts(n||0,i-1))+1;else if(n){r=Kt(e,t,!0)-1;var o=e[r];return(t===t?t===o:o!==o)?r:-1}if(t!==t)return v(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function ri(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=xn(),r=e.length;++n<r;)for(var o=0,s=e[n];(o=i(t,s,o))>-1;)xs.call(t,o,1);return t}function oi(e){return Ut(e||[],At(arguments,!1,!1,1))}function si(e,t,n){var i=-1,r=e?e.length:0,o=[];for(t=wn(t,n,3);++i<r;){var s=e[i];t(s,i,e)&&(o.push(s),xs.call(e,i--,1),r--)}return o}function ai(e){return Vn(e,1)}function ci(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&En(e,t,n)&&(t=0,n=i),Gt(e,t,n)):[]}function ui(e,t,n,i){var r=wn(n);return r===mt&&null==n?Kt(e,t):$t(e,t,r(n,i,1))}function li(e,t,n,i){var r=wn(n);return r===mt&&null==n?Kt(e,t,!0):$t(e,t,r(n,i,1),!0)}function hi(e,t,n){var i=e?e.length:0;return i?((n?En(e,t,n):null==t)&&(t=1),Gt(e,0,0>t?0:t)):[]}function fi(e,t,n){var i=e?e.length:0;return i?((n?En(e,t,n):null==t)&&(t=1),t=i-(+t||0),Gt(e,0>t?0:t)):[]}function di(e,t,n){var i=e?e.length:0;if(!i)return[];for(t=wn(t,n,3);i--&&t(e[i],i,e););return Gt(e,i+1)}function pi(e,t,n){var i=e?e.length:0;if(!i)return[];var r=-1;for(t=wn(t,n,3);++r<i&&t(e[r],r,e););return Gt(e,0,r)}function mi(){return Wt(At(arguments,!1,!0,0))}function gi(e,t,n,i){var r=e?e.length:0;if(!r)return[];null!=t&&"boolean"!=typeof t&&(i=n,n=En(e,t,i)?null:t,t=!1);var o=wn();return(o!==mt||null!=n)&&(n=o(n,i,3)),t&&xn()==s?x(e,n):Wt(e,n)}function vi(e){for(var t=-1,n=(e&&e.length&&rt(it(e,os)))>>>0,i=Ho(n);++t<n;)i[t]=it(e,Bt(t));return i}function bi(e){return bt(e,Gt(arguments,1))}function yi(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(na(n)||_r(n))var i=i?bt(i,n).concat(bt(n,i)):n}return i?Wt(i):[]}function wi(){for(var e=arguments.length,t=Ho(e);e--;)t[e]=arguments[e];return vi(t)}function xi(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||na(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}function _i(e){var n=t(e);return n.__chain__=!0,n}function ki(e,t,n){return t.call(n,e),e}function Si(e,t,n){return t.call(n,e)}function Ai(){return _i(this)}function Ci(){return new i(this.value(),this.__chain__)}function ji(e){for(var t,i=this;i instanceof n;){var r=Fn(i);t?o.__wrapped__=r:t=r;var o=r;i=i.__wrapped__}return o.__wrapped__=e,t}function Ei(){var e=this.__wrapped__;return e instanceof r?(this.__actions__.length&&(e=new r(this)),new i(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function Ii(){return this.value()+""}function Ti(){return Xt(this.__wrapped__,this.__actions__)}function Li(e){var t=e?e.length:0;return In(t)&&(e=Nn(e)),ft(e,At(arguments,!1,!1,1))}function Mi(e,t,n){var i=na(e)?tt:xt;return("function"!=typeof t||"undefined"!=typeof n)&&(t=wn(t,n,3)),i(e,t)}function Di(e,t,n){var i=na(e)?nt:kt;return t=wn(t,n,3),i(e,t)}function Ri(e,t,n){if(na(e)){var i=Qn(e,t,n);return i>-1?e[i]:C}return t=wn(t,n,3),St(e,t,yt)}function Oi(e,t,n){return t=wn(t,n,3),St(e,t,wt)}function Pi(e,t){return Ri(e,Nt(t))}function Ni(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&na(e)?Xe(e,t):yt(e,en(t,n,3))}function qi(e,t,n){return"function"==typeof t&&"undefined"==typeof n&&na(e)?et(e,t):wt(e,en(t,n,3))}function Fi(e,t,n){var i=e?e.length:0;return In(i)||(e=oo(e),i=e.length),i?(n="number"==typeof n?0>n?Is(i+n,0):n||0:0,"string"==typeof e||!na(e)&&Pr(e)?i>n&&e.indexOf(t,n)>-1:xn(e,t,n)>-1):!1}function zi(e,t){return Mt(e,t,Gt(arguments,2))}function Bi(e,t,n){var i=na(e)?it:Pt;return t=wn(t,n,3),i(e,t)}function Ui(e,t){return Bi(e,Bt(t))}function Vi(e,t,n,i){var r=na(e)?st:Ht;return r(e,wn(t,i,4),n,arguments.length<3,yt)}function Hi(e,t,n,i){var r=na(e)?at:Ht;return r(e,wn(t,i,4),n,arguments.length<3,wt)}function Gi(e,t,n){var i=na(e)?nt:kt;return t=wn(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})}function Ji(e,t,n){if(n?En(e,t,n):null==t){e=Nn(e);var i=e.length;return i>0?e[Vt(0,i-1)]:C}var r=Zi(e);return r.length=Ts(0>t?0:+t||0,r.length),r}function Zi(e){e=Nn(e);for(var t=-1,n=e.length,i=Ho(n);++t<n;){var r=Vt(0,t);t!=r&&(i[t]=i[r]),i[r]=e[t]}return i}function Qi(e){var t=e?e.length:0;return In(t)?t:aa(e).length}function Wi(e,t,n){var i=na(e)?ct:Jt;return("function"!=typeof t||"undefined"!=typeof n)&&(t=wn(t,n,3)),i(e,t)}function Yi(e,t,n){if(null==e)return[];var i=-1,r=e.length,o=In(r)?Ho(r):[];return n&&En(e,t,n)&&(t=null),t=wn(t,n,3),yt(e,function(e,n,r){o[++i]={criteria:t(e,n,r),index:i,value:e}}),Zt(o,f)}function Xi(e){if(null==e)return[];var t=arguments,n=t[3];return n&&En(t[1],t[2],n)&&(t=[e,t[1]]),Qt(e,At(t,!1,!1,1),[])}function Ki(e,t,n,i){return null==e?[]:(i&&En(t,n,i)&&(n=null),na(t)||(t=null==t?[]:[t]),na(n)||(n=null==n?[]:[n]),Qt(e,t,n))}function $i(e,t){return Di(e,Nt(t))}function er(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new $o(H);var n=e;e=t,t=n}return e=js(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function tr(e,t,n){return n&&En(e,t,n)&&(t=null),t=e&&null==t?e.length:Is(+t||0,0),mn(e,P,null,null,null,null,t)}function nr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new $o(H);var i=e;e=t,t=i}return function(){return--e>0?n=t.apply(this,arguments):t=null,n}}function ir(e,t){var n=E;if(arguments.length>2){var i=Gt(arguments,2),r=w(i,ir.placeholder);n|=D}return mn(e,n,t,i,r)}function rr(e){return pt(e,arguments.length>1?At(arguments,!1,!1,1):Wr(e))}function or(e,t){var n=E|I;if(arguments.length>2){var i=Gt(arguments,2),r=w(i,or.placeholder);n|=D}return mn(t,n,e,i,r)}function sr(e,t,n){n&&En(e,t,n)&&(t=null);var i=mn(e,L,null,null,null,null,null,t);return i.placeholder=sr.placeholder,i}function ar(e,t,n){n&&En(e,t,n)&&(t=null);var i=mn(e,M,null,null,null,null,null,t);return i.placeholder=ar.placeholder,i}function cr(e,t,n){function i(){f&&ps(f),c&&ps(c),c=f=d=C}function r(){var n=t-($s()-l);if(0>=n||n>t){c&&ps(c);var i=d;c=f=d=C,i&&(p=$s(),u=e.apply(h,a),f||c||(a=h=null))}else f=ws(r,n)}function o(){f&&ps(f),c=f=d=C,(g||m!==t)&&(p=$s(),u=e.apply(h,a),f||c||(a=h=null))}function s(){if(a=arguments,l=$s(),h=this,d=g&&(f||!v),m===!1)var n=v&&!f;else{c||v||(p=l);var i=m-(l-p),s=0>=i||i>m;s?(c&&(c=ps(c)),p=l,u=e.apply(h,a)):c||(c=ws(o,i))}return s&&f?f=ps(f):f||t===m||(f=ws(r,t)),n&&(s=!0,u=e.apply(h,a)),!s||f||c||(a=h=null),u}var a,c,u,l,h,f,d,p=0,m=!1,g=!0;if("function"!=typeof e)throw new $o(H);if(t=0>t?0:+t||0,n===!0){var v=!0;g=!1}else Ir(n)&&(v=n.leading,m="maxWait"in n&&Is(+n.maxWait||0,t),g="trailing"in n?n.trailing:g);return s.cancel=i,s}function ur(e){return vt(e,1,arguments,1)}function lr(e,t){return vt(e,t,arguments,2)}function hr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new $o(H);var n=function(){var i=arguments,r=n.cache,o=t?t.apply(this,i):i[0];if(r.has(o))return r.get(o);var s=e.apply(this,i);return r.set(o,s),s};return n.cache=new hr.Cache,n}function fr(e){if("function"!=typeof e)throw new $o(H);return function(){return!e.apply(this,arguments)}}function dr(e){return nr(e,2)}function pr(e){var t=Gt(arguments,1),n=w(t,pr.placeholder);return mn(e,D,null,t,n)}function mr(e){var t=Gt(arguments,1),n=w(t,mr.placeholder);return mn(e,R,null,t,n)}function gr(e){var t=At(arguments,!1,!1,1);return mn(e,O,null,null,null,t)}function vr(e){if("function"!=typeof e)throw new $o(H);return function(t){return e.apply(this,t)}}function br(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new $o(H);return n===!1?i=!1:Ir(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ue.leading=i,Ue.maxWait=+t,Ue.trailing=r,cr(e,t,Ue)}function yr(e,t){return t=null==t?Lo:t,mn(t,D,null,[e],[])}function wr(e,t,n,i){return t&&"boolean"!=typeof t&&En(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),n="function"==typeof n&&en(n,i,1),gt(e,t,n)}function xr(e,t,n){return t="function"==typeof t&&en(t,n,1),gt(e,!0,t)}function _r(e){var t=b(e)?e.length:C;return In(t)&&cs.call(e)==J||!1}function kr(e){return e===!0||e===!1||b(e)&&cs.call(e)==Q||!1}function Sr(e){return b(e)&&cs.call(e)==W||!1}function Ar(e){return e&&1===e.nodeType&&b(e)&&cs.call(e).indexOf("Element")>-1||!1}function Cr(e){if(null==e)return!0;var t=e.length;return In(t)&&(na(e)||Pr(e)||_r(e)||b(e)&&ra(e.splice))?!t:!aa(e).length}function jr(e,t,n,i){if(n="function"==typeof n&&en(n,i,3),!n&&Tn(e)&&Tn(t))return e===t;var r=n?n(e,t):C;return"undefined"==typeof r?Dt(e,t,n):!!r}function Er(e){return b(e)&&"string"==typeof e.message&&cs.call(e)==Y||!1}function Ir(e){var t=typeof e;return"function"==t||e&&"object"==t||!1}function Tr(e,t,n,i){var r=aa(t),o=r.length;if(n="function"==typeof n&&en(n,i,3),!n&&1==o){var s=r[0],a=t[s];if(Tn(a))return null!=e&&a===e[s]&&ss.call(e,s)}for(var c=Ho(o),u=Ho(o);o--;)a=c[o]=t[r[o]],u[o]=Tn(a);return Ot(e,r,c,u,n)}function Lr(e){return Rr(e)&&e!=+e}function Mr(e){return null==e?!1:cs.call(e)==X?ls.test(rs.call(e)):b(e)&&Ie.test(e)||!1}function Dr(e){return null===e}function Rr(e){return"number"==typeof e||b(e)&&cs.call(e)==$||!1}function Or(e){return b(e)&&cs.call(e)==te||!1}function Pr(e){return"string"==typeof e||b(e)&&cs.call(e)==ie||!1}function Nr(e){return b(e)&&In(e.length)&&ze[cs.call(e)]||!1}function qr(e){return"undefined"==typeof e}function Fr(e){var t=e?e.length:0;return In(t)?t?Ye(e):[]:oo(e)}function zr(e){return dt(e,Kr(e))}function Br(e,t,n){var i=Hs(e);return n&&En(e,t,n)&&(t=null),t?dt(t,i,aa(t)):i}function Ur(e){if(null==e)return e;var t=Ye(arguments);return t.push(ut),sa.apply(C,t)}function Vr(e,t,n){return t=wn(t,n,3),St(e,t,It,!0)}function Hr(e,t,n){return t=wn(t,n,3),St(e,t,Tt,!0)}function Gr(e,t,n){return("function"!=typeof t||"undefined"!=typeof n)&&(t=en(t,n,3)),Ct(e,t,Kr)}function Jr(e,t,n){return t=en(t,n,3),jt(e,t,Kr)}function Zr(e,t,n){return("function"!=typeof t||"undefined"!=typeof n)&&(t=en(t,n,3)),It(e,t)}function Qr(e,t,n){return t=en(t,n,3),jt(e,t,aa)}function Wr(e){return Lt(e,Kr(e))}function Yr(e,t){return e?ss.call(e,t):!1}function Xr(e,t,n){n&&En(e,t,n)&&(t=null);for(var i=-1,r=aa(e),o=r.length,s={};++i<o;){var a=r[i],c=e[a];t?ss.call(s,c)?s[c].push(a):s[c]=[a]:s[c]=a}return s}function Kr(e){if(null==e)return[];Ir(e)||(e=Yo(e));var t=e.length;t=t&&In(t)&&(na(e)||Vs.nonEnumArgs&&_r(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype===e,o=Ho(t),s=t>0;++i<t;)o[i]=i+"";for(var a in e)s&&jn(a,t)||"constructor"==a&&(r||!ss.call(e,a))||o.push(a);return o}function $r(e,t,n){var i={};return t=wn(t,n,3),It(e,function(e,n,r){i[n]=t(e,n,r)}),i}function eo(e,t,n){if(null==e)return{};if("function"!=typeof t){var i=it(At(arguments,!1,!1,1),Ko);return Mn(e,bt(Kr(e),i));

}return t=en(t,n,3),Dn(e,function(e,n,i){return!t(e,n,i)})}function to(e){for(var t=-1,n=aa(e),i=n.length,r=Ho(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}function no(e,t,n){return null==e?{}:"function"==typeof t?Dn(e,en(t,n,3)):Mn(e,At(arguments,!1,!1,1))}function io(e,t,n){var i=null==e?C:e[t];return"undefined"==typeof i&&(i=n),ra(i)?i.call(e):i}function ro(e,t,n,i){var r=na(e)||Nr(e);if(t=wn(t,i,4),null==n)if(r||Ir(e)){var o=e.constructor;n=r?na(e)?new o:[]:Hs(ra(o)&&o.prototype)}else n={};return(r?Xe:It)(e,function(e,i,r){return t(n,e,i,r)}),n}function oo(e){return Yt(e,aa(e))}function so(e){return Yt(e,Kr(e))}function ao(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=t&&n>e}function co(e,t,n){n&&En(e,t,n)&&(t=n=null);var i=null==e,r=null==t;if(null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Rs();return Ts(e+o*(t-e+parseFloat("1e-"+((o+"").length-1))),t)}return Vt(e,t)}function uo(e){return e=c(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function lo(e){return e=c(e),e&&e.replace(Te,p)}function ho(e,t,n){e=c(e),t+="";var i=e.length;return n="undefined"==typeof n?i:Ts(0>n?0:+n||0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fo(e){return e=c(e),e&&xe.test(e)?e.replace(ye,m):e}function po(e){return e=c(e),e&&De.test(e)?e.replace(Me,"\\$&"):e}function mo(e,t,n){e=c(e),t=+t;var i=e.length;if(i>=t||!js(t))return e;var r=(t-i)/2,o=ms(r),s=ds(r);return n=dn("",s,n),n.slice(0,o)+e+n}function go(e,t,n){return e=c(e),e&&dn(e,t,n)+e}function vo(e,t,n){return e=c(e),e&&e+dn(e,t,n)}function bo(e,t,n){return n&&En(e,t,n)&&(t=0),Ds(e,t)}function yo(e,t){var n="";if(e=c(e),t=+t,1>t||!e||!js(t))return n;do t%2&&(n+=e),t=ms(t/2),e+=e;while(t);return n}function wo(e,t,n){return e=c(e),n=null==n?0:Ts(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function xo(e,n,i){var r=t.templateSettings;i&&En(e,n,i)&&(n=i=null),e=c(e),n=ht(ht({},i||n),r,lt);var o,s,a=ht(ht({},n.imports),r.imports,lt),u=aa(a),l=Yt(a,u),h=0,f=n.interpolate||Le,d="__p += '",p=Xo((n.escape||Le).source+"|"+f.source+"|"+(f===Se?Ae:Le).source+"|"+(n.evaluate||Le).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(p,function(t,n,i,r,a,c){return i||(i=r),d+=e.slice(h,c).replace(Oe,g),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=c+t.length,t}),d+="';\n";var v=n.variable;v||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(me,""):d).replace(ge,"$1").replace(ve,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var b=Eo(function(){return Zo(u,m+"return "+d).apply(C,l)});if(b.source=d,Er(b))throw b;return b}function _o(e,t,n){var i=e;return(e=c(e))?(n?En(i,t,n):null==t)?e.slice(_(e),k(e)+1):(t+="",e.slice(l(e,t),h(e,t)+1)):e}function ko(e,t,n){var i=e;return e=c(e),e?e.slice((n?En(i,t,n):null==t)?_(e):l(e,t+"")):e}function So(e,t,n){var i=e;return e=c(e),e?(n?En(i,t,n):null==t)?e.slice(0,k(e)+1):e.slice(0,h(e,t+"")+1):e}function Ao(e,t,n){n&&En(e,t,n)&&(t=null);var i=N,r=q;if(null!=t)if(Ir(t)){var o="separator"in t?t.separator:o;i="length"in t?+t.length||0:i,r="omission"in t?c(t.omission):r}else i=+t||0;if(e=c(e),i>=e.length)return e;var s=i-r.length;if(1>s)return r;var a=e.slice(0,s);if(null==o)return a+r;if(Or(o)){if(e.slice(s).search(o)){var u,l,h=e.slice(0,s);for(o.global||(o=Xo(o.source,(Ce.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(h);)l=u.index;a=a.slice(0,null==l?s:l)}}else if(e.indexOf(o,s)!=s){var f=a.lastIndexOf(o);f>-1&&(a=a.slice(0,f))}return a+r}function Co(e){return e=c(e),e&&we.test(e)?e.replace(be,S):e}function jo(e,t,n){return n&&En(e,t,n)&&(t=null),e=c(e),e.match(t||Pe)||[]}function Eo(){for(var e=arguments[0],t=arguments.length,n=Ho(t?t-1:0);--t>0;)n[t-1]=arguments[t];try{return e.apply(C,n)}catch(i){return Er(i)?i:new Jo(i)}}function Io(e,t,n){return n&&En(e,t,n)&&(t=null),b(e)?Mo(e):mt(e,t)}function To(e){return function(){return e}}function Lo(e){return e}function Mo(e){return Nt(gt(e,!0))}function Do(e,t){return qt(e+"",gt(t,!0))}function Ro(e,t,n){if(null==n){var i=Ir(t),r=i&&aa(t),o=r&&r.length&&Lt(t,r);(o?o.length:i)||(o=!1,n=t,t=e,e=this)}o||(o=Lt(t,aa(t)));var s=!0,a=-1,c=ra(e),u=o.length;n===!1?s=!1:Ir(n)&&"chain"in n&&(s=n.chain);for(;++a<u;){var l=o[a],h=t[l];e[l]=h,c&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(s||n){var i=e(this.__wrapped__);return(i.__actions__=Ye(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}var r=[this.value()];return vs.apply(r,arguments),t.apply(e,r)}}(h))}return e}function Oo(){return e._=us,this}function Po(){}function No(e){return Bt(e+"")}function qo(e){return function(t){return null==e?C:e[t]}}function Fo(e,t,n){n&&En(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,r=Is(ds((t-e)/(n||1)),0),o=Ho(r);++i<r;)o[i]=e,e+=n;return o}function zo(e,t,n){if(e=+e,1>e||!js(e))return[];var i=-1,r=Ho(Ts(e,Ns));for(t=en(t,n,1);++i<e;)Ns>i?r[i]=t(i):t(i);return r}function Bo(e){var t=++as;return c(e)+t}function Uo(e,t){return e+t}function Vo(e){na(e)||(e=Nn(e));for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}e=e?$e.defaults(Ke.Object(),e,$e.pick(Ke,qe)):Ke;var Ho=e.Array,Go=e.Date,Jo=e.Error,Zo=e.Function,Qo=e.Math,Wo=e.Number,Yo=e.Object,Xo=e.RegExp,Ko=e.String,$o=e.TypeError,es=Ho.prototype,ts=Yo.prototype,ns=Ko.prototype,is=(is=e.window)&&is.document,rs=Zo.prototype.toString,os=Bt("length"),ss=ts.hasOwnProperty,as=0,cs=ts.toString,us=e._,ls=Xo("^"+po(cs).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hs=Mr(hs=e.ArrayBuffer)&&hs,fs=Mr(fs=hs&&new hs(0).slice)&&fs,ds=Qo.ceil,ps=e.clearTimeout,ms=Qo.floor,gs=Mr(gs=Yo.getPrototypeOf)&&gs,vs=es.push,bs=ts.propertyIsEnumerable,ys=Mr(ys=e.Set)&&ys,ws=e.setTimeout,xs=es.splice,_s=Mr(_s=e.Uint8Array)&&_s,ks=Mr(ks=e.WeakMap)&&ks,Ss=function(){try{var t=Mr(t=e.Float64Array)&&t,n=new t(new hs(10),0,1)&&t}catch(i){}return n}(),As=Mr(As=Ho.isArray)&&As,Cs=Mr(Cs=Yo.create)&&Cs,js=e.isFinite,Es=Mr(Es=Yo.keys)&&Es,Is=Qo.max,Ts=Qo.min,Ls=Mr(Ls=Go.now)&&Ls,Ms=Mr(Ms=Wo.isFinite)&&Ms,Ds=e.parseInt,Rs=Qo.random,Os=Wo.NEGATIVE_INFINITY,Ps=Wo.POSITIVE_INFINITY,Ns=Qo.pow(2,32)-1,qs=Ns-1,Fs=Ns>>>1,zs=Ss?Ss.BYTES_PER_ELEMENT:0,Bs=Qo.pow(2,53)-1,Us=ks&&new ks,Vs=t.support={};!function(){Vs.funcDecomp=!Mr(e.WinRTError)&&Re.test(A),Vs.funcNames="string"==typeof Zo.name;try{Vs.dom=11===is.createDocumentFragment().nodeType}catch(t){Vs.dom=!1}try{Vs.nonEnumArgs=!bs.call(arguments,1)}catch(t){Vs.nonEnumArgs=!0}}(0,0),t.templateSettings={escape:_e,evaluate:ke,interpolate:Se,variable:"",imports:{_:t}};var Hs=function(){function t(){}return function(n){if(Ir(n)){t.prototype=n;var i=new t;t.prototype=null}return i||e.Object()}}(),Gs=Us?function(e,t){return Us.set(e,t),e}:Lo;fs||(tn=hs&&_s?function(e){var t=e.byteLength,n=Ss?ms(t/zs):0,i=n*zs,r=new hs(t);if(n){var o=new Ss(r,0,n);o.set(new Ss(e,0,n))}return t!=i&&(o=new _s(r,i),o.set(new _s(e,i))),r}:To(null));var Js=Cs&&ys?function(e){return new Ze(e)}:To(null),Zs=Us?function(e){return Us.get(e)}:Po,Qs=function(){var e=0,t=0;return function(n,i){var r=$s(),o=z-(r-t);if(t=r,o>0){if(++e>=F)return n}else e=0;return Gs(n,i)}}(),Ws=on(function(e,t,n){ss.call(e,n)?++e[n]:e[n]=1}),Ys=on(function(e,t,n){ss.call(e,n)?e[n].push(t):e[n]=[t]}),Xs=on(function(e,t,n){e[n]=t}),Ks=on(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),$s=Ls||function(){return(new Go).getTime()},ea=cn(),ta=cn(!0),na=As||function(e){return b(e)&&In(e.length)&&cs.call(e)==Z||!1};Vs.dom||(Ar=function(e){return e&&1===e.nodeType&&b(e)&&!oa(e)||!1});var ia=Ms||function(e){return"number"==typeof e&&js(e)},ra=a(/x/)||_s&&!a(_s)?function(e){return cs.call(e)==X}:a,oa=gs?function(e){if(!e||cs.call(e)!=ee)return!1;var t=e.valueOf,n=Mr(t)&&(n=gs(t))&&gs(n);return n?e==n||gs(e)==n:On(e)}:On,sa=sn(ht),aa=Es?function(e){if(e)var t=e.constructor,n=e.length;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&n&&In(n)?Pn(e):Ir(e)?Es(e):[]}:Pn,ca=sn(Ft),ua=un(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),la=un(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});8!=Ds(Ne+"08")&&(bo=function(e,t,n){return(n?En(e,t,n):null==t)?t=0:t&&(t=+t),e=_o(e),Ds(e,t||(Ee.test(e)?16:10))});var ha=un(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),fa=un(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),da=hn(rt),pa=hn(ot,!0);return t.prototype=n.prototype,i.prototype=Hs(n.prototype),i.prototype.constructor=i,r.prototype=Hs(n.prototype),r.prototype.constructor=r,re.prototype["delete"]=Ve,re.prototype.get=He,re.prototype.has=Ge,re.prototype.set=Je,Ze.prototype.push=We,hr.Cache=re,t.after=er,t.ary=tr,t.assign=sa,t.at=Li,t.before=nr,t.bind=ir,t.bindAll=rr,t.bindKey=or,t.callback=Io,t.chain=_i,t.chunk=zn,t.compact=Bn,t.constant=To,t.countBy=Ws,t.create=Br,t.curry=sr,t.curryRight=ar,t.debounce=cr,t.defaults=Ur,t.defer=ur,t.delay=lr,t.difference=Un,t.drop=Vn,t.dropRight=Hn,t.dropRightWhile=Gn,t.dropWhile=Jn,t.fill=Zn,t.filter=Di,t.flatten=Xn,t.flattenDeep=Kn,t.flow=ea,t.flowRight=ta,t.forEach=Ni,t.forEachRight=qi,t.forIn=Gr,t.forInRight=Jr,t.forOwn=Zr,t.forOwnRight=Qr,t.functions=Wr,t.groupBy=Ys,t.indexBy=Xs,t.initial=ei,t.intersection=ti,t.invert=Xr,t.invoke=zi,t.keys=aa,t.keysIn=Kr,t.map=Bi,t.mapValues=$r,t.matches=Mo,t.matchesProperty=Do,t.memoize=hr,t.merge=ca,t.mixin=Ro,t.negate=fr,t.omit=eo,t.once=dr,t.pairs=to,t.partial=pr,t.partialRight=mr,t.partition=Ks,t.pick=no,t.pluck=Ui,t.property=No,t.propertyOf=qo,t.pull=ri,t.pullAt=oi,t.range=Fo,t.rearg=gr,t.reject=Gi,t.remove=si,t.rest=ai,t.shuffle=Zi,t.slice=ci,t.sortBy=Yi,t.sortByAll=Xi,t.sortByOrder=Ki,t.spread=vr,t.take=hi,t.takeRight=fi,t.takeRightWhile=di,t.takeWhile=pi,t.tap=ki,t.throttle=br,t.thru=Si,t.times=zo,t.toArray=Fr,t.toPlainObject=zr,t.transform=ro,t.union=mi,t.uniq=gi,t.unzip=vi,t.values=oo,t.valuesIn=so,t.where=$i,t.without=bi,t.wrap=yr,t.xor=yi,t.zip=wi,t.zipObject=xi,t.backflow=ta,t.collect=Bi,t.compose=ta,t.each=Ni,t.eachRight=qi,t.extend=sa,t.iteratee=Io,t.methods=Wr,t.object=xi,t.select=Di,t.tail=ai,t.unique=gi,Ro(t,t),t.add=Uo,t.attempt=Eo,t.camelCase=ua,t.capitalize=uo,t.clone=wr,t.cloneDeep=xr,t.deburr=lo,t.endsWith=ho,t.escape=fo,t.escapeRegExp=po,t.every=Mi,t.find=Ri,t.findIndex=Qn,t.findKey=Vr,t.findLast=Oi,t.findLastIndex=Wn,t.findLastKey=Hr,t.findWhere=Pi,t.first=Yn,t.has=Yr,t.identity=Lo,t.includes=Fi,t.indexOf=$n,t.inRange=ao,t.isArguments=_r,t.isArray=na,t.isBoolean=kr,t.isDate=Sr,t.isElement=Ar,t.isEmpty=Cr,t.isEqual=jr,t.isError=Er,t.isFinite=ia,t.isFunction=ra,t.isMatch=Tr,t.isNaN=Lr,t.isNative=Mr,t.isNull=Dr,t.isNumber=Rr,t.isObject=Ir,t.isPlainObject=oa,t.isRegExp=Or,t.isString=Pr,t.isTypedArray=Nr,t.isUndefined=qr,t.kebabCase=la,t.last=ni,t.lastIndexOf=ii,t.max=da,t.min=pa,t.noConflict=Oo,t.noop=Po,t.now=$s,t.pad=mo,t.padLeft=go,t.padRight=vo,t.parseInt=bo,t.random=co,t.reduce=Vi,t.reduceRight=Hi,t.repeat=yo,t.result=io,t.runInContext=A,t.size=Qi,t.snakeCase=ha,t.some=Wi,t.sortedIndex=ui,t.sortedLastIndex=li,t.startCase=fa,t.startsWith=wo,t.sum=Vo,t.template=xo,t.trim=_o,t.trimLeft=ko,t.trimRight=So,t.trunc=Ao,t.unescape=Co,t.uniqueId=Bo,t.words=jo,t.all=Mi,t.any=Wi,t.contains=Fi,t.detect=Ri,t.foldl=Vi,t.foldr=Hi,t.head=Yn,t.include=Fi,t.inject=Vi,Ro(t,function(){var e={};return It(t,function(n,i){t.prototype[i]||(e[i]=n)}),e}(),!1),t.sample=Ji,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Ji(t,e)}):Ji(this.value())},t.VERSION=j,Xe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),Xe(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=V,i=t==B;r.prototype[e]=function(e,o){var s=this.__filtered__,a=s&&i?new r(this):this.clone(),c=a.__iteratees__||(a.__iteratees__=[]);return c.push({done:!1,count:0,index:0,iteratee:wn(e,o,1),limit:-1,type:t}),a.__filtered__=s||n,a}}),Xe(["drop","take"],function(e,t){var n=e+"While";r.prototype[e]=function(n){var i=this.__filtered__,r=i&&!t?this.dropWhile():this.clone();if(n=null==n?1:Is(ms(n)||0,0),i)t?r.__takeCount__=Ts(r.__takeCount__,n):ni(r.__iteratees__).limit=n;else{var o=r.__views__||(r.__views__=[]);o.push({size:n,type:e+(r.__dir__<0?"Right":"")})}return r},r.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},r.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),Xe(["first","last"],function(e,t){var n="take"+(t?"Right":"");r.prototype[e]=function(){return this[n](1).value()[0]}}),Xe(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");r.prototype[e]=function(){return this[n](1)}}),Xe(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?Nt:Bt;r.prototype[e]=function(e){return this[n](i(e))}}),r.prototype.compact=function(){return this.filter(Lo)},r.prototype.reject=function(e,t){return e=wn(e,t,1),this.filter(function(t){return!e(t)})},r.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=0>e?this.takeRight(-e):this.drop(e);return"undefined"!=typeof t&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},r.prototype.toArray=function(){return this.drop(0)},It(r.prototype,function(e,n){var o=t[n],s=/^(?:filter|map|reject)|While$/.test(n),a=/^(?:first|last)$/.test(n);t.prototype[n]=function(){var n=arguments,c=(n.length,this.__chain__),u=this.__wrapped__,l=!!this.__actions__.length,h=u instanceof r,f=n[0],d=h||na(u);d&&s&&"function"==typeof f&&1!=f.length&&(h=d=!1);var p=h&&!l;if(a&&!c)return p?e.call(u):o.call(t,this.value());var m=function(e){var i=[e];return vs.apply(i,n),o.apply(t,i)};if(d){var g=p?u:new r(this),v=e.apply(g,n);if(!a&&(l||v.__actions__)){var b=v.__actions__||(v.__actions__=[]);b.push({func:Si,args:[m],thisArg:t})}return new i(v,c)}return this.thru(m)}}),Xe(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?ns:es)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?n.apply(this.value(),e):this[i](function(t){return n.apply(t,e)})}}),r.prototype.clone=y,r.prototype.reverse=K,r.prototype.value=ne,t.prototype.chain=Ai,t.prototype.commit=Ci,t.prototype.plant=ji,t.prototype.reverse=Ei,t.prototype.toString=Ii,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Ti,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var C,j="3.5.0",E=1,I=2,T=4,L=8,M=16,D=32,R=64,O=128,P=256,N=30,q="...",F=150,z=16,B=0,U=1,V=2,H="Expected a function",G="__lodash_placeholder__",J="[object Arguments]",Z="[object Array]",Q="[object Boolean]",W="[object Date]",Y="[object Error]",X="[object Function]",K="[object Map]",$="[object Number]",ee="[object Object]",te="[object RegExp]",ne="[object Set]",ie="[object String]",re="[object WeakMap]",oe="[object ArrayBuffer]",se="[object Float32Array]",ae="[object Float64Array]",ce="[object Int8Array]",ue="[object Int16Array]",le="[object Int32Array]",he="[object Uint8Array]",fe="[object Uint8ClampedArray]",de="[object Uint16Array]",pe="[object Uint32Array]",me=/\b__p \+= '';/g,ge=/\b(__p \+=) '' \+/g,ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39|#96);/g,ye=/[&<>"'`]/g,we=RegExp(be.source),xe=RegExp(ye.source),_e=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Ae=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ce=/\w*$/,je=/^\s*function[ \n\r\t]+\w/,Ee=/^0[xX]/,Ie=/^\[object .+?Constructor\]$/,Te=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Me=/[.*+?^${}()|[\]\/\\]/g,De=RegExp(Me.source),Re=/\bthis\b/,Oe=/['\n\r\u2028\u2029\\]/g,Pe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ne=" 	\f\ufeff\n\r\u2028\u2029",qe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Fe=-1,ze={};ze[se]=ze[ae]=ze[ce]=ze[ue]=ze[le]=ze[he]=ze[fe]=ze[de]=ze[pe]=!0,ze[J]=ze[Z]=ze[oe]=ze[Q]=ze[W]=ze[Y]=ze[X]=ze[K]=ze[$]=ze[ee]=ze[te]=ze[ne]=ze[ie]=ze[re]=!1;var Be={};Be[J]=Be[Z]=Be[oe]=Be[Q]=Be[W]=Be[se]=Be[ae]=Be[ce]=Be[ue]=Be[le]=Be[$]=Be[ee]=Be[te]=Be[ie]=Be[he]=Be[fe]=Be[de]=Be[pe]=!0,Be[Y]=Be[X]=Be[K]=Be[ne]=Be[re]=!1;var Ue={leading:!1,maxWait:0,trailing:!1},Ve={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},He={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Je={"function":!0,object:!0},Ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qe=Je[typeof t]&&t&&!t.nodeType&&t,We=Je[typeof e]&&e&&!e.nodeType&&e,Ye=Qe&&We&&"object"==typeof r&&r,Xe=Je[typeof window]&&window,Ke=(We&&We.exports===Qe&&Qe,Ye||Xe!==(this&&this.window)&&Xe||this),$e=A();Ke._=$e,i=function(){return $e}.call(t,n,t,e),!(i!==C&&(e.exports=i))}).call(this)}).call(t,n(278)(e),function(){return this}())},function(e,t,n){(function(e){"use strict";var i=n(380),r=n(151),o=i.find,s=i.createElement,a=t.field=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return{get:function(){return e.apply(null,[this.xml].concat(n))},set:function(e){t.apply(null,[this.xml].concat(n).concat([e]))}}}};t.boolAttribute=a(i.getBoolAttribute,i.setBoolAttribute),t.subAttribute=a(i.getSubAttribute,i.setSubAttribute),t.boolSubAttribute=a(i.getSubBoolAttribute,i.setSubBoolAttribute),t.text=a(i.getText,i.setText),t.textSub=t.subText=a(i.getSubText,i.setSubText),t.multiTextSub=t.multiSubText=a(i.getMultiSubText,i.setMultiSubText),t.multiSubAttribute=a(i.getMultiSubAttribute,i.setMultiSubAttribute),t.langTextSub=t.subLangText=a(i.getSubLangText,i.setSubLangText),t.boolSub=a(i.getBoolSub,i.setBoolSub),t.langAttribute=a(function(e){return e.getAttributeNS(i.XML_NS,"lang")||""},function(e,t){e.setAttributeNS(i.XML_NS,"lang",t)}),t.b64Text=a(function(t){return t.textContent&&"="!==t.textContent?new e(t.textContent,"base64"):""},function(t,n){if("string"==typeof n){var i=new e(n).toString("base64");t.textContent=i||"="}else t.textContent=""}),t.dateAttribute=function(e,t){return{get:function(){var n=i.getAttribute(this.xml,e);return n?new Date(n):t?new Date(Date.now()):void 0},set:function(t){t&&("string"!=typeof t&&(t=t.toISOString()),i.setAttribute(this.xml,e,t))}}},t.dateSub=function(e,t,n){return{get:function(){var r=i.getSubText(this.xml,e,t);return r?new Date(r):n?new Date(Date.now()):void 0},set:function(n){n&&("string"!=typeof n&&(n=n.toISOString()),i.setSubText(this.xml,e,t,n))}}},t.dateSubAttribute=function(e,t,n,r){return{get:function(){var o=i.getSubAttribute(this.xml,e,t,n);return o?new Date(o):r?new Date(Date.now()):void 0},set:function(r){r&&("string"!=typeof r&&(r=r.toISOString()),i.setSubAttribute(this.xml,e,t,n,r))}}},t.numberAttribute=function(e,t,n){return{get:function(){var r=t?parseFloat:parseInt,o=i.getAttribute(this.xml,e,"");if(!o)return n;var s=r(o,10);return isNaN(s)?n:s},set:function(t){i.setAttribute(this.xml,e,t.toString())}}},t.numberSub=function(e,t,n,r){return{get:function(){var o=n?parseFloat:parseInt,s=i.getSubText(this.xml,e,t,"");if(!s)return r;var a=o(s,10);return isNaN(a)?r:a},set:function(n){i.setSubText(this.xml,e,t,n.toString())}}},t.attribute=function(e,t){return{get:function(){return i.getAttribute(this.xml,e,t)},set:function(t){i.setAttribute(this.xml,e,t)}}},t.attributeNS=function(e,t,n){return{get:function(){return i.getAttributeNS(this.xml,e,t,n)},set:function(n){i.setAttributeNS(this.xml,e,t,n)}}},t.extension=function(e){return{get:function(){var t=this,n=e.prototype._name;if(!this._extensions[n]){var i=o(this.xml,e.prototype._NS,e.prototype._EL);i.length?this._extensions[n]=new e(null,i[0],t):(this._extensions[n]=new e({},null,t),this.xml.appendChild(this._extensions[n].xml)),this._extensions[n].parent=this}return this._extensions[n]},set:function(t){if(t){var n=this[e.prototype._name];t===!0&&(t={}),r(n,t)}}}},t.multiExtension=function(e){return{get:function(){for(var t=this,n=o(this.xml,e.prototype._NS,e.prototype._EL),i=[],r=0,s=n.length;s>r;r++)i.push(new e({},n[r],t));return i},set:function(t){t=t||[];var n,i,r=this,s=o(this.xml,e.prototype._NS,e.prototype._EL);for(n=0,i=s.length;i>n;n++)r.xml.removeChild(s[n]);for(n=0,i=t.length;i>n;n++){var a=new e(t[n],null,r);r.xml.appendChild(a.xml)}}}},t.enumSub=function(e,t){return{get:function(){var n=this,i=[];return t.forEach(function(t){var r=o(n.xml,e,t);r.length&&i.push(r[0].nodeName)}),i[0]||""},set:function(n){var i=this;if(t.forEach(function(t){var n=o(i.xml,e,t);n.length&&i.xml.removeChild(n[0])}),n){var r=s(e,n);this.xml.appendChild(r)}}}},t.subExtension=function(e,t,n,i){return{get:function(){if(!this._extensions[e]){var r=o(this.xml,t,n);r.length?r=r[0]:(r=s(t,n,this._NS),this.xml.appendChild(r));var a=o(r,i.prototype._NS,i.prototype._EL);a.length?this._extensions[e]=new i(null,a[0],{xml:r}):(this._extensions[e]=new i({},null,{xml:r}),r.appendChild(this._extensions[e].xml)),this._extensions[e].parent=this}return this._extensions[e]},set:function(i){var s=o(this.xml,t,n);if(s.length&&!i&&this.xml.removeChild(s[0]),i){var a=this[e];i===!0&&(i={}),r(a,i)}}}},t.subMultiExtension=function(e,t,n){return{get:function(){var i=this,r=[],s=o(this.xml,e,t);if(!s.length)return r;s=s[0];var a=o(s,n.prototype._NS,n.prototype._EL);return a.forEach(function(e){r.push(new n({},e,i))}),r},set:function(i){var r=this,a=o(this.xml,e,t);a.length&&r.xml.removeChild(a[0]),i.length&&(a=s(e,t,this._NS),i.forEach(function(e){var t=new n(e,null,r);a.appendChild(t.xml)}),r.xml.appendChild(a))}}}}).call(t,n(385).Buffer)},function(e,t,n){"use strict";var i=n(446),r=t.XML_NS="http://www.w3.org/XML/1998/namespace";t.createElement=function(e,n,r){var o=new i.Element(n);return r&&r===e||t.setAttribute(o,"xmlns",e),o};var o=t.find=function(e,t,n){for(var i=[],r=e.getElementsByTagName(n),o=0,s=r.length;s>o;o++){var a=r[o];a.namespaceURI===t&&a.parentNode===e&&i.push(a)}return i};t.findOrCreate=function(e,n,i){var r=t.find(e,n,i);if(r.length)return r[0];var o=t.createElement(n,i,e.namespaceURI);return e.appendChild(o),o},t.getAttribute=function(e,t,n){return e.getAttribute(t)||n||""},t.getAttributeNS=function(e,t,n,i){return e.getAttributeNS(t,n)||i||""},t.setAttribute=function(e,t,n,i){n||i?e.setAttribute(t,n):e.removeAttribute(t)},t.setAttributeNS=function(e,t,n,i,r){i||r?e.setAttributeNS(t,n,i):e.removeAttributeNS(t,n)},t.getBoolAttribute=function(e,t,n){var i=e.getAttribute(t)||n||"";return"true"===i||"1"===i},t.setBoolAttribute=function(e,t,n){n?e.setAttribute(t,"1"):e.removeAttribute(t)},t.getSubAttribute=function(e,t,n,i,r){var s=o(e,t,n);if(!s)return"";for(var a=0;a<s.length;a++)return s[a].getAttribute(i)||r||"";return""},t.setSubAttribute=function(e,n,i,r,s){var a=o(e,n,i);if(a.length)for(var c=0;c<a.length;c++){if(s)return void a[c].setAttribute(r,s);a[c].removeAttribute(r)}else s&&(i=t.createElement(n,i,e.namespaceURI),i.setAttribute(r,s),e.appendChild(i))},t.getBoolSubAttribute=function(e,t,n,i,r){var o=e.getSubAttribute(t,n,i)||r||"";return"true"===o||"1"===o},t.setBoolSubAttribute=function(e,n,i,r,o){o=o?"1":"",t.setSubAttribute(e,n,i,r,o)},t.getText=function(e){return e.textContent},t.setText=function(e,t){e.textContent=t},t.getSubText=t.getTextSub=function(e,t,n,i){var r=o(e,t,n);return i=i||"",r.length?r[0].textContent||i:i},t.setSubText=t.setTextSub=function(e,n,i,r){var s=o(e,n,i);if(s.length)for(var a=0;a<s.length;a++)e.removeChild(s[a]);if(r){var c=t.createElement(n,i,e.namespaceURI);r!==!0&&(c.textContent=r),e.appendChild(c)}},t.getMultiSubText=function(e,t,n,i){var r=o(e,t,n),s=[];i=i||function(e){return e.textContent||""};for(var a=0;a<r.length;a++)s.push(i(r[a]));return s},t.setMultiSubText=function(e,n,i,r,s){var a=o(e,n,i),c=[];s=s||function(r){if(r){var o=t.createElement(n,i,e.namespaceURI);o.textContent=r,e.appendChild(o)}},c="string"==typeof r?(r||"").split("\n"):r;var u,l;for(u=0,l=a.length;l>u;u++)e.removeChild(a[u]);for(u=0,l=c.length;l>u;u++)s(c[u])},t.getMultiSubAttribute=function(e,n,i,r){return t.getMultiSubText(e,n,i,function(e){return t.getAttribute(e,r)})},t.setMultiSubAttribute=function(e,n,i,r,o){t.setMultiSubText(e,n,i,o,function(o){var s=t.createElement(n,i,e.namespaceURI);t.setAttribute(s,r,o),e.appendChild(s)})},t.getSubLangText=function(e,t,n,i){var s=o(e,t,n);if(!s.length)return{};for(var a,c,u={},l=[],h=0;h<s.length;h++)c=s[h],a=c.getAttributeNS(r,"lang")||i,l.push(a),u[a]=c.textContent||"";return u},t.setSubLangText=function(e,n,i,s,a){var c,u,l=o(e,n,i);if(l.length)for(var h=0;h<l.length;h++)e.removeChild(l[h]);if("string"==typeof s)c=t.createElement(n,i,e.namespaceURI),c.textContent=s,e.appendChild(c);else if("object"==typeof s)for(u in s)s.hasOwnProperty(u)&&(c=t.createElement(n,i,e.namespaceURI),u!==a&&c.setAttributeNS(r,"lang",u),c.textContent=s[u],e.appendChild(c))},t.getBoolSub=function(e,t,n){var i=o(e,t,n);return!!i.length},t.setBoolSub=function(e,n,i,r){var s=o(e,n,i);if(s.length)for(var a=0;a<s.length;a++){if(r)return;e.removeChild(s[a])}else if(r){var c=t.createElement(n,i,e.namespaceURI);e.appendChild(c)}}},function(e,t,n){"use strict";var i=n(380),r=n(151),o={constructor:!0,parent:!0,prototype:!0,toJSON:!0,toString:!0,xml:!0};e.exports=function(e,t){function n(n,o,s){var a=this,c=(o||{}).parentNode||(s||{}).xml,u=(c||{}).namespaceURI;a.xml=o||i.createElement(a._NS,a._EL,u),Object.keys(a._PREFIXES).forEach(function(e){var t=a._PREFIXES[e];a.xml.setAttribute("xmlns:"+e,t)}),a._extensions={};for(var l=0,h=a.xml.childNodes.length;h>l;l++){var f=a.xml.childNodes[l],d=e.getDefinition(f.localName,f.namespaceURI);if(void 0!==d){var p=d.prototype._name;a._extensions[p]=new d(null,f),a._extensions[p].parent=a}}return r(a,n),t.init&&t.init.apply(a,[n]),a}return n.prototype._name=t.name,n.prototype._eventname=t.eventName,n.prototype._NS=t.namespace,n.prototype._EL=t.element||t.name,n.prototype._PREFIXES=t.prefixes||{},n.prototype._TAGS=t.tags||[],n.prototype.toString=function(){return this.xml.toString()},n.prototype.toJSON=function(){var t,n={};for(t in this._extensions)this._extensions[t].toJSON&&"_"!==t[0]&&(n[t]=this._extensions[t].toJSON());for(t in this){var i=!o[t]&&"_"!==t[0],r=e.getExtensions(this._EL,this._NS)[t];if(i&&!r){var s=this[t];if("function"==typeof s)continue;var a=Object.prototype.toString.call(s);if(a.indexOf("Object")>=0)Object.keys(s).length>0&&(n[t]=s);else if(a.indexOf("Array")>=0){if(s.length>0){var c=[];for(var u in s){var l=s[u];c.push(void 0!==l.toJSON?l.toJSON():l)}n[t]=c}}else void 0!==s&&s!==!1&&""!==s&&(n[t]=s)}}return n},n}},function(e,t,n){"use strict";var i=n(272),r="http://docs.oasis-open.org/ns/xri/xrd-1.0";e.exports=function(e){var t={get:function(){for(var e={},t=i.find(this.xml,r,"Property"),n=0,o=t.length;o>n;n++){var s=t[n],a=i.getAttribute(s,"type");e[a]=s.textContent}return e}},n=e.define({name:"xrd",namespace:r,element:"XRD",fields:{subject:i.subText(r,"Subject"),expires:i.dateSub(r,"Expires"),aliases:i.multiSubText(r,"Alias"),properties:t}}),o=e.define({name:"_xrdlink",namespace:r,element:"Link",fields:{rel:i.attribute("rel"),href:i.attribute("href"),type:i.attribute("type"),template:i.attribute("template"),titles:i.subLangText(r,"Title","default"),properties:t}});return e.extend(n,o,"links"),n}},function(e,t,n){(function(e){var i=n(510),r=n(511),o=n(482);t.XOR=o,t.H=function(e){return i("sha1").update(e).digest()},t.HMAC=function(e,t){return r("sha1",e).update(t).digest()},t.Hi=function(n,i,r){for(var o=t.HMAC(n,e.concat([i,new e([0,0,0,1],"binary")])),s=o,a=0;r-1>a;a++)o=t.HMAC(n,o),s=t.XOR(s,o);return s}}).call(t,n(385).Buffer)},function(e,t,n){var i=n(512);t.parse=function(e){for(var t={},n=e.split(/,(?=(?:[^"]|"[^"]*")*$)/),i=0,r=n.length;r>i;i++){var o=/(\w+)=["]?([^"]+)["]?$/.exec(n[i]);o&&(t[o[1]]=o[2])}return t},t.saslname=function(e){for(var t=[],n="",i=0;i<e.length;i++)n=e[i],t.push(","===n?"=2C":"="===n?"=3D":n);return t.join("")},t.genNonce=function(e){return i((e||32)/2).toString("hex")}},function(e,t,n){(function(e){function e(t,n){var i=this;if(!(i instanceof e))return new e(t,n);var r,o=typeof t;if("number"===o)r=+t;else if("string"===o)r=e.byteLength(t,n);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&O(t.data)&&(t=t.data),r=+t.length}if(r>P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");0>r?r=0:r>>>=0,e.TYPED_ARRAY_SUPPORT?i=e._augment(new Uint8Array(r)):(i.length=r,i._isBuffer=!0);var s;if(e.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)i._set(t);else if(A(t))if(e.isBuffer(t))for(s=0;r>s;s++)i[s]=t.readUInt8(s);else for(s=0;r>s;s++)i[s]=(t[s]%256+256)%256;else if("string"===o)i.write(t,0,n);else if("number"===o&&!e.TYPED_ARRAY_SUPPORT)for(s=0;r>s;s++)i[s]=0;return r>0&&r<=e.poolSize&&(i.parent=N),i}function i(t,n){if(!(this instanceof i))return new i(t,n);var r=new e(t,n);return delete r.parent,r}function r(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;i>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");e[n+s]=a}return s}function o(e,t,n,i){var r=L(j(t,e.length-n),e,n,i);return r}function s(e,t,n,i){var r=L(E(t),e,n,i);return r}function a(e,t,n,i){return s(e,t,n,i)}function c(e,t,n,i){var r=L(T(t),e,n,i);return r}function u(e,t,n,i){var r=L(I(t,e.length-n),e,n,i);return r}function l(e,t,n){return D.fromByteArray(0===t&&n===e.length?e:e.slice(t,n))}function h(e,t,n){var i="",r="";n=Math.min(e.length,n);for(var o=t;n>o;o++)e[o]<=127?(i+=M(r)+String.fromCharCode(e[o]),r=""):r+="%"+e[o].toString(16);return i+M(r)}function f(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(127&e[r]);return i}function d(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function p(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=C(e[o]);return r}function m(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function g(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function v(t,n,i,r,o,s){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||s>n)throw new RangeError("value is out of bounds");if(i+r>t.length)throw new RangeError("index out of range")}function b(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function y(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function w(e,t,n,i,r,o){if(t>r||o>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");

if(0>n)throw new RangeError("index out of range")}function x(e,t,n,i,r){return r||w(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),R.write(e,t,n,i,23,4),n+4}function _(e,t,n,i,r){return r||w(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),R.write(e,t,n,i,52,8),n+8}function k(e){if(e=S(e).replace(F,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function S(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(t){return O(t)||e.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function C(e){return 16>e?"0"+e.toString(16):e.toString(16)}function j(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],s=0;i>s;s++){if(n=e.charCodeAt(s),n>55295&&57344>n){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=r-55296<<10|n-56320|65536,r=null}else r&&((t-=3)>-1&&o.push(239,191,189),r=null);if(128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function E(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function I(e,t){for(var n,i,r,o=[],s=0;s<e.length&&!((t-=2)<0);s++)n=e.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function T(e){return D.toByteArray(k(e))}function L(e,t,n,i){for(var r=0;i>r&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}function M(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var D=n(514),R=n(483),O=n(484);t.Buffer=e,t.SlowBuffer=i,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var P=1073741823,N={};e.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,r=n.length,o=0,s=Math.min(i,r);s>o&&t[o]===n[o];o++);return o!==s&&(i=t[o],r=n[o]),r>i?-1:i>r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!O(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);if(1===t.length)return t[0];var i;if(void 0===n)for(n=0,i=0;i<t.length;i++)n+=t[i].length;var r=new e(n),o=0;for(i=0;i<t.length;i++){var s=t[i];s.copy(r,o),o+=s.length}return r},e.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"ascii":case"binary":case"raw":n=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;case"hex":n=e.length>>>1;break;case"utf8":case"utf-8":n=j(e).length;break;case"base64":n=T(e).length;break;default:n=e.length}return n},e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(e,t,n){var i=!1;if(t>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return p(this,t,n);case"utf8":case"utf-8":return h(this,t,n);case"ascii":return f(this,t,n);case"binary":return d(this,t,n);case"base64":return l(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function i(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return i(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):i(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,i){if(isFinite(t))isFinite(n)||(i=n,n=void 0);else{var l=i;i=t,t=n,n=l}if(t=Number(t)||0,0>n||0>t||t>this.length)throw new RangeError("attempt to write outside buffer bounds");var h=this.length-t;n?(n=Number(n),n>h&&(n=h)):n=h,i=String(i||"utf8").toLowerCase();var f;switch(i){case"hex":f=r(this,e,t,n);break;case"utf8":case"utf-8":f=o(this,e,t,n);break;case"ascii":f=s(this,e,t,n);break;case"binary":f=a(this,e,t,n);break;case"base64":f=c(this,e,t,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=u(this,e,t,n);break;default:throw new TypeError("Unknown encoding: "+i)}return f},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),t>n&&(n=t);var r;if(e.TYPED_ARRAY_SUPPORT)r=e._augment(this.subarray(t,n));else{var o=n-t;r=new e(o,void 0);for(var s=0;o>s;s++)r[s]=this[s+t]}return r.length&&(r.parent=this.parent||this),r},e.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||g(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},e.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||g(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},e.prototype.readUInt8=function(e,t){return t||g(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||g(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||g(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||g(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||g(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||g(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},e.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||g(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||g(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||g(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||g(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||g(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||g(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||g(e,4,this.length),R.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||g(e,4,this.length),R.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||g(e,8,this.length),R.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||g(e,8,this.length),R.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||v(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r>>>0&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||v(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o>>>0&255;return t+n},e.prototype.writeUInt8=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):b(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):b(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t):y(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):y(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,i){e=+e,t>>>=0,i||v(this,e,t,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var r=0,o=1,s=0>e?1:0;for(this[t]=255&e;++r<n&&(o*=256);)this[t+r]=(e/o>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,i){e=+e,t>>>=0,i||v(this,e,t,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var r=n-1,o=1,s=0>e?1:0;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=(e/o>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8):b(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=t):b(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):y(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n>>>=0,i||v(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t):y(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return x(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return x(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return _(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return _(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,r){var o=this;if(i||(i=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&i>r&&(r=i),r===i)return 0;if(0===t.length||0===o.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=o.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var s=r-i;if(1e3>s||!e.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)t[a+n]=this[a+i];else t._set(this.subarray(i,i+s),n);return s},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=j(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var q=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=q.get,t.set=q.set,t.write=q.write,t.toString=q.toString,t.toLocaleString=q.toString,t.toJSON=q.toJSON,t.equals=q.equals,t.compare=q.compare,t.indexOf=q.indexOf,t.copy=q.copy,t.slice=q.slice,t.readUIntLE=q.readUIntLE,t.readUIntBE=q.readUIntBE,t.readUInt8=q.readUInt8,t.readUInt16LE=q.readUInt16LE,t.readUInt16BE=q.readUInt16BE,t.readUInt32LE=q.readUInt32LE,t.readUInt32BE=q.readUInt32BE,t.readIntLE=q.readIntLE,t.readIntBE=q.readIntBE,t.readInt8=q.readInt8,t.readInt16LE=q.readInt16LE,t.readInt16BE=q.readInt16BE,t.readInt32LE=q.readInt32LE,t.readInt32BE=q.readInt32BE,t.readFloatLE=q.readFloatLE,t.readFloatBE=q.readFloatBE,t.readDoubleLE=q.readDoubleLE,t.readDoubleBE=q.readDoubleBE,t.writeUInt8=q.writeUInt8,t.writeUIntLE=q.writeUIntLE,t.writeUIntBE=q.writeUIntBE,t.writeUInt16LE=q.writeUInt16LE,t.writeUInt16BE=q.writeUInt16BE,t.writeUInt32LE=q.writeUInt32LE,t.writeUInt32BE=q.writeUInt32BE,t.writeIntLE=q.writeIntLE,t.writeIntBE=q.writeIntBE,t.writeInt8=q.writeInt8,t.writeInt16LE=q.writeInt16LE,t.writeInt16BE=q.writeInt16BE,t.writeInt32LE=q.writeInt32LE,t.writeInt32BE=q.writeInt32BE,t.writeFloatLE=q.writeFloatLE,t.writeFloatBE=q.writeFloatBE,t.writeDoubleLE=q.writeDoubleLE,t.writeDoubleBE=q.writeDoubleBE,t.fill=q.fill,t.inspect=q.inspect,t.toArrayBuffer=q.toArrayBuffer,t};var F=/[^+\/0-9A-z\-]/g}).call(t,n(385).Buffer)},function(e,t){var n=window.addEventListener?"addEventListener":"attachEvent",i=window.removeEventListener?"removeEventListener":"detachEvent",r="addEventListener"!==n?"on":"";t.bind=function(e,t,i,o){return e[n](r+t,i,o||!1),i},t.unbind=function(e,t,n,o){return e[i](r+t,n,o||!1),n}},function(e,t,n){var i=n(489),r=n(386),o=["focus","blur"];t.bind=function(e,t,n,s,a){return-1!==o.indexOf(n)&&(a=!0),r.bind(e,n,function(n){var r=n.target||n.srcElement;n.delegateTarget=i(r,t,!0,e),n.delegateTarget&&s.call(e,n)},a)},t.unbind=function(e,t,n,i){-1!==o.indexOf(t)&&(i=!0),r.unbind(e,t,n,i)}},function(){},function(e){function t(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}e.exports=t},function(e,t,n){(function(t){function i(e){var t=e?e.length:0;for(this.data={hash:a(null),set:new s};t--;)this.push(e[t])}var r=n(449),o=n(111),s=o(s=t.Set)&&s,a=o(a=Object.create)&&a;i.prototype.push=r,e.exports=i}).call(t,function(){return this}())},function(e){function t(e){return function(){return e}}e.exports=t},function(e,t,n){var i=n(517),r=n(518),o=n(481),s={md2:"md2",md5:"md5","sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512"},a=Object.keys(s);t.getHashes=function(){for(var e=[],t=o(),n=0,i=a.length;i>n;n++)t.indexOf(s[a[n]])>=0&&e.push(a[n]);return e},t.createHash=function(e){return e=e.toLowerCase(),s[e]&&(e=s[e]),i(e)},t.createHmac=function(e,t){return e=e.toLowerCase(),s[e]&&(e=s[e]),r(e,t)}},function(e,t,n){function i(e){s.call(this),e=e||{},this.jid=e.jid,this.selfID=e.selfID||this.jid&&this.jid.full||this.jid||"",this.sessions={},this.peers={},this.prepareSession=e.prepareSession||function(e){return e.descriptionTypes.indexOf("rtp")>=0?new u(e):e.descriptionTypes.indexOf("filetransfer")>=0?new l(e):void 0},this.screenSharingSupport=a.screenSharing,this.capabilities=["urn:xmpp:jingle:1"],a.support&&(this.capabilities=["urn:xmpp:jingle:1","urn:xmpp:jingle:apps:rtp:1","urn:xmpp:jingle:apps:rtp:audio","urn:xmpp:jingle:apps:rtp:video","urn:xmpp:jingle:apps:rtp:rtcb-fb:0","urn:xmpp:jingle:apps:rtp:rtp-hdrext:0","urn:xmpp:jingle:apps:rtp:ssma:0","urn:xmpp:jingle:apps:dtls:0","urn:xmpp:jingle:apps:grouping:0","urn:xmpp:jingle:apps:file-transfer:3","urn:xmpp:jingle:transports:ice-udp:1","urn:xmpp:jingle:transports.dtls-sctp:1","urn:ietf:rfc:3264","urn:ietf:rfc:5576","urn:ietf:rfc:5888"]),this.config={debug:!1,peerConnectionConfig:{iceServers:e.iceServers||[{url:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0},{RtpDataChannels:!1}]},media:{audio:!0,video:!0}};for(var t in e)this.config[t]=e[t];this.iceServers=this.config.peerConnectionConfig.iceServers}var r=n(67),o=n(503),s=n(283),a=n(519),c=n(504),u=n(505),l=n(506);r.inherits(i,s),i.prototype.addICEServer=function(e){"string"==typeof e&&(e={url:e}),this.iceServers.push(e)},i.prototype.addSession=function(e){var t=this,n=e.sid,i=e.peerID;return this.sessions[n]=e,this.peers[i]||(this.peers[i]=[]),this.peers[i].push(e),e.on("terminated",function(){var r=t.peers[i]||[];r.length&&r.splice(r.indexOf(e),1),delete t.sessions[n]}),e.on("*",function(n,i,r,o){if("send"===n){var s=i.jingle&&i.jingle.action;e.isInitiator&&"session-initiate"===s&&t.emit("outgoing",e)}!t.config.debug||"log:debug"!==n&&"log:error"!==n||console.log("Jingle:",i,r,o),0!==n.indexOf("change")&&t.emit(n,i,r,o)}),this.emit("createdSession",e),e},i.prototype.createMediaSession=function(e,t,n){var i=new u({sid:t,peer:e,initiator:!0,stream:n,parent:this,iceServers:this.iceServers,constraints:this.config.peerConnectionConstraints});return this.addSession(i),i},i.prototype.createFileTransferSession=function(e,t){var n=new l({sid:t,peer:e,initiator:!0,parent:this});return this.addSession(n),n},i.prototype.endPeerSessions=function(e,t,n){e=e.full||e;var i=this.peers[e]||[];delete this.peers[e],i.forEach(function(e){e.end(t||"gone",n)})},i.prototype.endAllSessions=function(e,t){var n=this;Object.keys(this.peers).forEach(function(i){n.endPeerSessions(i,e,t)})},i.prototype._createIncomingSession=function(e,t){var n;return this.prepareSession&&(n=this.prepareSession(e,t)),n||(n=new c(e)),this.addSession(n),n},i.prototype._sendError=function(e,t,n){n.type||(n.type="cancel"),this.emit("send",{to:e,id:t,type:"error",error:n})},i.prototype._log=function(e,t){this.emit("log:"+e,t)},i.prototype.process=function(e){var t=this,n=e.jingle?e.jingle.sid:null,i=this.sessions[n]||null,r=e.id,s=e.from.full||e.from;if("error"===e.type){var a=e.error&&"tie-break"===e.error.jingleCondition;return i&&i.pending&&a?i.end("alternative-session",!0):(i&&(i.pendingAction=!1),this.emit("error",e))}if("result"===e.type)return void(i&&(i.pendingAction=!1));var c=e.jingle.action,u=e.jingle.contents||[],l=u.map(function(e){return e.description?e.description.descType:void 0}),h=u.map(function(e){return e.transport?e.transport.transType:void 0});if("session-initiate"!==c){if(!i)return this._log("error","Unknown session",n),this._sendError(s,r,{condition:"item-not-found",jingleCondition:"unknown-session"});if(i.peerID!==s||i.ended)return this._log("error","Session has ended, or action has wrong sender"),this._sendError(s,r,{condition:"item-not-found",jingleCondition:"unknown-session"});if("session-accept"===c&&!i.pending)return this._log("error","Tried to accept session twice",n),this._sendError(s,r,{condition:"unexpected-request",jingleCondition:"out-of-order"});if("session-terminate"!==c&&c===i.pendingAction&&(this._log("error","Tie break during pending request"),i.isInitiator))return this._sendError(s,r,{condition:"conflict",jingleCondition:"tie-break"})}else if(i){if(i.peerID!==s)return this._log("error","Duplicate sid from new sender"),this._sendError(s,r,{condition:"service-unavailable"});if(!i.pending)return this._log("error","Someone is doing this wrong"),this._sendError(s,r,{condition:"unexpected-request",jingleCondition:"out-of-order"});if(this.selfID>i.peerID)return this._log("error","Tie break new session because of duplicate sids"),this._sendError(s,r,{condition:"conflict",jingleCondition:"tie-break"})}else if(this.peers[s]&&this.peers[s].length)for(var f=0,d=this.peers[s].length;d>f;f++){var p=this.peers[s][f];if(p&&p.pending&&o(l,p.pendingDescriptionTypes).length&&p.sid>n)return this._log("info","Tie break"),this._sendError(s,r,{condition:"conflict",jingleCondition:"tie-break"})}if("session-initiate"===c){if(!u.length)return t._sendError(s,r,{condition:"bad-request"});i=this._createIncomingSession({sid:n,peer:e.from,peerID:s,initiator:!1,parent:this,descriptionTypes:l,transportTypes:h,iceServers:this.iceServers,constraints:this.peerConnectionConstraints},e)}i.process(c,e.jingle,function(n){n?(t._log("error","Could not process request",e,n),t._sendError(s,r,n)):(t.emit("send",{to:s,id:r,type:"result"}),"session-initiate"===c&&t.emit("incoming",i))})},e.exports=i},function(e,t,n){(function(e){!function(n,i){i(t,e)}(this,function(e,t){function n(){this._mechs=[]}n.prototype.use=function(e,t){return t||(t=e,e=t.prototype.name),this._mechs.push({name:e,mech:t}),this},n.prototype.create=function(e){for(var t=0,n=this._mechs.length;n>t;t++)for(var i=0,r=e.length;r>i;i++){var o=this._mechs[t];if(o.name==e[i])return new o.mech}return null},e=t.exports=n})}).call(t,n(278)(e))},function(e,t,n){(function(e){!function(n,i){i(t,e)}(this,function(e,t){function n(){}n.prototype.name="EXTERNAL",n.prototype.clientFirst=!0,n.prototype.response=function(e){return e.authzid||""},n.prototype.challenge=function(){},e=t.exports=n})}).call(t,n(278)(e))},function(e,t,n){(function(e){!function(n,i){i(t,e)}(this,function(e,t){function n(){}n.prototype.name="PLAIN",n.prototype.clientFirst=!0,n.prototype.response=function(e){var t="";return t+=e.authzid||"",t+="\x00",t+=e.username,t+="\x00",t+=e.password},n.prototype.challenge=function(){return this},e=t.exports=n})}).call(t,n(278)(e))},function(e,t,n){(function(e){!function(n,i){i(t,e)}(this,function(e,t){function n(){}n.prototype.name="ANONYMOUS",n.prototype.clientFirst=!0,n.prototype.response=function(e){return e.trace||""},n.prototype.challenge=function(){},e=t.exports=n})}).call(t,n(278)(e))},[747,454],function(e,t,n){(function(t){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(26))},function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,r,o){i=i||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(i);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;u>l;++l){var h,f,d,p,m=e[l].replace(a,"%20"),g=m.indexOf(r);g>=0?(h=m.substr(0,g),f=m.substr(g+1)):(h=m,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),t(s,d)?n(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e){"use strict";function t(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,s,a){return o=o||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?t(r(e),function(r){var a=encodeURIComponent(n(r))+s;return i(e[r])?t(e[r],function(e){return a+encodeURIComponent(n(e))}).join(o):a+encodeURIComponent(n(e[r]))}).join(o):a?encodeURIComponent(n(a))+s+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e){function t(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}e.exports=t},function(e,t,n){function i(e,t){var n=e?e.length:0;if(!o(n))return r(e,t);for(var i=-1,a=s(e);++i<n&&t(a[i],i,a)!==!1;);return e}var r=n(456),o=n(182),s=n(457);e.exports=i},function(e,t){(function(t){var n;if(t.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);n=function(){return crypto.getRandomValues(i),i}}if(!n){var r=new Array(16);n=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}e.exports=n}).call(t,function(){return this}())},function(e){"use strict";e.exports={mad:[">:(",">:-("],blush:[':")',':-")'],broken_heart:["</3","<\\3"],confused:[":-\\",":-/"],cry:[":'(",":'-(",":,(",":,-("],frowning:[":(",":-("],heart:["<3"],imp:["]:(","]:-("],innocent:["o:)","O:)","o:-)","O:-)","0:)","0:-)"],joy:[":')",":'-)",":,)",":,-)",":'D",":'-D",":,D",":,-D"],kissing:[":*",":-*"],laughing:["x-)","X-)"],neutral_face:[":|",":-|"],open_mouth:[":o",":-o",":O",":-O"],rage:[":@",":-@"],smile:[":D",":-D"],smiley:[":)",":-)"],smiling_imp:["]:)","]:-)"],sob:[":,'(",":,'-(",";(",";-("],stuck_out_tongue:[":P",":-P"],sunglasses:["8-)","B-)"],sweat:[",:(",",:-("],sweat_smile:[",:)",",:-)"],unamused:[":s",":-S",":z",":-Z",":$",":-$"],wink:[";)",";-)"]}},function(e){"use strict";e.exports=function(e,t){return e[t].content}},function(e){"use strict";e.exports=function(e,t,n,i){function r(e,r,o){var s,a=0,c=[];return e.replace(i,function(i,r){var u;u=n.hasOwnProperty(i)?n[i]:i.slice(1,-1),r>a&&(s=new o("text","",0),s.content=e.slice(a,r),c.push(s)),s=new o("emoji","",0),s.markup=u,s.content=t[u],c.push(s),a=r+i.length}),a<e.length&&(s=new o("text","",0),s.content=e.slice(a),c.push(s)),c}var o=e.utils.arrayReplaceAt;return function(e){var t,n,s,a,c,u=e.tokens;for(n=0,s=u.length;s>n;n++)if("inline"===u[n].type)for(a=u[n].children,t=a.length-1;t>=0;t--)c=a[t],"text"===c.type&&i.test(c.content)&&(u[n].children=a=o(a,t,r(c.content,c.level,e.Token)))}}},function(e){"use strict";function t(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}e.exports=function(e){var n,i=e.emojies;e.enabled.length&&(i=Object.keys(i).reduce(function(t,n){return e.enabled.indexOf(n)>=0&&(t[n]=i[n]),t},{})),n=Object.keys(e.shortcuts).reduce(function(t,n){return i[n]?Array.isArray(e.shortcuts[n])?(e.shortcuts[n].forEach(function(e){t[e]=n}),t):(t[e.shortcuts[n]]=n,t):t},{});var r=Object.keys(i).map(function(e){return":"+e+":"}).concat(Object.keys(n)).map(function(e){return t(e)}).sort().reverse().join("|"),o=RegExp(r,"g");return{emojies:i,shortcuts:n,scanRE:o}}},function(e,t,n){"use strict";function i(e){var t=e.trim().toLowerCase();return t.indexOf(":")>=0&&v.indexOf(t.split(":")[0])>=0?!1:!0}function r(e){var t=p.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=m.toASCII(t.hostname)}catch(n){}return p.encode(p.format(t))}function o(e){var t=p.parse(e,!0);if(t.hostname&&(!t.protocol||b.indexOf(t.protocol)>=0))try{t.hostname=m.toUnicode(t.hostname)}catch(n){}return p.decode(p.format(t))}function s(e,t){return this instanceof s?(t||a.isString(e)||(t=e||{},e="default"),this.inline=new f,this.block=new h,this.core=new l,this.renderer=new u,this.linkify=new d,this.validateLink=i,this.normalizeLink=r,this.normalizeLinkText=o,this.utils=a,this.helpers=c,this.options={},this.configure(e),void(t&&this.set(t))):new s(e,t)}var a=n(472),c=n(496),u=n(473),l=n(474),h=n(475),f=n(476),d=n(515),p=n(516),m=n(477),g={"default":n(478),zero:n(479),commonmark:n(480)},v=["vbscript","javascript","file"],b=["http:","https:","mailto:"];s.prototype.set=function(e){return a.assign(this.options,e),this},s.prototype.configure=function(e){var t,n=this;if(a.isString(e)&&(t=e,e=g[t],!e))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach(function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules)}),this},s.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this);var i=e.filter(function(e){return n.indexOf(e)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this},s.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this);var i=e.filter(function(e){return n.indexOf(e)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this},s.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},s.prototype.parse=function(e,t){var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},s.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},s.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},s.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=s},function(e){var t=Object.prototype.toString,n=function(e){return"[object Function]"===t.call(e)};n=function(e){return"function"==typeof e||!1},e.exports=n},317,[742,198],[738,559],function(e,t,n){var i=n(560),r=n(194);e.exports=function(e,t,n){var o=[];return null==e?o:(t=i(t,n),r(e,function(e,n,i){t(e,n,i)&&o.push(e)}),o)}},[749,561],function(e){e.exports=function(e,t,n){if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}}},[744,562,563,564,565,566],317,function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},[738,567],317,410,416,[744,568,569,570,571,572],function(e,t,n){var i=n(573),r=n(426);e.exports=function(e,t){return r(e,i(t))}},[743,424,198],function(e,t,n){var i=n(574);e.exports=function(e,t,n,r){n=i(n,r,1);for(var o=n(t),s=0,a=e.length;a>s;){var c=Math.floor((s+a)/2);n(e[c])<o?s=c+1:a=c}return s}},[749,575],function(e,t,n){var i=n(576),r=n(192),o=n(577);e.exports=function(e,t,n,s){if(null==e)return[];i(t)||(s=n,n=t,t=!1),null!=n&&(n=o(n,s));for(var a=[],c=[],u=0,l=e.length;l>u;u++){var h=e[u],f=n?n(h,u,e):h;t?(u&&c===f||a.push(h),c=f):n?r(c,f)||(c.push(f),a.push(h)):r(a,h)||a.push(h)}return a}},191,186,186,191,317,186,[751,578,520,521],191,[748,579],function(e){function t(){this.storage={}}var n=Array.prototype.slice;t.prototype.add=function(e,t){var n=this.storage[e]||(this.storage[e]=[]);n.push(t)},t.prototype.remove=function(e){var t,n;for(t in this.storage)n=this.storage[t],n.some(function(t,i){return t===e?(n.splice(i,1),!0):void 0})},t.prototype.get=function(e){var t,n=[];for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+".")||(n=n.concat(this.storage[t]));return n},t.prototype.getGrouped=function(e){var t,i={};for(t in this.storage)e&&e!==t&&0!==t.indexOf(e+".")||(i[t]=n.call(this.storage[t]));return i},t.prototype.getAll=function(e){var t,i={};for(t in this.storage)(e===t||0===t.indexOf(e+"."))&&(i[t]=n.call(this.storage[t]));return i},t.prototype.run=function(e,t){var i=n.call(arguments,2);this.get(e).forEach(function(e){e.apply(t||this,i)})},e.exports=t},function(e){function t(e){return e||0===e?e:""}function n(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function i(e,t){var n=e[t];return t in e&&(n===!0||n===!1)}function r(e){return"true"===c.getAttribute(e,"data-anddom-hidden")}function o(e){c.setAttribute(e,"data-anddom-display",e.style.display)}function s(e){e.style.display=c.getAttribute(e,"data-anddom-display")||"",c.removeAttribute(e,"data-anddom-hidden")}function a(e){c.setAttribute(e,"data-anddom-hidden","true"),e.style.display="none"}var c=e.exports={text:function(e,n){e.textContent=t(n)},addClass:function(e,i){i=t(i),i&&(Array.isArray(i)?i.forEach(function(t){c.addClass(e,t)}):e.classList?e.classList.add(i):n(e,i)||(e.classList?e.classList.add(i):e.className+=" "+i))},removeClass:function(e,n){Array.isArray(n)?n.forEach(function(t){c.removeClass(e,t)}):e.classList?(n=t(n),n&&e.classList.remove(n)):e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:n,switchClass:function(e,t,n){t&&this.removeClass(e,t),this.addClass(e,n)},addAttribute:function(e,t){e.setAttribute(t,""),i(e,t)&&(e[t]=!0)},removeAttribute:function(e,t){e.removeAttribute(t),i(e,t)&&(e[t]=!1)},setAttribute:function(e,n,i){e.setAttribute(n,t(i))},getAttribute:function(e,t){return e.getAttribute(t)},hide:function(e){r(e)||(o(e),a(e))},show:function(e){s(e)},html:function(e,t){e.innerHTML=t}}},function(e){var t=function(e){function t(t,n){!n&&(n=(new Date).getTime()),n instanceof Date&&(n=n.getTime()),t instanceof Date&&(t=t.getTime());var i,r,o,s=n-t;for(r=-1,o=u.length;++r<o;)if(i=u[r],s<i[0])return i[2]==e?i[1]:Math.round(s/i[2])+" "+i[1]}var n=1e3,i=60*n,r=60*i,o=24*r,s=7*o,a=365*o,c=a/12,u=[[.7*i,"just now"],[1.5*i,"a minute ago"],[60*i,"minutes ago",i],[1.5*r,"an hour ago"],[o,"hours ago",r],[2*o,"yesterday"],[7*o,"days ago",o],[1.5*s,"a week ago"],[c,"weeks ago",s],[1.5*c,"a month ago"],[a,"months ago",c],[1.5*a,"a year ago"],[Number.MAX_VALUE,"years ago",a]];return t}();"undefined"!=typeof e&&e.exports&&(e.exports=t)},function(e,t,n){function i(e,t,n,i){var c=e?e.length:0;return c?(null!=t&&"boolean"!=typeof t&&(i=n,n=s(e,t,i)?null:t,t=!1),n=null==n?n:r(n,i,3),t?a(e,n):o(e,n)):[]}var r=n(444),o=n(497),s=n(103),a=n(498);

e.exports=i},function(e){function t(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[++r]=s)}return o}e.exports=t},function(e,t,n){function i(e,t,n){var i=typeof e;return"function"==i?"undefined"!=typeof t&&u(e)?a(e,t,n):e:null==e?c:"object"==i?r(e):"undefined"==typeof t?s(e+""):o(e+"",t)}var r=n(499),o=n(500),s=n(501),a=n(102),c=n(184),u=n(502);e.exports=i},function(e,t,n){function i(e,t){var n=[];return r(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}var r=n(403);e.exports=i},function(e,t,n){"use strict";var i=n(507);i.availableSaxParsers.push(i.bestSaxParser=n(508)),e.exports=n(509)},function(e,t,n){(function(t,n,i){"use strict";function r(e,t){var r=new n(e);return s.getRandomValues(r),"function"==typeof t?i.nextTick(function(){t(null,r)}):r}function o(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var s=t.crypto||t.msCrypto;e.exports=s&&s.getRandomValues?r:o}).call(t,function(){return this}(),n(385).Buffer,n(26))},[759,591,513,592,558],function(e,t,n){function i(e){var t=this.data;"string"==typeof e||r(e)?t.set.add(e):t.hash[e]=!0}var r=n(70);e.exports=i},function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}},[754,594],[752,597,604,605],[755,524],function(e,t){!function(){function n(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++a+"";return e?e+t:t},has:function(e,t){return o.call(e,t)},each:function(e,t,n){if(null!=e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;o>i;i++)t.call(n,e[i],i,e);else for(var s in e)this.has(e,s)&&t.call(n,e[s],s,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}var i,r=Array.prototype.forEach,o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,a=0,c=n();i={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var i=this,r=c.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,o,s,a,u,h,f;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:c.keys(this._events),a=0,u=s.length;u>a;a++)if(e=s[a],o=this._events[e]){if(this._events[e]=i=[],t||n)for(h=0,f=o.length;f>h;h++)r=o[h],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&h(n,t),i&&h(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}};var u=/\s+/,l=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},h=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};c.each(f,function(e,t){i[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=c.uniqueId("l"));return r[o]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),i.bind=i.on,i.unbind=i.off,i.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return c.each(t,function(t){e[t]=this[t]},this),e},"undefined"!=typeof e&&e.exports&&(t=e.exports=i),t.BackboneEvents=i}(this)},function(e){e.exports={smile:"",happy:"",joy:"",smiley:"",haha:"",grinning:"",proud:"",wink:"",flirt:"",heart_eyes:"",crush:"",kissing_heart:"",kissing_closed_eyes:"",kissing:"",kissing_smiling_eyes:"",stuck_out_tongue_winking_eye:"",prank:"",silly:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue:"",flushed:"",grin:"",pensive:"",relieved:"",whew:"",unamused:"",meh:"",disappointed:"",persevere:"",struggling:"",cry:"",tear:"",tears:"",sob:"",bawling:"",sleepy:"",tired:"",disappointed_relieved:"",phew:"",sweat:"",nervous:"",cold_sweat:"",sweat_smile:"",hot:"",weary:"",tired_face:"",upset:"",whine:"",fearful:"",scared:"",shocked:"",oops:"",scream:"",horror:"",mad:"",annoyed:"",rage:"",smug:"",confounded:"",laughing:"",satisfied:"",yum:"",lick:"",mask:"",sick:"",ill:"",sunglasses:"",dizzy_face:"",astonished:"",amazed:"",gasp:"",worried:"",frowning:"",anguished:"",stunned:"",smiling_imp:"",open_mouth:"",surprise:"",impressed:"",wow:"",neutral_face:"",confused:"",hushed:"",silence:"",speechless:"",no_mouth:"",innocent:"",smirk:"",expressionless:"",smiley_cat:"",smile_cat:"",heart_eyes_cat:"",kissing_cat:"",smirk_cat:"",scream_cat:"",crying_cat_face:"",joy_cat:"",pouting_cat:"",sparkles:"",shiny:"",star:"",watch:"",fist:"",hand:"",raised_hand:"",highfive:"",rain:"",cat:"",mouse:"",cow:"",monkey_face:"",zap:"",lightning:"",thunder:"",umbrella:"",time:"",hourglass:"",black_joker:"",mahjong:"",coffee:"",cafe:"",espresso:"",anchor:"",loop:"",wheelchair:"",accessibility:"",negative_squared_cross_mark:"",white_check_mark:"",aries:"",taurus:"",gemini:"",cancer:"",leo:"",virgo:"",libra:"",scorpius:"",sagittarius:"",capricorn:"",aquarius:"",pisces:"",x:"",exclamation:"",heavy_exclamation_mark:"",bang:"",question:"",grey_exclamation:"",grey_question:"",heavy_plus_sign:"",heavy_minus_sign:"",heavy_division_sign:"",curly_loop:"",black_medium_small_square:"",white_medium_small_square:"",black_circle:"",white_circle:"",white_large_square:"",black_large_square:""}},function(e,t,n){function i(e,t){return r(e,t,o)}var r=n(522),o=n(101);e.exports=i},function(e,t,n){function i(e){return r(e)?e:Object(e)}var r=n(70);e.exports=i},function(e){e.exports=function(e,t){var n;return function(){return t-->0?n=e.apply(this,arguments):e=null,n}}},419,[738,608],317,197,function(e){var t=Object.prototype.toString;e.exports=function(e){return"[object String]"===t.call(e)}},function(e){var t=Object.prototype.toString,n=Object.prototype.hasOwnProperty,i=function(e){return"[object Arguments]"===t.call(e)};i(arguments)||(i=function(e){return e&&n.call(e,"callee")}),e.exports=i},function(e){var t=Object.prototype.toString;e.exports=function(e){return"[object Number]"===t.call(e)}},function(e,t,n){var i=n(465);e.exports=function(e){return i(e)&&e!==+e}},416,410,317,317,function(e,t,n){var i=n(612),r=/[\t\r\n\f]/g;e.exports=function(e,t){var n=(i(e)?e:e.className).replace(r," ");return-1!==(" "+n+" ").indexOf(" "+t+" ")}},function(e,t,n){"use strict";function i(e){return Object.prototype.toString.call(e)}function r(e){return"[object String]"===i(e)}function o(e,t){return w.call(e,t)}function s(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function a(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function c(e){return e>=55296&&57343>=e?!1:e>=64976&&65007>=e?!1:65535===(65535&e)||65534===(65535&e)?!1:e>=0&&8>=e?!1:11===e?!1:e>=14&&31>=e?!1:e>=127&&159>=e?!1:e>1114111?!1:!0}function u(e){if(e>65535){e-=65536;var t=55296+(e>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e,t){var n=0;return o(A,t)?A[t]:35===t.charCodeAt(0)&&S.test(t)&&(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),c(n))?u(n):e}function h(e){return e.indexOf("\\")<0?e:e.replace(x,"$1")}function f(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(k,function(e,t,n){return t?t:l(e,n)})}function d(e){return E[e]}function p(e){return C.test(e)?e.replace(j,d):e}function m(e){return e.replace(I,"\\$&")}function g(e){if(e>=8192&&8202>=e)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function v(e){return T.test(e)}function b(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function y(e){return e.trim().replace(/\s+/g," ").toUpperCase()}var w=Object.prototype.hasOwnProperty,x=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,_=/&([a-z#][a-z0-9]{1,31});/gi,k=new RegExp(x.source+"|"+_.source,"gi"),S=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,A=n(525),C=/[&<>"]/,j=/[&<>"]/g,E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},I=/[.?*+^$[\]\\(){}|-]/g,T=n(596);t.lib={},t.lib.mdurl=n(516),t.lib.ucmicro=n(595),t.assign=s,t.isString=r,t.has=o,t.unescapeMd=h,t.unescapeAll=f,t.isValidEntityCode=c,t.fromCodePoint=u,t.escapeHtml=p,t.arrayReplaceAt=a,t.isWhiteSpace=g,t.isMdAsciiPunct=b,t.isPunctChar=v,t.escapeRE=m,t.normalizeReference=y},function(e,t,n){"use strict";function i(){this.rules=r({},a)}var r=n(472).assign,o=n(472).unescapeAll,s=n(472).escapeHtml,a={};a.code_inline=function(e,t){return"<code>"+s(e[t].content)+"</code>"},a.code_block=function(e,t){return"<pre><code>"+s(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,i,r){var a,c=e[t],u="";return c.info&&(u=o(c.info.trim().split(/\s+/g)[0]),c.attrPush(["class",n.langPrefix+u])),a=n.highlight?n.highlight(c.content,u)||s(c.content):s(c.content),"<pre><code"+r.renderAttrs(c)+">"+a+"</code></pre>\n"},a.image=function(e,t,n,i,r){var o=e[t];return o.attrs[o.attrIndex("alt")][1]=r.renderInlineAsText(o.children,n,i),r.renderToken(e,t,n,i,r)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return s(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},i.prototype.renderAttrs=function(e){var t,n,i;if(!e.attrs)return"";for(i="",t=0,n=e.attrs.length;n>t;t++)i+=" "+s(e.attrs[t][0])+'="'+s(e.attrs[t][1])+'"';return i},i.prototype.renderToken=function(e,t,n){var i,r="",o=!1,s=e[t];return s.hidden?"":(s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===s.nesting?"</":"<")+s.tag,r+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(r+=" /"),s.block&&(o=!0,1===s.nesting&&t+1<e.length&&(i=e[t+1],"inline"===i.type||i.hidden?o=!1:-1===i.nesting&&i.tag===s.tag&&(o=!1))),r+=o?">\n":">")},i.prototype.renderInline=function(e,t,n){for(var i,r="",o=this.rules,s=0,a=e.length;a>s;s++)i=e[s].type,r+="undefined"!=typeof o[i]?o[i](e,s,t,n,this):this.renderToken(e,s,t,n);return r},i.prototype.renderInlineAsText=function(e,t,n){for(var i="",r=this.rules,o=0,s=e.length;s>o;o++)"text"===e[o].type?i+=r.text(e,o,t,n,this):"image"===e[o].type&&(i+=this.renderInlineAsText(e[o].children,t,n));return i},i.prototype.render=function(e,t,n){var i,r,o,s="",a=this.rules;for(i=0,r=e.length;r>i;i++)o=e[i].type,s+="inline"===o?this.renderInline(e[i].children,t,n):"undefined"!=typeof a[o]?a[e[i].type](e,i,t,n,this):this.renderToken(e,i,t,n);return s},e.exports=i},function(e,t,n){"use strict";function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}var r=n(526),o=[["normalize",n(527)],["block",n(528)],["inline",n(529)],["linkify",n(530)],["replacements",n(531)],["smartquotes",n(532)]];i.prototype.process=function(e){var t,n,i;for(i=this.ruler.getRules(""),t=0,n=i.length;n>t;t++)i[t](e)},i.prototype.State=n(533),e.exports=i},function(e,t,n){"use strict";function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}var r=n(526),o=[["code",n(534)],["fence",n(535),["paragraph","reference","blockquote","list"]],["blockquote",n(536),["paragraph","reference","list"]],["hr",n(537),["paragraph","reference","blockquote","list"]],["list",n(538),["paragraph","reference","blockquote"]],["reference",n(539)],["heading",n(540),["paragraph","reference","blockquote"]],["lheading",n(541)],["html_block",n(542),["paragraph","reference","blockquote"]],["table",n(543),["paragraph","reference"]],["paragraph",n(544)]];i.prototype.tokenize=function(e,t,n){for(var i,r,o=this.ruler.getRules(""),s=o.length,a=t,c=!1,u=e.md.options.maxNesting;n>a&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.tShift[a]<e.blkIndent);){if(e.level>=u){e.line=n;break}for(r=0;s>r&&!(i=o[r](e,a,n,!1));r++);if(e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),a=e.line,n>a&&e.isEmpty(a)){if(c=!0,a++,n>a&&"list"===e.parentType&&e.isEmpty(a))break;e.line=a}}},i.prototype.parse=function(e,t,n,i){var r;return e?(r=new this.State(e,t,n,i),void this.tokenize(r,r.line,r.lineMax)):[]},i.prototype.State=n(545),e.exports=i},function(e,t,n){"use strict";function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}var r=n(526),o=[["text",n(546)],["newline",n(547)],["escape",n(548)],["backticks",n(549)],["strikethrough",n(550)],["emphasis",n(551)],["link",n(552)],["image",n(553)],["autolink",n(554)],["html_inline",n(555)],["entity",n(556)]];i.prototype.skipToken=function(e){var t,n=e.pos,i=this.ruler.getRules(""),r=i.length,o=e.md.options.maxNesting,s=e.cache;if("undefined"!=typeof s[n])return void(e.pos=s[n]);if(e.level<o)for(t=0;r>t;t++)if(i[t](e,!0))return void(s[n]=e.pos);e.pos++,s[n]=e.pos},i.prototype.tokenize=function(e){for(var t,n,i=this.ruler.getRules(""),r=i.length,o=e.posMax,s=e.md.options.maxNesting;e.pos<o;){if(e.level<s)for(n=0;r>n&&!(t=i[n](e,!1));n++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},i.prototype.parse=function(e,t,n,i){var r=new this.State(e,t,n,i);this.tokenize(r)},i.prototype.State=n(557),e.exports=i},325,function(e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},function(e){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"]}}}},function(e){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"]}}}},function(e){e.exports=function(){return["sha1","sha224","sha256","sha384","sha512","md5","rmd160"]}},function(e,t,n){(function(t){function n(e,n){t.isBuffer(e)||(e=new t(e)),t.isBuffer(n)||(n=new t(n));var i=[];if(e.length>n.length)for(var r=0;r<n.length;r++)i.push(e[r]^n[r]);else for(var r=0;r<e.length;r++)i.push(e[r]^n[r]);return new t(i)}e.exports=n}).call(t,n(385).Buffer)},function(e,t){t.read=function(e,t,n,i,r){var o,s,a=8*r-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?r-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=i;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?0/0:(d?-1:1)*(1/0);s+=Math.pow(2,i),o-=u}return(d?-1:1)*s*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var s,a,c,u=8*o-r-1,l=(1<<u)-1,h=l>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,p=i?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+h>=1?f/c:f*Math.pow(2,1-h),t*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,r),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;e[n+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;e[n+d]=255&s,d+=p,s/=256,u-=8);e[n+d-p]|=128*m}},144,[737,623,625,624],[737,626,627,628],[744,629,630,632,631,633],212,function(e,t,n){var i=n(606);e.exports=function(e,t,n){for(var r=n?e:e.parentNode;r&&r!==document;){if(i(r,t))return r;r=r.parentNode}}},463,197,function(e){var t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;e.exports=function(e){return e.replace(t,"")}},463,197,492,function(e,t,n){"use strict";t.parseLinkLabel=n(580),t.parseLinkDestination=n(581),t.parseLinkTitle=n(582)},function(e,t,n){function i(e,t){var n=-1,i=r,a=e.length,c=!0,u=c&&a>=200,l=u?s():null,h=[];l?(i=o,c=!1):(u=!1,l=t?[]:h);e:for(;++n<a;){var f=e[n],d=t?t(f,n,e):f;if(c&&f===f){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),h.push(f)}else i(l,d,0)<0&&((t||u)&&l.push(d),h.push(f))}return h}var r=n(280),o=n(281),s=n(282);e.exports=i},function(e){function t(e,t){for(var n,i=-1,r=e.length,o=-1,s=[];++i<r;){var a=e[i],c=t?t(a,i,e):a;i&&n===c||(n=c,s[++o]=a)}return s}e.exports=t},function(e,t,n){function i(e){var t=s(e),n=t.length;if(1==n){var i=t[0],a=e[i];if(o(a))return function(e){return null!=e&&e[i]===a&&c.call(e,i)}}for(var u=Array(n),l=Array(n);n--;)a=e[t[n]],u[n]=a,l[n]=o(a);return function(e){return r(e,t,u,l)}}var r=n(583),o=n(584),s=n(101),a=Object.prototype,c=a.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t){return o(t)?function(n){return null!=n&&n[e]===t}:function(n){return null!=n&&r(t,n[e],null,!0)}}var r=n(585),o=n(584);e.exports=i},function(e){function t(e){return function(t){return null==t?void 0:t[e]}}e.exports=t},function(e,t,n){function i(e){var t=!(s.funcNames?e.name:s.funcDecomp);if(!t){var n=u.call(e);s.funcNames||(t=!a.test(n)),t||(t=c.test(n)||o(e),r(e,t))}return t}var r=n(586),o=n(111),s=n(323),a=/^\s*function[ \n\r\t]+\w/,c=/\bthis\b/,u=Function.prototype.toString;e.exports=i},function(e){function t(e,t){for(var i=[],r=0;r<e.length;r++)n(t,e[r])>-1&&i.push(e[r]);return i}function n(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}e.exports=t,t.big=function(e,t){for(var n=[],i={},r=0;r<t.length;r++)i[t[r]]=!0;for(var r=0;r<e.length;r++)i[e[r]]&&n.push(e[r]);return n}},function(e,t,n){function i(e){a.call(this);var t=this;this.sid=e.sid||Date.now().toString(),this.peer=e.peer,this.peerID=e.peerID||this.peer.full||this.peer,this.isInitiator=e.initiator||!1,this.parent=e.parent,this.state="starting",this.connectionState="starting",this.pendingDescriptionTypes=e.descriptionTypes||[],this.pendingAction=!1,this.processingQueue=o.queue(function(e,n){if(t.ended)return n();var i=e.action,r=e.changes,o=e.cb;return t._log("debug",i),c[i]?void t[c[i]](r,function(e,t){return o(e,t),n()}):(t._log("error","Invalid action: "+i),o({condition:"bad-request"}),n())})}var r=n(67),o=n(63),s=n(636),a=n(283),c={"content-accept":"onContentAccept","content-add":"onContentAdd","content-modify":"onConentModify","content-reject":"onContentReject","content-remove":"onContentRemove","description-info":"onDescriptionInfo","security-info":"onSecurityInfo","session-accept":"onSessionAccept","session-info":"onSessionInfo","session-initiate":"onSessionInitiate","session-terminate":"onSessionTerminate","transport-accept":"onTransportAccept","transport-info":"onTransportInfo","transport-reject":"onTransportReject","transport-replace":"onTransportReplace","source-add":"onSourceAdd","source-remove":"onSourceRemove"};r.inherits(i,a),Object.keys(c).forEach(function(e){var t=c[e];i.prototype[t]=function(t,n){this._log("error","Unsupported action: "+e),n()}}),Object.defineProperties(i.prototype,{state:{get:function(){return this._sessionState},set:function(e){if(e!==this._sessionState){var t=this._sessionState;this._log("info","Changing session state to: "+e),this._sessionState=e,this.emit("change:sessionState",this,e),this.emit("change:"+e,this,!0),t&&this.emit("change:"+t,this,!1)}}},connectionState:{get:function(){return this._connectionState},set:function(e){if(e!==this._connectionState){var t=this._connectionState;this._log("info","Changing connection state to: "+e),this._connectionState=e,this.emit("change:connectionState",this,e),this.emit("change:"+e,this,!0),t&&this.emit("change:"+t,this,!1)}}},starting:{get:function(){return"starting"===this._sessionState}},pending:{get:function(){return"pending"===this._sessionState}},active:{get:function(){return"active"===this._sessionState}},ended:{get:function(){return"ended"===this._sessionState}},connected:{get:function(){return"connected"===this._connectionState}},connecting:{get:function(){return"connecting"===this._connectionState}},disconnected:{get:function(){return"disconnected"===this._connectionState}},interrupted:{get:function(){return"interrupted"===this._connectionState}}}),i.prototype=s(i.prototype,{_log:function(e,t){t=this.sid+": "+t,this.emit("log:"+e,t)},send:function(e,t){t=t||{},t.sid=this.sid,t.action=e;var n={"session-inititate":!0,"session-accept":!0,"content-add":!0,"content-remove":!0,"content-reject":!0,"content-accept":!0,"content-modify":!0,"transport-replace":!0,"transport-reject":!0,"transport-accept":!0,"source-add":!0,"source-remove":!0};this.pendingAction=n[e]?e:!1,this.emit("send",{to:this.peer,type:"set",jingle:t})},process:function(e,t,n){this.processingQueue.push({action:e,changes:t,cb:n})},start:function(){this._log("error","Can not start base sessions"),this.end("unsupported-applications",!0)},accept:function(){this._log("error","Can not accept base sessions"),this.end("unsupported-applications")},cancel:function(){this.end("cancel")},decline:function(){this.end("decline")},end:function(e,t){this.state="ended",this.processingQueue.kill(),e||(e="success"),"string"==typeof e&&(e={condition:e}),t||this.send("session-terminate",{reason:e}),this.emit("terminated",this,e)},onSessionTerminate:function(e,t){this.end(e.reason,!0),t()},onSessionInfo:function(e,t){var n={sid:!0,action:!0,initiator:!0,responder:!0},i=!1;Object.keys(e).forEach(function(e){n[e]||(i=!0)}),i?t({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"}):t()},onDescriptionInfo:function(e,t){t({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onTransportInfo:function(e,t){t({type:"modify",condition:"feature-not-implemented",jingleCondition:"unsupported-info"})},onContentAdd:function(e,t){t(),this.send("content-reject",{reason:{condition:"failed-application",text:"content-add is not supported"}})},onTransportReplace:function(e,t){t(),this.send("transport-reject",{reason:{condition:"failed-application",text:"transport-replace is not supported"}})}}),e.exports=i},function(e,t,n){function i(e,t){delete e.transport,delete e.description.payloads,e.description.sources&&(e.description.sources=e.description.sources.filter(function(e){return t.id===e.parameters[1].value.split(" ")[0]}))}function r(e){var t=e.description.sources||[];t.forEach(function(e){e.parameters=e.parameters.filter(function(e){return!("mslabel"===e.key||"label"===e.key)})})}function o(e){c.call(this,e),this.pc=new u({iceServers:e.iceServers||[],useJingle:!0},e.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),this.pc.on("addStream",this.onAddStream.bind(this)),this.pc.on("removeStream",this.onRemoveStream.bind(this)),this._ringing=!1}var s=n(67),a=n(636),c=n(504),u=n(638);s.inherits(o,c),Object.defineProperties(o.prototype,{ringing:{get:function(){return this._ringing},set:function(e){e!==this._ringing&&(this._ringing=e,this.emit("change:ringing",e))}},streams:{get:function(){return this.pc.getRemoteStreams()}}}),o.prototype=a(o.prototype,{start:function(e,t){var n=this;this.state="pending",t=t||function(){},this.pc.isInitiator=!0,this.pc.offer(e,function(i,o){return i?(n._log("error","Could not create WebRTC offer",i),n.end("failed-application",!0)):(e&&e.mandatory&&o.jingle.contents.forEach(function(t){var n=t.description.media;t.description&&"rtp"===t.description.descType&&(e.mandatory.OfferToReceiveAudio||"audio"!==n||(t.senders="initiator"),e.mandatory.OfferToReceiveVideo||"video"!==n||(t.senders="initiator"))}),o.jingle.contents.forEach(r),n.send("session-initiate",o.jingle),void t())})},accept:function(e){var t=this;e=e||function(){},this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(function(n,i){return n?(t._log("error","Could not create WebRTC answer",n),t.end("failed-application")):(i.jingle.contents.forEach(r),t.send("session-accept",i.jingle),void e())})},end:function(e,t){var n=this;this.pc.close(),this.streams.forEach(function(e){n.onRemoveStream({stream:e})}),c.prototype.end.call(this,e,t)},ring:function(){this._log("info","Ringing on incoming session"),this.ringing=!0,this.send("session-info",{ringing:!0})},mute:function(e,t){this._log("info","Muting",t),this.send("session-info",{mute:{creator:e,name:t}})},unmute:function(e,t){this._log("info","Unmuting",t),this.send("session-info",{unmute:{creator:e,name:t}})},hold:function(){this._log("info","Placing on hold"),this.send("session-info",{hold:!0})},resume:function(){this._log("info","Resuming from hold"),this.send("session-info",{active:!0})},addStream:function(e,t,n){var r=this;n=n||function(){},this.pc.addStream(e),t&&this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(t){return t?(r._log("error","Could not create offer for adding new stream"),n(t)):void r.pc.answer(function(t,o){return t?(r._log("error","Could not create answer for adding new stream"),n(t)):(o.jingle.contents.forEach(function(t){i(t,e)}),r.send("source-add",o.jingle),void n())})})},addStream2:function(e,t){this.addStream(e,!0,t)},removeStream:function(e,t,n){var r=this;if(n=n||function(){},!t)return void this.pc.removeStream(e);var o=this.pc.localDescription;o.contents.forEach(function(t){i(t,e)}),this.send("source-remove",o),this.pc.removeStream(e),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(e){return e?(r._log("error","Could not process offer for removing stream"),n(e)):void r.pc.answer(function(e){return e?(r._log("error","Could not process answer for removing stream"),n(e)):void n()})})},removeStream2:function(e,t){this.removeStream(e,!0,t)},switchStream:function(e,t,n){var i=this;n=n||function(){};var r=this.pc.localDescription;r.contents.forEach(function(e){delete e.transport,delete e.description.payloads}),this.pc.removeStream(e),this.send("source-remove",r);var o=e.getAudioTracks();o.length&&t.addTrack(o[0]),this.pc.addStream(t),this.pc.handleOffer({type:"offer",jingle:this.pc.remoteDescription},function(e){return e?(i._log("error","Could not process offer for switching streams"),n(e)):void i.pc.answer(function(e,t){return e?(i._log("error","Could not process answer for switching streams"),n(e)):(t.jingle.contents.forEach(function(e){delete e.transport,delete e.description.payloads}),i.send("source-add",t.jingle),void n())})})},onIceCandidate:function(e){this._log("info","Discovered new ICE candidate",e.jingle),this.send("transport-info",e.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":this.connectionState="stable"===this.pc.signalingState?"interrupted":"disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onAddStream:function(e){this._log("info","Stream added"),this.emit("peerStreamAdded",this,e.stream)},onRemoveStream:function(e){this._log("info","Stream removed"),this.emit("peerStreamRemoved",this,e.stream)},onSessionInitiate:function(e,t){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1,this.pc.handleOffer({type:"offer",jingle:e},function(e){return e?(n._log("error","Could not create WebRTC answer"),t({condition:"general-error"})):void t()})},onSessionAccept:function(e,t){var n=this;this.state="active",this.pc.handleAnswer({type:"answer",jingle:e},function(e){return e?(n._log("error","Could not process WebRTC answer"),t({condition:"general-error"})):(n.emit("accepted",n),void t())})},onSessionTerminate:function(e,t){var n=this;this._log("info","Terminating session"),this.pc.close(),this.streams.forEach(function(e){n.onRemoveStream({stream:e})}),c.prototype.end.call(this,e.reason,!0),t()},onSessionInfo:function(e,t){return e.ringing?(this._log("info","Outgoing session is ringing"),this.ringing=!0,this.emit("ringing",this),t()):e.hold?(this._log("info","On hold"),this.emit("hold",this),t()):e.active?(this._log("info","Resuming from hold"),this.emit("resumed",this),t()):e.mute?(this._log("info","Muting",e.mute),this.emit("mute",this,e.mute),t()):e.unmute?(this._log("info","Unmuting",e.unmute),this.emit("unmute",this,e.unmute),t()):void t()},onTransportInfo:function(e,t){this.pc.processIce(e,function(){t()})},onSourceAdd:function(e,t){var n=this;this._log("info","Adding new stream source");var i=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(t,n){var r=t.description,o=r.sources||[],s=r.sourceGroups||[];e.contents.forEach(function(e){if(t.name===e.name){var r=e.description,a=r.sources||[];o=o.concat(a),i.contents[n].description.sources=JSON.parse(JSON.stringify(o));var c=r.sourceGroups||[];s=s.concat(c),i.contents[n].description.sourceGroups=JSON.parse(JSON.stringify(s))}})}),this.pc.handleOffer({type:"offer",jingle:i},function(e){return e?(n._log("error","Error adding new stream source"),t({condition:"general-error"})):void n.pc.answer(function(e){return e?(n._log("error","Error adding new stream source"),t({condition:"general-error"})):void t()})})},onSourceRemove:function(e,t){var n=this;this._log("info","Removing stream source");var i=this.pc.remoteDescription;this.pc.remoteDescription.contents.forEach(function(t,n){var r=t.description,o=r.sources||[],s=r.sourceGroups||[];e.contents.forEach(function(e){if(t.name===e.name){var r,a,c,u,l=e.description,h=l.sources||[],f=l.sourceGroups||[];for(a=0;a<h.length;a++){for(r=-1,c=0;c<o.length;c++)if(h[a].ssrc===o[c].ssrc){r=c;break}r>-1&&(o.splice(r,1),i.contents[n].description.sources=JSON.parse(JSON.stringify(o)))}for(a=0;a<f.length;a++){for(r=-1,c=0;a<s.length;c++)if(f[a].semantics===s[c].semantics&&f[a].sources.length===s[c].sources.length){var d=!0;for(u=0;u<f[a].sources.length;u++)if(f[a].sources[u]!==s[c].sources[u]){d=!1;break}if(d){r=c;break}}r>-1&&(s.splice(r,1),i.contents[n].description.sourceGroups=JSON.parse(JSON.stringify(s)))}}})}),this.pc.handleOffer({type:"offer",jingle:i},function(e){return e?(n._log("error","Error removing stream source"),t({condition:"general-error"})):void n.pc.answer(function(e){return e?(n._log("error","Error removing stream source"),t({condition:"general-error"})):void t()})})}}),e.exports=o},function(e,t,n){function i(e){s.call(this,e);var t=this;this.pc=new a({iceServers:e.iceServers||[],useJingle:!0},e.constraints||{}),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("iceConnectionStateChange",this.onIceStateChange.bind(this)),
this.pc.on("addChannel",this.onChannelAdded.bind(this)),this.sender=new c.Sender,this.sender.on("progress",function(e,n){t._log("info","Send progress "+e+"/"+n)}),this.sender.on("sentFile",function(e){t._log("info","Sent file",e.name);var n=t.pc.localDescription.contents[0];delete n.transport,n.description={descType:"filetransfer",offer:{hash:{algo:e.algo,value:e.hash}}},t.send("description-info",{contents:[n]}),t.emit("sentFile",t,e)}),this.receiver=new c.Receiver,this.receiver.on("progress",function(e,n){t._log("info","Receive progress "+e+"/"+n)}),this.receiver.on("receivedFile",function(e){t.receivedFile=e,t.maybeReceivedFile()})}var r=n(67),o=n(636),s=n(504),a=n(639),c=n(640);r.inherits(i,s),i.prototype=o(i.prototype,{start:function(e){var t=this;this.state="pending",this.pc.isInitiator=!0;var n=this.pc.createDataChannel("filetransfer");n.onopen=function(){t.sender.send(e,n)};var i={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this.pc.offer(i,function(n,i){return n?(t._log("error","Could not create WebRTC offer",n),t.end("failed-application",!0)):(i.jingle.contents[0].description={descType:"filetransfer",offer:{date:e.lastModifiedDate,name:e.name,size:e.size,hash:{algo:"sha-1",value:""}}},void t.send("session-initiate",i.jingle))})},accept:function(){var e=this;this._log("info","Accepted incoming session"),this.state="active",this.pc.answer(function(t,n){return t?(e._log("error","Could not create WebRTC answer",t),e.end("failed-application")):(n.jingle.contents[0].name="data",void e.send("session-accept",n.jingle))})},end:function(e,t){this.pc.close(),s.prototype.end.call(this,e,t)},maybeReceivedFile:function(){this.receiver.metadata.hash.value&&(this.receiver.metadata.hash.value===this.receiver.metadata.actualhash?(this._log("info","File hash matches"),this.emit("receivedFile",this,this.receivedFile,this.receiver.metadata),this.end("success")):(this._log("error","File hash does not match"),this.end("media-error")))},onIceCandidate:function(e){this._log("info","Discovered new ICE candidate",e.jingle),e.jingle.contents[0].name="data",this.send("transport-info",e.jingle)},onIceStateChange:function(){switch(this.pc.iceConnectionState){case"checking":this.connectionState="connecting";break;case"completed":case"connected":this.connectionState="connected";break;case"disconnected":this.connectionState="stable"===this.pc.signalingState?"interrupted":"disconnected";break;case"failed":this.connectionState="failed",this.end("failed-transport");break;case"closed":this.connectionState="disconnected"}},onChannelAdded:function(e){this.receiver.receive(null,e)},onSessionInitiate:function(e,t){var n=this;this._log("info","Initiating incoming session"),this.state="pending",this.pc.isInitiator=!1;var i=e.contents[0].description;this.receiver.metadata=i.offer.toJSON(),this.receiver.metadata.hash&&(this.receiver.config.hash=this.receiver.metadata.hash.algo),e.contents[0].description={descType:"datachannel"},this.pc.handleOffer({type:"offer",jingle:e},function(e){return e?(n._log("error","Could not create WebRTC answer"),t({condition:"general-error"})):void t()})},onSessionAccept:function(e,t){var n=this;this.state="active",e.contents[0].description={descType:"datachannel"},this.pc.handleAnswer({type:"answer",jingle:e},function(e){return e?(n._log("error","Could not process WebRTC answer"),t({condition:"general-error"})):(n.emit("accepted",n),void t())})},onSessionTerminate:function(e,t){this._log("info","Terminating session"),this.pc.close(),s.prototype.end.call(this,e.reason,!0),t()},onDescriptionInfo:function(e,t){var n=e.contents[0].description.offer.hash;this.receiver.metadata.hash=n,this.receiver.metadata.actualhash&&this.maybeReceivedFile(),t()},onTransportInfo:function(e,t){this.pc.processIce(e,function(){t()})}}),e.exports=i},function(e,t,n){"use strict";var i=n(607),r=n(67),o=n(588);t.availableSaxParsers=[],t.bestSaxParser=null;var s=["./sax/sax_expat.js","./sax/sax_ltx.js","./sax/sax_saxjs.js"];s.forEach(function(e){var i;try{i=n(587)(e)}catch(r){}i&&(t.availableSaxParsers.push(i),t.bestSaxParser||(t.bestSaxParser=i))}),t.Parser=function(e){i.EventEmitter.call(this);var n=this,r=e||t.bestSaxParser;if(!r)throw new Error("No SAX parser available");this.parser=new r;var s;this.parser.addListener("startElement",function(e,t){var n=new o(e,t);s=s?s.cnode(n):n}),this.parser.addListener("endElement",function(e){s&&e===s.name&&(s.parent?s=s.parent:n.tree||(n.tree=s,s=void 0))}),this.parser.addListener("text",function(e){s&&s.t(e)}),this.parser.addListener("error",function(e){n.error=e,n.emit("error",e)})},r.inherits(t.Parser,i.EventEmitter),t.Parser.prototype.write=function(e){this.parser.write(e)},t.Parser.prototype.end=function(e){this.parser.end(e),this.error||(this.tree?this.emit("tree",this.tree):this.emit("error",new Error("Incomplete document")))},t.parse=function(e,n){var i=new t.Parser(n),r=null,o=null;if(i.on("tree",function(e){r=e}),i.on("error",function(e){o=e}),i.write(e),i.end(),o)throw o;return r}},function(e,t,n){"use strict";function i(e){return e.replace(/\&(amp|#38);/g,"&").replace(/\&(lt|#60);/g,"<").replace(/\&(gt|#62);/g,">").replace(/\&(quot|#34);/g,'"').replace(/\&(apos|#39);/g,"'").replace(/\&(nbsp|#160);/g,"\n")}var r=n(67),o=n(607),s=0,a=1,c=2,u=3,l=4,h=5,f=6,d=7,p=e.exports=function(){o.EventEmitter.call(this);var e,t,n,r,p,m,g,v=s,b=0;this._handleTagOpening=function(e,t,n){e?this.emit("endElement",t):(this.emit("startElement",t,n),p&&this.emit("endElement",t))},this.write=function(o){function y(){if("number"==typeof b){var e=o.slice(b,w);return b=void 0,e}}"string"!=typeof o&&(o=o.toString());var w=0;for(e&&(o=e+o,w+=e.length,e=null);w<o.length;w++){var x=o.charCodeAt(w);switch(v){case s:if(60===x){var _=y();_&&this.emit("text",i(_)),v=c,b=w+1,n={}}break;case c:47===x&&b===w?(b=w+1,r=!0):33===x||63===x?(b=void 0,v=a):(32>=x||47===x||62===x)&&(t=y(),w--,v=u);break;case a:62===x&&(v=s);break;case u:62===x?(this._handleTagOpening(r,t,n),t=void 0,n=void 0,r=void 0,p=void 0,v=s,b=w+1):47===x?p=!0:x>32&&(b=w,v=l);break;case l:(32>=x||61===x)&&(g=y(),w--,v=h);break;case h:61===x&&(v=f);break;case f:(34===x||39===x)&&(m=x,v=d,b=w+1);break;case d:if(x===m){var k=i(y());n[g]=k,g=void 0,v=u}}}"number"==typeof b&&b<=o.length&&(e=o.slice(b),b=0)}};r.inherits(p,o.EventEmitter),p.prototype.end=function(e){e&&this.write(e),this.write=function(){}}},function(e,t,n){"use strict";var i=n(507);t.Element=n(588),t.escapeXml=n(589).escapeXml,t.parse=i.parse,t.Parser=i.Parser,t.availableSaxParsers=i.availableSaxParsers,t.bestSaxParser=i.bestSaxParser},[759,641,590,642,617],[767,510,643],447,[760,593],function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===s||t===h?62:t===a||t===f?63:c>t?-1:c+10>t?t-c+26+26:l+26>t?t-l:u+26>t?t-u+26:void 0}function i(e){function n(e){u[h++]=e}var i,r,s,a,c,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;c="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,u=new o(3*e.length/4-c),s=c>0?e.length-4:e.length;var h=0;for(i=0,r=0;s>i;i+=4,r+=3)a=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===c?(a=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&a)):1===c&&(a=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(a>>8&255),n(255&a)),u}function r(e){function t(e){return n.charAt(e)}function i(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,s,a=e.length%3,c="";for(r=0,s=e.length-a;s>r;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],c+=i(o);switch(a){case 1:o=e[e.length-1],c+=t(o>>2),c+=t(o<<4&63),c+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],c+=t(o>>10),c+=t(o>>4&63),c+=t(o<<2&63),c+="="}return c}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0),h="-".charCodeAt(0),f="_".charCodeAt(0);e.toByteArray=i,e.fromByteArray=r}(t)},function(e,t,n){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function r(e){return Object.prototype.toString.call(e)}function o(e){return"[object String]"===r(e)}function s(e){return"[object Object]"===r(e)}function a(e){return"[object RegExp]"===r(e)}function c(e){return"[object Function]"===r(e)}function u(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function l(e){e.__index__=-1,e.__text_cache__=""}function h(e){return function(t,n){var i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}function f(){return function(e,t){t.normalize(e)}}function d(e){function t(e){return e.replace("%TLDS%",d.src_tlds)}function r(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}var d=e.re=i({},n(599)),p=e.__tlds__.slice();e.__tlds_replaced__||p.push("[a-z]{2}"),p.push(d.src_xn),d.src_tlds=p.join("|"),d.email_fuzzy=RegExp(t(d.tpl_email_fuzzy),"i"),d.link_fuzzy=RegExp(t(d.tpl_link_fuzzy),"i"),d.host_fuzzy_test=RegExp(t(d.tpl_host_fuzzy_test),"i");var m=[];e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var i={validate:null,link:null};return e.__compiled__[t]=i,s(n)?(a(n.validate)?i.validate=h(n.validate):c(n.validate)?i.validate=n.validate:r(t,n),void(c(n.normalize)?i.normalize=n.normalize:n.normalize?r(t,n):i.normalize=f())):o(n)?void m.push(t):void r(t,n)}}),m.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:f()};var g=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(u).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:>|"+d.src_ZPCcCf+"))("+g+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:>|"+d.src_ZPCcCf+"))("+g+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),l(e)}function p(e,t){var n=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=r,this.text=r,this.url=r}function m(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function g(e){return this instanceof g?(this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i({},v,e),this.__compiled__={},this.__tlds__=b,this.__tlds_replaced__=!1,this.re={},void d(this)):new g(e)}var v={"http:":{validate:function(e,t,n){var i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&":"===e[t-3]?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},b="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");g.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},g.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,i,r,o,s,a,c,u;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(r=this.testSchemaAt(e,t[2],a.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.re.link_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&null!==(i=e.match(this.re.email_fuzzy))&&(o=i.index+i[1].length,s=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s))),this.__index__>=0},g.prototype.pretest=function(e){return this.re.pretest.test(e)},g.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},g.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(m(this,t)),t=this.__last_index__);for(var i=t?e.slice(t):e;this.test(i);)n.push(m(this,t)),i=i.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},g.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},g.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},e.exports=g},function(e,t,n){"use strict";e.exports.encode=n(600),e.exports.decode=n(601),e.exports.format=n(602),e.exports.parse=n(603)},[759,655,598,656,637],[767,517,658],function(e){var t;window.mozRTCPeerConnection||navigator.mozGetUserMedia?t="moz":(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(t="webkit");var n=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=window.mozRTCIceCandidate||window.RTCIceCandidate,r=window.mozRTCSessionDescription||window.RTCSessionDescription,o=window.webkitMediaStream||window.MediaStream,s="https:"===window.location.protocol&&(window.navigator.userAgent.match("Chrome")&&parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10)>=26||window.navigator.userAgent.match("Firefox")&&parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10)>=33),a=window.AudioContext||window.webkitAudioContext,c=document.createElement("video"),u=c&&c.canPlayType&&"probably"===c.canPlayType('video/webm; codecs="vp8", vorbis'),l=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;e.exports={prefix:t,support:!!n&&u&&!!l,supportRTCPeerConnection:!!n,supportVp8:u,supportGetUserMedia:!!l,supportDataChannel:!!(n&&n.prototype&&n.prototype.createDataChannel),supportWebAudio:!(!a||!a.prototype.createMediaStreamSource),supportMediaStream:!(!o||!o.prototype.removeTrack),supportScreenSharing:!!s,dataChannel:!!(n&&n.prototype&&n.prototype.createDataChannel),webAudio:!(!a||!a.prototype.createMediaStreamSource),mediaStream:!(!o||!o.prototype.removeTrack),screenSharing:!!s,AudioContext:a,PeerConnection:n,SessionDescription:r,IceCandidate:i,MediaStream:o,getUserMedia:l}},[752,653,660,659],[755,609],function(e,t,n){function i(e,t,n){for(var i=-1,o=r(e),s=n(e),a=s.length;++i<a;){var c=s[i];if(t(o[c],c,o)===!1)break}return e}var r=n(457);e.exports=i},function(e,t,n){function i(){r.call(this)}e.exports=i;var r=n(607).EventEmitter,o=n(661);o(i,r),i.Readable=n(648),i.Writable=n(649),i.Duplex=n(650),i.Transform=n(651),i.PassThrough=n(652),i.Stream=i,i.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&u.pause&&u.pause()}function i(){u.readable&&u.resume&&u.resume()}function o(){l||(l=!0,e.end())}function s(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(c(),0===r.listenerCount(this,"error"))throw e}function c(){u.removeListener("data",n),e.removeListener("drain",i),u.removeListener("end",o),u.removeListener("close",s),u.removeListener("error",a),e.removeListener("error",a),u.removeListener("end",c),u.removeListener("close",c),e.removeListener("close",c)}var u=this;u.on("data",n),e.on("drain",i),e._isStdio||t&&t.end===!1||(u.on("end",o),u.on("close",s));var l=!1;return u.on("error",a),e.on("error",a),u.on("end",c),u.on("close",c),e.on("close",c),e.emit("pipe",u),e}},[756,610,611],function(e,t,n){"use strict";e.exports=n(665)},function(e){"use strict";function t(){this.__rules__=[],this.__cache__=null}t.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},t.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},t.prototype.at=function(e,t,n){var i=this.__find__(e),r=n||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=r.alt||[],this.__cache__=null},t.prototype.before=function(e,t,n,i){var r=this.__find__(e),o=i||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},t.prototype.after=function(e,t,n,i){var r=this.__find__(e),o=i||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},t.prototype.push=function(e,t,n){var i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null},t.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var i=this.__find__(e);if(0>i){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!0,n.push(e)},this),this.__cache__=null,n},t.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},t.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(e){var i=this.__find__(e);if(0>i){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[i].enabled=!1,n.push(e)},this),this.__cache__=null,n},t.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=t},function(e){"use strict";var t=/[\n\t]/g,n=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,i=/\u0000/g;e.exports=function(e){var r,o,s;r=e.src.replace(n,"\n"),r=r.replace(i,""),r.indexOf("	")>=0&&(o=0,s=0,r=r.replace(t,function(e,t){var n;return 10===r.charCodeAt(t)?(o=t+1,s=0,e):(n="    ".slice((t-o-s)%4),s=t-o+1,n)})),e.src=r}},function(e){"use strict";e.exports=function(e){var t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},function(e){"use strict";e.exports=function(e){var t,n,i,r=e.tokens;for(n=0,i=r.length;i>n;n++)t=r[n],"inline"===t.type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},function(e,t,n){"use strict";function i(e){return/^<a[>\s]/i.test(e)}function r(e){return/^<\/a\s*>/i.test(e)}var o=n(472).arrayReplaceAt;e.exports=function(e){var t,n,s,a,c,u,l,h,f,d,p,m,g,v,b,y,w,x=e.tokens;if(e.md.options.linkify)for(n=0,s=x.length;s>n;n++)if("inline"===x[n].type&&e.md.linkify.test(x[n].content))for(a=x[n].children,g=0,t=a.length-1;t>=0;t--)if(u=a[t],"link_close"!==u.type){if("html_inline"===u.type&&(i(u.content)&&g>0&&g--,r(u.content)&&g++),!(g>0)&&"text"===u.type&&e.md.linkify.test(u.content)){for(f=u.content,w=e.md.linkify.match(f),l=[],m=u.level,p=0,h=0;h<w.length;h++)v=w[h].url,b=e.md.normalizeLink(v),e.md.validateLink(b)&&(y=w[h].text,y=w[h].schema?"mailto:"!==w[h].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),d=w[h].index,d>p&&(c=new e.Token("text","",0),c.content=f.slice(p,d),c.level=m,l.push(c)),c=new e.Token("link_open","a",1),c.attrs=[["href",b]],c.level=m++,c.markup="linkify",c.info="auto",l.push(c),c=new e.Token("text","",0),c.content=y,c.level=m,l.push(c),c=new e.Token("link_close","a",-1),c.level=--m,c.markup="linkify",c.info="auto",l.push(c),p=w[h].lastIndex);p<f.length&&(c=new e.Token("text","",0),c.content=f.slice(p),c.level=m,l.push(c)),x[n].children=a=o(a,t,l)}}else for(t--;a[t].level!==u.level&&"link_open"!==a[t].type;)t--}},function(e){"use strict";function t(e,t){return s[t.toLowerCase()]}function n(e){var n,i;for(n=e.length-1;n>=0;n--)i=e[n],"text"===i.type&&(i.content=i.content.replace(o,t))}function i(e){var t,n;for(t=e.length-1;t>=0;t--)n=e[t],"text"===n.type&&r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1$2").replace(/(^|\s)--(\s|$)/gm,"$1$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1$2"))}var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,o=/\((c|tm|r|p)\)/gi,s={c:"",r:"",p:"",tm:""};e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(o.test(e.tokens[t].content)&&n(e.tokens[t].children),r.test(e.tokens[t].content)&&i(e.tokens[t].children))}},function(e,t,n){"use strict";function i(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function r(e,t){var n,r,h,f,d,p,m,g,v,b,y,w,x,_,k,S,A,C,j;for(j=[],n=0;n<e.length;n++)if(r=e[n],"text"===r.type&&!c.test(r.text)){for(m=e[n].level,A=j.length-1;A>=0&&!(j[A].level<=m);A--);j.length=A+1,h=r.content,d=0,p=h.length;e:for(;p>d&&(u.lastIndex=d,f=u.exec(h));)if(k=S=!0,d=f.index+1,C="'"===f[0],v=f.index-1>=0?h.charCodeAt(f.index-1):32,b=p>d?h.charCodeAt(d):32,y=a(v)||s(String.fromCharCode(v)),w=a(b)||s(String.fromCharCode(b)),x=o(v),_=o(b),_?k=!1:w&&(x||y||(k=!1)),x?S=!1:y&&(_||w||(S=!1)),34===b&&'"'===f[0]&&v>=48&&57>=v&&(S=k=!1),k&&S&&(k=!1,S=w),k||S){if(S)for(A=j.length-1;A>=0&&(g=j[A],!(j[A].level<m));A--)if(g.single===C&&j[A].level===m){g=j[A],C?(e[g.token].content=i(e[g.token].content,g.pos,t.md.options.quotes[2]),r.content=i(r.content,f.index,t.md.options.quotes[3])):(e[g.token].content=i(e[g.token].content,g.pos,t.md.options.quotes[0]),r.content=i(r.content,f.index,t.md.options.quotes[1])),j.length=A;continue e}k?j.push({token:n,pos:f.index,single:C,level:m}):S&&C&&(r.content=i(r.content,f.index,l))}else C&&(r.content=i(r.content,f.index,l))}}var o=n(472).isWhiteSpace,s=n(472).isPunctChar,a=n(472).isMdAsciiPunct,c=/['"]/,u=/['"]/g,l="";e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&c.test(e.tokens[t].content)&&r(e.tokens[t].children,e)}},function(e,t,n){"use strict";function i(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}var r=n(613);i.prototype.Token=r,e.exports=i},function(e){"use strict";e.exports=function(e,t,n){var i,r,o;if(e.tShift[t]-e.blkIndent<4)return!1;for(r=i=t+1;n>i;)if(e.isEmpty(i))i++;else{if(!(e.tShift[i]-e.blkIndent>=4))break;i++,r=i}return e.line=i,o=e.push("code_block","code",0),o.content=e.getLines(t,r,4+e.blkIndent,!0),o.map=[t,e.line],!0}},function(e){"use strict";e.exports=function(e,t,n,i){var r,o,s,a,c,u,l,h=!1,f=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(f+3>d)return!1;if(r=e.src.charCodeAt(f),126!==r&&96!==r)return!1;if(c=f,f=e.skipChars(f,r),o=f-c,3>o)return!1;if(l=e.src.slice(c,f),s=e.src.slice(f,d),s.indexOf("`")>=0)return!1;if(i)return!0;for(a=t;(a++,!(a>=n))&&(f=c=e.bMarks[a]+e.tShift[a],d=e.eMarks[a],!(d>f&&e.tShift[a]<e.blkIndent));)if(e.src.charCodeAt(f)===r&&!(e.tShift[a]-e.blkIndent>=4||(f=e.skipChars(f,r),o>f-c||(f=e.skipSpaces(f),d>f)))){h=!0;break}return o=e.tShift[t],e.line=a+(h?1:0),u=e.push("fence","code",0),u.info=s,u.content=e.getLines(t+1,a,o,!0),u.markup=l,u.map=[t,e.line],!0}},function(e){"use strict";e.exports=function(e,t,n,i){var r,o,s,a,c,u,l,h,f,d,p,m,g=e.bMarks[t]+e.tShift[t],v=e.eMarks[t];if(62!==e.src.charCodeAt(g++))return!1;if(i)return!0;for(32===e.src.charCodeAt(g)&&g++,c=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=g,g=v>g?e.skipSpaces(g):g,o=g>=v,s=[e.tShift[t]],e.tShift[t]=g-e.bMarks[t],h=e.md.block.ruler.getRules("blockquote"),r=t+1;n>r&&(g=e.bMarks[r]+e.tShift[r],v=e.eMarks[r],!(g>=v));r++)if(62!==e.src.charCodeAt(g++)){if(o)break;for(m=!1,d=0,p=h.length;p>d;d++)if(h[d](e,r,n,!0)){m=!0;break}if(m)break;a.push(e.bMarks[r]),s.push(e.tShift[r]),e.tShift[r]=-1337}else 32===e.src.charCodeAt(g)&&g++,a.push(e.bMarks[r]),e.bMarks[r]=g,g=v>g?e.skipSpaces(g):g,o=g>=v,s.push(e.tShift[r]),e.tShift[r]=g-e.bMarks[r];for(u=e.parentType,e.parentType="blockquote",f=e.push("blockquote_open","blockquote",1),f.markup=">",f.map=l=[t,0],e.md.block.tokenize(e,t,r),f=e.push("blockquote_close","blockquote",-1),f.markup=">",e.parentType=u,l[1]=e.line,d=0;d<s.length;d++)e.bMarks[d+t]=a[d],e.tShift[d+t]=s[d];return e.blkIndent=c,!0}},function(e){"use strict";e.exports=function(e,t,n,i){var r,o,s,a,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(r=e.src.charCodeAt(c++),42!==r&&45!==r&&95!==r)return!1;for(o=1;u>c;){if(s=e.src.charCodeAt(c++),s!==r&&32!==s)return!1;s===r&&o++}return 3>o?!1:i?!0:(e.line=t+1,a=e.push("hr","hr",0),a.map=[t,e.line],a.markup=Array(o+1).join(String.fromCharCode(r)),!0)}},function(e){"use strict";function t(e,t){var n,i,r;return i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],n=e.src.charCodeAt(i++),42!==n&&45!==n&&43!==n?-1:r>i&&32!==e.src.charCodeAt(i)?-1:i}function n(e,t){var n,i=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(i+1>=r)return-1;if(n=e.src.charCodeAt(i++),48>n||n>57)return-1;for(;;){if(i>=r)return-1;if(n=e.src.charCodeAt(i++),!(n>=48&&57>=n)){if(41===n||46===n)break;return-1}}return r>i&&32!==e.src.charCodeAt(i)?-1:i}function i(e,t){var n,i,r=e.level+2;for(n=t+2,i=e.tokens.length-2;i>n;n++)e.tokens[n].level===r&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}e.exports=function(e,r,o,s){var a,c,u,l,h,f,d,p,m,g,v,b,y,w,x,_,k,S,A,C,j,E,I,T=!0;if((p=n(e,r))>=0)y=!0;else{if(!((p=t(e,r))>=0))return!1;y=!1}if(b=e.src.charCodeAt(p-1),s)return!0;for(x=e.tokens.length,y?(d=e.bMarks[r]+e.tShift[r],v=Number(e.src.substr(d,p-d-1)),C=e.push("ordered_list_open","ol",1),v>1&&(C.attrs=[["start",v]])):C=e.push("bullet_list_open","ul",1),C.map=k=[r,0],C.markup=String.fromCharCode(b),a=r,_=!1,A=e.md.block.ruler.getRules("list");!(!(o>a)||(w=e.skipSpaces(p),m=e.eMarks[a],g=w>=m?1:w-p,g>4&&(g=1),c=p-e.bMarks[a]+g,C=e.push("list_item_open","li",1),C.markup=String.fromCharCode(b),C.map=S=[r,0],l=e.blkIndent,h=e.tight,u=e.tShift[r],f=e.parentType,e.tShift[r]=w-e.bMarks[r],e.blkIndent=c,e.tight=!0,e.parentType="list",e.md.block.tokenize(e,r,o,!0),(!e.tight||_)&&(T=!1),_=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=l,e.tShift[r]=u,e.tight=h,e.parentType=f,C=e.push("list_item_close","li",-1),C.markup=String.fromCharCode(b),a=r=e.line,S[1]=a,w=e.bMarks[r],a>=o)||e.isEmpty(a)||e.tShift[a]<e.blkIndent);){for(I=!1,j=0,E=A.length;E>j;j++)if(A[j](e,a,o,!0)){I=!0;break}if(I)break;if(y){if(p=n(e,a),0>p)break}else if(p=t(e,a),0>p)break;if(b!==e.src.charCodeAt(p-1))break}return C=y?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),C.markup=String.fromCharCode(b),k[1]=a,e.line=a,T&&i(e,x),!0}},function(e,t,n){"use strict";var i=n(581),r=n(582),o=n(472).normalizeReference;e.exports=function(e,t,n,s){var a,c,u,l,h,f,d,p,m,g,v,b,y,w,x,_=0,k=e.bMarks[t]+e.tShift[t],S=e.eMarks[t],A=t+1;if(91!==e.src.charCodeAt(k))return!1;for(;++k<S;)if(93===e.src.charCodeAt(k)&&92!==e.src.charCodeAt(k-1)){if(k+1===S)return!1;if(58!==e.src.charCodeAt(k+1))return!1;break}for(l=e.lineMax,w=e.md.block.ruler.getRules("reference");l>A&&!e.isEmpty(A);A++)if(!(e.tShift[A]-e.blkIndent>3)){for(y=!1,f=0,d=w.length;d>f;f++)if(w[f](e,A,l,!0)){y=!0;break}if(y)break}for(b=e.getLines(t,A,e.blkIndent,!1).trim(),S=b.length,k=1;S>k;k++){if(a=b.charCodeAt(k),91===a)return!1;if(93===a){m=k;break}10===a?_++:92===a&&(k++,S>k&&10===b.charCodeAt(k)&&_++)}if(0>m||58!==b.charCodeAt(m+1))return!1;for(k=m+2;S>k;k++)if(a=b.charCodeAt(k),10===a)_++;else if(32!==a)break;if(g=i(b,k,S),!g.ok)return!1;if(h=e.md.normalizeLink(g.str),!e.md.validateLink(h))return!1;for(k=g.pos,_+=g.lines,c=k,u=_,v=k;S>k;k++)if(a=b.charCodeAt(k),10===a)_++;else if(32!==a)break;for(g=r(b,k,S),S>k&&v!==k&&g.ok?(x=g.str,k=g.pos,_+=g.lines):(x="",k=c,_=u);S>k&&32===b.charCodeAt(k);)k++;return S>k&&10!==b.charCodeAt(k)?!1:s?!0:(p=o(b.slice(1,m)),"undefined"==typeof e.env.references&&(e.env.references={}),"undefined"==typeof e.env.references[p]&&(e.env.references[p]={title:x,href:h}),e.line=t+_+1,!0)}},function(e){"use strict";e.exports=function(e,t,n,i){var r,o,s,a,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(r=e.src.charCodeAt(c),35!==r||c>=u)return!1;for(o=1,r=e.src.charCodeAt(++c);35===r&&u>c&&6>=o;)o++,r=e.src.charCodeAt(++c);return o>6||u>c&&32!==r?!1:i?!0:(u=e.skipCharsBack(u,32,c),s=e.skipCharsBack(u,35,c),s>c&&32===e.src.charCodeAt(s-1)&&(u=s),e.line=t+1,a=e.push("heading_open","h"+String(o),1),a.markup="########".slice(0,o),a.map=[t,e.line],a=e.push("inline","",0),a.content=e.src.slice(c,u).trim(),a.map=[t,e.line],a.children=[],a=e.push("heading_close","h"+String(o),-1),a.markup="########".slice(0,o),!0)}},function(e){"use strict";e.exports=function(e,t,n){var i,r,o,s,a,c=t+1;return c>=n?!1:e.tShift[c]<e.blkIndent?!1:e.tShift[c]-e.blkIndent>3?!1:(r=e.bMarks[c]+e.tShift[c],o=e.eMarks[c],r>=o?!1:(i=e.src.charCodeAt(r),45!==i&&61!==i?!1:(r=e.skipChars(r,i),r=e.skipSpaces(r),o>r?!1:(r=e.bMarks[t]+e.tShift[t],e.line=c+1,a=61===i?1:2,s=e.push("heading_open","h"+String(a),1),s.markup=String.fromCharCode(i),s.map=[t,e.line],s=e.push("inline","",0),s.content=e.src.slice(r,e.eMarks[t]).trim(),s.map=[t,e.line-1],s.children=[],s=e.push("heading_close","h"+String(a),-1),s.markup=String.fromCharCode(i),!0))))}},function(e,t,n){"use strict";function i(e){var t=32|e;return t>=97&&122>=t}var r=n(614),o=/^<([a-zA-Z]{1,15})[\s\/>]/,s=/^<\/([a-zA-Z]{1,15})[\s>]/;e.exports=function(e,t,n,a){var c,u,l,h,f=e.bMarks[t],d=e.eMarks[t],p=e.tShift[t];if(f+=p,!e.md.options.html)return!1;if(p>3||f+2>=d)return!1;if(60!==e.src.charCodeAt(f))return!1;if(c=e.src.charCodeAt(f+1),33===c||63===c){if(a)return!0}else{if(47!==c&&!i(c))return!1;if(47===c){if(u=e.src.slice(f,d).match(s),!u)return!1}else if(u=e.src.slice(f,d).match(o),!u)return!1;if(r[u[1].toLowerCase()]!==!0)return!1;if(a)return!0}for(l=t+1;l<e.lineMax&&!e.isEmpty(l);)l++;return e.line=l,h=e.push("html_block","",0),h.map=[t,e.line],h.content=e.getLines(t,l,0,!0),!0}},function(e){"use strict";function t(e,t){var n=e.bMarks[t]+e.blkIndent,i=e.eMarks[t];return e.src.substr(n,i-n)}function n(e){var t,n=[],i=0,r=e.length,o=0,s=0;for(t=e.charCodeAt(i);r>i;)124===t&&o%2===0?(n.push(e.substring(s,i)),s=i+1):92===t?o++:o=0,t=e.charCodeAt(++i);return n.push(e.substring(s)),n}e.exports=function(e,i,r,o){var s,a,c,u,l,h,f,d,p,m,g;if(i+2>r)return!1;if(l=i+1,e.tShift[l]<e.blkIndent)return!1;if(c=e.bMarks[l]+e.tShift[l],c>=e.eMarks[l])return!1;if(s=e.src.charCodeAt(c),124!==s&&45!==s&&58!==s)return!1;if(a=t(e,i+1),!/^[-:| ]+$/.test(a))return!1;if(h=a.split("|"),h.length<2)return!1;for(d=[],u=0;u<h.length;u++){if(p=h[u].trim(),!p){if(0===u||u===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;d.push(58===p.charCodeAt(p.length-1)?58===p.charCodeAt(0)?"center":"right":58===p.charCodeAt(0)?"left":"")}if(a=t(e,i).trim(),-1===a.indexOf("|"))return!1;if(h=n(a.replace(/^\||\|$/g,"")),d.length!==h.length)return!1;if(o)return!0;for(f=e.push("table_open","table",1),f.map=m=[i,0],f=e.push("thead_open","thead",1),f.map=[i,i+1],f=e.push("tr_open","tr",1),f.map=[i,i+1],u=0;u<h.length;u++)f=e.push("th_open","th",1),f.map=[i,i+1],d[u]&&(f.attrs=[["style","text-align:"+d[u]]]),f=e.push("inline","",0),f.content=h[u].trim(),f.map=[i,i+1],f.children=[],f=e.push("th_close","th",-1);for(f=e.push("tr_close","tr",-1),f=e.push("thead_close","thead",-1),f=e.push("tbody_open","tbody",1),f.map=g=[i+2,0],l=i+2;r>l&&!(e.tShift[l]<e.blkIndent)&&(a=t(e,l).trim(),-1!==a.indexOf("|"));l++){for(h=n(a.replace(/^\||\|$/g,"")),
h.length=d.length,f=e.push("tr_open","tr",1),u=0;u<h.length;u++)f=e.push("td_open","td",1),d[u]&&(f.attrs=[["style","text-align:"+d[u]]]),f=e.push("inline","",0),f.content=h[u]?h[u].trim():"",f.children=[],f=e.push("td_close","td",-1);f=e.push("tr_close","tr",-1)}return f=e.push("tbody_close","tbody",-1),f=e.push("table_close","table",-1),m[1]=g[1]=l,e.line=l,!0}},function(e){"use strict";e.exports=function(e,t){for(var n,i,r,o,s,a=t+1,c=e.md.block.ruler.getRules("paragraph"),u=e.lineMax;u>a&&!e.isEmpty(a);a++)if(!(e.tShift[a]-e.blkIndent>3)){for(i=!1,r=0,o=c.length;o>r;r++)if(c[r](e,a,u,!0)){i=!0;break}if(i)break}return n=e.getLines(t,a,e.blkIndent,!1).trim(),e.line=a,s=e.push("paragraph_open","p",1),s.map=[t,e.line],s=e.push("inline","",0),s.content=n,s.map=[t,e.line],s.children=[],s=e.push("paragraph_close","p",-1),!0}},function(e,t,n){"use strict";function i(e,t,n,i){var r,o,s,a,c,u,l;for(this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",o=this.src,u=0,l=!1,s=a=u=0,c=o.length;c>a;a++){if(r=o.charCodeAt(a),!l){if(32===r){u++;continue}l=!0}(10===r||a===c-1)&&(10!==r&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(u),l=!1,u=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}var r=n(613);i.prototype.push=function(e,t,n){var i=new r(e,t,n);return i.block=!0,0>n&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;t>e&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t=this.src.length;t>e&&32===this.src.charCodeAt(e);e++);return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;n>e&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(n>=e)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,i){var r,o,s,a,c,u=e;if(e>=t)return"";if(u+1===t)return o=this.bMarks[u]+Math.min(this.tShift[u],n),s=i?this.bMarks[t]:this.eMarks[t-1],this.src.slice(o,s);for(a=new Array(t-e),r=0;t>u;u++,r++)c=this.tShift[u],c>n&&(c=n),0>c&&(c=0),o=this.bMarks[u]+c,s=t>u+1||i?this.eMarks[u]+1:this.eMarks[u],a[r]=this.src.slice(o,s);return a.join("")},i.prototype.Token=r,e.exports=i},function(e){"use strict";function t(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,n){for(var i=e.pos;i<e.posMax&&!t(e.src.charCodeAt(i));)i++;return i===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,i)),e.pos=i,!0)}},function(e){"use strict";e.exports=function(e,t){var n,i,r=e.pos;if(10!==e.src.charCodeAt(r))return!1;for(n=e.pending.length-1,i=e.posMax,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?(e.pending=e.pending.replace(/ +$/,""),e.push("hardbreak","br",0)):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),r++;i>r&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}},function(e){"use strict";for(var t=[],n=0;256>n;n++)t.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){t[e.charCodeAt(0)]=1}),e.exports=function(e,n){var i,r=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(r++,o>r){if(i=e.src.charCodeAt(r),256>i&&0!==t[i])return n||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===i){for(n||e.push("hardbreak","br",0),r++;o>r&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}}return n||(e.pending+="\\"),e.pos++,!0}},function(e){"use strict";e.exports=function(e,t){var n,i,r,o,s,a,c=e.pos,u=e.src.charCodeAt(c);if(96!==u)return!1;for(n=c,c++,i=e.posMax;i>c&&96===e.src.charCodeAt(c);)c++;for(r=e.src.slice(n,c),o=s=c;-1!==(o=e.src.indexOf("`",s));){for(s=o+1;i>s&&96===e.src.charCodeAt(s);)s++;if(s-o===r.length)return t||(a=e.push("code_inline","code",0),a.markup=r,a.content=e.src.slice(c,o).replace(/[ \n]+/g," ").trim()),e.pos=s,!0}return t||(e.pending+=r),e.pos+=r.length,!0}},function(e,t,n){"use strict";function i(e,t){var n,i,a,c,u,l,h,f=t,d=!0,p=!0,m=e.posMax,g=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):32;m>f&&e.src.charCodeAt(f)===g;)f++;return f>=m&&(d=!1),a=f-t,i=m>f?e.src.charCodeAt(f):32,u=s(n)||o(String.fromCharCode(n)),h=s(i)||o(String.fromCharCode(i)),c=r(n),l=r(i),l?d=!1:h&&(c||u||(d=!1)),c?p=!1:u&&(l||h||(p=!1)),{can_open:d,can_close:p,delims:a}}var r=n(472).isWhiteSpace,o=n(472).isPunctChar,s=n(472).isMdAsciiPunct;e.exports=function(e,t){var n,r,o,s,a,c,u,l=e.posMax,h=e.pos,f=e.src.charCodeAt(h);if(126!==f)return!1;if(t)return!1;if(c=i(e,h),n=c.delims,!c.can_open)return e.pos+=n,e.pending+=e.src.slice(h,e.pos),!0;if(a=Math.floor(n/2),0>=a)return!1;for(e.pos=h+n;e.pos<l;)if(e.src.charCodeAt(e.pos)!==f)e.md.inline.skipToken(e);else{if(c=i(e,e.pos),r=c.delims,o=Math.floor(r/2),c.can_close){if(o>=a){e.pos+=r-2,s=!0;break}a-=o,e.pos+=r;continue}c.can_open&&(a+=o),e.pos+=r}return s?(e.posMax=e.pos,e.pos=h+2,u=e.push("s_open","s",1),u.markup="~~",e.md.inline.tokenize(e),u=e.push("s_close","s",-1),u.markup="~~",e.pos=e.posMax+2,e.posMax=l,!0):(e.pos=h,!1)}},function(e,t,n){"use strict";function i(e,t){var n,i,a,c,u,l,h,f=t,d=!0,p=!0,m=e.posMax,g=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):32;m>f&&e.src.charCodeAt(f)===g;)f++;return f>=m&&(d=!1),a=f-t,i=m>f?e.src.charCodeAt(f):32,u=s(n)||o(String.fromCharCode(n)),h=s(i)||o(String.fromCharCode(i)),c=r(n),l=r(i),l?d=!1:h&&(c||u||(d=!1)),c?p=!1:u&&(l||h||(p=!1)),95===g&&d&&p&&(d=!1,p=h),{can_open:d,can_close:p,delims:a}}var r=n(472).isWhiteSpace,o=n(472).isPunctChar,s=n(472).isMdAsciiPunct;e.exports=function(e,t){var n,r,o,s,a,c,u,l,h=e.posMax,f=e.pos,d=e.src.charCodeAt(f);if(95!==d&&42!==d)return!1;if(t)return!1;if(u=i(e,f),n=u.delims,!u.can_open)return e.pos+=n,e.pending+=e.src.slice(f,e.pos),!0;for(e.pos=f+n,c=[n];e.pos<h;)if(e.src.charCodeAt(e.pos)!==d)e.md.inline.skipToken(e);else{if(u=i(e,e.pos),r=u.delims,u.can_close){for(s=c.pop(),a=r;s!==a;){if(s>a){c.push(s-a);break}if(a-=s,0===c.length)break;e.pos+=s,s=c.pop()}if(0===c.length){n=s,o=!0;break}e.pos+=r;continue}u.can_open&&c.push(r),e.pos+=r}if(!o)return e.pos=f,!1;for(e.posMax=e.pos,e.pos=f+n,r=n;r>1;r-=2)l=e.push("strong_open","strong",1),l.markup=String.fromCharCode(d)+String.fromCharCode(d);for(r%2&&(l=e.push("em_open","em",1),l.markup=String.fromCharCode(d)),e.md.inline.tokenize(e),r%2&&(l=e.push("em_close","em",-1),l.markup=String.fromCharCode(d)+String.fromCharCode(d)),r=n;r>1;r-=2)l=e.push("strong_close","strong",-1),l.markup=String.fromCharCode(d);return e.pos=e.posMax+n,e.posMax=h,!0}},function(e,t,n){"use strict";var i=n(580),r=n(581),o=n(582),s=n(472).normalizeReference;e.exports=function(e,t){var n,a,c,u,l,h,f,d,p,m,g="",v=e.pos,b=e.posMax,y=e.pos;if(91!==e.src.charCodeAt(e.pos))return!1;if(l=e.pos+1,u=i(e,e.pos,!0),0>u)return!1;if(h=u+1,b>h&&40===e.src.charCodeAt(h)){for(h++;b>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);if(h>=b)return!1;for(y=h,f=r(e.src,h,e.posMax),f.ok&&(g=e.md.normalizeLink(f.str),e.md.validateLink(g)?h=f.pos:g=""),y=h;b>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);if(f=o(e.src,h,e.posMax),b>h&&y!==h&&f.ok)for(p=f.str,h=f.pos;b>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);else p="";if(h>=b||41!==e.src.charCodeAt(h))return e.pos=v,!1;h++}else{if("undefined"==typeof e.env.references)return!1;for(;b>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);if(b>h&&91===e.src.charCodeAt(h)?(y=h+1,h=i(e,h),h>=0?c=e.src.slice(y,h++):h=u+1):h=u+1,c||(c=e.src.slice(l,u)),d=e.env.references[s(c)],!d)return e.pos=v,!1;g=d.href,p=d.title}return t||(e.pos=l,e.posMax=u,m=e.push("link_open","a",1),m.attrs=n=[["href",g]],p&&n.push(["title",p]),e.md.inline.tokenize(e),m=e.push("link_close","a",-1)),e.pos=h,e.posMax=b,!0}},function(e,t,n){"use strict";var i=n(580),r=n(581),o=n(582),s=n(472).normalizeReference;e.exports=function(e,t){var n,a,c,u,l,h,f,d,p,m,g,v,b="",y=e.pos,w=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(l=e.pos+2,u=i(e,e.pos+1,!1),0>u)return!1;if(h=u+1,w>h&&40===e.src.charCodeAt(h)){for(h++;w>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);if(h>=w)return!1;for(v=h,d=r(e.src,h,e.posMax),d.ok&&(b=e.md.normalizeLink(d.str),e.md.validateLink(b)?h=d.pos:b=""),v=h;w>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);if(d=o(e.src,h,e.posMax),w>h&&v!==h&&d.ok)for(p=d.str,h=d.pos;w>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);else p="";if(h>=w||41!==e.src.charCodeAt(h))return e.pos=y,!1;h++}else{if("undefined"==typeof e.env.references)return!1;for(;w>h&&(a=e.src.charCodeAt(h),32===a||10===a);h++);if(w>h&&91===e.src.charCodeAt(h)?(v=h+1,h=i(e,h),h>=0?c=e.src.slice(v,h++):h=u+1):h=u+1,c||(c=e.src.slice(l,u)),f=e.env.references[s(c)],!f)return e.pos=y,!1;b=f.href,p=f.title}if(!t){e.pos=l,e.posMax=u;var x=new e.md.inline.State(e.src.slice(l,u),e.md,e.env,g=[]);x.md.inline.tokenize(x),m=e.push("image","img",0),m.attrs=n=[["src",b],["alt",""]],m.children=g,p&&n.push(["title",p])}return e.pos=h,e.posMax=w,!0}},function(e,t,n){"use strict";var i=n(615),r=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,o=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var n,s,a,c,u,l,h=e.pos;return 60!==e.src.charCodeAt(h)?!1:(n=e.src.slice(h),n.indexOf(">")<0?!1:o.test(n)?(s=n.match(o),i.indexOf(s[1].toLowerCase())<0?!1:(c=s[0].slice(1,-1),u=e.md.normalizeLink(c),e.md.validateLink(u)?(t||(l=e.push("link_open","a",1),l.attrs=[["href",u]],l=e.push("text","",0),l.content=e.md.normalizeLinkText(c),l=e.push("link_close","a",-1)),e.pos+=s[0].length,!0):!1)):r.test(n)?(a=n.match(r),c=a[0].slice(1,-1),u=e.md.normalizeLink("mailto:"+c),e.md.validateLink(u)?(t||(l=e.push("link_open","a",1),l.attrs=[["href",u]],l.markup="autolink",l.info="auto",l=e.push("text","",0),l.content=e.md.normalizeLinkText(c),l=e.push("link_close","a",-1),l.markup="autolink",l.info="auto"),e.pos+=a[0].length,!0):!1):!1)}},function(e,t,n){"use strict";function i(e){var t=32|e;return t>=97&&122>=t}var r=n(616).HTML_TAG_RE;e.exports=function(e,t){var n,o,s,a,c=e.pos;return e.md.options.html?(s=e.posMax,60!==e.src.charCodeAt(c)||c+2>=s?!1:(n=e.src.charCodeAt(c+1),(33===n||63===n||47===n||i(n))&&(o=e.src.slice(c).match(r))?(t||(a=e.push("html_inline","",0),a.content=e.src.slice(c,c+o[0].length)),e.pos+=o[0].length,!0):!1)):!1}},function(e,t,n){"use strict";var i=n(525),r=n(472).has,o=n(472).isValidEntityCode,s=n(472).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,c=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,u,l,h=e.pos,f=e.posMax;if(38!==e.src.charCodeAt(h))return!1;if(f>h+1)if(n=e.src.charCodeAt(h+1),35===n){if(l=e.src.slice(h).match(a))return t||(u="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),e.pending+=s(o(u)?u:65533)),e.pos+=l[0].length,!0}else if(l=e.src.slice(h).match(c),l&&r(i,l[1]))return t||(e.pending+=i[l[1]]),e.pos+=l[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},function(e,t,n){"use strict";function i(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={}}var r=n(613);i.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},i.prototype.push=function(e,t,n){this.pending&&this.pushPending();var i=new r(e,t,n);return 0>n&&this.level--,i.level=this.level,n>0&&this.level++,this.pendingLevel=this.level,this.tokens.push(i),i},i.prototype.Token=r,e.exports=i},[761,618,619,620,621,622],465,[744,672,673,674,675,676],464,410,317,416,[745,677],function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},465,410,317,416,[745,678],566,566,[744,679,680,681,683,682],464,function(e){var t=Object.prototype.toString;e.exports=function(e){return e===!0||e===!1||"[object Boolean]"===t.call(e)}},[744,684,685,686,687,688],212,191,function(e){"use strict";e.exports=function(e,t,n){var i,r,o,s,a=-1,c=e.posMax,u=e.pos;for(e.pos=t+1,i=1;e.pos<c;){if(o=e.src.charCodeAt(e.pos),93===o&&(i--,0===i)){r=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)i++;else if(n)return e.pos=u,-1}return r&&(a=e.pos),e.pos=u,a}},function(e,t,n){"use strict";var i=n(472).unescapeAll;e.exports=function(e,t,n){var r,o,s=0,a=t,c={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;n>t;){if(r=e.charCodeAt(t),10===r)return c;if(62===r)return c.pos=t+1,c.str=i(e.slice(a+1,t)),c.ok=!0,c;92===r&&n>t+1?t+=2:t++}return c}for(o=0;n>t&&(r=e.charCodeAt(t),32!==r)&&!(32>r||127===r);)if(92===r&&n>t+1)t+=2;else{if(40===r&&(o++,o>1))break;if(41===r&&(o--,0>o))break;t++}return a===t?c:(c.str=i(e.slice(a,t)),c.lines=s,c.pos=t,c.ok=!0,c)}},function(e,t,n){"use strict";var i=n(472).unescapeAll;e.exports=function(e,t,n){var r,o,s=0,a=t,c={ok:!1,pos:0,lines:0,str:""};if(t>=n)return c;if(o=e.charCodeAt(t),34!==o&&39!==o&&40!==o)return c;for(t++,40===o&&(o=41);n>t;){if(r=e.charCodeAt(t),r===o)return c.pos=t+1,c.lines=s,c.str=i(e.slice(a+1,t)),c.ok=!0,c;10===r?s++:92===r&&n>t+1&&(t++,10===e.charCodeAt(t)&&s++),t++}return c}},function(e,t,n){function i(e,t,n,i,o){var a=t.length;if(null==e)return!a;for(var c=-1,u=!o;++c<a;)if(u&&i[c]?n[c]!==e[t[c]]:!s.call(e,t[c]))return!1;for(c=-1;++c<a;){var l=t[c];if(u&&i[c])var h=s.call(e,l);else{var f=e[l],d=n[c];h=o?o(f,d,l):void 0,"undefined"==typeof h&&(h=r(d,f,o,!0))}if(!h)return!1}return!0}var r=n(585),o=Object.prototype,s=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){return e===e&&(0===e?1/e>0:!r(e))}var r=n(70);e.exports=i},function(e,t,n){function i(e,t,n,o,s,a){if(e===t)return 0!==e||1/e==1/t;var c=typeof e,u=typeof t;return"function"!=c&&"object"!=c&&"function"!=u&&"object"!=u||null==e||null==t?e!==e&&t!==t:r(e,t,i,n,o,s,a)}var r=n(634);e.exports=i},function(e,t,n){var i=n(184),r=n(635),o=r?function(e,t){return r.set(e,t),e}:i;e.exports=o},function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./dom-element":588,"./dom-element.js":588,"./element":589,"./element.js":589,"./index":509,"./index-browserify":446,"./index-browserify.js":446,"./index.js":509,"./parse":507,"./parse.js":507};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=587},function(e,t,n){"use strict";function i(e,t){o.call(this,e,t),this.nodeType=1,this.nodeName=this.localName}var r=n(67),o=n(589).Element;r.inherits(i,o),i.prototype._getElement=function(e,t){var n=new i(e,t);return n},Object.defineProperty(i.prototype,"localName",{get:function(){return this.getName()}}),Object.defineProperty(i.prototype,"namespaceURI",{get:function(){return this.getNS()}}),Object.defineProperty(i.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(i.prototype,"childNodes",{get:function(){return this.children}}),Object.defineProperty(i.prototype,"textContent",{get:function(){return this.getText()},set:function(e){this.children.push(e)}}),i.prototype.getElementsByTagName=function(e){return this.getChildren(e)},i.prototype.getAttribute=function(e){return this.getAttr(e)},i.prototype.setAttribute=function(e,t){this.attr(e,t)},i.prototype.getAttributeNS=function(e,t){return"http://www.w3.org/XML/1998/namespace"===e?this.getAttr(["xml",t].join(":")):this.getAttr(t,e)},i.prototype.setAttributeNS=function(e,t,n){var i;if("http://www.w3.org/XML/1998/namespace"===e)i="xml";else{var r=this.getXmlns();i=r[e]||""}i&&this.attr([i,t].join(":"),n)},i.prototype.removeAttribute=function(e){this.attr(e,null)},i.prototype.removeAttributeNS=function(e,t){var n;if("http://www.w3.org/XML/1998/namespace"===e)n="xml";else{var i=this.getXmlns();n=i[e]||""}n&&this.attr([n,t].join(":"),null)},i.prototype.appendChild=function(e){this.cnode(e)},i.prototype.removeChild=function(e){this.remove(e)},e.exports=i},function(e,t){"use strict";function n(e,t){this.name=e,this.parent=null,this.children=[],this.setAttrs(t)}function i(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/"/g,"&apos;")}function r(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}n.prototype.is=function(e,t){return this.getName()===e&&(!t||this.getNS()===t)},n.prototype.getName=function(){return this.name.indexOf(":")>=0?this.name.substr(this.name.indexOf(":")+1):this.name},n.prototype.getNS=function(){if(this.name.indexOf(":")>=0){var e=this.name.substr(0,this.name.indexOf(":"));return this.findNS(e)}return this.findNS()},n.prototype.findNS=function(e){if(e){var t="xmlns:"+e;if(this.attrs[t])return this.attrs[t];if(this.parent)return this.parent.findNS(e)}else{if(this.attrs.xmlns)return this.attrs.xmlns;if(this.parent)return this.parent.findNS()}},n.prototype.getXmlns=function(){var e={};this.parent&&(e=this.parent.getXmlns());for(var t in this.attrs){var n=t.match("xmlns:?(.*)");this.attrs.hasOwnProperty(t)&&n&&(e[this.attrs[t]]=n[1])}return e},n.prototype.setAttrs=function(e){this.attrs={},"string"==typeof e?this.attrs.xmlns=e:e&&Object.keys(e).forEach(function(t){this.attrs[t]=e[t]},this)},n.prototype.getAttr=function(e,t){if(!t)return this.attrs[e];var n=this.getXmlns();return n[t]?this.attrs[[n[t],e].join(":")]:null},n.prototype.getChild=function(e,t){return this.getChildren(e,t)[0]},n.prototype.getChildren=function(e,t){for(var n=[],i=0;i<this.children.length;i++){var r=this.children[i];!r.getName||r.getName()!==e||t&&r.getNS()!==t||n.push(r)}return n},n.prototype.getChildByAttr=function(e,t,n,i){return this.getChildrenByAttr(e,t,n,i)[0]},n.prototype.getChildrenByAttr=function(e,t,n,i){for(var r=[],o=0;o<this.children.length;o++){var s=this.children[o];!s.attrs||s.attrs[e]!==t||n&&s.getNS()!==n||r.push(s),i&&s.getChildrenByAttr&&r.push(s.getChildrenByAttr(e,t,n,!0))}return i&&(r=[].concat.apply([],r)),r},n.prototype.getChildrenByFilter=function(e,t){for(var n=[],i=0;i<this.children.length;i++){var r=this.children[i];e(r)&&n.push(r),t&&r.getChildrenByFilter&&n.push(r.getChildrenByFilter(e,!0))}return t&&(n=[].concat.apply([],n)),n},n.prototype.getText=function(){for(var e="",t=0;t<this.children.length;t++){var n=this.children[t];("string"==typeof n||"number"==typeof n)&&(e+=n)}return e},n.prototype.getChildText=function(e,t){var n=this.getChild(e,t);return n?n.getText():null},n.prototype.getChildElements=function(){return this.getChildrenByFilter(function(e){return e instanceof n})},n.prototype.root=function(){return this.parent?this.parent.root():this},n.prototype.tree=n.prototype.root,n.prototype.up=function(){return this.parent?this.parent:this},n.prototype._getElement=function(e,t){var i=new n(e,t);return i},n.prototype.c=function(e,t){return this.cnode(this._getElement(e,t))},n.prototype.cnode=function(e){return this.children.push(e),"object"==typeof e&&(e.parent=this),e},n.prototype.t=function(e){return this.children.push(e),this},n.prototype.remove=function(e,t){var n;return n="string"==typeof e?function(n){return!(n.is&&n.is(e,t))}:function(t){return t!==e},this.children=this.children.filter(n),this},n.prototype.clone=function(){for(var e=this._getElement(this.name,this.attrs),t=0;t<this.children.length;t++){var n=this.children[t];e.cnode(n.clone?n.clone():n)}return e},n.prototype.text=function(e){return e&&1===this.children.length?(this.children[0]=e,this):this.getText()},n.prototype.attr=function(e,t){return"undefined"!=typeof t||null===t?(this.attrs||(this.attrs={}),this.attrs[e]=t,this):this.attrs[e]},n.prototype.toString=function(){var e="";return this.write(function(t){e+=t}),e},n.prototype.toJSON=function(){return{name:this.name,attrs:this.attrs,children:this.children.map(function(e){return e&&e.toJSON?e.toJSON():e})}},n.prototype._addChildren=function(e){e(">");for(var t=0;t<this.children.length;t++){var n=this.children[t];(n||0===n)&&(n.write?n.write(e):"string"==typeof n?e(r(n)):n.toString&&e(r(n.toString(10))))}e("</"),e(this.name),e(">")},n.prototype.write=function(e){e("<"),e(this.name);for(var t in this.attrs){var n=this.attrs[t];(n||""===n||0===n)&&(e(" "),e(t),e('="'),"string"!=typeof n&&(n=n.toString(10)),e(i(n)),e('"'))}0===this.children.length?e("/>"):this._addChildren(e)},t.Element=n,t.escapeXml=i},[760,644],257,function(e,t,n){(function(t){function n(e){for(var t=[],n=0,i=0;n<e.length;n++,i+=8)t[i>>>5]|=e[n]<<24-i%32;return t}function i(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t}function r(e,t,n){for(var i=0;16>i;i++){var r=n+i,h=t[r];t[r]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var b,y,w,x,_,k,S,A,C,j;k=b=e[0],S=y=e[1],A=w=e[2],C=x=e[3],j=_=e[4];for(var E,i=0;80>i;i+=1)E=b+t[n+f[i]]|0,E+=16>i?o(y,w,x)+g[0]:32>i?s(y,w,x)+g[1]:48>i?a(y,w,x)+g[2]:64>i?c(y,w,x)+g[3]:u(y,w,x)+g[4],E=0|E,E=l(E,p[i]),E=E+_|0,b=_,_=x,x=l(w,10),w=y,y=E,E=k+t[n+d[i]]|0,E+=16>i?u(S,A,C)+v[0]:32>i?c(S,A,C)+v[1]:48>i?a(S,A,C)+v[2]:64>i?s(S,A,C)+v[3]:o(S,A,C)+v[4],E=0|E,E=l(E,m[i]),E=E+j|0,k=j,j=C,C=l(A,10),A=S,S=E;E=e[1]+w+C|0,e[1]=e[2]+x+j|0,e[2]=e[3]+_+k|0,e[3]=e[4]+b+S|0,e[4]=e[0]+y+A|0,e[0]=E}function o(e,t,n){return e^t^n}function s(e,t,n){return e&t|~e&n}function a(e,t,n){return(e|~t)^n}function c(e,t,n){return e&n|t&~n}function u(e,t,n){return e^(t|~n)}function l(e,t){return e<<t|e>>>32-t}function h(e){var o=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof e&&(e=new t(e,"utf8"));var s=n(e),a=8*e.length,c=8*e.length;s[a>>>5]|=128<<24-a%32,s[(a+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8);for(var u=0;u<s.length;u+=16)r(o,s,u);for(var u=0;5>u;u++){var l=o[u];o[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var h=i(o);return new t(h)}/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],v=[1352829926,1548603684,1836072691,2053994217,0];e.exports=h}).call(t,n(385).Buffer)},function(e,t,n){(function(e){"use strict";function n(t,n){if(t.length%o!==0){var i=t.length+(o-t.length%o);t=e.concat([t,s],i)}for(var r=[],a=n?t.readInt32BE:t.readInt32LE,c=0;c<t.length;c+=o)r.push(a.call(t,c));return r}function i(t,n,i){for(var r=new e(n),o=i?r.writeInt32BE:r.writeInt32LE,s=0;s<t.length;s++)o.call(r,t[s],4*s,!0);return r}function r(t,r,o,s){e.isBuffer(t)||(t=new e(t));var c=r(n(t,s),t.length*a);return i(c,o,s)}var o=4,s=new e(o);s.fill(0);var a=8;t.hash=r}).call(t,n(385).Buffer)},function(e){function t(e){var t=n.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=t;var n=Object.prototype.toString},function(e,t,n){e.exports.Any=n(654),e.exports.Cc=n(645),e.exports.Cf=n(646),e.exports.P=n(596),e.exports.Z=n(647)},function(e){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDE38-\uDE3D]|\uD805[\uDCC6\uDDC1-\uDDC9\uDE41-\uDE43]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F/},306,[760,657],function(e,t,n){"use strict";var i=t.src_Any=n(654).source,r=t.src_Cc=n(645).source,o=t.src_Cf=n(646).source,s=t.src_Z=n(647).source,a=t.src_P=n(596).source,c=t.src_ZPCcCf=[s,a,r,o].join("|"),u=t.src_ZCcCf=[s,r,o].join("|"),l="(?:(?!"+c+")"+i+")",h="(?:(?![0-9]|"+c+")"+i+")",f=t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)";t.src_auth="(?:(?:(?!"+u+").)+@)?";var d=t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",p=t.src_host_terminator="(?=$|"+c+")(?!-|_|:\\d|\\.-|\\.(?!$|"+c+"))",m=t.src_path="(?:[/?#](?:(?!"+u+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+u+"|\\]).)*\\]|\\((?:(?!"+u+"|[)]).)*\\)|\\{(?:(?!"+u+'|[}]).)*\\}|\\"(?:(?!'+u+'|["]).)+\\"|\\\'(?:(?!'+u+"|[']).)+\\'|\\'(?="+l+").|\\.{2,3}[a-zA-Z0-9%]|\\.(?!"+u+"|[.]).|\\-(?!"+u+"|--(?:[^-]|$))(?:[-]+|.)|\\,(?!"+u+").|\\!(?!"+u+"|[!]).|\\?(?!"+u+"|[?]).)+|\\/)?",g=t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',v=t.src_xn="xn--[a-z0-9\\-]{1,59}",b=t.src_domain_root="(?:"+v+"|"+h+"{1,63})",y=t.src_domain="(?:"+v+"|(?:"+l+")|(?:"+l+"(?:-(?!-)|"+l+"){0,61}"+l+"))",w=t.src_host="(?:"+f+"|(?:(?:(?:"+y+")\\.)*"+b+"))",x=t.tpl_host_fuzzy="(?:"+f+"|(?:(?:(?:"+y+")\\.)+(?:%TLDS%)))";t.src_host_strict=w+p;var _=t.tpl_host_fuzzy_strict=x+p;t.src_host_port_strict=w+d+p;var k=t.tpl_host_port_fuzzy_strict=x+d+p;t.tpl_host_fuzzy_test="localhost|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+c+"|$))",t.tpl_email_fuzzy="(^|>|"+u+")("+g+"@"+_+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+c+"))((?![$+<=>^`|])"+k+m+")"},function(e){"use strict";function t(e){var t,n,r=i[e];if(r)return r;for(r=i[e]=[],t=0;128>t;t++)n=String.fromCharCode(t),r.push(/^[0-9a-z]$/i.test(n)?n:"%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function n(e,i,r){var o,s,a,c,u,l="";for("string"!=typeof i&&(r=i,i=n.defaultChars),"undefined"==typeof r&&(r=!0),u=t(i),o=0,s=e.length;s>o;o++)if(a=e.charCodeAt(o),r&&37===a&&s>o+2&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))l+=e.slice(o,o+3),o+=2;else if(128>a)l+=u[a];else if(a>=55296&&57343>=a){if(a>=55296&&56319>=a&&s>o+1&&(c=e.charCodeAt(o+1),c>=56320&&57343>=c)){l+=encodeURIComponent(e[o]+e[o+1]),o++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[o]);return l}var i={};n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},function(e){"use strict";function t(e){var t,n,r=i[e];if(r)return r;for(r=i[e]=[],t=0;128>t;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function n(e,i){var r;return"string"!=typeof i&&(i=n.defaultChars),r=t(i),e.replace(/(%[a-f0-9]{2})+/gi,function(e){var t,n,i,o,s,a,c,u="";for(t=0,n=e.length;n>t;t+=3)i=parseInt(e.slice(t+1,t+3),16),128>i?u+=r[i]:192===(224&i)&&n>t+3&&(o=parseInt(e.slice(t+4,t+6),16),128===(192&o))?(c=i<<6&1984|63&o,u+=128>c?"":String.fromCharCode(c),t+=3):224===(240&i)&&n>t+6&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),128===(192&o)&&128===(192&s))?(c=i<<12&61440|o<<6&4032|63&s,u+=2048>c||c>=55296&&57343>=c?"":String.fromCharCode(c),t+=6):240===(248&i)&&n>t+9&&(o=parseInt(e.slice(t+4,t+6),16),s=parseInt(e.slice(t+7,t+9),16),a=parseInt(e.slice(t+10,t+12),16),128===(192&o)&&128===(192&s)&&128===(192&a))?(c=i<<18&1835008|o<<12&258048|s<<6&4032|63&a,65536>c||c>1114111?u+="":(c-=65536,u+=String.fromCharCode(55296+(c>>10),56320+(1023&c))),t+=9):u+="";return u})}var i={};n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},function(e){"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",t+=e.hostname&&-1!==e.hostname.indexOf(":")?"["+e.hostname+"]":e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},function(e){"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}function n(e,n){if(e&&e instanceof t)return e;var i=new t;return i.parse(e,n),i}var i=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r","\n","	"],a=["{","}","|","\\","^","`"].concat(s),c=["'"].concat(a),u=["%","/","?",";","#"].concat(c),l=["/","?","#"],h=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var n,r,s,a,c,g=e;if(g=g.trim(),!t&&1===e.split("#").length){var v=o.exec(g);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var b=i.exec(g);if(b&&(b=b[0],s=b.toLowerCase(),this.protocol=b,g=g.substr(b.length)),(t||b||g.match(/^\/\/[^@\/]+@[^@\/]+/))&&(c="//"===g.substr(0,2),!c||b&&p[b]||(g=g.substr(2),this.slashes=!0)),!p[b]&&(c||b&&!m[b])){var y=-1;for(n=0;n<l.length;n++)a=g.indexOf(l[n]),-1!==a&&(-1===y||y>a)&&(y=a);var w,x;for(x=-1===y?g.lastIndexOf("@"):g.lastIndexOf("@",y),-1!==x&&(w=g.slice(0,x),g=g.slice(x+1),this.auth=w),y=-1,n=0;n<u.length;n++)a=g.indexOf(u[n]),-1!==a&&(-1===y||y>a)&&(y=a);-1===y&&(y=g.length),":"===g[y-1]&&y--;var _=g.slice(0,y);g=g.slice(y),this.parseHost(_),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k){var S=this.hostname.split(/\./);for(n=0,r=S.length;r>n;n++){var A=S[n];if(A&&!A.match(f)){for(var C="",j=0,E=A.length;E>j;j++)C+=A.charCodeAt(j)>127?"x":A[j];if(!C.match(f)){var I=S.slice(0,n),T=S.slice(n+1),L=A.match(d);L&&(I.push(L[1]),T.unshift(L[2])),T.length&&(g=T.join(".")+g),this.hostname=I.join(".");break}}}}this.hostname.length>h&&(this.hostname=""),k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var M=g.indexOf("#");-1!==M&&(this.hash=g.substr(M),g=g.slice(0,M));var D=g.indexOf("?");return-1!==D&&(this.search=g.substr(D),g=g.slice(0,D)),g&&(this.pathname=g),m[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=r.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=n},315,[753,698,699],function(e){function t(e,t){if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}var n=Element.prototype,i=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;e.exports=t},function(e){function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=t,t.EventEmitter=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,i,s,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),c=1;s>c;c++)a[c-1]=arguments[c];i.apply(this,a)}else if(r(i)){for(s=arguments.length,a=new Array(s-1),c=1;s>c;c++)a[c-1]=arguments[c];for(u=i.slice(),s=u.length,c=0;s>c;c++)u[c].apply(this,a)}return!0},t.prototype.addListener=function(e,i){var s;if(!n(i))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(i.listener)?i.listener:i),this._events[e]?r(this._events[e])?this._events[e].push(i):this._events[e]=[this._events[e],i]:this._events[e]=i,r(this._events[e])&&!this._events[e].warned){var s;s=o(this._maxListeners)?t.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var r=!1;return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,o,s,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,o=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(a=s;a-->0;)if(i[a]===t||i[a].listener&&i[a].listener===t){o=a;break}if(0>o)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},465,[756,662,663],function(e,t,n){(function(t){var n={delimiter:"&"};n.stringify=function(e,i){if(t.isBuffer(e)?e=e.toString():e instanceof Date?e=e.toISOString():null===e&&(e=""),"string"==typeof e||"number"==typeof e||"boolean"==typeof e)return[encodeURIComponent(i)+"="+encodeURIComponent(e)];var r=[];for(var o in e)e.hasOwnProperty(o)&&(r=r.concat(n.stringify(e[o],i+"["+o+"]")));return r},e.exports=function(e,t){t="undefined"==typeof t?n.delimiter:t;var i=[];for(var r in e)e.hasOwnProperty(r)&&(i=i.concat(n.stringify(e[r],r)));return i.join(t)}}).call(t,n(385).Buffer)},[757,664],463,function(e){"use strict";function t(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}t.prototype.attrIndex=function(e){var t,n,i;if(!this.attrs)return-1;for(t=this.attrs,n=0,i=t.length;i>n;n++)if(t[n][0]===e)return n;return-1},t.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},e.exports=t},function(e){"use strict";var t={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){t[e]=!0}),e.exports=t},function(e){"use strict";e.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"]},function(e){"use strict";var t="[a-zA-Z_:][a-zA-Z0-9:._-]*",n="[^\"'=<>`\\x00-\\x20]+",i="'[^']*'",r='"[^"]*"',o="(?:"+n+"|"+i+"|"+r+")",s="(?:\\s+"+t+"(?:\\s*=\\s*"+o+")?)",a="<[A-Za-z][A-Za-z0-9\\-]*"+s+"*\\s*\\/?>",c="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",u="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",l="<[?].*?[?]>",h="<![A-Z]+\\s+[^>]*>",f="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",d=new RegExp("^(?:"+a+"|"+c+"|"+u+"|"+l+"|"+h+"|"+f+")");e.exports.HTML_TAG_RE=d},[761,666,667,668,669,670],[762,591,671],[763,591,620,671],[764,591,671],[765,591,622,671],[766,591,671],419,317,[738,712],419,[738,711],317,410,317,[745,713],416,566,function(e,t,n){function i(e,t,n,i,f,m,g){var v=a(e),b=a(t),y=l,w=l;v||(y=p.call(e),y==u?y=h:y!=h&&(v=c(e))),b||(w=p.call(t),w==u?w=h:w!=h&&(b=c(t)));var x=y==h,_=w==h,k=y==w;if(k&&!v&&!x)return o(e,t,y);var S=x&&d.call(e,"__wrapped__"),A=_&&d.call(t,"__wrapped__");if(S||A)return n(S?e.value():e,A?t.value():t,i,f,m,g);if(!k)return!1;m||(m=[]),g||(g=[]);for(var C=m.length;C--;)if(m[C]==e)return g[C]==t;m.push(e),g.push(t);var j=(v?r:s)(e,t,n,i,f,m,g);return m.pop(),g.pop(),j}var r=n(689),o=n(690),s=n(691),a=n(152),c=n(692),u="[object Arguments]",l="[object Array]",h="[object Object]",f=Object.prototype,d=f.hasOwnProperty,p=f.toString;e.exports=i},function(e,t,n){(function(t){var i=n(111),r=i(r=t.WeakMap)&&r,o=r&&new r;e.exports=o}).call(t,function(){return this}())},191,[761,693,694,695,696,697],[768,716,706,707],[768,717,708,709],function(e,t,n){function i(e){s.call(this);var t=this,n=e||{};this.config={chunksize:16384,pacing:10,hash:"sha-1"};var i;for(i in n)this.config[i]=n[i];this.file=null,this.channel=null,this.hash=null,this.processingQueue=o.queue(function(e,n){if("chunk"==e.type){var i=new window.FileReader;i.onload=function(){return function(i){t.channel.send(i.target.result),t.hash&&t.hash.update(new Uint8Array(i.target.result)),t.emit("progress",e.start,e.file.size),window.setTimeout(n,t.config.pacing)}}(e.file);var r=e.file.slice(e.start,e.start+e.size);i.readAsArrayBuffer(r)}else"complete"==e.type&&(t.emit("progress",t.file.size,t.file.size),t.emit("sentFile",t.hash?{hash:t.hash.digest("hex"),algo:t.config.hash}:null),n())})}function r(e){s.call(this);var t=e||{};this.config={hash:"sha-1"};var n;for(n in t)this.config[n]=t[n];this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null,this.hash=null}var o=n(63),s=n(283),a=n(67),c=n(392);a.inherits(i,s),i.prototype.send=function(e,t){this.file=e,this.config.hash&&(this.hash=c.createHash(this.config.hash)),this.channel=t;for(var n=0;n<this.file.size;n+=this.config.chunksize)this.processingQueue.push({type:"chunk",file:e,start:n,size:this.config.chunksize});this.processingQueue.push({type:"complete"})},a.inherits(r,s),r.prototype.receive=function(e,t){var n=this;e&&(this.metadata=e),this.config.hash&&(this.hash=c.createHash(this.config.hash)),this.channel=t,t.binaryType="arraybuffer",this.channel.onmessage=function(e){var t=e.data.byteLength;n.received+=t,n.receiveBuffer.push(e.data),n.hash&&n.hash.update(new Uint8Array(e.data)),n.emit("progress",n.received,n.metadata.size),n.received==n.metadata.size?(n.hash&&(n.metadata.actualhash=n.hash.digest("hex")),n.emit("receivedFile",new window.Blob(n.receiveBuffer),n.metadata),n.receiveBuffer=[]):n.received>n.metadata.size&&(console.error("received more than expected, discarding..."),n.receiveBuffer=[])}},e.exports={},e.exports.support=window&&window.File&&window.FileReader&&window.Blob,e.exports.Sender=i,e.exports.Receiver=r},257,592,257,593,function(e){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e){e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(e){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t,n){t=e.exports=n(700),t.Stream=n(523),t.Readable=t,t.Writable=n(701),t.Duplex=n(702),t.Transform=n(703),t.PassThrough=n(704)},function(e,t,n){e.exports=n(701)},function(e,t,n){e.exports=n(702)},function(e,t,n){e.exports=n(703)},function(e,t,n){e.exports=n(704)},306,function(e){e.exports=/[\0-\uD7FF\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF]/},257,592,593,257,[753,718,719],315,257,610,[757,705],function(e,t,n){(function(e){t.arrayToObject=function(e){for(var t={},n=0,i=e.length;i>n;++n)"undefined"!=typeof e[n]&&(t[n]=e[n]);return t},t.clone=function(n){if("object"!=typeof n||null===n)return n;if(e.isBuffer(n))return n.toString();var i=Array.isArray(n)?[]:{};for(var r in n)n.hasOwnProperty(r)&&(i[r]=t.clone(n[r]));return i},t.merge=function(e,n){if(!n)return e;var i=t.clone(e);if(Array.isArray(n)){for(var r=0,o=n.length;o>r;++r)"undefined"!=typeof n[r]&&(i[r]="object"==typeof i[r]?t.merge(i[r],n[r]):n[r]);return i}Array.isArray(i)&&(i=t.arrayToObject(i));for(var s=Object.keys(n),a=0,c=s.length;c>a;++a){var u=s[a],l=n[u];i[u]=l&&"object"==typeof l?i[u]?t.merge(i[u],l):t.clone(l):l}return i},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.compact=function(e){if("object"!=typeof e||null===e)return e;var n={};for(var i in e)if(e.hasOwnProperty(i))if(Array.isArray(e[i])){n[i]=[];for(var r=0,o=e[i].length;o>r;r++)"undefined"!=typeof e[i][r]&&n[i].push(e[i][r])}else n[i]=t.compact(e[i]);return n}}).call(t,n(385).Buffer)},function(e){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"","in":"",infin:"",infintie:"",inodot:"",intcal:"","int":"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",
leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},[762,641,710],[763,641,668,710],[764,641,710],[765,641,670,710],[766,641,710],function(e,t,n){(function(t){function n(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}n.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var i=this._len+=e.length,r=this._s||0,o=0,s=this._block;i>r;){for(var a=Math.min(e.length,o+this._blockSize-r%this._blockSize),c=a-o,u=0;c>u;u++)s[r%this._blockSize+u]=e[u+o];r+=c,o+=c,r%this._blockSize===0&&this._update(s)}return this._s=r,this},n.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var n=this._update(this._block)||this._hash();return e?n.toString(e):n},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=n}).call(t,n(385).Buffer)},410,317,416,[745,726],566,[746,198],[746,198],410,317,416,566,[745,727],410,317,416,[745,728],566,function(e){function t(e,t,n,i,r,o,s){var a=-1,c=e.length,u=t.length,l=!0;if(c!=u&&!(r&&u>c))return!1;for(;l&&++a<c;){var h=e[a],f=t[a];if(l=void 0,i&&(l=r?i(f,h,a):i(h,f,a)),"undefined"==typeof l)if(r)for(var d=u;d--&&(f=t[d],!(l=h&&h===f||n(h,f,i,r,o,s))););else l=h&&h===f||n(h,f,i,r,o,s)}return!!l}e.exports=t},function(e){function t(e,t,c){switch(c){case n:case i:return+e==+t;case r:return e.name==t.name&&e.message==t.message;case o:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case s:case a:return e==t+""}return!1}var n="[object Boolean]",i="[object Date]",r="[object Error]",o="[object Number]",s="[object RegExp]",a="[object String]";e.exports=t},function(e,t,n){function i(e,t,n,i,o,a,c){var u=r(e),l=u.length,h=r(t),f=h.length;if(l!=f&&!o)return!1;for(var d,p=-1;++p<l;){var m=u[p],g=s.call(t,m);if(g){var v=e[m],b=t[m];g=void 0,i&&(g=o?i(b,v,m):i(v,b,m)),"undefined"==typeof g&&(g=v&&v===b||n(v,b,i,o,a,c))}if(!g)return!1;d||(d="constructor"==m)}if(!d){var y=e.constructor,w=t.constructor;if(y!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w))return!1}return!0}var r=n(101),o=Object.prototype,s=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){return o(e)&&r(e.length)&&I[L.call(e)]||!1}var r=n(182),o=n(259),s="[object Arguments]",a="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",h="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",m="[object RegExp]",g="[object Set]",v="[object String]",b="[object WeakMap]",y="[object ArrayBuffer]",w="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",A="[object Uint8Array]",C="[object Uint8ClampedArray]",j="[object Uint16Array]",E="[object Uint32Array]",I={};I[w]=I[x]=I[_]=I[k]=I[S]=I[A]=I[C]=I[j]=I[E]=!0,I[s]=I[a]=I[y]=I[c]=I[u]=I[l]=I[h]=I[f]=I[d]=I[p]=I[m]=I[g]=I[v]=I[b]=!1;var T=Object.prototype,L=T.toString;e.exports=i},[762,655,715],[763,655,695,715],[764,655,715],[765,655,697,715],[766,655,715],450,[754,729],function(e,t,n){(function(t){function i(e,t){var i=n(702);e=e||{};var r=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(E||(E=n(725).StringDecoder),this.decoder=new E(e.encoding),this.encoding=e.encoding)}function r(e){n(702);return this instanceof r?(this._readableState=new i(e,this),this.readable=!0,void C.call(this)):new r(e)}function o(e,t,n,i,r){var o=u(t,n);if(o)e.emit("error",o);else if(j.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||r||i||(n=t.decoder.write(n)),r||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&h(e)),d(e,t);else r||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=T)e=T;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function c(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||j.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function u(e,t){var n=null;return j.isBuffer(t)||j.isString(t)||j.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,h(e)}function h(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(I("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?t.nextTick(function(){f(e)}):f(e))}function f(e){I("emit readable"),e.emit("readable"),b(e)}function d(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(function(){p(e,n)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;I("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&A.listenerCount(e,"data")&&(t.flowing=!0,b(e))}}function g(e,n){n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(function(){v(e,n)}))}function v(e,t){t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(I("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function y(e,t){var n,i=t.buffer,r=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===i.length)return null;if(0===r)n=null;else if(s)n=i.shift();else if(!e||e>=r)n=o?i.join(""):S.concat(i,r),i.length=0;else if(e<i[0].length){var a=i[0];n=a.slice(0,e),i[0]=a.slice(e)}else if(e===i[0].length)n=i.shift();else{n=o?"":new S(e);for(var c=0,u=0,l=i.length;l>u&&e>c;u++){var a=i[0],h=Math.min(e-c,a.length);o?n+=a.slice(0,h):a.copy(n,c,0,h),h<a.length?i[0]=a.slice(h):i.shift(),c+=h}}return n}function w(e){var n=e._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,t.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function x(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)}function _(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}e.exports=r;var k=n(724),S=n(385).Buffer;r.ReadableState=i;var A=n(607).EventEmitter;A.listenerCount||(A.listenerCount=function(e,t){return e.listeners(t).length});var C=n(523),j=n(730);j.inherits=n(731);var E,I=n(714);I=I&&I.debuglog?I.debuglog("stream"):function(){},j.inherits(r,C),r.prototype.push=function(e,t){var n=this._readableState;return j.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new S(e,t),t="")),o(this,n,e,t,!1)},r.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},r.prototype.setEncoding=function(e){return E||(E=n(725).StringDecoder),this._readableState.decoder=new E(e),this._readableState.encoding=e,this};var T=8388608;r.prototype.read=function(e){I("read",e);var t=this._readableState,n=e;if((!j.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return I("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?w(this):h(this),null;if(e=c(e,t),0===e&&t.ended)return 0===t.length&&w(this),null;var i=t.needReadable;I("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,I("length less than watermark",i)),(t.ended||t.reading)&&(i=!1,I("reading or ended",i)),i&&(I("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=c(n,t));var r;return r=e>0?y(e,t):null,j.isNull(r)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&w(this),j.isNull(r)||this.emit("data",r),r},r.prototype._read=function(){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(e,n){function i(e){I("onunpipe"),e===h&&o()}function r(){I("onend"),e.end()}function o(){I("cleanup"),e.removeListener("close",c),e.removeListener("finish",u),e.removeListener("drain",g),e.removeListener("error",a),e.removeListener("unpipe",i),h.removeListener("end",r),h.removeListener("end",o),h.removeListener("data",s),!f.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function s(t){I("ondata");var n=e.write(t);!1===n&&(I("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,h.pause())}function a(t){I("onerror",t),l(),e.removeListener("error",a),0===A.listenerCount(e,"error")&&e.emit("error",t)}function c(){e.removeListener("finish",u),l()}function u(){I("onfinish"),e.removeListener("close",c),l()}function l(){I("unpipe"),h.unpipe(e)}var h=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=e;break;case 1:f.pipes=[f.pipes,e];break;default:f.pipes.push(e)}f.pipesCount+=1,I("pipe count=%d opts=%j",f.pipesCount,n);var d=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,p=d?r:o;f.endEmitted?t.nextTick(p):h.once("end",p),e.on("unpipe",i);var g=m(h);return e.on("drain",g),h.on("data",s),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",c),e.once("finish",u),e.emit("pipe",h),f.flowing||(I("pipe resume"),h.resume()),e},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;i>r;r++)n[r].emit("unpipe",this);return this}var r=_(t.pipes,e);return-1===r?this:(t.pipes.splice(r,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},r.prototype.on=function(e,n){var i=C.prototype.on.call(this,e,n);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var r=this._readableState;if(!r.readableListening)if(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading)r.length&&h(this,r);else{var o=this;t.nextTick(function(){I("readable nexttick read 0"),o.read(0)})}}return i},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,e.reading||(I("resume read 0"),this.read(0)),g(this,e)),this},r.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(e){var t=this._readableState,n=!1,i=this;e.on("end",function(){if(I("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&i.push(e)}i.push(null)}),e.on("data",function(r){if(I("wrapped data"),t.decoder&&(r=t.decoder.write(r)),r&&(t.objectMode||r.length)){var o=i.push(r);o||(n=!0,e.pause())}});for(var r in e)j.isFunction(e[r])&&j.isUndefined(this[r])&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var o=["error","close","destroy","pause","resume"];return x(o,function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){I("wrapped _read",t),n&&(n=!1,e.resume())},i},r._fromList=y}).call(t,n(26))},function(e,t,n){(function(t){function i(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function r(e,t){var i=n(702);e=e||{};var r=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.objectMode=!!e.objectMode,t instanceof i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(e){var t=n(702);return this instanceof o||this instanceof t?(this._writableState=new r(e,this),this.writable=!0,void k.call(this)):new o(e)}function s(e,n,i){var r=new Error("write after end");e.emit("error",r),t.nextTick(function(){i(r)})}function a(e,n,i,r){var o=!0;if(!(_.isBuffer(i)||_.isString(i)||_.isNullOrUndefined(i)||n.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),t.nextTick(function(){r(s)}),o=!1}return o}function c(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&_.isString(t)&&(t=new x(t,n)),t}function u(e,t,n,r,o){n=c(t,n,r),_.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new i(n,r,o)):l(e,t,!1,s,n,r,o),a}function l(e,t,n,i,r,o,s){t.writelen=i,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function h(e,n,i,r,o){i?t.nextTick(function(){n.pendingcb--,o(r)}):(n.pendingcb--,o(r)),e._writableState.errorEmitted=!0,e.emit("error",r)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,n){var i=e._writableState,r=i.sync,o=i.writecb;if(f(i),n)h(e,i,r,n,o);else{var s=v(e,i);s||i.corked||i.bufferProcessing||!i.buffer.length||g(e,i),r?t.nextTick(function(){p(e,i,s,o)}):p(e,i,s,o)}}function p(e,t,n,i){n||m(e,t),t.pendingcb--,i(),y(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],i=0;i<t.buffer.length;i++)n.push(t.buffer[i].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var i=0;i<n.length;i++)t.pendingcb--,n[i](e)}),t.buffer=[]}else{for(var i=0;i<t.buffer.length;i++){var r=t.buffer[i],o=r.chunk,s=r.encoding,a=r.callback,c=t.objectMode?1:o.length;if(l(e,t,!1,c,o,s,a),t.writing){i++;break}}i<t.buffer.length?t.buffer=t.buffer.slice(i):t.buffer.length=0}t.bufferProcessing=!1}function v(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function y(e,t){var n=v(e,t);return n&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),n}function w(e,n,i){n.ending=!0,y(e,n),i&&(n.finished?t.nextTick(i):e.once("finish",i)),n.ended=!0}e.exports=o;var x=n(385).Buffer;o.WritableState=r;var _=n(730);_.inherits=n(731);var k=n(523);_.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var i=this._writableState,r=!1;return _.isFunction(t)&&(n=t,t=null),_.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),_.isFunction(n)||(n=function(){}),i.ended?s(this,i,n):a(this,i,e,n)&&(i.pendingcb++,r=u(this,i,e,t,n)),r},o.prototype.cork=function(){var e=this._writableState;e.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||g(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var i=this._writableState;_.isFunction(e)?(n=e,e=null,t=null):_.isFunction(t)&&(n=t,t=null),_.isNullOrUndefined(e)||this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||w(this,i,n)}}).call(t,n(26))},function(e,t,n){(function(t){function i(e){return this instanceof i?(c.call(this,e),u.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new i(e)}function r(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function o(e,t){for(var n=0,i=e.length;i>n;n++)t(e[n],n)}e.exports=i;var s=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},a=n(730);a.inherits=n(731);var c=n(700),u=n(701);a.inherits(i,c),o(s(u.prototype),function(e){i.prototype[e]||(i.prototype[e]=u.prototype[e])})}).call(t,n(26))},function(e,t,n){function i(e,t){this.afterTransform=function(e,n){return r(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function r(e,t,n){var i=e._transformState;i.transforming=!1;var r=i.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));i.writechunk=null,i.writecb=null,c.isNullOrUndefined(n)||e.push(n),
r&&r(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){c.isFunction(this._flush)?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(i.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=o;var a=n(702),c=n(730);c.inherits=n(731),c.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(){var e=this._transformState;c.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(e,t,n){function i(e){return this instanceof i?void r.call(this,e):new i(e)}e.exports=i;var r=n(703),o=n(730);o.inherits=n(731),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},664,[769,720,721],function(e,t,n){function i(e){return{type:e.type,sdp:e.sdp}}function r(e){var t={label:e.id};return e.getAudioTracks().length&&(t.audio=e.getAudioTracks().map(function(e){return e.id})),e.getVideoTracks().length&&(t.video=e.getVideoTracks().map(function(e){return e.id})),t}function o(e,t){var n=this;c.call(this),this.peerconnection=new a.PeerConnection(e,t),this.trace=function(e,t){n.emit("PeerConnectionTrace",{time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){n.trace("onicecandidate",e.candidate),null!==n.onicecandidate&&n.onicecandidate(e)},this.onaddstream=null,this.peerconnection.onaddstream=function(e){n.trace("onaddstream",r(e.stream)),null!==n.onaddstream&&n.onaddstream(e)},this.onremovestream=null,this.peerconnection.onremovestream=function(e){n.trace("onremovestream",r(e.stream)),null!==n.onremovestream&&n.onremovestream(e)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){n.trace("onsignalingstatechange",n.signalingState),null!==n.onsignalingstatechange&&n.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){n.trace("oniceconnectionstatechange",n.iceConnectionState),null!==n.oniceconnectionstatechange&&n.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){n.trace("onnegotiationneeded"),null!==n.onnegotiationneeded&&n.onnegotiationneeded(e)},n.ondatachannel=null,this.peerconnection.ondatachannel=function(e){n.trace("ondatachannel",e),null!==n.ondatachannel&&n.ondatachannel(e)},this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection),this.getRemoteStreams=this.peerconnection.getRemoteStreams.bind(this.peerconnection)}var s=n(67),a=n(519),c=n(283);s.inherits(o,c),Object.defineProperty(o.prototype,"signalingState",{get:function(){return this.peerconnection.signalingState}}),Object.defineProperty(o.prototype,"iceConnectionState",{get:function(){return this.peerconnection.iceConnectionState}}),Object.defineProperty(o.prototype,"localDescription",{get:function(){return this.peerconnection.localDescription}}),Object.defineProperty(o.prototype,"remoteDescription",{get:function(){return this.peerconnection.remoteDescription}}),o.prototype.addStream=function(e){this.trace("addStream",r(e)),this.peerconnection.addStream(e)},o.prototype.removeStream=function(e){this.trace("removeStream",r(e)),this.peerconnection.removeStream(e)},o.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},o.prototype.setLocalDescription=function(e,t,n){var r=this;this.trace("setLocalDescription",i(e)),this.peerconnection.setLocalDescription(e,function(){r.trace("setLocalDescriptionOnSuccess"),t()},function(e){r.trace("setLocalDescriptionOnFailure",e),n(e)})},o.prototype.setRemoteDescription=function(e,t,n){var r=this;this.trace("setRemoteDescription",i(e)),this.peerconnection.setRemoteDescription(e,function(){r.trace("setRemoteDescriptionOnSuccess"),t()},function(e){r.trace("setRemoteDescriptionOnFailure",e),n(e)})},o.prototype.close=function(){this.trace("stop"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),"closed"!=this.peerconnection.signalingState&&this.peerconnection.close()},o.prototype.createOffer=function(e,t,n){var r=this;this.trace("createOffer",n),this.peerconnection.createOffer(function(t){r.trace("createOfferOnSuccess",i(t)),e(t)},function(e){r.trace("createOfferOnFailure",e),t(e)},n)},o.prototype.createAnswer=function(e,t,n){var r=this;this.trace("createAnswer",n),this.peerconnection.createAnswer(function(t){r.trace("createAnswerOnSuccess",i(t)),e(t)},function(e){r.trace("createAnswerOnFailure",e),t(e)},n)},o.prototype.addIceCandidate=function(e,t,n){var i=this;this.trace("addIceCandidate",e),this.peerconnection.addIceCandidate(e,function(){t&&t()},function(e){i.trace("addIceCandidateOnFailure",e),n&&n(e)})},o.prototype.getStats=function(e,t){navigator.mozGetUserMedia?this.peerconnection.getStats(null,e,t):this.peerconnection.getStats(e)},e.exports=o},[769,722,723],707,671,465,465,[746,486],388,671,186,186,450,[754,736],[770,732],[771,732,733],[770,734],[771,734,735],function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){function i(e){if(e&&!c(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=n(385).Buffer,c=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},u=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),i(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};u.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var i=t.charCodeAt(t.length-1);if(!(i>=55296&&56319>=i)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,i=t.charCodeAt(r);if(i>=55296&&56319>=i){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},u.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(2>=t&&n>>4==14){this.charLength=3;break}if(3>=t&&n>>3==30){this.charLength=4;break}}this.charReceived=t},u.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,i=this.charBuffer,r=this.encoding;t+=i.slice(0,n).toString(r)}return t}},[746,198],[746,198],[746,198],594,function(e,t,n){(function(e){function n(e){return Array.isArray(e)}function i(e){return"boolean"==typeof e}function r(e){return null===e}function o(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function c(e){return"symbol"==typeof e}function u(e){return void 0===e}function l(e){return h(e)&&"[object RegExp]"===v(e)}function h(e){return"object"==typeof e&&null!==e}function f(e){return h(e)&&"[object Date]"===v(e)}function d(e){return h(e)&&("[object Error]"===v(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(t){return e.isBuffer(t)}function v(e){return Object.prototype.toString.call(e)}t.isArray=n,t.isBoolean=i,t.isNull=r,t.isNullOrUndefined=o,t.isNumber=s,t.isString=a,t.isSymbol=c,t.isUndefined=u,t.isRegExp=l,t.isObject=h,t.isDate=f,t.isError=d,t.isFunction=p,t.isPrimitive=m,t.isBuffer=g}).call(t,n(385).Buffer)},257,function(e){e.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},function(e,t){t.lines=function(e){return e.split("\r\n").filter(function(e){return e.length>0})},t.findLine=function(e,t,n){for(var i=e.length,r=0;r<t.length;r++)if(t[r].substr(0,i)===e)return t[r];if(!n)return!1;for(var o=0;o<n.length;o++)if(n[o].substr(0,i)===e)return n[o];return!1},t.findLines=function(e,t,n){for(var i=[],r=e.length,o=0;o<t.length;o++)t[o].substr(0,r)===e&&i.push(t[o]);if(i.length||!n)return i;for(var s=0;s<n.length;s++)n[s].substr(0,r)===e&&i.push(n[s]);return i},t.mline=function(e){for(var t=e.substr(2).split(" "),n={media:t[0],port:t[1],proto:t[2],formats:[]},i=3;i<t.length;i++)t[i]&&n.formats.push(t[i]);return n},t.rtpmap=function(e){var t=e.substr(9).split(" "),n={id:t.shift()};return t=t[0].split("/"),n.name=t[0],n.clockrate=t[1],n.channels=3==t.length?t[2]:"1",n},t.sctpmap=function(e){var t=e.substr(10).split(" "),n={number:t.shift(),protocol:t.shift(),streams:t.shift()};return n},t.fmtp=function(e){for(var t,n,i,r=e.substr(e.indexOf(" ")+1).split(";"),o=[],s=0;s<r.length;s++)t=r[s].split("="),n=t[0].trim(),i=t[1],n&&i?o.push({key:n,value:i}):n&&o.push({key:"",value:n});return o},t.crypto=function(e){var t=e.substr(9).split(" "),n={tag:t[0],cipherSuite:t[1],keyParams:t[2],sessionParams:t.slice(3).join(" ")};return n},t.fingerprint=function(e){var t=e.substr(14).split(" ");return{hash:t[0],value:t[1]}},t.extmap=function(e){var t=e.substr(9).split(" "),n={},i=t.shift(),r=i.indexOf("/");return r>=0?(n.id=i.substr(0,r),n.senders=i.substr(r+1)):(n.id=i,n.senders="sendrecv"),n.uri=t.shift()||"",n},t.rtcpfb=function(e){var t=e.substr(10).split(" "),n={};return n.id=t.shift(),n.type=t.shift(),"trr-int"===n.type?n.value=t.shift():n.subtype=t.shift()||"",n.parameters=t,n},t.candidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:t[3],ip:t[4],port:t[5],type:t[7],generation:"0"},i=8;i<t.length;i+=2)"raddr"===t[i]?n.relAddr=t[i+1]:"rport"===t[i]?n.relPort=t[i+1]:"generation"===t[i]?n.generation=t[i+1]:"tcptype"===t[i]&&(n.tcpType=t[i+1]);return n.network="1",n},t.sourceGroups=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].substr(13).split(" ");t.push({semantics:i.shift(),sources:i})}return t},t.sources=function(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i].substr(7).split(" "),o=r.shift();if(!n[o]){var s={ssrc:o,parameters:[]};t.push(s),n[o]=s}r=r.join(" ").split(":");var a=r.shift(),c=r.join(":")||null;n[o].parameters.push({key:a,value:c})}return t},t.groups=function(e){for(var t,n=[],i=0;i<e.length;i++)t=e[i].substr(8).split(" "),n.push({semantics:t.shift(),contents:t});return n},t.bandwidth=function(e){var t=e.substr(2).split(":"),n={};return n.type=t.shift(),n.bandwidth=t.shift(),n}},732,733,594,function(e,t,n,i,r,o){var s=n(i),a=n(r),c=n(o),u=Object.keys,l=!{toString:null}.propertyIsEnumerable("toString"),h=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];e.exports=function(e){if(!c(e))return[];if(u)return u(e);var t=[];for(var n in e)s(e,n)&&t.push(n);if(l)for(var i=h.length;i--;){var r=h[i];s(e,r)&&-1===a(t,r)&&t.push(r)}return t}},function(e,t,n,i){var r=n(i);e.exports=function(e,t,n){var i=0,o=e&&e.length;for(r(n)&&(i=0>n?Math.max(0,o+n):n);o>i;i++)if(e[i]===t)return i;return-1}},function(e,t,n,i,r){var o=n(i),s=n(r);e.exports=function(e,t,n){if(null==e)return e;t=s(t,n);var i,r=e.length;if(r===+r)for(i=0;r>i;i++)t(e[i],i,e);else{var a=o(e);for(i=0,r=a.length;r>i;i++)t(e[a[i]],a[i],e)}return e}},function(e,t,n,i,r){var o=n(i),s=n(r),a=Function.prototype.bind,c=Array.prototype.slice,u=function(){};e.exports=function(e,t){var n,i;if(a&&e.bind===a)return a.apply(e,c.call(arguments,1));if(!o(e))throw new TypeError("Bind must be called on a function");return n=c.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(c.call(arguments)));u.prototype=e.prototype;var r=new u;u.prototype=null;var o=e.apply(r,n.concat(c.call(arguments)));return s(o)?o:r}}},function(e,t,n,i){var r=n(i);e.exports=function(e){if(!r(e))return e;for(var t,n,i=1,o=arguments.length;o>i;i++){t=arguments[i];for(n in t)e[n]=t[n]}return e}},function(e,t,n,i){var r=n(i);e.exports=function(e){for(var t=r(e),n=t.length,i=Array(n),o=0;n>o;o++)i[o]=e[t[o]];return i}},function(e,t,n,i,r){var o=n(i),s=n(r);e.exports=function(e,t,n){if(null==e)return[];t=o(t,n,3);for(var i,r=e.length!==+e.length&&s(e),a=(r||e).length,c=Array(a),u=0;a>u;u++)i=r?r[u]:u,c[u]=t(e[i],i,e);return c}},function(e,t,n,i,r,o,s,a){var c=n(i),u=n(r),l=n(o),h=n(s),f=n(a),d=function(e){return e};e.exports=function(e,t,n){return null==e?d:c(e)?l(e,t,n):u(e)?h(e):f(e)}},function(e,t,n,i){var r=n(i);e.exports=function(e){var t=r(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var i=0;n>i;i++){var r=t[i],o=r[0];if(r[1]!==e[o]||!(o in e))return!1}return!0}}},function(e,t,n,i){var r=n(i);e.exports=function(e){for(var t=r(e),n=t.length,i=Array(n),o=0;n>o;o++)i[o]=[t[o],e[t[o]]];return i}},function(e,t,n,i){e.exports=n(i)},function(e,t,n,i){var r=n(i),o=function(e){var t,n=this,i=[].slice.call(arguments);t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)},r(t,n);var o=function(){this.constructor=t};return o.prototype=n.prototype,t.prototype=new o,e&&(i.unshift(t.prototype),r.apply(null,i)),t.__super__=n.prototype,t};e.exports=o},function(e,t,n,i){var r=n(197),o=n(i),s=function a(e,t,n,i){for(var s,c=[],u=0,l=i||0,h=e&&e.length;h>l;l++)if(s=e[l],s&&s.length>=0&&(r(s)||o(s))){t||(s=a(s,t,n));var f=0,d=s.length;for(c.length+=d;d>f;)c[u++]=s[f++]}else n||(c[u++]=s);return c};e.exports=s},function(e,t,n,i){var r=n(i),o=[].slice,s={},a=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample","partition"];r.each(a,function(e){r[e]&&(s[e]=function(){var t=o.call(arguments);return t.unshift(this.models),r[e].apply(r,t)})});var c=["groupBy","countBy","sortBy","indexBy"];r.each(c,function(e){r[e]&&(s[e]=function(t,n){var i=r.isFunction(t)?t:function(e){return e.get?e.get(t):e[t]};return r[e](this.models,i,n)})}),s.where=function(e,t){return r.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){var n;for(var i in e)if(n=t.get?t.get(i):t[i],e[i]!==n)return!1;return!0})},s.findWhere=function(e){return this.where(e,!0)},s.pluck=function(e){return r.invoke(this.models,"get",e)},e.exports=s},function(e,t,n,i,r,o){var s=n(i),a=n(r),c=n(o),u=function(){throw new Error('A "url" property or function must be specified')};e.exports=function(e,t,n){var i=l[e],r={};s.defaults(n||(n={}),{emulateHTTP:!1,emulateJSON:!1});var o={type:i};n.url||(o.url=s.result(t,"url")||u()),null!=n.data||!t||"create"!==e&&"update"!==e&&"patch"!==e||(o.json=n.attrs||t.toJSON(n)),n.data&&"GET"===i&&(o.url+=s.contains(o.url,"?")?"&":"?",o.url+=c.stringify(n.data)),n.emulateJSON&&(r["Content-Type"]="application/x-www-form-urlencoded",o.body=o.json?{model:o.json}:{},delete o.json),!n.emulateHTTP||"PUT"!==i&&"DELETE"!==i&&"PATCH"!==i||(o.type="POST",n.emulateJSON&&(o.body._method=i),r["X-HTTP-Method-Override"]=i),n.emulateJSON&&(o.body=c.stringify(o.body));var h=s.result(t,"ajaxConfig")||{};if(h.headers&&s.extend(r,h.headers),o.headers=r,h.useXDR&&(o.useXDR=!0),h.xhrFields){var f=h.beforeSend;o.beforeSend=function(e){for(var t in h.xhrFields)e[t]=h.xhrFields[t];return f?f.apply(this,arguments):void 0},o.xhrFields=h.xhrFields}o.method=o.type;var d=s.extend(o,n),p=n.xhr=a(d,function(e,t,i){if(e&&n.error)return n.error(t,"error",e.message);if(i&&"string"==typeof i)try{i=JSON.parse(i)}catch(r){}return n.success?n.success(i,"success",t):void 0});return t.trigger("request",t,p,n,d),p.ajaxSettings=d,p};var l={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"}},function(e,t,n,i,r,o){function s(e,t){function n(){4===m.readyState&&k()}function i(){var e=null;if(m.response?e=m.response:"text"!==m.responseType&&m.responseType||(e=m.responseText||m.responseXML),_)try{e=JSON.parse(e)}catch(t){}return e}function r(){return 1223===m.status?204:m.status}function o(e,t){var n=null;if(0===e||e>=400&&600>e){var i=("string"==typeof t?t:!1)||h[String(e).charAt(0)];n=new Error(i),n.statusCode=e}return n}function s(){var e=r(),n=i(),s=o(e,n),a={body:n,statusCode:e,statusText:m.statusText,raw:m};a.headers=m.getAllResponseHeaders?l(m.getAllResponseHeaders()):{},t(s,a,a.body)}function c(){var e=r(),n=o(e);m.status=m.statusCode=e,m.body=i(),m.headers=l(m.getAllResponseHeaders()),t(n,m,m.body)}function p(e){t(e,m)}"string"==typeof e&&(e={uri:e}),e=e||{},t=u(t);var m=e.xhr||null;m||(m=e.cors||e.useXDR?new d:new f);var g,v=m.url=e.uri||e.url,b=m.method=e.method||"GET",y=e.body||e.data,w=m.headers=e.headers||{},x=!!e.sync,_=!1,k=e.response?s:c;if("json"in e&&(_=!0,w.Accept="application/json","GET"!==b&&"HEAD"!==b&&(w["Content-Type"]="application/json",y=JSON.stringify(e.json))),m.onreadystatechange=n,m.onload=k,m.onerror=p,m.onprogress=function(){},m.ontimeout=a,m.open(b,v,!x),(e.withCredentials||e.cors&&e.withCredentials!==!1)&&(m.withCredentials=!0),x||(m.timeout="timeout"in e?e.timeout:5e3),m.setRequestHeader)for(g in w)w.hasOwnProperty(g)&&m.setRequestHeader(g,w[g]);else if(e.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(m.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(m),m.send(y),m}function a(){}var c=n(i),u=n(r),l=n(o),h={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},f=c.XMLHttpRequest||a,d="withCredentials"in new f?f:c.XDomainRequest;e.exports=s},function(e,t,n,i,r){var o=n(i),s=n(r),a=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return s(o(e).split("\n"),function(e){var n=e.indexOf(":"),i=o(e.slice(0,n)).toLowerCase(),r=o(e.slice(n+1));"undefined"==typeof t[i]?t[i]=r:a(t[i])?t[i].push(r):t[i]=[t[i],r]}),t}},function(e,t,n,i){function r(e,t,n){if(!c(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===u.call(e)?o(e,t,n):"string"==typeof e?s(e,t,n):a(e,t,n)}function o(e,t,n){for(var i=0,r=e.length;r>i;i++)l.call(e,i)&&t.call(n,e[i],i,e)}function s(e,t,n){for(var i=0,r=e.length;r>i;i++)t.call(n,e.charAt(i),i,e)}function a(e,t,n){for(var i in e)l.call(e,i)&&t.call(n,e[i],i,e)}var c=n(i);e.exports=r;var u=Object.prototype.toString,l=Object.prototype.hasOwnProperty},function(e,t,n,i){e.exports=n(i)},function(e,t,n,i,r){var o=n(i),s=n(r);e.exports={stringify:o,parse:s}},function(e,t,n,i){var r=n(i),o={delimiter:"&",depth:5,arrayLimit:20,parametersLimit:1e3};o.parseValues=function(e,t){t="string"==typeof t?t:o.delimiter;for(var n={},i=e.split(t,o.parametersLimit),s=0,a=i.length;a>s;++s){var c=i[s],u=-1===c.indexOf("]=")?c.indexOf("="):c.indexOf("]=")+1;if(-1===u)n[r.decode(c)]="";else{var l=r.decode(c.slice(0,u)),h=r.decode(c.slice(u+1));n[l]=n[l]?[].concat(n[l]).concat(h):h}}return n},o.parseObject=function(e,t){if(!e.length)return t;var n=e.shift(),i={};if("[]"===n)i=[],i=i.concat(o.parseObject(e,t));else{var r="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,s=parseInt(r,10);!isNaN(s)&&n!==r&&s<=o.arrayLimit?(i=[],i[s]=o.parseObject(e,t)):i[r]=o.parseObject(e,t)}return i},o.parseKeys=function(e,t,n){if(e){var i=/^([^\[\]]*)/,r=/(\[[^\[\]]*\])/g,s=i.exec(e);if(!Object.prototype.hasOwnProperty(s[1])){var a=[];s[1]&&a.push(s[1]);for(var c=0;null!==(s=r.exec(e))&&n>c;)++c,Object.prototype.hasOwnProperty(s[1].replace(/\[|\]/g,""))||a.push(s[1]);return s&&a.push("["+e.slice(s.index)+"]"),o.parseObject(a,t)}}},e.exports=function(e,t,n){if(""===e||null===e||"undefined"==typeof e)return{};"number"!=typeof t&&(n=t,t=o.depth);var i="string"==typeof e?o.parseValues(e,n):r.clone(e),s={};for(var a in i)if(i.hasOwnProperty(a)){var c=o.parseKeys(a,i[a],t);s=r.merge(s,c)}return r.compact(s)}},function(e,t,n,i){(function(e){!function(r,o){o(t,e,n(i))}(this,function(e,t,n){e=t.exports=n,e.Mechanism=n})}).call(t,n(278)(e))},function(e,t,n,i,r,o,s){(function(t){"use strict";function a(e){d.call(this),this._hash=e,this.buffers=[]}function c(e){d.call(this),this._hash=e}var u=n(i),l=n(r),h=n(o),f=n(s),d=n(523).Transform;u(a,d),a.prototype._transform=function(e,t,n){this.buffers.push(e),n()},a.prototype._flush=function(e){this.push(this.digest()),e()},a.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this.buffers.push(e),this},a.prototype.digest=function(e){var n=t.concat(this.buffers),i=this._hash(n);return this.buffers=null,e?i.toString(e):i},u(c,d),c.prototype._transform=function(e,n,i){n&&(e=new t(e,n)),this._hash.update(e),i()},c.prototype._flush=function(e){this.push(this._hash.digest()),this._hash=null,e()},c.prototype.update=function(e,n){return"string"==typeof e&&(e=new t(e,n)),this._hash.update(e),this},c.prototype.digest=function(e){var t=this._hash.digest();return e?t.toString(e):t},e.exports=function(e){return"md5"===e?new a(l):"rmd160"===e?new a(h):new c(f(e))}}).call(t,n(385).Buffer)},function(e,t,n,i){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,h=0;h<e.length;h+=16){var f=n,d=i,p=r,m=o;n=s(n,i,r,o,e[h+0],7,-680876936),o=s(o,n,i,r,e[h+1],12,-389564586),r=s(r,o,n,i,e[h+2],17,606105819),i=s(i,r,o,n,e[h+3],22,-1044525330),n=s(n,i,r,o,e[h+4],7,-176418897),o=s(o,n,i,r,e[h+5],12,1200080426),r=s(r,o,n,i,e[h+6],17,-1473231341),i=s(i,r,o,n,e[h+7],22,-45705983),n=s(n,i,r,o,e[h+8],7,1770035416),o=s(o,n,i,r,e[h+9],12,-1958414417),r=s(r,o,n,i,e[h+10],17,-42063),i=s(i,r,o,n,e[h+11],22,-1990404162),n=s(n,i,r,o,e[h+12],7,1804603682),o=s(o,n,i,r,e[h+13],12,-40341101),r=s(r,o,n,i,e[h+14],17,-1502002290),i=s(i,r,o,n,e[h+15],22,1236535329),n=a(n,i,r,o,e[h+1],5,-165796510),o=a(o,n,i,r,e[h+6],9,-1069501632),r=a(r,o,n,i,e[h+11],14,643717713),i=a(i,r,o,n,e[h+0],20,-373897302),n=a(n,i,r,o,e[h+5],5,-701558691),o=a(o,n,i,r,e[h+10],9,38016083),r=a(r,o,n,i,e[h+15],14,-660478335),i=a(i,r,o,n,e[h+4],20,-405537848),n=a(n,i,r,o,e[h+9],5,568446438),o=a(o,n,i,r,e[h+14],9,-1019803690),r=a(r,o,n,i,e[h+3],14,-187363961),i=a(i,r,o,n,e[h+8],20,1163531501),n=a(n,i,r,o,e[h+13],5,-1444681467),o=a(o,n,i,r,e[h+2],9,-51403784),r=a(r,o,n,i,e[h+7],14,1735328473),i=a(i,r,o,n,e[h+12],20,-1926607734),n=c(n,i,r,o,e[h+5],4,-378558),o=c(o,n,i,r,e[h+8],11,-2022574463),r=c(r,o,n,i,e[h+11],16,1839030562),i=c(i,r,o,n,e[h+14],23,-35309556),n=c(n,i,r,o,e[h+1],4,-1530992060),o=c(o,n,i,r,e[h+4],11,1272893353),r=c(r,o,n,i,e[h+7],16,-155497632),i=c(i,r,o,n,e[h+10],23,-1094730640),n=c(n,i,r,o,e[h+13],4,681279174),o=c(o,n,i,r,e[h+0],11,-358537222),r=c(r,o,n,i,e[h+3],16,-722521979),i=c(i,r,o,n,e[h+6],23,76029189),n=c(n,i,r,o,e[h+9],4,-640364487),o=c(o,n,i,r,e[h+12],11,-421815835),r=c(r,o,n,i,e[h+15],16,530742520),i=c(i,r,o,n,e[h+2],23,-995338651),n=u(n,i,r,o,e[h+0],6,-198630844),o=u(o,n,i,r,e[h+7],10,1126891415),r=u(r,o,n,i,e[h+14],15,-1416354905),i=u(i,r,o,n,e[h+5],21,-57434055),n=u(n,i,r,o,e[h+12],6,1700485571),o=u(o,n,i,r,e[h+3],10,-1894986606),r=u(r,o,n,i,e[h+10],15,-1051523),i=u(i,r,o,n,e[h+1],21,-2054922799),n=u(n,i,r,o,e[h+8],6,1873313359),o=u(o,n,i,r,e[h+15],10,-30611744),r=u(r,o,n,i,e[h+6],15,-1560198380),i=u(i,r,o,n,e[h+13],21,1309151649),n=u(n,i,r,o,e[h+4],6,-145523070),o=u(o,n,i,r,e[h+11],10,-1120210379),r=u(r,o,n,i,e[h+2],15,718787259),i=u(i,r,o,n,e[h+9],21,-343485551),n=l(n,f),i=l(i,d),r=l(r,p),o=l(o,m)}return Array(n,i,r,o)}function o(e,t,n,i,r,o){return l(h(l(l(t,e),l(i,o)),r),n)}function s(e,t,n,i,r,s,a){return o(t&n|~t&i,e,t,r,s,a)}function a(e,t,n,i,r,s,a){return o(t&i|n&~i,e,t,r,s,a)}function c(e,t,n,i,r,s,a){return o(t^n^i,e,t,r,s,a)}function u(e,t,n,i,r,s,a){return o(n^(t|~i),e,t,r,s,a)}function l(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function h(e,t){return e<<t|e>>>32-t}var f=n(i);e.exports=function(e){return f.hash(e,r,16)}},function(e,t,n,i,r,o,s,a){var t=e.exports=function(e){var n=t[e.toLowerCase()];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n};t.sha1=n(i),t.sha224=n(r),t.sha256=n(o),t.sha384=n(s),t.sha512=n(a)},function(e,t,n,i,r){(function(t){function o(){this.init(),this._w=u,c.call(this,64,56)}function s(e,t){return e<<t|e>>>32-t}var a=n(i),c=n(r),u=new Array(80);a(o,c),o.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},o.prototype._update=function(e){function t(){return s(r[h-3]^r[h-8]^r[h-14]^r[h-16],1)}function n(e,t){r[h]=e;var n=s(o,5)+t+l+e+i;l=u,u=c,c=s(a,30),a=o,o=n,h++}var i,r=this._w,o=this._a,a=this._b,c=this._c,u=this._d,l=this._e,h=0;for(i=1518500249;16>h;)n(e.readInt32BE(4*h),a&c|~a&u);for(;20>h;)n(t(),a&c|~a&u);for(i=1859775393;40>h;)n(t(),a^c^u);for(i=-1894007588;60>h;)n(t(),a&c|a&u|c&u);for(i=-899497514;80>h;)n(t(),a^c^u);this._a=o+this._a|0,this._b=a+this._b|0,this._c=c+this._c|0,this._d=u+this._d|0,this._e=l+this._e|0},o.prototype._hash=function(){var e=new t(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=o}).call(t,n(385).Buffer)},function(e,t,n,i,r,o){(function(t){function s(){this.init(),this._w=l,u.call(this,64,56)}var a=n(i),c=n(r),u=n(o),l=new Array(64);a(s,c),s.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},s.prototype._hash=function(){var e=new t(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=s}).call(t,n(385).Buffer)},function(e,t,n,i,r){(function(t){function o(){this.init(),this._w=v,m.call(this,64,56)}function s(e,t){return e>>>t|e<<32-t}function a(e,t){return e>>>t}function c(e,t,n){return e&t^~e&n}function u(e,t,n){return e&t^e&n^t&n}function l(e){return s(e,2)^s(e,13)^s(e,22)}function h(e){return s(e,6)^s(e,11)^s(e,25)}function f(e){return s(e,7)^s(e,18)^a(e,3)}function d(e){return s(e,17)^s(e,19)^a(e,10)}var p=n(i),m=n(r),g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=new Array(64);p(o,m),o.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},o.prototype._update=function(e){function t(){return d(i[y-2])+i[y-7]+f(i[y-15])+i[y-16]}function n(e){i[y]=e;var t=b+h(p)+c(p,m,v)+g[y]+e,n=l(r)+u(r,o,s);b=v,v=m,m=p,p=a+t,a=s,s=o,o=r,r=t+n,y++}for(var i=this._w,r=0|this._a,o=0|this._b,s=0|this._c,a=0|this._d,p=0|this._e,m=0|this._f,v=0|this._g,b=0|this._h,y=0;16>y;)n(e.readInt32BE(4*y));for(;64>y;)n(t());this._a=r+this._a|0,this._b=o+this._b|0,this._c=s+this._c|0,this._d=a+this._d|0,this._e=p+this._e|0,this._f=m+this._f|0,this._g=v+this._g|0,this._h=b+this._h|0},o.prototype._hash=function(){var e=new t(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=o}).call(t,n(385).Buffer)},function(e,t,n,i,r,o){(function(t){function s(){this.init(),this._w=l,u.call(this,128,112)}var a=n(i),c=n(r),u=n(o),l=new Array(160);a(s,c),s.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},s.prototype._hash=function(){function e(e,t,i){n.writeInt32BE(e,i),n.writeInt32BE(t,i+4)}var n=new t(48);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),n},e.exports=s}).call(t,n(385).Buffer)},function(e,t,n,i,r){(function(t){function o(){this.init(),this._w=f,l.call(this,128,112)}function s(e,t,n){return e>>>n|t<<32-n}function a(e,t,n){return e&t^~e&n}function c(e,t,n){return e&t^e&n^t&n}var u=n(i),l=n(r),h=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],f=new Array(160);

u(o,l),o.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},o.prototype._update=function(e){function t(){var e=o[j-30],t=o[j-30+1],n=s(e,t,1)^s(e,t,8)^e>>>7,a=s(t,e,1)^s(t,e,8)^s(t,e,7);e=o[j-4],t=o[j-4+1];var c=s(e,t,19)^s(t,e,29)^e>>>6,u=s(t,e,19)^s(e,t,29)^s(t,e,6),l=o[j-14],h=o[j-14+1],f=o[j-32],d=o[j-32+1];r=a+h,i=n+l+(a>>>0>r>>>0?1:0),r+=u,i=i+c+(u>>>0>r>>>0?1:0),r+=d,i=i+f+(d>>>0>r>>>0?1:0)}function n(){o[j]=i,o[j+1]=r;var e=c(u,l,f),t=c(b,y,w),n=s(u,b,28)^s(b,u,2)^s(b,u,7),E=s(b,u,28)^s(u,b,2)^s(u,b,7),I=s(p,_,14)^s(p,_,18)^s(_,p,9),T=s(_,p,14)^s(_,p,18)^s(p,_,9),L=h[j],M=h[j+1],D=a(p,m,g),R=a(_,k,S),O=A+T,P=v+I+(A>>>0>O>>>0?1:0);O+=R,P=P+D+(R>>>0>O>>>0?1:0),O+=M,P=P+L+(M>>>0>O>>>0?1:0),O+=r,P=P+i+(r>>>0>O>>>0?1:0);var N=E+t,q=n+e+(E>>>0>N>>>0?1:0);v=g,A=S,g=m,S=k,m=p,k=_,_=x+O|0,p=d+P+(x>>>0>_>>>0?1:0)|0,d=f,x=w,f=l,w=y,l=u,y=b,b=O+N|0,u=P+q+(O>>>0>b>>>0?1:0)|0,C++,j+=2}for(var i,r,o=this._w,u=0|this._a,l=0|this._b,f=0|this._c,d=0|this._d,p=0|this._e,m=0|this._f,g=0|this._g,v=0|this._h,b=0|this._al,y=0|this._bl,w=0|this._cl,x=0|this._dl,_=0|this._el,k=0|this._fl,S=0|this._gl,A=0|this._hl,C=0,j=0;16>C;)i=e.readInt32BE(4*j),r=e.readInt32BE(4*j+4),n();for(;80>C;)t(),n();this._al=this._al+b|0,this._bl=this._bl+y|0,this._cl=this._cl+w|0,this._dl=this._dl+x|0,this._el=this._el+_|0,this._fl=this._fl+k|0,this._gl=this._gl+S|0,this._hl=this._hl+A|0,this._a=this._a+u+(this._al>>>0<b>>>0?1:0)|0,this._b=this._b+l+(this._bl>>>0<y>>>0?1:0)|0,this._c=this._c+f+(this._cl>>>0<w>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<x>>>0?1:0)|0,this._e=this._e+p+(this._el>>>0<_>>>0?1:0)|0,this._f=this._f+m+(this._fl>>>0<k>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<S>>>0?1:0)|0,this._h=this._h+v+(this._hl>>>0<A>>>0?1:0)|0},o.prototype._hash=function(){function e(e,t,i){n.writeInt32BE(e,i),n.writeInt32BE(t,i+4)}var n=new t(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),n},e.exports=o}).call(t,n(385).Buffer)},function(e,t,n,i,r){(function(t){"use strict";function o(e,n){c.call(this),"string"==typeof n&&(n=new t(n));var i="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=n,n.length>i?n=s(e).update(n).digest():n.length<i&&(n=t.concat([n,u],i));for(var r=this._ipad=new t(i),o=this._opad=new t(i),a=0;i>a;a++)r[a]=54^n[a],o[a]=92^n[a];this._hash=s(e).update(r)}var s=n(i),a=n(r),c=n(523).Transform,u=new t(128);u.fill(0),a(o,c),o.prototype.update=function(e,t){return this._hash.update(e,t),this},o.prototype._transform=function(e,t,n){this._hash.update(e),n()},o.prototype._flush=function(e){this.push(this.digest()),e()},o.prototype.digest=function(e){var t=this._hash.digest();return s(this._alg).update(this._opad).update(t).digest(e)},e.exports=function(e,t){return new o(e,t)}}).call(t,n(385).Buffer)},function(e,t,n,i,r,o){function s(e,t){var n,i=this;h.call(this),e=e||{},e.iceServers=e.iceServers||[],this.enableChromeNativeSimulcast=!1,t&&t.optional&&"webkit"===u.prefix&&null===navigator.appVersion.match(/Chromium\//)&&t.optional.forEach(function(e){e.enableChromeNativeSimulcast&&(i.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,t&&t.optional&&t.optional.forEach(function(e){e.enableMultiStreamHacks&&(i.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetRestrictBandwidth&&(i.restrictBandwidth=e.andyetRestrictBandwidth)}),this.batchIceCandidates=0,t&&t.optional&&t.optional.forEach(function(e){e.andyetBatchIce&&(i.batchIceCandidates=e.andyetBatchIce)}),this.batchedIceCandidates=[],this.assumeSetLocalSuccess=!1,t&&t.optional&&t.optional.forEach(function(e){e.andyetAssumeSetLocalSuccess&&(i.assumeSetLocalSuccess=e.andyetAssumeSetLocalSuccess)}),"moz"===u.prefix&&t&&t.optional&&(this.wtFirefox=0,t.optional.forEach(function(e){e.andyetFirefoxMakesMeSad&&(i.wtFirefox=e.andyetFirefoxMakesMeSad,i.wtFirefox>0&&(i.firefoxcandidatebuffer=[]))})),this.pc=new f(e,t),this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc),this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc),this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=this.pc.removeStream.bind(this.pc),this.pc.on("*",function(){i.emit.apply(i,arguments)}),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,ice:{},sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1};for(n in e)this.config[n]=e[n];this.config.debug&&this.on("*",function(){var t=e.logger||console;t.log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[]}var a=n(i),c=n(67),u=n(519),l=n(r),h=n(283),f=n(o);c.inherits(s,h),Object.defineProperty(s.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(s.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),s.prototype._role=function(){return this.isInitiator?"initiator":"responder"},s.prototype.addStream=function(e){this.localStream=e,this.pc.addStream(e)},s.prototype._checkLocalCandidate=function(e){var t=l.toCandidateJSON(e);"srflx"==t.type?this.hadLocalStunCandidate=!0:"relay"==t.type&&(this.hadLocalRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},s.prototype._checkRemoteCandidate=function(e){var t=l.toCandidateJSON(e);"srflx"==t.type?this.hadRemoteStunCandidate=!0:"relay"==t.type&&(this.hadRemoteRelayCandidate=!0),-1!=t.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},s.prototype.processIce=function(e,t){t=t||function(){};var n=this;if("closed"===this.pc.signalingState)return t();if(e.contents||e.jingle&&e.jingle.contents){var i=a.pluck(this.remoteDescription.contents,"name"),r=e.contents||e.jingle.contents;r.forEach(function(e){var t=e.transport||{},r=t.candidates||[],o=i.indexOf(e.name),s=e.name;r.forEach(function(e){var t=l.toCandidateSDP(e)+"\r\n";n.pc.addIceCandidate(new u.IceCandidate({candidate:t,sdpMLineIndex:o,sdpMid:s}),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(t)})})}else{if(e.candidate&&0!==e.candidate.candidate.indexOf("a=")&&(e.candidate.candidate="a="+e.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(e.candidate),t();n.pc.addIceCandidate(new u.IceCandidate(e.candidate),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate.candidate)}t()},s.prototype.offer=function(e,t){var n=this,i=2===arguments.length,r=i?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};return t=i?t:e,t=t||function(){},"closed"===this.pc.signalingState?t("Already closed"):void this.pc.createOffer(function(e){var i={type:"offer",sdp:e.sdp};n.assumeSetLocalSuccess&&(n.emit("offer",i),t(null,i)),n.pc.setLocalDescription(e,function(){var r;n.config.useJingle&&(r=l.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),r.sid=n.config.sid,n.localDescription=r,a.each(r.contents,function(e){var t=e.transport||{};t.ufrag&&(n.config.ice[e.name]={ufrag:t.ufrag,pwd:t.pwd})}),i.jingle=r),i.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),n.assumeSetLocalSuccess||(n.emit("offer",i),t(null,i))},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},r)},s.prototype.handleOffer=function(e,t){t=t||function(){};var n=this;if(e.type="offer",e.jingle){if(this.enableChromeNativeSimulcast&&e.jingle.contents.forEach(function(e){"video"===e.name&&(e.description.googConferenceFlag=!0)}),n.restrictBandwidth>0&&e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name){var i=e.jingle.contents[1],r=i.description&&i.description.bandwidth;r||(e.jingle.contents[1].description.bandwidth={type:"AS",bandwidth:n.restrictBandwidth.toString()},e.sdp=l.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"}))}e.sdp=l.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle}e.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new u.SessionDescription(e),function(){t()},t)},s.prototype.answerAudioOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}};this._answer(t,e)},s.prototype.answerBroadcastOnly=function(e){var t={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};this._answer(t,e)},s.prototype.answer=function(e,t){var n=2===arguments.length,i=n?t:e,r=n?e:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};this._answer(r,i)},s.prototype.handleAnswer=function(e,t){t=t||function(){};var n=this;e.jingle&&(e.sdp=l.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"incoming"}),n.remoteDescription=e.jingle),e.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkRemoteCandidate(e)}),n.pc.setRemoteDescription(new u.SessionDescription(e),function(){n.wtFirefox&&window.setTimeout(function(){n.firefoxcandidatebuffer.forEach(function(e){n.pc.addIceCandidate(new u.IceCandidate(e),function(){},function(e){n.emit("error",e)}),n._checkRemoteCandidate(e.candidate)}),n.firefoxcandidatebuffer=null},n.wtFirefox),t(null)},t)},s.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},s.prototype._answer=function(e,t){t=t||function(){};var n=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");return"closed"===this.pc.signalingState?t("Already closed"):void n.pc.createAnswer(function(e){var i=[];if(n.enableChromeNativeSimulcast&&(e.jingle=l.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}),e.jingle.contents.length>=2&&"video"===e.jingle.contents[1].name)){var r=e.jingle.contents[1].description.sourceGroups||[],o=!1;if(r.forEach(function(e){"SIM"==e.semantics&&(o=!0)}),!o&&e.jingle.contents[1].description.sources.length){var s=JSON.parse(JSON.stringify(e.jingle.contents[1].description.sources[0]));s.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].description.sources.push(s),i.push(e.jingle.contents[1].description.sources[0].ssrc),i.push(s.ssrc),r.push({semantics:"SIM",sources:i});var a=JSON.parse(JSON.stringify(s));a.ssrc=""+Math.floor(4294967295*Math.random()),e.jingle.contents[1].description.sources.push(a),r.push({semantics:"FID",sources:[s.ssrc,a.ssrc]}),e.jingle.contents[1].description.sourceGroups=r,e.sdp=l.toSessionSDP(e.jingle,{sid:n.config.sdpSessionID,role:n._role(),direction:"outgoing"})}}var c={type:"answer",sdp:e.sdp};n.assumeSetLocalSuccess&&(n.emit("answer",c),t(null,c)),n.pc.setLocalDescription(e,function(){if(n.config.useJingle){var i=l.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"});i.sid=n.config.sid,n.localDescription=i,c.jingle=i}if(n.enableChromeNativeSimulcast){c.jingle||(c.jingle=l.toSessionJSON(e.sdp,{role:n._role(),direction:"outgoing"}));{c.jingle.contents[1].description.sourceGroups||[]}c.jingle.contents[1].description.sources.forEach(function(e,t){e.parameters=e.parameters.map(function(e){return"msid"===e.key&&(e.value+="-"+Math.floor(t/2)),e})}),c.sdp=l.toSessionSDP(c.jingle,{sid:n.sdpSessionID,role:n._role(),direction:"outgoing"})}c.sdp.split("\r\n").forEach(function(e){0===e.indexOf("a=candidate:")&&n._checkLocalCandidate(e)}),n.assumeSetLocalSuccess||(n.emit("answer",c),t(null,c))},function(e){n.emit("error",e),t(e)})},function(e){n.emit("error",e),t(e)},e)},s.prototype._onIce=function(e){var t=this;if(e.candidate){var n=e.candidate,i={candidate:{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex}};this._checkLocalCandidate(n.candidate);var r=l.toCandidateJSON(n.candidate);if(t.config.useJingle){if(n.sdpMid||(n.sdpMid=t.localDescription.contents[n.sdpMLineIndex].name),!t.config.ice[n.sdpMid]){var o=l.toSessionJSON(t.pc.localDescription.sdp,{role:t._role(),direction:"outgoing"});a.each(o.contents,function(e){var n=e.transport||{};n.ufrag&&(t.config.ice[e.name]={ufrag:n.ufrag,pwd:n.pwd})})}if(i.jingle={contents:[{name:n.sdpMid,creator:t._role(),transport:{transType:"iceUdp",ufrag:t.config.ice[n.sdpMid].ufrag,pwd:t.config.ice[n.sdpMid].pwd,candidates:[r]}}]},t.batchIceCandidates>0)return 0===t.batchedIceCandidates.length&&window.setTimeout(function(){var e={};t.batchedIceCandidates.forEach(function(t){t=t.contents[0],e[t.name]||(e[t.name]=t),e[t.name].transport.candidates.push(t.transport.candidates[0])});var n={jingle:{contents:[]}};Object.keys(e).forEach(function(t){n.jingle.contents.push(e[t])}),t.batchedIceCandidates=[],t.emit("ice",n)},t.batchIceCandidates),void t.batchedIceCandidates.push(i.jingle)}this.emit("ice",i)}else this.emit("endOfCandidates")},s.prototype._onDataChannel=function(e){var t=e.channel;this._remoteDataChannels.push(t),this.emit("addChannel",t)},s.prototype.createDataChannel=function(e,t){var n=this.pc.createDataChannel(e,t);return this._localDataChannels.push(n),n},s.prototype.getStats=function(e){"moz"===u.prefix?this.pc.getStats(function(t){var n=[];for(var i in t)"object"==typeof t[i]&&n.push(t[i]);e(null,n)},e):this.pc.getStats(function(t){var n=[];t.result().forEach(function(e){var t={};e.names().forEach(function(n){t[n]=e.stat(n)}),t.id=e.id,t.type=e.type,t.timestamp=e.timestamp,n.push(t)}),e(null,n)})},e.exports=s},function(e,t,n,i,r){var o=n(i),s=n(r);t.toIncomingSDPOffer=function(e){return o.toSessionSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingSDPOffer=function(e){return o.toSessionSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingSDPAnswer=function(e){return o.toSessionSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingSDPAnswer=function(e){return o.toSessionSDP(e,{role:"responder",direction:"outgoing"})},t.toIncomingMediaSDPOffer=function(e){return o.toMediaSDP(e,{role:"responder",direction:"incoming"})},t.toOutgoingMediaSDPOffer=function(e){return o.toMediaSDP(e,{role:"initiator",direction:"outgoing"})},t.toIncomingMediaSDPAnswer=function(e){return o.toMediaSDP(e,{role:"initiator",direction:"incoming"})},t.toOutgoingMediaSDPAnswer=function(e){return o.toMediaSDP(e,{role:"responder",direction:"outgoing"})},t.toCandidateSDP=o.toCandidateSDP,t.toMediaSDP=o.toMediaSDP,t.toSessionSDP=o.toSessionSDP,t.toIncomingJSONOffer=function(e,t){return s.toSessionJSON(e,{role:"responder",direction:"incoming",creators:t})},t.toOutgoingJSONOffer=function(e,t){return s.toSessionJSON(e,{role:"initiator",direction:"outgoing",creators:t})},t.toIncomingJSONAnswer=function(e,t){return s.toSessionJSON(e,{role:"initiator",direction:"incoming",creators:t})},t.toOutgoingJSONAnswer=function(e,t){return s.toSessionJSON(e,{role:"responder",direction:"outgoing",creators:t})},t.toIncomingMediaJSONOffer=function(e,t){return s.toMediaJSON(e,{role:"responder",direction:"incoming",creator:t})},t.toOutgoingMediaJSONOffer=function(e,t){return s.toMediaJSON(e,{role:"initiator",direction:"outgoing",creator:t})},t.toIncomingMediaJSONAnswer=function(e,t){return s.toMediaJSON(e,{role:"initiator",direction:"incoming",creator:t})},t.toOutgoingMediaJSONAnswer=function(e,t){return s.toMediaJSON(e,{role:"responder",direction:"outgoing",creator:t})},t.toCandidateJSON=s.toCandidateJSON,t.toMediaJSON=s.toMediaJSON,t.toSessionJSON=s.toSessionJSON},function(e,t,n,i){var r=n(i);t.toSessionSDP=function(e,n){var i=(n.role||"initiator",n.direction||"outgoing",n.sid||e.sid||Date.now()),r=n.time||Date.now(),o=["v=0","o=- "+i+" "+r+" IN IP4 0.0.0.0","s=-","t=0 0"],s=e.groups||[];s.forEach(function(e){o.push("a=group:"+e.semantics+" "+e.contents.join(" "))});var a=e.contents||[];return a.forEach(function(e){o.push(t.toMediaSDP(e,n))}),o.join("\r\n")+"\r\n"},t.toMediaSDP=function(e,n){var i=[],o=n.role||"initiator",s=n.direction||"outgoing",a=e.description,c=e.transport,u=a.payloads||[],l=c&&c.fingerprints||[],h=[];if("datachannel"==a.descType?(h.push("application"),h.push("1"),h.push("DTLS/SCTP"),c.sctp&&c.sctp.forEach(function(e){h.push(e.number)})):(h.push(a.media),h.push("1"),h.push(a.encryption&&a.encryption.length>0||l.length>0?"RTP/SAVPF":"RTP/AVPF"),u.forEach(function(e){h.push(e.id)})),i.push("m="+h.join(" ")),i.push("c=IN IP4 0.0.0.0"),a.bandwidth&&a.bandwidth.type&&a.bandwidth.bandwidth&&i.push("b="+a.bandwidth.type+":"+a.bandwidth.bandwidth),"rtp"==a.descType&&i.push("a=rtcp:1 IN IP4 0.0.0.0"),c){c.ufrag&&i.push("a=ice-ufrag:"+c.ufrag),c.pwd&&i.push("a=ice-pwd:"+c.pwd);var f=!1;l.forEach(function(e){i.push("a=fingerprint:"+e.hash+" "+e.value),e.setup&&!f&&i.push("a=setup:"+e.setup)}),c.sctp&&c.sctp.forEach(function(e){i.push("a=sctpmap:"+e.number+" "+e.protocol+" "+e.streams)})}"rtp"==a.descType&&i.push("a="+(r[o][s][e.senders]||"sendrecv")),i.push("a=mid:"+e.name),a.mux&&i.push("a=rtcp-mux");var d=a.encryption||[];d.forEach(function(e){i.push("a=crypto:"+e.tag+" "+e.cipherSuite+" "+e.keyParams+(e.sessionParams?" "+e.sessionParams:""))}),a.googConferenceFlag&&i.push("a=x-google-flag:conference"),u.forEach(function(e){var t="a=rtpmap:"+e.id+" "+e.name+"/"+e.clockrate;if(e.channels&&"1"!=e.channels&&(t+="/"+e.channels),i.push(t),e.parameters&&e.parameters.length){var n=["a=fmtp:"+e.id],r=[];e.parameters.forEach(function(e){r.push((e.key?e.key+"=":"")+e.value)}),n.push(r.join(";")),i.push(n.join(" "))}e.feedback&&e.feedback.forEach(function(t){i.push("trr-int"===t.type?"a=rtcp-fb:"+e.id+" trr-int "+(t.value?t.value:"0"):"a=rtcp-fb:"+e.id+" "+t.type+(t.subtype?" "+t.subtype:""))})}),a.feedback&&a.feedback.forEach(function(e){i.push("trr-int"===e.type?"a=rtcp-fb:* trr-int "+(e.value?e.value:"0"):"a=rtcp-fb:* "+e.type+(e.subtype?" "+e.subtype:""))});var p=a.headerExtensions||[];p.forEach(function(e){i.push("a=extmap:"+e.id+(e.senders?"/"+r[o][s][e.senders]:"")+" "+e.uri)});var m=a.sourceGroups||[];m.forEach(function(e){i.push("a=ssrc-group:"+e.semantics+" "+e.sources.join(" "))});var g=a.sources||[];g.forEach(function(e){for(var t=0;t<e.parameters.length;t++){var n=e.parameters[t];i.push("a=ssrc:"+(e.ssrc||a.ssrc)+" "+n.key+(n.value?":"+n.value:""))}});var v=c.candidates||[];return v.forEach(function(e){i.push(t.toCandidateSDP(e))}),i.join("\r\n")},t.toCandidateSDP=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),("srflx"===n||"prflx"===n||"relay"===n)&&e.relAddr&&e.relPort&&(t.push("raddr"),t.push(e.relAddr),t.push("rport"),t.push(e.relPort)),e.tcpType&&"TCP"==e.protocol.toUpperCase()&&(t.push("tcptype"),t.push(e.tcpType)),t.push("generation"),t.push(e.generation||"0"),"a=candidate:"+t.join(" ")}},function(e,t,n,i,r){var o=n(i),s=n(r),a=Math.random();t._setIdCounter=function(e){a=e},t.toSessionJSON=function(e,n){var i,r=n.creators||[],o=n.role||"initiator",a=n.direction||"outgoing",c=e.split("\r\nm=");for(i=1;i<c.length;i++)c[i]="m="+c[i],i!==c.length-1&&(c[i]+="\r\n");var u=c.shift()+"\r\n",l=s.lines(u),h={},f=[];for(i=0;i<c.length;i++)f.push(t.toMediaJSON(c[i],u,{role:o,direction:a,creator:r[i]||"initiator"}));h.contents=f;var d=s.findLines("a=group:",l);return d.length&&(h.groups=s.groups(d)),h},t.toMediaJSON=function(e,n,i){var r=i.creator||"initiator",a=i.role||"initiator",c=i.direction||"outgoing",u=s.lines(e),l=s.lines(n),h=s.mline(u[0]),f={creator:r,name:h.media,description:{descType:"rtp",media:h.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transType:"iceUdp",candidates:[],fingerprints:[]}};"application"==h.media&&(f.description={descType:"datachannel"},f.transport.sctp=[]);var d=f.description,p=f.transport,m=s.findLine("a=mid:",u);if(m&&(f.name=m.substr(6)),s.findLine("a=sendrecv",u,l)?f.senders="both":s.findLine("a=sendonly",u,l)?f.senders=o[a][c].sendonly:s.findLine("a=recvonly",u,l)?f.senders=o[a][c].recvonly:s.findLine("a=inactive",u,l)&&(f.senders="none"),"rtp"==d.descType){var g=s.findLine("b=",u);g&&(d.bandwidth=s.bandwidth(g));var v=s.findLine("a=ssrc:",u);v&&(d.ssrc=v.substr(7).split(" ")[0]);var b=s.findLines("a=rtpmap:",u);b.forEach(function(e){var t=s.rtpmap(e);t.parameters=[],t.feedback=[];var n=s.findLines("a=fmtp:"+t.id,u);n.forEach(function(e){t.parameters=s.fmtp(e)});var i=s.findLines("a=rtcp-fb:"+t.id,u);i.forEach(function(e){t.feedback.push(s.rtcpfb(e))}),d.payloads.push(t)});var y=s.findLines("a=crypto:",u,l);y.forEach(function(e){d.encryption.push(s.crypto(e))}),s.findLine("a=rtcp-mux",u)&&(d.mux=!0);var w=s.findLines("a=rtcp-fb:*",u);w.forEach(function(e){d.feedback.push(s.rtcpfb(e))});var x=s.findLines("a=extmap:",u);x.forEach(function(e){var t=s.extmap(e);t.senders=o[a][c][t.senders],d.headerExtensions.push(t)});var _=s.findLines("a=ssrc-group:",u);d.sourceGroups=s.sourceGroups(_||[]);var k=s.findLines("a=ssrc:",u);d.sources=s.sources(k||[]),s.findLine("a=x-google-flag:conference",u,l)&&(d.googConferenceFlag=!0)}var S=s.findLines("a=fingerprint:",u,l),A=s.findLine("a=setup:",u,l);S.forEach(function(e){var t=s.fingerprint(e);A&&(t.setup=A.substr(8)),p.fingerprints.push(t)});var C=s.findLine("a=ice-ufrag:",u,l),j=s.findLine("a=ice-pwd:",u,l);if(C&&j){p.ufrag=C.substr(12),p.pwd=j.substr(10),p.candidates=[];var E=s.findLines("a=candidate:",u,l);E.forEach(function(e){p.candidates.push(t.toCandidateJSON(e))})}if("datachannel"==d.descType){var I=s.findLines("a=sctpmap:",u);I.forEach(function(e){var t=s.sctpmap(e);p.sctp.push(t)})}return f},t.toCandidateJSON=function(e){var t=s.candidate(e.split("\r\n")[0]);return t.id=(a++).toString(36).substr(0,12),t}}]));